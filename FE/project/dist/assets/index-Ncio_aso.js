const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RevenueBreakdownChart-DdnGT3_b.js","assets/parseISO-SChRJwQl.js","assets/CategoricalChart-D66cckQl.js","assets/BarChart-Bjk0vAYy.js","assets/CartesianChart-C3n-Q8Q0.js","assets/Legend-C5xP9T8b.js","assets/barSelectors-Cz9a59dm.js","assets/tooltipContext-jPMpA2RG.js","assets/MonthlyGrowthChart-Cy9BHGik.js","assets/getRadiusAndStrokeWidthFromDot-CddYn3aj.js","assets/RevenueTrendChart-CoyPPyB2.js","assets/SalesByCourseChart-CwOqeEWl.js","assets/RatingDistributionChart-BWAlPWgv.js","assets/StudentEngagementChart-CJOVJ5Up.js"])))=>i.map(i=>d[i]);
var $N=e=>{throw TypeError(e)};var xx=(e,t,s)=>t.has(e)||$N("Cannot "+s);var ne=(e,t,s)=>(xx(e,t,"read from private field"),s?s.call(e):t.get(e)),Ge=(e,t,s)=>t.has(e)?$N("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Le=(e,t,s,r)=>(xx(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),dt=(e,t,s)=>(xx(e,t,"access private method"),s);var of=(e,t,s,r)=>({set _(a){Le(e,t,a,s)},get _(){return ne(e,t,r)}});function K3(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var LT={exports:{}},Vp={},FT={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh=Symbol.for("react.element"),G3=Symbol.for("react.portal"),Y3=Symbol.for("react.fragment"),Q3=Symbol.for("react.strict_mode"),Z3=Symbol.for("react.profiler"),X3=Symbol.for("react.provider"),J3=Symbol.for("react.context"),eM=Symbol.for("react.forward_ref"),tM=Symbol.for("react.suspense"),nM=Symbol.for("react.memo"),sM=Symbol.for("react.lazy"),UN=Symbol.iterator;function rM(e){return e===null||typeof e!="object"?null:(e=UN&&e[UN]||e["@@iterator"],typeof e=="function"?e:null)}var $T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UT=Object.assign,VT={};function xu(e,t,s){this.props=e,this.context=t,this.refs=VT,this.updater=s||$T}xu.prototype.isReactComponent={};xu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BT(){}BT.prototype=xu.prototype;function kb(e,t,s){this.props=e,this.context=t,this.refs=VT,this.updater=s||$T}var Sb=kb.prototype=new BT;Sb.constructor=kb;UT(Sb,xu.prototype);Sb.isPureReactComponent=!0;var VN=Array.isArray,zT=Object.prototype.hasOwnProperty,Cb={current:null},qT={key:!0,ref:!0,__self:!0,__source:!0};function HT(e,t,s){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)zT.call(t,r)&&!qT.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Eh,type:e,key:i,ref:o,props:a,_owner:Cb.current}}function aM(e,t){return{$$typeof:Eh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Eh}function iM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var BN=/\/+/g;function yx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iM(""+e.key):t.toString(36)}function tm(e,t,s,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Eh:case G3:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+yx(o,0):r,VN(a)?(s="",e!=null&&(s=e.replace(BN,"$&/")+"/"),tm(a,t,s,"",function(u){return u})):a!=null&&(Tb(a)&&(a=aM(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(BN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",VN(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+yx(i,l);o+=tm(i,t,s,c,a)}else if(c=rM(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+yx(i,l++),o+=tm(i,t,s,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function lf(e,t,s){if(e==null)return e;var r=[],a=0;return tm(e,r,"","",function(i){return t.call(s,i,a++)}),r}function oM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ys={current:null},nm={transition:null},lM={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:nm,ReactCurrentOwner:Cb};function WT(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:lf,forEach:function(e,t,s){lf(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return lf(e,function(){t++}),t},toArray:function(e){return lf(e,function(t){return t})||[]},only:function(e){if(!Tb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=xu;vt.Fragment=Y3;vt.Profiler=Z3;vt.PureComponent=kb;vt.StrictMode=Q3;vt.Suspense=tM;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lM;vt.act=WT;vt.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=UT({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Cb.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zT.call(t,c)&&!qT.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Eh,type:e.type,key:a,ref:i,props:r,_owner:o}};vt.createContext=function(e){return e={$$typeof:J3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X3,_context:e},e.Consumer=e};vt.createElement=HT;vt.createFactory=function(e){var t=HT.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:eM,render:e}};vt.isValidElement=Tb;vt.lazy=function(e){return{$$typeof:sM,_payload:{_status:-1,_result:e},_init:oM}};vt.memo=function(e,t){return{$$typeof:nM,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=nm.transition;nm.transition={};try{e()}finally{nm.transition=t}};vt.unstable_act=WT;vt.useCallback=function(e,t){return ys.current.useCallback(e,t)};vt.useContext=function(e){return ys.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return ys.current.useDeferredValue(e)};vt.useEffect=function(e,t){return ys.current.useEffect(e,t)};vt.useId=function(){return ys.current.useId()};vt.useImperativeHandle=function(e,t,s){return ys.current.useImperativeHandle(e,t,s)};vt.useInsertionEffect=function(e,t){return ys.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return ys.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return ys.current.useMemo(e,t)};vt.useReducer=function(e,t,s){return ys.current.useReducer(e,t,s)};vt.useRef=function(e){return ys.current.useRef(e)};vt.useState=function(e){return ys.current.useState(e)};vt.useSyncExternalStore=function(e,t,s){return ys.current.useSyncExternalStore(e,t,s)};vt.useTransition=function(){return ys.current.useTransition()};vt.version="18.3.1";FT.exports=vt;var y=FT.exports;const re=Nb(y),KT=K3({__proto__:null,default:re},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cM=y,uM=Symbol.for("react.element"),dM=Symbol.for("react.fragment"),hM=Object.prototype.hasOwnProperty,fM=cM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mM={key:!0,ref:!0,__self:!0,__source:!0};function GT(e,t,s){var r,a={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)hM.call(t,r)&&!mM.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:uM,type:e,key:i,ref:o,props:a,_owner:fM.current}}Vp.Fragment=dM;Vp.jsx=GT;Vp.jsxs=GT;LT.exports=Vp;var n=LT.exports,J0={},YT={exports:{}},Js={},QT={exports:{}},ZT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,$){var F=M.length;M.push($);e:for(;0<F;){var O=F-1>>>1,q=M[O];if(0<a(q,$))M[O]=$,M[F]=q,F=O;else break e}}function s(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var $=M[0],F=M.pop();if(F!==$){M[0]=F;e:for(var O=0,q=M.length,B=q>>>1;O<B;){var z=2*(O+1)-1,W=M[z],P=z+1,V=M[P];if(0>a(W,F))P<q&&0>a(V,W)?(M[O]=V,M[P]=F,O=P):(M[O]=W,M[z]=F,O=z);else if(P<q&&0>a(V,F))M[O]=V,M[P]=F,O=P;else break e}}return $}function a(M,$){var F=M.sortIndex-$.sortIndex;return F!==0?F:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,m=!1,p=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var $=s(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=M)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=s(u)}}function j(M){if(g=!1,w(M),!p)if(s(c)!==null)p=!0,I(N);else{var $=s(u);$!==null&&L(j,$.startTime-M)}}function N(M,$){p=!1,g&&(g=!1,v(C),C=-1),m=!0;var F=f;try{for(w($),d=s(c);d!==null&&(!(d.expirationTime>$)||M&&!_());){var O=d.callback;if(typeof O=="function"){d.callback=null,f=d.priorityLevel;var q=O(d.expirationTime<=$);$=e.unstable_now(),typeof q=="function"?d.callback=q:d===s(c)&&r(c),w($)}else r(c);d=s(c)}if(d!==null)var B=!0;else{var z=s(u);z!==null&&L(j,z.startTime-$),B=!1}return B}finally{d=null,f=F,m=!1}}var k=!1,S=null,C=-1,E=5,T=-1;function _(){return!(e.unstable_now()-T<E)}function A(){if(S!==null){var M=e.unstable_now();T=M;var $=!0;try{$=S(!0,M)}finally{$?D():(k=!1,S=null)}}else k=!1}var D;if(typeof x=="function")D=function(){x(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,U=R.port2;R.port1.onmessage=A,D=function(){U.postMessage(null)}}else D=function(){b(A,0)};function I(M){S=M,k||(k=!0,D())}function L(M,$){C=b(function(){M(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,I(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var F=f;f=$;try{return M()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=f;f=M;try{return $()}finally{f=F}},e.unstable_scheduleCallback=function(M,$,F){var O=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?O+F:O):F=O,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,M={id:h++,callback:$,priorityLevel:M,startTime:F,expirationTime:q,sortIndex:-1},F>O?(M.sortIndex=F,t(u,M),s(c)===null&&M===s(u)&&(g?(v(C),C=-1):g=!0,L(j,F-O))):(M.sortIndex=q,t(c,M),p||m||(p=!0,I(N))),M},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(M){var $=f;return function(){var F=f;f=$;try{return M.apply(this,arguments)}finally{f=F}}}})(ZT);QT.exports=ZT;var pM=QT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM=y,Zs=pM;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XT=new Set,$d={};function Al(e,t){eu(e,t),eu(e+"Capture",t)}function eu(e,t){for($d[e]=t,e=0;e<t.length;e++)XT.add(t[e])}var Ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ey=Object.prototype.hasOwnProperty,xM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zN={},qN={};function yM(e){return ey.call(qN,e)?!0:ey.call(zN,e)?!1:xM.test(e)?qN[e]=!0:(zN[e]=!0,!1)}function vM(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bM(e,t,s,r){if(t===null||typeof t>"u"||vM(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vs(e,t,s,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new vs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new vs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new vs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new vs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new vs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new vs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new vs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new vs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new vs(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eb=/[\-:]([a-z])/g;function _b(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eb,_b);Xn[t]=new vs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eb,_b);Xn[t]=new vs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eb,_b);Xn[t]=new vs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new vs(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new vs(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ab(e,t,s,r){var a=Xn.hasOwnProperty(t)?Xn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bM(t,s,a,r)&&(s=null),r||a===null?yM(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var li=gM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cf=Symbol.for("react.element"),oc=Symbol.for("react.portal"),lc=Symbol.for("react.fragment"),Db=Symbol.for("react.strict_mode"),ty=Symbol.for("react.profiler"),JT=Symbol.for("react.provider"),eE=Symbol.for("react.context"),Rb=Symbol.for("react.forward_ref"),ny=Symbol.for("react.suspense"),sy=Symbol.for("react.suspense_list"),Ob=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),tE=Symbol.for("react.offscreen"),HN=Symbol.iterator;function Yu(e){return e===null||typeof e!="object"?null:(e=HN&&e[HN]||e["@@iterator"],typeof e=="function"?e:null)}var dn=Object.assign,vx;function fd(e){if(vx===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);vx=t&&t[1]||""}return`
`+vx+e}var bx=!1;function wx(e,t){if(!e||bx)return"";bx=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{bx=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?fd(e):""}function wM(e){switch(e.tag){case 5:return fd(e.type);case 16:return fd("Lazy");case 13:return fd("Suspense");case 19:return fd("SuspenseList");case 0:case 2:case 15:return e=wx(e.type,!1),e;case 11:return e=wx(e.type.render,!1),e;case 1:return e=wx(e.type,!0),e;default:return""}}function ry(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lc:return"Fragment";case oc:return"Portal";case ty:return"Profiler";case Db:return"StrictMode";case ny:return"Suspense";case sy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eE:return(e.displayName||"Context")+".Consumer";case JT:return(e._context.displayName||"Context")+".Provider";case Rb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ob:return t=e.displayName||null,t!==null?t:ry(e.type)||"Memo";case ji:t=e._payload,e=e._init;try{return ry(e(t))}catch{}}return null}function jM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ry(t);case 8:return t===Db?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NM(e){var t=nE(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uf(e){e._valueTracker||(e._valueTracker=NM(e))}function sE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=nE(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Rm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ay(e,t){var s=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function WN(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=eo(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rE(e,t){t=t.checked,t!=null&&Ab(e,"checked",t,!1)}function iy(e,t){rE(e,t);var s=eo(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oy(e,t.type,s):t.hasOwnProperty("defaultValue")&&oy(e,t.type,eo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function KN(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function oy(e,t,s){(t!=="number"||Rm(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var md=Array.isArray;function Tc(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+eo(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ly(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function GN(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Te(92));if(md(s)){if(1<s.length)throw Error(Te(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:eo(s)}}function aE(e,t){var s=eo(t.value),r=eo(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function YN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var df,oE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=df.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ud(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var jd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kM=["Webkit","ms","Moz","O"];Object.keys(jd).forEach(function(e){kM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jd[t]=jd[e]})});function lE(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||jd.hasOwnProperty(e)&&jd[e]?(""+t).trim():t+"px"}function cE(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=lE(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var SM=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uy(e,t){if(t){if(SM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function dy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hy=null;function Pb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fy=null,Ec=null,_c=null;function QN(e){if(e=Dh(e)){if(typeof fy!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=Wp(t),fy(e.stateNode,e.type,t))}}function uE(e){Ec?_c?_c.push(e):_c=[e]:Ec=e}function dE(){if(Ec){var e=Ec,t=_c;if(_c=Ec=null,QN(e),t)for(e=0;e<t.length;e++)QN(t[e])}}function hE(e,t){return e(t)}function fE(){}var jx=!1;function mE(e,t,s){if(jx)return e(t,s);jx=!0;try{return hE(e,t,s)}finally{jx=!1,(Ec!==null||_c!==null)&&(fE(),dE())}}function Vd(e,t){var s=e.stateNode;if(s===null)return null;var r=Wp(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Te(231,t,typeof s));return s}var my=!1;if(Ja)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){my=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{my=!1}function CM(e,t,s,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(h){this.onError(h)}}var Nd=!1,Om=null,Pm=!1,py=null,TM={onError:function(e){Nd=!0,Om=e}};function EM(e,t,s,r,a,i,o,l,c){Nd=!1,Om=null,CM.apply(TM,arguments)}function _M(e,t,s,r,a,i,o,l,c){if(EM.apply(this,arguments),Nd){if(Nd){var u=Om;Nd=!1,Om=null}else throw Error(Te(198));Pm||(Pm=!0,py=u)}}function Dl(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function pE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ZN(e){if(Dl(e)!==e)throw Error(Te(188))}function AM(e){var t=e.alternate;if(!t){if(t=Dl(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return ZN(a),e;if(i===r)return ZN(a),t;i=i.sibling}throw Error(Te(188))}if(s.return!==r.return)s=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o)throw Error(Te(189))}}if(s.alternate!==r)throw Error(Te(190))}if(s.tag!==3)throw Error(Te(188));return s.stateNode.current===s?e:t}function gE(e){return e=AM(e),e!==null?xE(e):null}function xE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xE(e);if(t!==null)return t;e=e.sibling}return null}var yE=Zs.unstable_scheduleCallback,XN=Zs.unstable_cancelCallback,DM=Zs.unstable_shouldYield,RM=Zs.unstable_requestPaint,wn=Zs.unstable_now,OM=Zs.unstable_getCurrentPriorityLevel,Ib=Zs.unstable_ImmediatePriority,vE=Zs.unstable_UserBlockingPriority,Im=Zs.unstable_NormalPriority,PM=Zs.unstable_LowPriority,bE=Zs.unstable_IdlePriority,Bp=null,ha=null;function IM(e){if(ha&&typeof ha.onCommitFiberRoot=="function")try{ha.onCommitFiberRoot(Bp,e,void 0,(e.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:FM,MM=Math.log,LM=Math.LN2;function FM(e){return e>>>=0,e===0?32:31-(MM(e)/LM|0)|0}var hf=64,ff=4194304;function pd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mm(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~a;l!==0?r=pd(l):(i&=o,i!==0&&(r=pd(i)))}else o=s&~a,o!==0?r=pd(o):i!==0&&(r=pd(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Or(t),a=1<<s,r|=e[s],t&=~a;return r}function $M(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UM(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Or(i),l=1<<o,c=a[o];c===-1?(!(l&s)||l&r)&&(a[o]=$M(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function gy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wE(){var e=hf;return hf<<=1,!(hf&4194240)&&(hf=64),e}function Nx(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function _h(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Or(t),e[t]=s}function VM(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Or(s),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~i}}function Mb(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Or(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var Rt=0;function jE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var NE,Lb,kE,SE,CE,xy=!1,mf=[],Ui=null,Vi=null,Bi=null,Bd=new Map,zd=new Map,Si=[],BM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JN(e,t){switch(e){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Bd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(t.pointerId)}}function Zu(e,t,s,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Dh(t),t!==null&&Lb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function zM(e,t,s,r,a){switch(t){case"focusin":return Ui=Zu(Ui,e,t,s,r,a),!0;case"dragenter":return Vi=Zu(Vi,e,t,s,r,a),!0;case"mouseover":return Bi=Zu(Bi,e,t,s,r,a),!0;case"pointerover":var i=a.pointerId;return Bd.set(i,Zu(Bd.get(i)||null,e,t,s,r,a)),!0;case"gotpointercapture":return i=a.pointerId,zd.set(i,Zu(zd.get(i)||null,e,t,s,r,a)),!0}return!1}function TE(e){var t=Uo(e.target);if(t!==null){var s=Dl(t);if(s!==null){if(t=s.tag,t===13){if(t=pE(s),t!==null){e.blockedOn=t,CE(e.priority,function(){kE(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=yy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);hy=r,s.target.dispatchEvent(r),hy=null}else return t=Dh(s),t!==null&&Lb(t),e.blockedOn=s,!1;t.shift()}return!0}function e1(e,t,s){sm(e)&&s.delete(t)}function qM(){xy=!1,Ui!==null&&sm(Ui)&&(Ui=null),Vi!==null&&sm(Vi)&&(Vi=null),Bi!==null&&sm(Bi)&&(Bi=null),Bd.forEach(e1),zd.forEach(e1)}function Xu(e,t){e.blockedOn===t&&(e.blockedOn=null,xy||(xy=!0,Zs.unstable_scheduleCallback(Zs.unstable_NormalPriority,qM)))}function qd(e){function t(a){return Xu(a,e)}if(0<mf.length){Xu(mf[0],e);for(var s=1;s<mf.length;s++){var r=mf[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Ui!==null&&Xu(Ui,e),Vi!==null&&Xu(Vi,e),Bi!==null&&Xu(Bi,e),Bd.forEach(t),zd.forEach(t),s=0;s<Si.length;s++)r=Si[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Si.length&&(s=Si[0],s.blockedOn===null);)TE(s),s.blockedOn===null&&Si.shift()}var Ac=li.ReactCurrentBatchConfig,Lm=!0;function HM(e,t,s,r){var a=Rt,i=Ac.transition;Ac.transition=null;try{Rt=1,Fb(e,t,s,r)}finally{Rt=a,Ac.transition=i}}function WM(e,t,s,r){var a=Rt,i=Ac.transition;Ac.transition=null;try{Rt=4,Fb(e,t,s,r)}finally{Rt=a,Ac.transition=i}}function Fb(e,t,s,r){if(Lm){var a=yy(e,t,s,r);if(a===null)Ox(e,t,r,Fm,s),JN(e,r);else if(zM(a,e,t,s,r))r.stopPropagation();else if(JN(e,r),t&4&&-1<BM.indexOf(e)){for(;a!==null;){var i=Dh(a);if(i!==null&&NE(i),i=yy(e,t,s,r),i===null&&Ox(e,t,r,Fm,s),i===a)break;a=i}a!==null&&r.stopPropagation()}else Ox(e,t,r,null,s)}}var Fm=null;function yy(e,t,s,r){if(Fm=null,e=Pb(r),e=Uo(e),e!==null)if(t=Dl(e),t===null)e=null;else if(s=t.tag,s===13){if(e=pE(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fm=e,null}function EE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OM()){case Ib:return 1;case vE:return 4;case Im:case PM:return 16;case bE:return 536870912;default:return 16}default:return 16}}var Fi=null,$b=null,rm=null;function _E(){if(rm)return rm;var e,t=$b,s=t.length,r,a="value"in Fi?Fi.value:Fi.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===a[i-r];r++);return rm=a.slice(e,1<r?1-r:void 0)}function am(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pf(){return!0}function t1(){return!1}function er(e){function t(s,r,a,i,o){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pf:t1,this.isPropagationStopped=t1,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pf)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pf)},persist:function(){},isPersistent:pf}),t}var yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ub=er(yu),Ah=dn({},yu,{view:0,detail:0}),KM=er(Ah),kx,Sx,Ju,zp=dn({},Ah,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ju&&(Ju&&e.type==="mousemove"?(kx=e.screenX-Ju.screenX,Sx=e.screenY-Ju.screenY):Sx=kx=0,Ju=e),kx)},movementY:function(e){return"movementY"in e?e.movementY:Sx}}),n1=er(zp),GM=dn({},zp,{dataTransfer:0}),YM=er(GM),QM=dn({},Ah,{relatedTarget:0}),Cx=er(QM),ZM=dn({},yu,{animationName:0,elapsedTime:0,pseudoElement:0}),XM=er(ZM),JM=dn({},yu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eL=er(JM),tL=dn({},yu,{data:0}),s1=er(tL),nL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rL[e])?!!t[e]:!1}function Vb(){return aL}var iL=dn({},Ah,{key:function(e){if(e.key){var t=nL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=am(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vb,charCode:function(e){return e.type==="keypress"?am(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?am(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oL=er(iL),lL=dn({},zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r1=er(lL),cL=dn({},Ah,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vb}),uL=er(cL),dL=dn({},yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),hL=er(dL),fL=dn({},zp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mL=er(fL),pL=[9,13,27,32],Bb=Ja&&"CompositionEvent"in window,kd=null;Ja&&"documentMode"in document&&(kd=document.documentMode);var gL=Ja&&"TextEvent"in window&&!kd,AE=Ja&&(!Bb||kd&&8<kd&&11>=kd),a1=" ",i1=!1;function DE(e,t){switch(e){case"keyup":return pL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cc=!1;function xL(e,t){switch(e){case"compositionend":return RE(t);case"keypress":return t.which!==32?null:(i1=!0,a1);case"textInput":return e=t.data,e===a1&&i1?null:e;default:return null}}function yL(e,t){if(cc)return e==="compositionend"||!Bb&&DE(e,t)?(e=_E(),rm=$b=Fi=null,cc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AE&&t.locale!=="ko"?null:t.data;default:return null}}var vL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vL[e.type]:t==="textarea"}function OE(e,t,s,r){uE(r),t=$m(t,"onChange"),0<t.length&&(s=new Ub("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Sd=null,Hd=null;function bL(e){qE(e,0)}function qp(e){var t=hc(e);if(sE(t))return e}function wL(e,t){if(e==="change")return t}var PE=!1;if(Ja){var Tx;if(Ja){var Ex="oninput"in document;if(!Ex){var l1=document.createElement("div");l1.setAttribute("oninput","return;"),Ex=typeof l1.oninput=="function"}Tx=Ex}else Tx=!1;PE=Tx&&(!document.documentMode||9<document.documentMode)}function c1(){Sd&&(Sd.detachEvent("onpropertychange",IE),Hd=Sd=null)}function IE(e){if(e.propertyName==="value"&&qp(Hd)){var t=[];OE(t,Hd,e,Pb(e)),mE(bL,t)}}function jL(e,t,s){e==="focusin"?(c1(),Sd=t,Hd=s,Sd.attachEvent("onpropertychange",IE)):e==="focusout"&&c1()}function NL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qp(Hd)}function kL(e,t){if(e==="click")return qp(t)}function SL(e,t){if(e==="input"||e==="change")return qp(t)}function CL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fr=typeof Object.is=="function"?Object.is:CL;function Wd(e,t){if(Fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!ey.call(t,a)||!Fr(e[a],t[a]))return!1}return!0}function u1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d1(e,t){var s=u1(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=u1(s)}}function ME(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ME(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LE(){for(var e=window,t=Rm();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Rm(e.document)}return t}function zb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TL(e){var t=LE(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&ME(s.ownerDocument.documentElement,s)){if(r!==null&&zb(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=d1(s,i);var o=d1(s,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var EL=Ja&&"documentMode"in document&&11>=document.documentMode,uc=null,vy=null,Cd=null,by=!1;function h1(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;by||uc==null||uc!==Rm(r)||(r=uc,"selectionStart"in r&&zb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cd&&Wd(Cd,r)||(Cd=r,r=$m(vy,"onSelect"),0<r.length&&(t=new Ub("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=uc)))}function gf(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var dc={animationend:gf("Animation","AnimationEnd"),animationiteration:gf("Animation","AnimationIteration"),animationstart:gf("Animation","AnimationStart"),transitionend:gf("Transition","TransitionEnd")},_x={},FE={};Ja&&(FE=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function Hp(e){if(_x[e])return _x[e];if(!dc[e])return e;var t=dc[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in FE)return _x[e]=t[s];return e}var $E=Hp("animationend"),UE=Hp("animationiteration"),VE=Hp("animationstart"),BE=Hp("transitionend"),zE=new Map,f1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(e,t){zE.set(e,t),Al(t,[e])}for(var Ax=0;Ax<f1.length;Ax++){var Dx=f1[Ax],_L=Dx.toLowerCase(),AL=Dx[0].toUpperCase()+Dx.slice(1);fo(_L,"on"+AL)}fo($E,"onAnimationEnd");fo(UE,"onAnimationIteration");fo(VE,"onAnimationStart");fo("dblclick","onDoubleClick");fo("focusin","onFocus");fo("focusout","onBlur");fo(BE,"onTransitionEnd");eu("onMouseEnter",["mouseout","mouseover"]);eu("onMouseLeave",["mouseout","mouseover"]);eu("onPointerEnter",["pointerout","pointerover"]);eu("onPointerLeave",["pointerout","pointerover"]);Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Al("onBeforeInput",["compositionend","keypress","textInput","paste"]);Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DL=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function m1(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,_M(r,t,void 0,e),e.currentTarget=null}function qE(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;m1(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;m1(a,l,u),i=c}}}if(Pm)throw e=py,Pm=!1,py=null,e}function Vt(e,t){var s=t[Sy];s===void 0&&(s=t[Sy]=new Set);var r=e+"__bubble";s.has(r)||(HE(t,e,2,!1),s.add(r))}function Rx(e,t,s){var r=0;t&&(r|=4),HE(s,e,r,t)}var xf="_reactListening"+Math.random().toString(36).slice(2);function Kd(e){if(!e[xf]){e[xf]=!0,XT.forEach(function(s){s!=="selectionchange"&&(DL.has(s)||Rx(s,!1,e),Rx(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xf]||(t[xf]=!0,Rx("selectionchange",!1,t))}}function HE(e,t,s,r){switch(EE(t)){case 1:var a=HM;break;case 4:a=WM;break;default:a=Fb}s=a.bind(null,t,s,e),a=void 0,!my||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Ox(e,t,s,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Uo(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}mE(function(){var u=i,h=Pb(s),d=[];e:{var f=zE.get(e);if(f!==void 0){var m=Ub,p=e;switch(e){case"keypress":if(am(s)===0)break e;case"keydown":case"keyup":m=oL;break;case"focusin":p="focus",m=Cx;break;case"focusout":p="blur",m=Cx;break;case"beforeblur":case"afterblur":m=Cx;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=n1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=YM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uL;break;case $E:case UE:case VE:m=XM;break;case BE:m=hL;break;case"scroll":m=KM;break;case"wheel":m=mL;break;case"copy":case"cut":case"paste":m=eL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=r1}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,v!==null&&(j=Vd(x,v),j!=null&&g.push(Gd(x,j,w)))),b)break;x=x.return}0<g.length&&(f=new m(f,p,null,s,h),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&s!==hy&&(p=s.relatedTarget||s.fromElement)&&(Uo(p)||p[ei]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=s.relatedTarget||s.toElement,m=u,p=p?Uo(p):null,p!==null&&(b=Dl(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=n1,j="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=r1,j="onPointerLeave",v="onPointerEnter",x="pointer"),b=m==null?f:hc(m),w=p==null?f:hc(p),f=new g(j,x+"leave",m,s,h),f.target=b,f.relatedTarget=w,j=null,Uo(h)===u&&(g=new g(v,x+"enter",p,s,h),g.target=w,g.relatedTarget=b,j=g),b=j,m&&p)t:{for(g=m,v=p,x=0,w=g;w;w=ql(w))x++;for(w=0,j=v;j;j=ql(j))w++;for(;0<x-w;)g=ql(g),x--;for(;0<w-x;)v=ql(v),w--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=ql(g),v=ql(v)}g=null}else g=null;m!==null&&p1(d,f,m,g,!1),p!==null&&b!==null&&p1(d,b,p,g,!0)}}e:{if(f=u?hc(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=wL;else if(o1(f))if(PE)N=SL;else{N=NL;var k=jL}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=kL);if(N&&(N=N(e,u))){OE(d,N,s,h);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&oy(f,"number",f.value)}switch(k=u?hc(u):window,e){case"focusin":(o1(k)||k.contentEditable==="true")&&(uc=k,vy=u,Cd=null);break;case"focusout":Cd=vy=uc=null;break;case"mousedown":by=!0;break;case"contextmenu":case"mouseup":case"dragend":by=!1,h1(d,s,h);break;case"selectionchange":if(EL)break;case"keydown":case"keyup":h1(d,s,h)}var S;if(Bb)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else cc?DE(e,s)&&(C="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(C="onCompositionStart");C&&(AE&&s.locale!=="ko"&&(cc||C!=="onCompositionStart"?C==="onCompositionEnd"&&cc&&(S=_E()):(Fi=h,$b="value"in Fi?Fi.value:Fi.textContent,cc=!0)),k=$m(u,C),0<k.length&&(C=new s1(C,e,null,s,h),d.push({event:C,listeners:k}),S?C.data=S:(S=RE(s),S!==null&&(C.data=S)))),(S=gL?xL(e,s):yL(e,s))&&(u=$m(u,"onBeforeInput"),0<u.length&&(h=new s1("onBeforeInput","beforeinput",null,s,h),d.push({event:h,listeners:u}),h.data=S))}qE(d,t)})}function Gd(e,t,s){return{instance:e,listener:t,currentTarget:s}}function $m(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Vd(e,s),i!=null&&r.unshift(Gd(e,i,a)),i=Vd(e,t),i!=null&&r.push(Gd(e,i,a))),e=e.return}return r}function ql(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p1(e,t,s,r,a){for(var i=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=Vd(s,i),c!=null&&o.unshift(Gd(s,c,l))):a||(c=Vd(s,i),c!=null&&o.push(Gd(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var RL=/\r\n?/g,OL=/\u0000|\uFFFD/g;function g1(e){return(typeof e=="string"?e:""+e).replace(RL,`
`).replace(OL,"")}function yf(e,t,s){if(t=g1(t),g1(e)!==t&&s)throw Error(Te(425))}function Um(){}var wy=null,jy=null;function Ny(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ky=typeof setTimeout=="function"?setTimeout:void 0,PL=typeof clearTimeout=="function"?clearTimeout:void 0,x1=typeof Promise=="function"?Promise:void 0,IL=typeof queueMicrotask=="function"?queueMicrotask:typeof x1<"u"?function(e){return x1.resolve(null).then(e).catch(ML)}:ky;function ML(e){setTimeout(function(){throw e})}function Px(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),qd(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);qd(t)}function zi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function y1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var vu=Math.random().toString(36).slice(2),ia="__reactFiber$"+vu,Yd="__reactProps$"+vu,ei="__reactContainer$"+vu,Sy="__reactEvents$"+vu,LL="__reactListeners$"+vu,FL="__reactHandles$"+vu;function Uo(e){var t=e[ia];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ei]||s[ia]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=y1(e);e!==null;){if(s=e[ia])return s;e=y1(e)}return t}e=s,s=e.parentNode}return null}function Dh(e){return e=e[ia]||e[ei],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function Wp(e){return e[Yd]||null}var Cy=[],fc=-1;function mo(e){return{current:e}}function qt(e){0>fc||(e.current=Cy[fc],Cy[fc]=null,fc--)}function $t(e,t){fc++,Cy[fc]=e.current,e.current=t}var to={},is=mo(to),_s=mo(!1),fl=to;function tu(e,t){var s=e.type.contextTypes;if(!s)return to;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function As(e){return e=e.childContextTypes,e!=null}function Vm(){qt(_s),qt(is)}function v1(e,t,s){if(is.current!==to)throw Error(Te(168));$t(is,t),$t(_s,s)}function WE(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Te(108,jM(e)||"Unknown",a));return dn({},s,r)}function Bm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||to,fl=is.current,$t(is,e),$t(_s,_s.current),!0}function b1(e,t,s){var r=e.stateNode;if(!r)throw Error(Te(169));s?(e=WE(e,t,fl),r.__reactInternalMemoizedMergedChildContext=e,qt(_s),qt(is),$t(is,e)):qt(_s),$t(_s,s)}var La=null,Kp=!1,Ix=!1;function KE(e){La===null?La=[e]:La.push(e)}function $L(e){Kp=!0,KE(e)}function po(){if(!Ix&&La!==null){Ix=!0;var e=0,t=Rt;try{var s=La;for(Rt=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}La=null,Kp=!1}catch(a){throw La!==null&&(La=La.slice(e+1)),yE(Ib,po),a}finally{Rt=t,Ix=!1}}return null}var mc=[],pc=0,zm=null,qm=0,or=[],lr=0,ml=null,za=1,qa="";function _o(e,t){mc[pc++]=qm,mc[pc++]=zm,zm=e,qm=t}function GE(e,t,s){or[lr++]=za,or[lr++]=qa,or[lr++]=ml,ml=e;var r=za;e=qa;var a=32-Or(r)-1;r&=~(1<<a),s+=1;var i=32-Or(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,za=1<<32-Or(t)+a|s<<a|r,qa=i+e}else za=1<<i|s<<a|r,qa=e}function qb(e){e.return!==null&&(_o(e,1),GE(e,1,0))}function Hb(e){for(;e===zm;)zm=mc[--pc],mc[pc]=null,qm=mc[--pc],mc[pc]=null;for(;e===ml;)ml=or[--lr],or[lr]=null,qa=or[--lr],or[lr]=null,za=or[--lr],or[lr]=null}var Ys=null,Gs=null,Kt=!1,Ar=null;function YE(e,t){var s=ur(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function w1(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ys=e,Gs=zi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ys=e,Gs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ml!==null?{id:za,overflow:qa}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=ur(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Ys=e,Gs=null,!0):!1;default:return!1}}function Ty(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ey(e){if(Kt){var t=Gs;if(t){var s=t;if(!w1(e,t)){if(Ty(e))throw Error(Te(418));t=zi(s.nextSibling);var r=Ys;t&&w1(e,t)?YE(r,s):(e.flags=e.flags&-4097|2,Kt=!1,Ys=e)}}else{if(Ty(e))throw Error(Te(418));e.flags=e.flags&-4097|2,Kt=!1,Ys=e}}}function j1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ys=e}function vf(e){if(e!==Ys)return!1;if(!Kt)return j1(e),Kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ny(e.type,e.memoizedProps)),t&&(t=Gs)){if(Ty(e))throw QE(),Error(Te(418));for(;t;)YE(e,t),t=zi(t.nextSibling)}if(j1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Gs=zi(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Gs=null}}else Gs=Ys?zi(e.stateNode.nextSibling):null;return!0}function QE(){for(var e=Gs;e;)e=zi(e.nextSibling)}function nu(){Gs=Ys=null,Kt=!1}function Wb(e){Ar===null?Ar=[e]:Ar.push(e)}var UL=li.ReactCurrentBatchConfig;function ed(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Te(309));var r=s.stateNode}if(!r)throw Error(Te(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Te(284));if(!s._owner)throw Error(Te(290,e))}return e}function bf(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function N1(e){var t=e._init;return t(e._payload)}function ZE(e){function t(v,x){if(e){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function s(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function a(v,x){return v=Ki(v,x),v.index=0,v.sibling=null,v}function i(v,x,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,w,j){return x===null||x.tag!==6?(x=Bx(w,v.mode,j),x.return=v,x):(x=a(x,w),x.return=v,x)}function c(v,x,w,j){var N=w.type;return N===lc?h(v,x,w.props.children,j,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ji&&N1(N)===x.type)?(j=a(x,w.props),j.ref=ed(v,x,w),j.return=v,j):(j=hm(w.type,w.key,w.props,null,v.mode,j),j.ref=ed(v,x,w),j.return=v,j)}function u(v,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=zx(w,v.mode,j),x.return=v,x):(x=a(x,w.children||[]),x.return=v,x)}function h(v,x,w,j,N){return x===null||x.tag!==7?(x=ll(w,v.mode,j,N),x.return=v,x):(x=a(x,w),x.return=v,x)}function d(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Bx(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cf:return w=hm(x.type,x.key,x.props,null,v.mode,w),w.ref=ed(v,null,x),w.return=v,w;case oc:return x=zx(x,v.mode,w),x.return=v,x;case ji:var j=x._init;return d(v,j(x._payload),w)}if(md(x)||Yu(x))return x=ll(x,v.mode,w,null),x.return=v,x;bf(v,x)}return null}function f(v,x,w,j){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(v,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cf:return w.key===N?c(v,x,w,j):null;case oc:return w.key===N?u(v,x,w,j):null;case ji:return N=w._init,f(v,x,N(w._payload),j)}if(md(w)||Yu(w))return N!==null?null:h(v,x,w,j,null);bf(v,w)}return null}function m(v,x,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(w)||null,l(x,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case cf:return v=v.get(j.key===null?w:j.key)||null,c(x,v,j,N);case oc:return v=v.get(j.key===null?w:j.key)||null,u(x,v,j,N);case ji:var k=j._init;return m(v,x,w,k(j._payload),N)}if(md(j)||Yu(j))return v=v.get(w)||null,h(x,v,j,N,null);bf(x,j)}return null}function p(v,x,w,j){for(var N=null,k=null,S=x,C=x=0,E=null;S!==null&&C<w.length;C++){S.index>C?(E=S,S=null):E=S.sibling;var T=f(v,S,w[C],j);if(T===null){S===null&&(S=E);break}e&&S&&T.alternate===null&&t(v,S),x=i(T,x,C),k===null?N=T:k.sibling=T,k=T,S=E}if(C===w.length)return s(v,S),Kt&&_o(v,C),N;if(S===null){for(;C<w.length;C++)S=d(v,w[C],j),S!==null&&(x=i(S,x,C),k===null?N=S:k.sibling=S,k=S);return Kt&&_o(v,C),N}for(S=r(v,S);C<w.length;C++)E=m(S,v,C,w[C],j),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?C:E.key),x=i(E,x,C),k===null?N=E:k.sibling=E,k=E);return e&&S.forEach(function(_){return t(v,_)}),Kt&&_o(v,C),N}function g(v,x,w,j){var N=Yu(w);if(typeof N!="function")throw Error(Te(150));if(w=N.call(w),w==null)throw Error(Te(151));for(var k=N=null,S=x,C=x=0,E=null,T=w.next();S!==null&&!T.done;C++,T=w.next()){S.index>C?(E=S,S=null):E=S.sibling;var _=f(v,S,T.value,j);if(_===null){S===null&&(S=E);break}e&&S&&_.alternate===null&&t(v,S),x=i(_,x,C),k===null?N=_:k.sibling=_,k=_,S=E}if(T.done)return s(v,S),Kt&&_o(v,C),N;if(S===null){for(;!T.done;C++,T=w.next())T=d(v,T.value,j),T!==null&&(x=i(T,x,C),k===null?N=T:k.sibling=T,k=T);return Kt&&_o(v,C),N}for(S=r(v,S);!T.done;C++,T=w.next())T=m(S,v,C,T.value,j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?C:T.key),x=i(T,x,C),k===null?N=T:k.sibling=T,k=T);return e&&S.forEach(function(A){return t(v,A)}),Kt&&_o(v,C),N}function b(v,x,w,j){if(typeof w=="object"&&w!==null&&w.type===lc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cf:e:{for(var N=w.key,k=x;k!==null;){if(k.key===N){if(N=w.type,N===lc){if(k.tag===7){s(v,k.sibling),x=a(k,w.props.children),x.return=v,v=x;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ji&&N1(N)===k.type){s(v,k.sibling),x=a(k,w.props),x.ref=ed(v,k,w),x.return=v,v=x;break e}s(v,k);break}else t(v,k);k=k.sibling}w.type===lc?(x=ll(w.props.children,v.mode,j,w.key),x.return=v,v=x):(j=hm(w.type,w.key,w.props,null,v.mode,j),j.ref=ed(v,x,w),j.return=v,v=j)}return o(v);case oc:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){s(v,x.sibling),x=a(x,w.children||[]),x.return=v,v=x;break e}else{s(v,x);break}else t(v,x);x=x.sibling}x=zx(w,v.mode,j),x.return=v,v=x}return o(v);case ji:return k=w._init,b(v,x,k(w._payload),j)}if(md(w))return p(v,x,w,j);if(Yu(w))return g(v,x,w,j);bf(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(s(v,x.sibling),x=a(x,w),x.return=v,v=x):(s(v,x),x=Bx(w,v.mode,j),x.return=v,v=x),o(v)):s(v,x)}return b}var su=ZE(!0),XE=ZE(!1),Hm=mo(null),Wm=null,gc=null,Kb=null;function Gb(){Kb=gc=Wm=null}function Yb(e){var t=Hm.current;qt(Hm),e._currentValue=t}function _y(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Dc(e,t){Wm=e,Kb=gc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cs=!0),e.firstContext=null)}function gr(e){var t=e._currentValue;if(Kb!==e)if(e={context:e,memoizedValue:t,next:null},gc===null){if(Wm===null)throw Error(Te(308));gc=e,Wm.dependencies={lanes:0,firstContext:e}}else gc=gc.next=e;return t}var Vo=null;function Qb(e){Vo===null?Vo=[e]:Vo.push(e)}function JE(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,Qb(t)):(s.next=a.next,a.next=s),t.interleaved=s,ti(e,r)}function ti(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ni=!1;function Zb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ya(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qi(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ti(e,s)}return a=r.interleaved,a===null?(t.next=t,Qb(r)):(t.next=a.next,a.next=t),r.interleaved=t,ti(e,s)}function im(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Mb(e,s)}}function k1(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Km(e,t,s,r){var a=e.updateQueue;Ni=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=a.baseState;o=0,h=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(f=t,m=s,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(m,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(m,d,f):p,f==null)break e;d=dn({},d,f);break e;case 2:Ni=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=m,c=d):h=h.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(h===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);gl|=o,e.lanes=o,e.memoizedState=d}}function S1(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(Te(191,a));a.call(r)}}}var Rh={},fa=mo(Rh),Qd=mo(Rh),Zd=mo(Rh);function Bo(e){if(e===Rh)throw Error(Te(174));return e}function Xb(e,t){switch($t(Zd,t),$t(Qd,e),$t(fa,Rh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cy(t,e)}qt(fa),$t(fa,t)}function ru(){qt(fa),qt(Qd),qt(Zd)}function t_(e){Bo(Zd.current);var t=Bo(fa.current),s=cy(t,e.type);t!==s&&($t(Qd,e),$t(fa,s))}function Jb(e){Qd.current===e&&(qt(fa),qt(Qd))}var rn=mo(0);function Gm(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mx=[];function ew(){for(var e=0;e<Mx.length;e++)Mx[e]._workInProgressVersionPrimary=null;Mx.length=0}var om=li.ReactCurrentDispatcher,Lx=li.ReactCurrentBatchConfig,pl=0,cn=null,In=null,Bn=null,Ym=!1,Td=!1,Xd=0,VL=0;function ts(){throw Error(Te(321))}function tw(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Fr(e[s],t[s]))return!1;return!0}function nw(e,t,s,r,a,i){if(pl=i,cn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,om.current=e===null||e.memoizedState===null?HL:WL,e=s(r,a),Td){i=0;do{if(Td=!1,Xd=0,25<=i)throw Error(Te(301));i+=1,Bn=In=null,t.updateQueue=null,om.current=KL,e=s(r,a)}while(Td)}if(om.current=Qm,t=In!==null&&In.next!==null,pl=0,Bn=In=cn=null,Ym=!1,t)throw Error(Te(300));return e}function sw(){var e=Xd!==0;return Xd=0,e}function ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?cn.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function xr(){if(In===null){var e=cn.alternate;e=e!==null?e.memoizedState:null}else e=In.next;var t=Bn===null?cn.memoizedState:Bn.next;if(t!==null)Bn=t,In=e;else{if(e===null)throw Error(Te(310));In=e,e={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Bn===null?cn.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function Jd(e,t){return typeof t=="function"?t(e):t}function Fx(e){var t=xr(),s=t.queue;if(s===null)throw Error(Te(311));s.lastRenderedReducer=e;var r=In,a=r.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((pl&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=r):c=c.next=d,cn.lanes|=h,gl|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Fr(r,t.memoizedState)||(Cs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do i=a.lane,cn.lanes|=i,gl|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function $x(e){var t=xr(),s=t.queue;if(s===null)throw Error(Te(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Fr(i,t.memoizedState)||(Cs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function n_(){}function s_(e,t){var s=cn,r=xr(),a=t(),i=!Fr(r.memoizedState,a);if(i&&(r.memoizedState=a,Cs=!0),r=r.queue,rw(i_.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||Bn!==null&&Bn.memoizedState.tag&1){if(s.flags|=2048,eh(9,a_.bind(null,s,r,a,t),void 0,null),zn===null)throw Error(Te(349));pl&30||r_(s,t,a)}return a}function r_(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=cn.updateQueue,t===null?(t={lastEffect:null,stores:null},cn.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function a_(e,t,s,r){t.value=s,t.getSnapshot=r,o_(t)&&l_(e)}function i_(e,t,s){return s(function(){o_(t)&&l_(e)})}function o_(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Fr(e,s)}catch{return!0}}function l_(e){var t=ti(e,1);t!==null&&Pr(t,e,1,-1)}function C1(e){var t=ta();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:e},t.queue=e,e=e.dispatch=qL.bind(null,cn,e),[t.memoizedState,e]}function eh(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=cn.updateQueue,t===null?(t={lastEffect:null,stores:null},cn.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function c_(){return xr().memoizedState}function lm(e,t,s,r){var a=ta();cn.flags|=e,a.memoizedState=eh(1|t,s,void 0,r===void 0?null:r)}function Gp(e,t,s,r){var a=xr();r=r===void 0?null:r;var i=void 0;if(In!==null){var o=In.memoizedState;if(i=o.destroy,r!==null&&tw(r,o.deps)){a.memoizedState=eh(t,s,i,r);return}}cn.flags|=e,a.memoizedState=eh(1|t,s,i,r)}function T1(e,t){return lm(8390656,8,e,t)}function rw(e,t){return Gp(2048,8,e,t)}function u_(e,t){return Gp(4,2,e,t)}function d_(e,t){return Gp(4,4,e,t)}function h_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f_(e,t,s){return s=s!=null?s.concat([e]):null,Gp(4,4,h_.bind(null,t,e),s)}function aw(){}function m_(e,t){var s=xr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&tw(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function p_(e,t){var s=xr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&tw(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function g_(e,t,s){return pl&21?(Fr(s,t)||(s=wE(),cn.lanes|=s,gl|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cs=!0),e.memoizedState=s)}function BL(e,t){var s=Rt;Rt=s!==0&&4>s?s:4,e(!0);var r=Lx.transition;Lx.transition={};try{e(!1),t()}finally{Rt=s,Lx.transition=r}}function x_(){return xr().memoizedState}function zL(e,t,s){var r=Wi(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},y_(e))v_(t,s);else if(s=JE(e,t,s,r),s!==null){var a=ps();Pr(s,e,r,a),b_(s,t,r)}}function qL(e,t,s){var r=Wi(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(y_(e))v_(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(a.hasEagerState=!0,a.eagerState=l,Fr(l,o)){var c=t.interleaved;c===null?(a.next=a,Qb(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=JE(e,t,a,r),s!==null&&(a=ps(),Pr(s,e,r,a),b_(s,t,r))}}function y_(e){var t=e.alternate;return e===cn||t!==null&&t===cn}function v_(e,t){Td=Ym=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function b_(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Mb(e,s)}}var Qm={readContext:gr,useCallback:ts,useContext:ts,useEffect:ts,useImperativeHandle:ts,useInsertionEffect:ts,useLayoutEffect:ts,useMemo:ts,useReducer:ts,useRef:ts,useState:ts,useDebugValue:ts,useDeferredValue:ts,useTransition:ts,useMutableSource:ts,useSyncExternalStore:ts,useId:ts,unstable_isNewReconciler:!1},HL={readContext:gr,useCallback:function(e,t){return ta().memoizedState=[e,t===void 0?null:t],e},useContext:gr,useEffect:T1,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,lm(4194308,4,h_.bind(null,t,e),s)},useLayoutEffect:function(e,t){return lm(4194308,4,e,t)},useInsertionEffect:function(e,t){return lm(4,2,e,t)},useMemo:function(e,t){var s=ta();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=ta();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zL.bind(null,cn,e),[r.memoizedState,e]},useRef:function(e){var t=ta();return e={current:e},t.memoizedState=e},useState:C1,useDebugValue:aw,useDeferredValue:function(e){return ta().memoizedState=e},useTransition:function(){var e=C1(!1),t=e[0];return e=BL.bind(null,e[1]),ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=cn,a=ta();if(Kt){if(s===void 0)throw Error(Te(407));s=s()}else{if(s=t(),zn===null)throw Error(Te(349));pl&30||r_(r,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,T1(i_.bind(null,r,i,e),[e]),r.flags|=2048,eh(9,a_.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=ta(),t=zn.identifierPrefix;if(Kt){var s=qa,r=za;s=(r&~(1<<32-Or(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Xd++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=VL++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WL={readContext:gr,useCallback:m_,useContext:gr,useEffect:rw,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:p_,useReducer:Fx,useRef:c_,useState:function(){return Fx(Jd)},useDebugValue:aw,useDeferredValue:function(e){var t=xr();return g_(t,In.memoizedState,e)},useTransition:function(){var e=Fx(Jd)[0],t=xr().memoizedState;return[e,t]},useMutableSource:n_,useSyncExternalStore:s_,useId:x_,unstable_isNewReconciler:!1},KL={readContext:gr,useCallback:m_,useContext:gr,useEffect:rw,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:p_,useReducer:$x,useRef:c_,useState:function(){return $x(Jd)},useDebugValue:aw,useDeferredValue:function(e){var t=xr();return In===null?t.memoizedState=e:g_(t,In.memoizedState,e)},useTransition:function(){var e=$x(Jd)[0],t=xr().memoizedState;return[e,t]},useMutableSource:n_,useSyncExternalStore:s_,useId:x_,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=dn({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Ay(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:dn({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Yp={isMounted:function(e){return(e=e._reactInternals)?Dl(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=ps(),a=Wi(e),i=Ya(r,a);i.payload=t,s!=null&&(i.callback=s),t=qi(e,i,a),t!==null&&(Pr(t,e,a,r),im(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=ps(),a=Wi(e),i=Ya(r,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=qi(e,i,a),t!==null&&(Pr(t,e,a,r),im(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ps(),r=Wi(e),a=Ya(s,r);a.tag=2,t!=null&&(a.callback=t),t=qi(e,a,r),t!==null&&(Pr(t,e,r,s),im(t,e,r))}};function E1(e,t,s,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Wd(s,r)||!Wd(a,i):!0}function w_(e,t,s){var r=!1,a=to,i=t.contextType;return typeof i=="object"&&i!==null?i=gr(i):(a=As(t)?fl:is.current,r=t.contextTypes,i=(r=r!=null)?tu(e,a):to),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function _1(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Yp.enqueueReplaceState(t,t.state,null)}function Dy(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Zb(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=gr(i):(i=As(t)?fl:is.current,a.context=tu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ay(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Yp.enqueueReplaceState(a,a.state,null),Km(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function au(e,t){try{var s="",r=t;do s+=wM(r),r=r.return;while(r);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ux(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Ry(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var GL=typeof WeakMap=="function"?WeakMap:Map;function j_(e,t,s){s=Ya(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Xm||(Xm=!0,By=r),Ry(e,t)},s}function N_(e,t,s){s=Ya(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){Ry(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Ry(e,t),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function A1(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new GL;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=lF.bind(null,e,t,s),t.then(e,e))}function D1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function R1(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Ya(-1,1),t.tag=2,qi(s,t,1))),s.lanes|=1),e)}var YL=li.ReactCurrentOwner,Cs=!1;function hs(e,t,s,r){t.child=e===null?XE(t,null,s,r):su(t,e.child,s,r)}function O1(e,t,s,r,a){s=s.render;var i=t.ref;return Dc(t,a),r=nw(e,t,s,r,i,a),s=sw(),e!==null&&!Cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ni(e,t,a)):(Kt&&s&&qb(t),t.flags|=1,hs(e,t,r,a),t.child)}function P1(e,t,s,r,a){if(e===null){var i=s.type;return typeof i=="function"&&!fw(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,k_(e,t,i,r,a)):(e=hm(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:Wd,s(o,r)&&e.ref===t.ref)return ni(e,t,a)}return t.flags|=1,e=Ki(i,r),e.ref=t.ref,e.return=t,t.child=e}function k_(e,t,s,r,a){if(e!==null){var i=e.memoizedProps;if(Wd(i,r)&&e.ref===t.ref)if(Cs=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Cs=!0);else return t.lanes=e.lanes,ni(e,t,a)}return Oy(e,t,s,r,a)}function S_(e,t,s){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(yc,Vs),Vs|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(yc,Vs),Vs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:s,$t(yc,Vs),Vs|=r}else i!==null?(r=i.baseLanes|s,t.memoizedState=null):r=s,$t(yc,Vs),Vs|=r;return hs(e,t,a,s),t.child}function C_(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Oy(e,t,s,r,a){var i=As(s)?fl:is.current;return i=tu(t,i),Dc(t,a),s=nw(e,t,s,r,i,a),r=sw(),e!==null&&!Cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ni(e,t,a)):(Kt&&r&&qb(t),t.flags|=1,hs(e,t,s,a),t.child)}function I1(e,t,s,r,a){if(As(s)){var i=!0;Bm(t)}else i=!1;if(Dc(t,a),t.stateNode===null)cm(e,t),w_(t,s,r),Dy(t,s,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=s.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=As(s)?fl:is.current,u=tu(t,u));var h=s.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&_1(t,o,r,u),Ni=!1;var f=t.memoizedState;o.state=f,Km(t,r,o,a),c=t.memoizedState,l!==r||f!==c||_s.current||Ni?(typeof h=="function"&&(Ay(t,s,h,r),c=t.memoizedState),(l=Ni||E1(t,s,l,r,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,e_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Cr(t.type,l),o.props=u,d=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=gr(c):(c=As(s)?fl:is.current,c=tu(t,c));var m=s.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==c)&&_1(t,o,r,c),Ni=!1,f=t.memoizedState,o.state=f,Km(t,r,o,a);var p=t.memoizedState;l!==d||f!==p||_s.current||Ni?(typeof m=="function"&&(Ay(t,s,m,r),p=t.memoizedState),(u=Ni||E1(t,s,u,r,f,p,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Py(e,t,s,r,i,a)}function Py(e,t,s,r,a,i){C_(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&b1(t,s,!1),ni(e,t,i);r=t.stateNode,YL.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=su(t,e.child,null,i),t.child=su(t,null,l,i)):hs(e,t,l,i),t.memoizedState=r.state,a&&b1(t,s,!0),t.child}function T_(e){var t=e.stateNode;t.pendingContext?v1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&v1(e,t.context,!1),Xb(e,t.containerInfo)}function M1(e,t,s,r,a){return nu(),Wb(a),t.flags|=256,hs(e,t,s,r),t.child}var Iy={dehydrated:null,treeContext:null,retryLane:0};function My(e){return{baseLanes:e,cachePool:null,transitions:null}}function E_(e,t,s){var r=t.pendingProps,a=rn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$t(rn,a&1),e===null)return Ey(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xp(o,r,0,null),e=ll(e,r,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=My(s),t.memoizedState=Iy,e):iw(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return QL(e,t,o,r,l,a,s);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ki(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ki(l,i):(i=ll(i,o,s,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?My(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Iy,r}return i=e.child,e=i.sibling,r=Ki(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function iw(e,t){return t=Xp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wf(e,t,s,r){return r!==null&&Wb(r),su(t,e.child,null,s),e=iw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QL(e,t,s,r,a,i,o){if(s)return t.flags&256?(t.flags&=-257,r=Ux(Error(Te(422))),wf(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Xp({mode:"visible",children:r.children},a,0,null),i=ll(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&su(t,e.child,null,o),t.child.memoizedState=My(o),t.memoizedState=Iy,i);if(!(t.mode&1))return wf(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Te(419)),r=Ux(i,r,void 0),wf(e,t,o,r)}if(l=(o&e.childLanes)!==0,Cs||l){if(r=zn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ti(e,a),Pr(r,e,a,-1))}return hw(),r=Ux(Error(Te(421))),wf(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cF.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Gs=zi(a.nextSibling),Ys=t,Kt=!0,Ar=null,e!==null&&(or[lr++]=za,or[lr++]=qa,or[lr++]=ml,za=e.id,qa=e.overflow,ml=t),t=iw(t,r.children),t.flags|=4096,t)}function L1(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_y(e.return,t,s)}function Vx(e,t,s,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=s,i.tailMode=a)}function __(e,t,s){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(hs(e,t,r.children,s),r=rn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&L1(e,s,t);else if(e.tag===19)L1(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($t(rn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Gm(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Vx(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Gm(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Vx(t,!0,s,null,i);break;case"together":Vx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ni(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),gl|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,s=Ki(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ki(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function ZL(e,t,s){switch(t.tag){case 3:T_(t),nu();break;case 5:t_(t);break;case 1:As(t.type)&&Bm(t);break;case 4:Xb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;$t(Hm,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($t(rn,rn.current&1),t.flags|=128,null):s&t.child.childLanes?E_(e,t,s):($t(rn,rn.current&1),e=ni(e,t,s),e!==null?e.sibling:null);$t(rn,rn.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return __(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$t(rn,rn.current),r)break;return null;case 22:case 23:return t.lanes=0,S_(e,t,s)}return ni(e,t,s)}var A_,Ly,D_,R_;A_=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ly=function(){};D_=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Bo(fa.current);var i=null;switch(s){case"input":a=ay(e,a),r=ay(e,r),i=[];break;case"select":a=dn({},a,{value:void 0}),r=dn({},r,{value:void 0}),i=[];break;case"textarea":a=ly(e,a),r=ly(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Um)}uy(s,r);var o;s=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($d.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($d.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Vt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}s&&(i=i||[]).push("style",s);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};R_=function(e,t,s,r){s!==r&&(t.flags|=4)};function td(e,t){if(!Kt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function XL(e,t,s){var r=t.pendingProps;switch(Hb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ns(t),null;case 1:return As(t.type)&&Vm(),ns(t),null;case 3:return r=t.stateNode,ru(),qt(_s),qt(is),ew(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ar!==null&&(Hy(Ar),Ar=null))),Ly(e,t),ns(t),null;case 5:Jb(t);var a=Bo(Zd.current);if(s=t.type,e!==null&&t.stateNode!=null)D_(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return ns(t),null}if(e=Bo(fa.current),vf(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[ia]=t,r[Yd]=i,e=(t.mode&1)!==0,s){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(a=0;a<gd.length;a++)Vt(gd[a],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":WN(r,i),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Vt("invalid",r);break;case"textarea":GN(r,i),Vt("invalid",r)}uy(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&yf(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&yf(r.textContent,l,e),a=["children",""+l]):$d.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Vt("scroll",r)}switch(s){case"input":uf(r),KN(r,i,!0);break;case"textarea":uf(r),YN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Um)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iE(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[ia]=t,e[Yd]=r,A_(e,t,!1,!1),t.stateNode=e;e:{switch(o=dy(s,r),s){case"dialog":Vt("cancel",e),Vt("close",e),a=r;break;case"iframe":case"object":case"embed":Vt("load",e),a=r;break;case"video":case"audio":for(a=0;a<gd.length;a++)Vt(gd[a],e);a=r;break;case"source":Vt("error",e),a=r;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),a=r;break;case"details":Vt("toggle",e),a=r;break;case"input":WN(e,r),a=ay(e,r),Vt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=dn({},r,{value:void 0}),Vt("invalid",e);break;case"textarea":GN(e,r),a=ly(e,r),Vt("invalid",e);break;default:a=r}uy(s,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?cE(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&oE(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Ud(e,c):typeof c=="number"&&Ud(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($d.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Vt("scroll",e):c!=null&&Ab(e,i,c,o))}switch(s){case"input":uf(e),KN(e,r,!1);break;case"textarea":uf(e),YN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+eo(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Tc(e,!!r.multiple,i,!1):r.defaultValue!=null&&Tc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Um)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ns(t),null;case 6:if(e&&t.stateNode!=null)R_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));if(s=Bo(Zd.current),Bo(fa.current),vf(t)){if(r=t.stateNode,s=t.memoizedProps,r[ia]=t,(i=r.nodeValue!==s)&&(e=Ys,e!==null))switch(e.tag){case 3:yf(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yf(r.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[ia]=t,t.stateNode=r}return ns(t),null;case 13:if(qt(rn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kt&&Gs!==null&&t.mode&1&&!(t.flags&128))QE(),nu(),t.flags|=98560,i=!1;else if(i=vf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Te(317));i[ia]=t}else nu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ns(t),i=!1}else Ar!==null&&(Hy(Ar),Ar=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rn.current&1?Fn===0&&(Fn=3):hw())),t.updateQueue!==null&&(t.flags|=4),ns(t),null);case 4:return ru(),Ly(e,t),e===null&&Kd(t.stateNode.containerInfo),ns(t),null;case 10:return Yb(t.type._context),ns(t),null;case 17:return As(t.type)&&Vm(),ns(t),null;case 19:if(qt(rn),i=t.memoizedState,i===null)return ns(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)td(i,!1);else{if(Fn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gm(e),o!==null){for(t.flags|=128,td(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)i=s,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return $t(rn,rn.current&1|2),t.child}e=e.sibling}i.tail!==null&&wn()>iu&&(t.flags|=128,r=!0,td(i,!1),t.lanes=4194304)}else{if(!r)if(e=Gm(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),td(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Kt)return ns(t),null}else 2*wn()-i.renderingStartTime>iu&&s!==1073741824&&(t.flags|=128,r=!0,td(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wn(),t.sibling=null,s=rn.current,$t(rn,r?s&1|2:s&1),t):(ns(t),null);case 22:case 23:return dw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vs&1073741824&&(ns(t),t.subtreeFlags&6&&(t.flags|=8192)):ns(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function JL(e,t){switch(Hb(t),t.tag){case 1:return As(t.type)&&Vm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ru(),qt(_s),qt(is),ew(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jb(t),null;case 13:if(qt(rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));nu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(rn),null;case 4:return ru(),null;case 10:return Yb(t.type._context),null;case 22:case 23:return dw(),null;case 24:return null;default:return null}}var jf=!1,ss=!1,eF=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function xc(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){pn(e,t,r)}else s.current=null}function Fy(e,t,s){try{s()}catch(r){pn(e,t,r)}}var F1=!1;function tF(e,t){if(wy=Lm,e=LE(),zb(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var m;d!==s||a!==0&&d.nodeType!==3||(l=o+a),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===s&&++u===a&&(l=o),f===i&&++h===r&&(c=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(jy={focusedElem:e,selectionRange:s},Lm=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,b=p.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Cr(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(j){pn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return p=F1,F1=!1,p}function Ed(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Fy(t,s,i)}a=a.next}while(a!==r)}}function Qp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function $y(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function O_(e){var t=e.alternate;t!==null&&(e.alternate=null,O_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ia],delete t[Yd],delete t[Sy],delete t[LL],delete t[FL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function P_(e){return e.tag===5||e.tag===3||e.tag===4}function $1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uy(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Um));else if(r!==4&&(e=e.child,e!==null))for(Uy(e,t,s),e=e.sibling;e!==null;)Uy(e,t,s),e=e.sibling}function Vy(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vy(e,t,s),e=e.sibling;e!==null;)Vy(e,t,s),e=e.sibling}var Kn=null,_r=!1;function mi(e,t,s){for(s=s.child;s!==null;)I_(e,t,s),s=s.sibling}function I_(e,t,s){if(ha&&typeof ha.onCommitFiberUnmount=="function")try{ha.onCommitFiberUnmount(Bp,s)}catch{}switch(s.tag){case 5:ss||xc(s,t);case 6:var r=Kn,a=_r;Kn=null,mi(e,t,s),Kn=r,_r=a,Kn!==null&&(_r?(e=Kn,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Kn.removeChild(s.stateNode));break;case 18:Kn!==null&&(_r?(e=Kn,s=s.stateNode,e.nodeType===8?Px(e.parentNode,s):e.nodeType===1&&Px(e,s),qd(e)):Px(Kn,s.stateNode));break;case 4:r=Kn,a=_r,Kn=s.stateNode.containerInfo,_r=!0,mi(e,t,s),Kn=r,_r=a;break;case 0:case 11:case 14:case 15:if(!ss&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Fy(s,t,o),a=a.next}while(a!==r)}mi(e,t,s);break;case 1:if(!ss&&(xc(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){pn(s,t,l)}mi(e,t,s);break;case 21:mi(e,t,s);break;case 22:s.mode&1?(ss=(r=ss)||s.memoizedState!==null,mi(e,t,s),ss=r):mi(e,t,s);break;default:mi(e,t,s)}}function U1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new eF),t.forEach(function(r){var a=uF.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function Nr(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Kn=l.stateNode,_r=!1;break e;case 3:Kn=l.stateNode.containerInfo,_r=!0;break e;case 4:Kn=l.stateNode.containerInfo,_r=!0;break e}l=l.return}if(Kn===null)throw Error(Te(160));I_(i,o,a),Kn=null,_r=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){pn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)M_(t,e),t=t.sibling}function M_(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nr(t,e),Xr(e),r&4){try{Ed(3,e,e.return),Qp(3,e)}catch(g){pn(e,e.return,g)}try{Ed(5,e,e.return)}catch(g){pn(e,e.return,g)}}break;case 1:Nr(t,e),Xr(e),r&512&&s!==null&&xc(s,s.return);break;case 5:if(Nr(t,e),Xr(e),r&512&&s!==null&&xc(s,s.return),e.flags&32){var a=e.stateNode;try{Ud(a,"")}catch(g){pn(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rE(a,i),dy(l,o);var u=dy(l,i);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?cE(a,d):h==="dangerouslySetInnerHTML"?oE(a,d):h==="children"?Ud(a,d):Ab(a,h,d,u)}switch(l){case"input":iy(a,i);break;case"textarea":aE(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Tc(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Tc(a,!!i.multiple,i.defaultValue,!0):Tc(a,!!i.multiple,i.multiple?[]:"",!1))}a[Yd]=i}catch(g){pn(e,e.return,g)}}break;case 6:if(Nr(t,e),Xr(e),r&4){if(e.stateNode===null)throw Error(Te(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){pn(e,e.return,g)}}break;case 3:if(Nr(t,e),Xr(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{qd(t.containerInfo)}catch(g){pn(e,e.return,g)}break;case 4:Nr(t,e),Xr(e);break;case 13:Nr(t,e),Xr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(cw=wn())),r&4&&U1(e);break;case 22:if(h=s!==null&&s.memoizedState!==null,e.mode&1?(ss=(u=ss)||h,Nr(t,e),ss=u):Nr(t,e),Xr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Ue=e,h=e.child;h!==null;){for(d=Ue=h;Ue!==null;){switch(f=Ue,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ed(4,f,f.return);break;case 1:xc(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,s=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){pn(r,s,g)}}break;case 5:xc(f,f.return);break;case 22:if(f.memoizedState!==null){B1(d);continue}}m!==null?(m.return=f,Ue=m):B1(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=lE("display",o))}catch(g){pn(e,e.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){pn(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nr(t,e),Xr(e),r&4&&U1(e);break;case 21:break;default:Nr(t,e),Xr(e)}}function Xr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(P_(s)){var r=s;break e}s=s.return}throw Error(Te(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Ud(a,""),r.flags&=-33);var i=$1(e);Vy(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=$1(e);Uy(e,l,o);break;default:throw Error(Te(161))}}catch(c){pn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nF(e,t,s){Ue=e,L_(e)}function L_(e,t,s){for(var r=(e.mode&1)!==0;Ue!==null;){var a=Ue,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||jf;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ss;l=jf;var u=ss;if(jf=o,(ss=c)&&!u)for(Ue=a;Ue!==null;)o=Ue,c=o.child,o.tag===22&&o.memoizedState!==null?z1(a):c!==null?(c.return=o,Ue=c):z1(a);for(;i!==null;)Ue=i,L_(i),i=i.sibling;Ue=a,jf=l,ss=u}V1(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ue=i):V1(e)}}function V1(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ss||Qp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ss)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Cr(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&S1(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}S1(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&qd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}ss||t.flags&512&&$y(t)}catch(f){pn(t,t.return,f)}}if(t===e){Ue=null;break}if(s=t.sibling,s!==null){s.return=t.return,Ue=s;break}Ue=t.return}}function B1(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ue=s;break}Ue=t.return}}function z1(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Qp(4,t)}catch(c){pn(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){pn(t,a,c)}}var i=t.return;try{$y(t)}catch(c){pn(t,i,c)}break;case 5:var o=t.return;try{$y(t)}catch(c){pn(t,o,c)}}}catch(c){pn(t,t.return,c)}if(t===e){Ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ue=l;break}Ue=t.return}}var sF=Math.ceil,Zm=li.ReactCurrentDispatcher,ow=li.ReactCurrentOwner,hr=li.ReactCurrentBatchConfig,Tt=0,zn=null,Tn=null,Qn=0,Vs=0,yc=mo(0),Fn=0,th=null,gl=0,Zp=0,lw=0,_d=null,ks=null,cw=0,iu=1/0,Ma=null,Xm=!1,By=null,Hi=null,Nf=!1,$i=null,Jm=0,Ad=0,zy=null,um=-1,dm=0;function ps(){return Tt&6?wn():um!==-1?um:um=wn()}function Wi(e){return e.mode&1?Tt&2&&Qn!==0?Qn&-Qn:UL.transition!==null?(dm===0&&(dm=wE()),dm):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:EE(e.type)),e):1}function Pr(e,t,s,r){if(50<Ad)throw Ad=0,zy=null,Error(Te(185));_h(e,s,r),(!(Tt&2)||e!==zn)&&(e===zn&&(!(Tt&2)&&(Zp|=s),Fn===4&&Ci(e,Qn)),Ds(e,r),s===1&&Tt===0&&!(t.mode&1)&&(iu=wn()+500,Kp&&po()))}function Ds(e,t){var s=e.callbackNode;UM(e,t);var r=Mm(e,e===zn?Qn:0);if(r===0)s!==null&&XN(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&XN(s),t===1)e.tag===0?$L(q1.bind(null,e)):KE(q1.bind(null,e)),IL(function(){!(Tt&6)&&po()}),s=null;else{switch(jE(r)){case 1:s=Ib;break;case 4:s=vE;break;case 16:s=Im;break;case 536870912:s=bE;break;default:s=Im}s=H_(s,F_.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function F_(e,t){if(um=-1,dm=0,Tt&6)throw Error(Te(327));var s=e.callbackNode;if(Rc()&&e.callbackNode!==s)return null;var r=Mm(e,e===zn?Qn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ep(e,r);else{t=r;var a=Tt;Tt|=2;var i=U_();(zn!==e||Qn!==t)&&(Ma=null,iu=wn()+500,ol(e,t));do try{iF();break}catch(l){$_(e,l)}while(!0);Gb(),Zm.current=i,Tt=a,Tn!==null?t=0:(zn=null,Qn=0,t=Fn)}if(t!==0){if(t===2&&(a=gy(e),a!==0&&(r=a,t=qy(e,a))),t===1)throw s=th,ol(e,0),Ci(e,r),Ds(e,wn()),s;if(t===6)Ci(e,r);else{if(a=e.current.alternate,!(r&30)&&!rF(a)&&(t=ep(e,r),t===2&&(i=gy(e),i!==0&&(r=i,t=qy(e,i))),t===1))throw s=th,ol(e,0),Ci(e,r),Ds(e,wn()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Te(345));case 2:Ao(e,ks,Ma);break;case 3:if(Ci(e,r),(r&130023424)===r&&(t=cw+500-wn(),10<t)){if(Mm(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){ps(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ky(Ao.bind(null,e,ks,Ma),t);break}Ao(e,ks,Ma);break;case 4:if(Ci(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Or(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=wn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sF(r/1960))-r,10<r){e.timeoutHandle=ky(Ao.bind(null,e,ks,Ma),r);break}Ao(e,ks,Ma);break;case 5:Ao(e,ks,Ma);break;default:throw Error(Te(329))}}}return Ds(e,wn()),e.callbackNode===s?F_.bind(null,e):null}function qy(e,t){var s=_d;return e.current.memoizedState.isDehydrated&&(ol(e,t).flags|=256),e=ep(e,t),e!==2&&(t=ks,ks=s,t!==null&&Hy(t)),e}function Hy(e){ks===null?ks=e:ks.push.apply(ks,e)}function rF(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],i=a.getSnapshot;a=a.value;try{if(!Fr(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ci(e,t){for(t&=~lw,t&=~Zp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Or(t),r=1<<s;e[s]=-1,t&=~r}}function q1(e){if(Tt&6)throw Error(Te(327));Rc();var t=Mm(e,0);if(!(t&1))return Ds(e,wn()),null;var s=ep(e,t);if(e.tag!==0&&s===2){var r=gy(e);r!==0&&(t=r,s=qy(e,r))}if(s===1)throw s=th,ol(e,0),Ci(e,t),Ds(e,wn()),s;if(s===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ao(e,ks,Ma),Ds(e,wn()),null}function uw(e,t){var s=Tt;Tt|=1;try{return e(t)}finally{Tt=s,Tt===0&&(iu=wn()+500,Kp&&po())}}function xl(e){$i!==null&&$i.tag===0&&!(Tt&6)&&Rc();var t=Tt;Tt|=1;var s=hr.transition,r=Rt;try{if(hr.transition=null,Rt=1,e)return e()}finally{Rt=r,hr.transition=s,Tt=t,!(Tt&6)&&po()}}function dw(){Vs=yc.current,qt(yc)}function ol(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,PL(s)),Tn!==null)for(s=Tn.return;s!==null;){var r=s;switch(Hb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vm();break;case 3:ru(),qt(_s),qt(is),ew();break;case 5:Jb(r);break;case 4:ru();break;case 13:qt(rn);break;case 19:qt(rn);break;case 10:Yb(r.type._context);break;case 22:case 23:dw()}s=s.return}if(zn=e,Tn=e=Ki(e.current,null),Qn=Vs=t,Fn=0,th=null,lw=Zp=gl=0,ks=_d=null,Vo!==null){for(t=0;t<Vo.length;t++)if(s=Vo[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}s.pending=r}Vo=null}return e}function $_(e,t){do{var s=Tn;try{if(Gb(),om.current=Qm,Ym){for(var r=cn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ym=!1}if(pl=0,Bn=In=cn=null,Td=!1,Xd=0,ow.current=null,s===null||s.return===null){Fn=1,th=t,Tn=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=Qn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=D1(o);if(m!==null){m.flags&=-257,R1(m,o,l,i,t),m.mode&1&&A1(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){A1(i,u,t),hw();break e}c=Error(Te(426))}}else if(Kt&&l.mode&1){var b=D1(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),R1(b,o,l,i,t),Wb(au(c,l));break e}}i=c=au(c,l),Fn!==4&&(Fn=2),_d===null?_d=[i]:_d.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=j_(i,c,t);k1(i,v);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Hi===null||!Hi.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=N_(i,l,t);k1(i,j);break e}}i=i.return}while(i!==null)}B_(s)}catch(N){t=N,Tn===s&&s!==null&&(Tn=s=s.return);continue}break}while(!0)}function U_(){var e=Zm.current;return Zm.current=Qm,e===null?Qm:e}function hw(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),zn===null||!(gl&268435455)&&!(Zp&268435455)||Ci(zn,Qn)}function ep(e,t){var s=Tt;Tt|=2;var r=U_();(zn!==e||Qn!==t)&&(Ma=null,ol(e,t));do try{aF();break}catch(a){$_(e,a)}while(!0);if(Gb(),Tt=s,Zm.current=r,Tn!==null)throw Error(Te(261));return zn=null,Qn=0,Fn}function aF(){for(;Tn!==null;)V_(Tn)}function iF(){for(;Tn!==null&&!DM();)V_(Tn)}function V_(e){var t=q_(e.alternate,e,Vs);e.memoizedProps=e.pendingProps,t===null?B_(e):Tn=t,ow.current=null}function B_(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=JL(s,t),s!==null){s.flags&=32767,Tn=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fn=6,Tn=null;return}}else if(s=XL(s,t,Vs),s!==null){Tn=s;return}if(t=t.sibling,t!==null){Tn=t;return}Tn=t=e}while(t!==null);Fn===0&&(Fn=5)}function Ao(e,t,s){var r=Rt,a=hr.transition;try{hr.transition=null,Rt=1,oF(e,t,s,r)}finally{hr.transition=a,Rt=r}return null}function oF(e,t,s,r){do Rc();while($i!==null);if(Tt&6)throw Error(Te(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(VM(e,i),e===zn&&(Tn=zn=null,Qn=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Nf||(Nf=!0,H_(Im,function(){return Rc(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=hr.transition,hr.transition=null;var o=Rt;Rt=1;var l=Tt;Tt|=4,ow.current=null,tF(e,s),M_(s,e),TL(jy),Lm=!!wy,jy=wy=null,e.current=s,nF(s),RM(),Tt=l,Rt=o,hr.transition=i}else e.current=s;if(Nf&&(Nf=!1,$i=e,Jm=a),i=e.pendingLanes,i===0&&(Hi=null),IM(s.stateNode),Ds(e,wn()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(Xm)throw Xm=!1,e=By,By=null,e;return Jm&1&&e.tag!==0&&Rc(),i=e.pendingLanes,i&1?e===zy?Ad++:(Ad=0,zy=e):Ad=0,po(),null}function Rc(){if($i!==null){var e=jE(Jm),t=hr.transition,s=Rt;try{if(hr.transition=null,Rt=16>e?16:e,$i===null)var r=!1;else{if(e=$i,$i=null,Jm=0,Tt&6)throw Error(Te(331));var a=Tt;for(Tt|=4,Ue=e.current;Ue!==null;){var i=Ue,o=i.child;if(Ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ue=u;Ue!==null;){var h=Ue;switch(h.tag){case 0:case 11:case 15:Ed(8,h,i)}var d=h.child;if(d!==null)d.return=h,Ue=d;else for(;Ue!==null;){h=Ue;var f=h.sibling,m=h.return;if(O_(h),h===u){Ue=null;break}if(f!==null){f.return=m,Ue=f;break}Ue=m}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ue=o;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ed(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ue=v;break e}Ue=i.return}}var x=e.current;for(Ue=x;Ue!==null;){o=Ue;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ue=w;else e:for(o=x;Ue!==null;){if(l=Ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qp(9,l)}}catch(N){pn(l,l.return,N)}if(l===o){Ue=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ue=j;break e}Ue=l.return}}if(Tt=a,po(),ha&&typeof ha.onPostCommitFiberRoot=="function")try{ha.onPostCommitFiberRoot(Bp,e)}catch{}r=!0}return r}finally{Rt=s,hr.transition=t}}return!1}function H1(e,t,s){t=au(s,t),t=j_(e,t,1),e=qi(e,t,1),t=ps(),e!==null&&(_h(e,1,t),Ds(e,t))}function pn(e,t,s){if(e.tag===3)H1(e,e,s);else for(;t!==null;){if(t.tag===3){H1(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){e=au(s,e),e=N_(t,e,1),t=qi(t,e,1),e=ps(),t!==null&&(_h(t,1,e),Ds(t,e));break}}t=t.return}}function lF(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=ps(),e.pingedLanes|=e.suspendedLanes&s,zn===e&&(Qn&s)===s&&(Fn===4||Fn===3&&(Qn&130023424)===Qn&&500>wn()-cw?ol(e,0):lw|=s),Ds(e,t)}function z_(e,t){t===0&&(e.mode&1?(t=ff,ff<<=1,!(ff&130023424)&&(ff=4194304)):t=1);var s=ps();e=ti(e,t),e!==null&&(_h(e,t,s),Ds(e,s))}function cF(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),z_(e,s)}function uF(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(t),z_(e,s)}var q_;q_=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||_s.current)Cs=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Cs=!1,ZL(e,t,s);Cs=!!(e.flags&131072)}else Cs=!1,Kt&&t.flags&1048576&&GE(t,qm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cm(e,t),e=t.pendingProps;var a=tu(t,is.current);Dc(t,s),a=nw(null,t,r,e,a,s);var i=sw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(r)?(i=!0,Bm(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Zb(t),a.updater=Yp,t.stateNode=a,a._reactInternals=t,Dy(t,r,e,s),t=Py(null,t,r,!0,i,s)):(t.tag=0,Kt&&i&&qb(t),hs(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(cm(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=hF(r),e=Cr(r,e),a){case 0:t=Oy(null,t,r,e,s);break e;case 1:t=I1(null,t,r,e,s);break e;case 11:t=O1(null,t,r,e,s);break e;case 14:t=P1(null,t,r,Cr(r.type,e),s);break e}throw Error(Te(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Cr(r,a),Oy(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Cr(r,a),I1(e,t,r,a,s);case 3:e:{if(T_(t),e===null)throw Error(Te(387));r=t.pendingProps,i=t.memoizedState,a=i.element,e_(e,t),Km(t,r,null,s);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=au(Error(Te(423)),t),t=M1(e,t,r,s,a);break e}else if(r!==a){a=au(Error(Te(424)),t),t=M1(e,t,r,s,a);break e}else for(Gs=zi(t.stateNode.containerInfo.firstChild),Ys=t,Kt=!0,Ar=null,s=XE(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(nu(),r===a){t=ni(e,t,s);break e}hs(e,t,r,s)}t=t.child}return t;case 5:return t_(t),e===null&&Ey(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Ny(r,a)?o=null:i!==null&&Ny(r,i)&&(t.flags|=32),C_(e,t),hs(e,t,o,s),t.child;case 6:return e===null&&Ey(t),null;case 13:return E_(e,t,s);case 4:return Xb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=su(t,null,r,s):hs(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Cr(r,a),O1(e,t,r,a,s);case 7:return hs(e,t,t.pendingProps,s),t.child;case 8:return hs(e,t,t.pendingProps.children,s),t.child;case 12:return hs(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,$t(Hm,r._currentValue),r._currentValue=o,i!==null)if(Fr(i.value,o)){if(i.children===a.children&&!_s.current){t=ni(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ya(-1,s&-s),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),_y(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Te(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),_y(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}hs(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Dc(t,s),a=gr(a),r=r(a),t.flags|=1,hs(e,t,r,s),t.child;case 14:return r=t.type,a=Cr(r,t.pendingProps),a=Cr(r.type,a),P1(e,t,r,a,s);case 15:return k_(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Cr(r,a),cm(e,t),t.tag=1,As(r)?(e=!0,Bm(t)):e=!1,Dc(t,s),w_(t,r,a),Dy(t,r,a,s),Py(null,t,r,!0,e,s);case 19:return __(e,t,s);case 22:return S_(e,t,s)}throw Error(Te(156,t.tag))};function H_(e,t){return yE(e,t)}function dF(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,s,r){return new dF(e,t,s,r)}function fw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hF(e){if(typeof e=="function")return fw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rb)return 11;if(e===Ob)return 14}return 2}function Ki(e,t){var s=e.alternate;return s===null?(s=ur(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function hm(e,t,s,r,a,i){var o=2;if(r=e,typeof e=="function")fw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lc:return ll(s.children,a,i,t);case Db:o=8,a|=8;break;case ty:return e=ur(12,s,t,a|2),e.elementType=ty,e.lanes=i,e;case ny:return e=ur(13,s,t,a),e.elementType=ny,e.lanes=i,e;case sy:return e=ur(19,s,t,a),e.elementType=sy,e.lanes=i,e;case tE:return Xp(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JT:o=10;break e;case eE:o=9;break e;case Rb:o=11;break e;case Ob:o=14;break e;case ji:o=16,r=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=ur(o,s,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function ll(e,t,s,r){return e=ur(7,e,r,t),e.lanes=s,e}function Xp(e,t,s,r){return e=ur(22,e,r,t),e.elementType=tE,e.lanes=s,e.stateNode={isHidden:!1},e}function Bx(e,t,s){return e=ur(6,e,null,t),e.lanes=s,e}function zx(e,t,s){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fF(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nx(0),this.expirationTimes=Nx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nx(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mw(e,t,s,r,a,i,o,l,c){return e=new fF(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ur(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zb(i),e}function mF(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function W_(e){if(!e)return to;e=e._reactInternals;e:{if(Dl(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var s=e.type;if(As(s))return WE(e,s,t)}return t}function K_(e,t,s,r,a,i,o,l,c){return e=mw(s,r,!0,e,a,i,o,l,c),e.context=W_(null),s=e.current,r=ps(),a=Wi(s),i=Ya(r,a),i.callback=t??null,qi(s,i,a),e.current.lanes=a,_h(e,a,r),Ds(e,r),e}function Jp(e,t,s,r){var a=t.current,i=ps(),o=Wi(a);return s=W_(s),t.context===null?t.context=s:t.pendingContext=s,t=Ya(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qi(a,t,o),e!==null&&(Pr(e,a,o,i),im(e,a,o)),o}function tp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function W1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function pw(e,t){W1(e,t),(e=e.alternate)&&W1(e,t)}function pF(){return null}var G_=typeof reportError=="function"?reportError:function(e){console.error(e)};function gw(e){this._internalRoot=e}eg.prototype.render=gw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));Jp(e,t,null,null)};eg.prototype.unmount=gw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xl(function(){Jp(null,e,null,null)}),t[ei]=null}};function eg(e){this._internalRoot=e}eg.prototype.unstable_scheduleHydration=function(e){if(e){var t=SE();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Si.length&&t!==0&&t<Si[s].priority;s++);Si.splice(s,0,e),s===0&&TE(e)}};function xw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K1(){}function gF(e,t,s,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=tp(o);i.call(u)}}var o=K_(t,r,e,0,null,!1,!1,"",K1);return e._reactRootContainer=o,e[ei]=o.current,Kd(e.nodeType===8?e.parentNode:e),xl(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=tp(c);l.call(u)}}var c=mw(e,0,!1,null,null,!1,!1,"",K1);return e._reactRootContainer=c,e[ei]=c.current,Kd(e.nodeType===8?e.parentNode:e),xl(function(){Jp(t,c,s,r)}),c}function ng(e,t,s,r,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=tp(o);l.call(c)}}Jp(t,o,e,a)}else o=gF(s,t,e,a,r);return tp(o)}NE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=pd(t.pendingLanes);s!==0&&(Mb(t,s|1),Ds(t,wn()),!(Tt&6)&&(iu=wn()+500,po()))}break;case 13:xl(function(){var r=ti(e,1);if(r!==null){var a=ps();Pr(r,e,1,a)}}),pw(e,1)}};Lb=function(e){if(e.tag===13){var t=ti(e,134217728);if(t!==null){var s=ps();Pr(t,e,134217728,s)}pw(e,134217728)}};kE=function(e){if(e.tag===13){var t=Wi(e),s=ti(e,t);if(s!==null){var r=ps();Pr(s,e,t,r)}pw(e,t)}};SE=function(){return Rt};CE=function(e,t){var s=Rt;try{return Rt=e,t()}finally{Rt=s}};fy=function(e,t,s){switch(t){case"input":if(iy(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=Wp(r);if(!a)throw Error(Te(90));sE(r),iy(r,a)}}}break;case"textarea":aE(e,s);break;case"select":t=s.value,t!=null&&Tc(e,!!s.multiple,t,!1)}};hE=uw;fE=xl;var xF={usingClientEntryPoint:!1,Events:[Dh,hc,Wp,uE,dE,uw]},nd={findFiberByHostInstance:Uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yF={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gE(e),e===null?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||pF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{Bp=kf.inject(yF),ha=kf}catch{}}Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xF;Js.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xw(t))throw Error(Te(200));return mF(e,t,null,s)};Js.createRoot=function(e,t){if(!xw(e))throw Error(Te(299));var s=!1,r="",a=G_;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mw(e,1,!1,null,null,s,!1,r,a),e[ei]=t.current,Kd(e.nodeType===8?e.parentNode:e),new gw(t)};Js.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=gE(t),e=e===null?null:e.stateNode,e};Js.flushSync=function(e){return xl(e)};Js.hydrate=function(e,t,s){if(!tg(t))throw Error(Te(200));return ng(null,e,t,!0,s)};Js.hydrateRoot=function(e,t,s){if(!xw(e))throw Error(Te(405));var r=s!=null&&s.hydratedSources||null,a=!1,i="",o=G_;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=K_(t,null,e,1,s??null,a,!1,i,o),e[ei]=t.current,Kd(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new eg(t)};Js.render=function(e,t,s){if(!tg(t))throw Error(Te(200));return ng(null,e,t,!1,s)};Js.unmountComponentAtNode=function(e){if(!tg(e))throw Error(Te(40));return e._reactRootContainer?(xl(function(){ng(null,null,e,!1,function(){e._reactRootContainer=null,e[ei]=null})}),!0):!1};Js.unstable_batchedUpdates=uw;Js.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!tg(s))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return ng(e,t,s,!1,r)};Js.version="18.3.1-next-f1338f8080-20240426";function Y_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y_)}catch(e){console.error(e)}}Y_(),YT.exports=Js;var go=YT.exports;const vF=Nb(go);var G1=go;J0.createRoot=G1.createRoot,J0.hydrateRoot=G1.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Y1="popstate";function bF(e={}){function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return Wy("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:nh(a)}return jF(t,s,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wF(){return Math.random().toString(36).substring(2,10)}function Q1(e,t){return{usr:e.state,key:e.key,idx:t}}function Wy(e,t,s=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bu(t):t,state:s,key:t&&t.key||r||wF()}}function nh({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function bu(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function jF(e,t,s,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function d(){l="POP";let b=h(),v=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:v})}function f(b,v){l="PUSH";let x=Wy(g.location,b,v);u=h()+1;let w=Q1(x,u),j=g.createHref(x);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function m(b,v){l="REPLACE";let x=Wy(g.location,b,v);u=h();let w=Q1(x,u),j=g.createHref(x);o.replaceState(w,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function p(b){return NF(b)}let g={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Y1,d),c=b,()=>{a.removeEventListener(Y1,d),c=null}},createHref(b){return t(a,b)},createURL:p,encodeLocation(b){let v=p(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(b){return o.go(b)}};return g}function NF(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(s,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:nh(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function Q_(e,t,s="/"){return kF(e,t,s,!1)}function kF(e,t,s,r){let a=typeof t=="string"?bu(t):t,i=si(a.pathname||"/",s);if(i==null)return null;let o=Z_(e);SF(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=MF(i);l=PF(o[c],u,r)}return l}function Z_(e,t=[],s=[],r="",a=!1){let i=(o,l,c=a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;Xt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let d=Qa([r,h.relativePath]),f=s.concat(h);o.children&&o.children.length>0&&(Xt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Z_(o.children,t,f,d,c)),!(o.path==null&&!o.index)&&t.push({path:d,score:RF(d,o.index),routesMeta:f})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of X_(o.path))i(o,l,!0,u)}),t}function X_(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=X_(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function SF(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:OF(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var CF=/^:[\w-]+$/,TF=3,EF=2,_F=1,AF=10,DF=-2,Z1=e=>e==="*";function RF(e,t){let s=e.split("/"),r=s.length;return s.some(Z1)&&(r+=DF),t&&(r+=EF),s.filter(a=>!Z1(a)).reduce((a,i)=>a+(CF.test(i)?TF:i===""?_F:AF),r)}function OF(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function PF(e,t,s=!1){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=np({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d&&u&&s&&!r[r.length-1].route.index&&(d=np({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:Qa([i,d.pathname]),pathnameBase:UF(Qa([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Qa([i,d.pathnameBase]))}return o}function np(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=IF(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:d},f)=>{if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[f];return d&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function IF(e,t=!1,s=!0){yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function MF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function si(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function LF(e,t="/"){let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?bu(e):e;return{pathname:s?s.startsWith("/")?s:FF(s,t):t,search:VF(r),hash:BF(a)}}function FF(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function qx(e,t,s,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $F(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function yw(e){let t=$F(e);return t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase)}function vw(e,t,s,r=!1){let a;typeof e=="string"?a=bu(e):(a={...e},Xt(!a.pathname||!a.pathname.includes("?"),qx("?","pathname","search",a)),Xt(!a.pathname||!a.pathname.includes("#"),qx("#","pathname","hash",a)),Xt(!a.search||!a.search.includes("#"),qx("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=s;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;a.pathname=f.join("/")}l=d>=0?t[d]:"/"}let c=LF(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var Qa=e=>e.join("/").replace(/\/\/+/g,"/"),UF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var J_=["POST","PUT","PATCH","DELETE"];new Set(J_);var qF=["GET",...J_];new Set(qF);var wu=y.createContext(null);wu.displayName="DataRouter";var sg=y.createContext(null);sg.displayName="DataRouterState";y.createContext(!1);var e4=y.createContext({isTransitioning:!1});e4.displayName="ViewTransition";var HF=y.createContext(new Map);HF.displayName="Fetchers";var WF=y.createContext(null);WF.displayName="Await";var Wr=y.createContext(null);Wr.displayName="Navigation";var Oh=y.createContext(null);Oh.displayName="Location";var br=y.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var bw=y.createContext(null);bw.displayName="RouteError";function KF(e,{relative:t}={}){Xt(ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=y.useContext(Wr),{hash:a,pathname:i,search:o}=Ph(e,{relative:t}),l=i;return s!=="/"&&(l=i==="/"?s:Qa([s,i])),r.createHref({pathname:l,search:o,hash:a})}function ju(){return y.useContext(Oh)!=null}function Wn(){return Xt(ju(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Oh).location}var t4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n4(e){y.useContext(Wr).static||y.useLayoutEffect(e)}function Qe(){let{isDataRoute:e}=y.useContext(br);return e?l8():GF()}function GF(){Xt(ju(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(wu),{basename:t,navigator:s}=y.useContext(Wr),{matches:r}=y.useContext(br),{pathname:a}=Wn(),i=JSON.stringify(yw(r)),o=y.useRef(!1);return n4(()=>{o.current=!0}),y.useCallback((c,u={})=>{if(yr(o.current,t4),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=vw(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qa([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,i,a,e])}var YF=y.createContext(null);function QF(e){let t=y.useContext(br).outlet;return y.useMemo(()=>t&&y.createElement(YF.Provider,{value:e},t),[t,e])}function wr(){let{matches:e}=y.useContext(br),t=e[e.length-1];return t?t.params:{}}function Ph(e,{relative:t}={}){let{matches:s}=y.useContext(br),{pathname:r}=Wn(),a=JSON.stringify(yw(s));return y.useMemo(()=>vw(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function ZF(e,t){return s4(e,t)}function s4(e,t,s,r,a){var x;Xt(ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(Wr),{matches:o}=y.useContext(br),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",d=l&&l.route;{let w=d&&d.path||"";r4(u,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=Wn(),m;if(t){let w=typeof t=="string"?bu(t):t;Xt(h==="/"||((x=w.pathname)==null?void 0:x.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=f;let p=m.pathname||"/",g=p;if(h!=="/"){let w=h.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=Q_(e,{pathname:g});yr(d||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),yr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=n8(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Qa([h,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:Qa([h,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,s,r,a);return t&&v?y.createElement(Oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function XF(){let e=o8(),t=zF(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),s?y.createElement("pre",{style:a},s):null,o)}var JF=y.createElement(XF,null),e8=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(br.Provider,{value:this.props.routeContext},y.createElement(bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t8({routeContext:e,match:t,children:s}){let r=y.useContext(wu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(br.Provider,{value:e},s)}function n8(e,t=[],s=null,r=null,a=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,o=s==null?void 0:s.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Xt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(s)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:f}=s,m=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,h,d)=>{let f,m=!1,p=null,g=null;s&&(f=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||JF,l&&(c<0&&d===0?(r4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):c===d&&(m=!0,g=h.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,d+1)),v=()=>{let x;return f?x=p:m?x=g:h.route.Component?x=y.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,y.createElement(t8,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:s!=null},children:x})};return s&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?y.createElement(e8,{location:s.location,revalidation:s.revalidation,component:p,error:f,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):v()},null)}function ww(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s8(e){let t=y.useContext(wu);return Xt(t,ww(e)),t}function r8(e){let t=y.useContext(sg);return Xt(t,ww(e)),t}function a8(e){let t=y.useContext(br);return Xt(t,ww(e)),t}function jw(e){let t=a8(e),s=t.matches[t.matches.length-1];return Xt(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function i8(){return jw("useRouteId")}function o8(){var r;let e=y.useContext(bw),t=r8("useRouteError"),s=jw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function l8(){let{router:e}=s8("useNavigate"),t=jw("useNavigate"),s=y.useRef(!1);return n4(()=>{s.current=!0}),y.useCallback(async(a,i={})=>{yr(s.current,t4),s.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var X1={};function r4(e,t,s){!t&&!X1[e]&&(X1[e]=!0,yr(!1,s))}y.memo(c8);function c8({routes:e,future:t,state:s,unstable_onError:r}){return s4(e,void 0,s,r,t)}function Sf({to:e,replace:t,state:s,relative:r}){Xt(ju(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=y.useContext(Wr);yr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=y.useContext(br),{pathname:o}=Wn(),l=Qe(),c=vw(e,yw(i),o,r==="path"),u=JSON.stringify(c);return y.useEffect(()=>{l(JSON.parse(u),{replace:t,state:s,relative:r})},[l,u,r,t,s]),null}function Nw(e){return QF(e.context)}function $e(e){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u8({basename:e="/",children:t=null,location:s,navigationType:r="POP",navigator:a,static:i=!1}){Xt(!ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=y.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof s=="string"&&(s=bu(s));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=s,m=y.useMemo(()=>{let p=si(c,o);return p==null?null:{location:{pathname:p,search:u,hash:h,state:d,key:f},navigationType:r}},[o,c,u,h,d,f,r]);return yr(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(Wr.Provider,{value:l},y.createElement(Oh.Provider,{children:t,value:m}))}function d8({children:e,location:t}){return ZF(Ky(e),t)}function Ky(e,t=[]){let s=[];return y.Children.forEach(e,(r,a)=>{if(!y.isValidElement(r))return;let i=[...t,a];if(r.type===y.Fragment){s.push.apply(s,Ky(r.props.children,i));return}Xt(r.type===$e,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ky(r.props.children,i)),s.push(o)}),s}var fm="get",mm="application/x-www-form-urlencoded";function rg(e){return e!=null&&typeof e.tagName=="string"}function h8(e){return rg(e)&&e.tagName.toLowerCase()==="button"}function f8(e){return rg(e)&&e.tagName.toLowerCase()==="form"}function m8(e){return rg(e)&&e.tagName.toLowerCase()==="input"}function p8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g8(e,t){return e.button===0&&(!t||t==="_self")&&!p8(e)}function Gy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(a=>[s,a]):[[s,r]])},[]))}function x8(e,t){let s=Gy(e);return t&&t.forEach((r,a)=>{s.has(a)||t.getAll(a).forEach(i=>{s.append(a,i)})}),s}var Cf=null;function y8(){if(Cf===null)try{new FormData(document.createElement("form"),0),Cf=!1}catch{Cf=!0}return Cf}var v8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hx(e){return e!=null&&!v8.has(e)?(yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mm}"`),null):e}function b8(e,t){let s,r,a,i,o;if(f8(e)){let l=e.getAttribute("action");r=l?si(l,t):null,s=e.getAttribute("method")||fm,a=Hx(e.getAttribute("enctype"))||mm,i=new FormData(e)}else if(h8(e)||m8(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?si(c,t):null,s=e.getAttribute("formmethod")||l.getAttribute("method")||fm,a=Hx(e.getAttribute("formenctype"))||Hx(l.getAttribute("enctype"))||mm,i=new FormData(l,e),!y8()){let{name:u,type:h,value:d}=e;if(h==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,d)}}else{if(rg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=fm,r=null,a=mm,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:r,method:s.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w8(e,t,s){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${s}`:t&&si(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function j8(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function k8(e,t,s){let r=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await j8(i,s);return o.links?o.links():[]}return[]}));return E8(r.flat(1).filter(N8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function J1(e,t,s,r,a,i){let o=(c,u)=>s[u]?c.route.id!==s[u].route.id:!0,l=(c,u)=>{var h;return s[u].pathname!==c.pathname||((h=s[u].route.path)==null?void 0:h.endsWith("*"))&&s[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var d;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=s[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function S8(e,t,{includeHydrateFallback:s}={}){return C8(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function C8(e){return[...new Set(e)]}function T8(e){let t={},s=Object.keys(e).sort();for(let r of s)t[r]=e[r];return t}function E8(e,t){let s=new Set;return new Set(t),e.reduce((r,a)=>{let i=JSON.stringify(T8(a));return s.has(i)||(s.add(i),r.push({key:i,link:a})),r},[])}function a4(){let e=y.useContext(wu);return kw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _8(){let e=y.useContext(sg);return kw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sw=y.createContext(void 0);Sw.displayName="FrameworkContext";function i4(){let e=y.useContext(Sw);return kw(e,"You must render this element inside a <HydratedRouter> element"),e}function A8(e,t){let s=y.useContext(Sw),[r,a]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=y.useRef(null);y.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let g=v=>{v.forEach(x=>{o(x.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),y.useEffect(()=>{if(r){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[r]);let m=()=>{a(!0)},p=()=>{a(!1),o(!1)};return s?e!=="intent"?[i,f,{}]:[i,f,{onFocus:sd(l,m),onBlur:sd(c,p),onMouseEnter:sd(u,m),onMouseLeave:sd(h,p),onTouchStart:sd(d,m)}]:[!1,f,{}]}function sd(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function D8({page:e,...t}){let{router:s}=a4(),r=y.useMemo(()=>Q_(s.routes,e,s.basename),[s.routes,e,s.basename]);return r?y.createElement(O8,{page:e,matches:r,...t}):null}function R8(e){let{manifest:t,routeModules:s}=i4(),[r,a]=y.useState([]);return y.useEffect(()=>{let i=!1;return k8(e,t,s).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,s]),r}function O8({page:e,matches:t,...s}){let r=Wn(),{manifest:a,routeModules:i}=i4(),{basename:o}=a4(),{loaderData:l,matches:c}=_8(),u=y.useMemo(()=>J1(e,t,c,a,r,"data"),[e,t,c,a,r]),h=y.useMemo(()=>J1(e,t,c,a,r,"assets"),[e,t,c,a,r]),d=y.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(t.forEach(v=>{var w;let x=a.routes[v.route.id];!x||!x.hasLoader||(!u.some(j=>j.route.id===v.route.id)&&v.route.id in l&&((w=i[v.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?g=!0:p.add(v.route.id))}),p.size===0)return[];let b=w8(e,o,"data");return g&&p.size>0&&b.searchParams.set("_routes",t.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[o,l,r,a,u,t,e,i]),f=y.useMemo(()=>S8(h,a),[h,a]),m=R8(h);return y.createElement(y.Fragment,null,d.map(p=>y.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...s})),f.map(p=>y.createElement("link",{key:p,rel:"modulepreload",href:p,...s})),m.map(({key:p,link:g})=>y.createElement("link",{key:p,nonce:s.nonce,...g})))}function P8(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var o4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o4&&(window.__reactRouterVersion="7.9.4")}catch{}function I8({basename:e,children:t,window:s}){let r=y.useRef();r.current==null&&(r.current=bF({window:s,v5Compat:!0}));let a=r.current,[i,o]=y.useState({action:a.action,location:a.location}),l=y.useCallback(c=>{y.startTransition(()=>o(c))},[o]);return y.useLayoutEffect(()=>a.listen(l),[a,l]),y.createElement(u8,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var l4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=y.forwardRef(function({onClick:t,discover:s="render",prefetch:r="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d,...f},m){let{basename:p}=y.useContext(Wr),g=typeof u=="string"&&l4.test(u),b,v=!1;if(typeof u=="string"&&g&&(b=u,o4))try{let E=new URL(window.location.href),T=u.startsWith("//")?new URL(E.protocol+u):new URL(u),_=si(T.pathname,p);T.origin===E.origin&&_!=null?u=_+T.search+T.hash:v=!0}catch{yr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=KF(u,{relative:a}),[w,j,N]=A8(r,f),k=$8(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:d});function S(E){t&&t(E),E.defaultPrevented||k(E)}let C=y.createElement("a",{...f,...N,href:b||x,onClick:v||i?t:S,ref:P8(m,j),target:c,"data-discover":!g&&s==="render"?"true":void 0});return w&&!g?y.createElement(y.Fragment,null,C,y.createElement(D8,{page:x})):C});_e.displayName="Link";var M8=y.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:r="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...u},h){let d=Ph(o,{relative:u.relative}),f=Wn(),m=y.useContext(sg),{navigator:p,basename:g}=y.useContext(Wr),b=m!=null&&q8(d)&&l===!0,v=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,x=f.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&g&&(w=si(w,g)||w);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let N=x===v||!a&&x.startsWith(v)&&x.charAt(j)==="/",k=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:N,isPending:k,isTransitioning:b},C=N?t:void 0,E;typeof r=="function"?E=r(S):E=[r,N?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(S):i;return y.createElement(_e,{...u,"aria-current":C,className:E,ref:h,style:T,to:o,viewTransition:l},typeof c=="function"?c(S):c)});M8.displayName="NavLink";var L8=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:r,replace:a,state:i,method:o=fm,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:d,...f},m)=>{let p=B8(),g=z8(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&l4.test(l),x=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let j=w.nativeEvent.submitter,N=(j==null?void 0:j.getAttribute("formmethod"))||o;p(j||w.currentTarget,{fetcherKey:t,method:N,navigate:s,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:d})};return y.createElement("form",{ref:m,method:b,action:g,onSubmit:r?c:x,...f,"data-discover":!v&&e==="render"?"true":void 0})});L8.displayName="Form";function F8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c4(e){let t=y.useContext(wu);return Xt(t,F8(e)),t}function $8(e,{target:t,replace:s,state:r,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Qe(),c=Wn(),u=Ph(e,{relative:i});return y.useCallback(h=>{if(g8(h,t)){h.preventDefault();let d=s!==void 0?s:nh(c)===nh(u);l(e,{replace:d,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,u,s,r,t,e,a,i,o])}function Cw(e){yr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(Gy(e)),s=y.useRef(!1),r=Wn(),a=y.useMemo(()=>x8(r.search,s.current?null:t.current),[r.search]),i=Qe(),o=y.useCallback((l,c)=>{const u=Gy(typeof l=="function"?l(new URLSearchParams(a)):l);s.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var U8=0,V8=()=>`__${String(++U8)}__`;function B8(){let{router:e}=c4("useSubmit"),{basename:t}=y.useContext(Wr),s=i8();return y.useCallback(async(r,a={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=b8(r,t);if(a.navigate===!1){let h=a.fetcherKey||V8();await e.fetch(h,s,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:s,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,s])}function z8(e,{relative:t}={}){let{basename:s}=y.useContext(Wr),r=y.useContext(br);Xt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Ph(e||".",{relative:t})},o=Wn();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(d=>d).forEach(d=>l.append("index",d));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:Qa([s,i.pathname])),nh(i)}function q8(e,{relative:t}={}){let s=y.useContext(e4);Xt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=c4("useViewTransitionState"),a=Ph(e,{relative:t});if(!s.isTransitioning)return!1;let i=si(s.currentLocation.pathname,r)||s.currentLocation.pathname,o=si(s.nextLocation.pathname,r)||s.nextLocation.pathname;return np(a.pathname,o)!=null||np(a.pathname,i)!=null}var Nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},H8={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_i,jb,CT,W8=(CT=class{constructor(){Ge(this,_i,H8);Ge(this,jb,!1)}setTimeoutProvider(e){Le(this,_i,e)}setTimeout(e,t){return ne(this,_i).setTimeout(e,t)}clearTimeout(e){ne(this,_i).clearTimeout(e)}setInterval(e,t){return ne(this,_i).setInterval(e,t)}clearInterval(e){ne(this,_i).clearInterval(e)}},_i=new WeakMap,jb=new WeakMap,CT),zo=new W8;function K8(e){setTimeout(e,0)}var yl=typeof window>"u"||"Deno"in globalThis;function fs(){}function G8(e,t){return typeof e=="function"?e(t):e}function Yy(e){return typeof e=="number"&&e>=0&&e!==1/0}function u4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gi(e,t){return typeof e=="function"?e(t):e}function ir(e,t){return typeof e=="function"?e(t):e}function e2(e,t){const{type:s="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Tw(o,t.options))return!1}else if(!sh(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function t2(e,t){const{exact:s,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(vl(t.options.mutationKey)!==vl(i))return!1}else if(!sh(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Tw(e,t){return((t==null?void 0:t.queryKeyHashFn)||vl)(e)}function vl(e){return JSON.stringify(e,(t,s)=>Qy(s)?Object.keys(s).sort().reduce((r,a)=>(r[a]=s[a],r),{}):s)}function sh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>sh(e[s],t[s])):!1}var Y8=Object.prototype.hasOwnProperty;function d4(e,t){if(e===t)return e;const s=n2(e)&&n2(t);if(!s&&!(Qy(e)&&Qy(t)))return t;const a=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),o=i.length,l=s?new Array(o):{};let c=0;for(let u=0;u<o;u++){const h=s?u:i[u],d=e[h],f=t[h];if(d===f){l[h]=d,(s?u<a:Y8.call(e,h))&&c++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){l[h]=f;continue}const m=d4(d,f);l[h]=m,m===d&&c++}return a===o&&c===a?e:l}function sp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function n2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qy(e){if(!s2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!s2(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function s2(e){return Object.prototype.toString.call(e)==="[object Object]"}function Q8(e){return new Promise(t=>{zo.setTimeout(t,e)})}function Zy(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?d4(e,t):t}function Z8(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function X8(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var Ew=Symbol();function h4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ew?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function f4(e,t){return typeof e=="function"?e(...t):!!e}var Xo,Ai,Bc,TT,J8=(TT=class extends Nu{constructor(){super();Ge(this,Xo);Ge(this,Ai);Ge(this,Bc);Le(this,Bc,t=>{if(!yl&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){ne(this,Ai)||this.setEventListener(ne(this,Bc))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Ai))==null||t.call(this),Le(this,Ai,void 0))}setEventListener(t){var s;Le(this,Bc,t),(s=ne(this,Ai))==null||s.call(this),Le(this,Ai,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ne(this,Xo)!==t&&(Le(this,Xo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof ne(this,Xo)=="boolean"?ne(this,Xo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Xo=new WeakMap,Ai=new WeakMap,Bc=new WeakMap,TT),_w=new J8;function Xy(){let e,t;const s=new Promise((a,i)=>{e=a,t=i});s.status="pending",s.catch(()=>{});function r(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},s.reject=a=>{r({status:"rejected",reason:a}),t(a)},s}var e$=K8;function t$(){let e=[],t=0,s=l=>{l()},r=l=>{l()},a=e$;const i=l=>{t?e.push(l):a(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Mn=t$(),zc,Di,qc,ET,n$=(ET=class extends Nu{constructor(){super();Ge(this,zc,!0);Ge(this,Di);Ge(this,qc);Le(this,qc,t=>{if(!yl&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,Di)||this.setEventListener(ne(this,qc))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Di))==null||t.call(this),Le(this,Di,void 0))}setEventListener(t){var s;Le(this,qc,t),(s=ne(this,Di))==null||s.call(this),Le(this,Di,t(this.setOnline.bind(this)))}setOnline(t){ne(this,zc)!==t&&(Le(this,zc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ne(this,zc)}},zc=new WeakMap,Di=new WeakMap,qc=new WeakMap,ET),rp=new n$;function s$(e){return Math.min(1e3*2**e,3e4)}function m4(e){return(e??"online")==="online"?rp.isOnline():!0}var Jy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function p4(e){let t=!1,s=0,r;const a=Xy(),i=()=>a.status!=="pending",o=g=>{var b;if(!i()){const v=new Jy(g);f(v),(b=e.onCancel)==null||b.call(e,v)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>_w.isFocused()&&(e.networkMode==="always"||rp.isOnline())&&e.canRun(),h=()=>m4(e.networkMode)&&e.canRun(),d=g=>{i()||(r==null||r(),a.resolve(g))},f=g=>{i()||(r==null||r(),a.reject(g))},m=()=>new Promise(g=>{var b;r=v=>{(i()||u())&&g(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;r=void 0,i()||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(i())return;let g;const b=s===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{var k;if(i())return;const x=e.retry??(yl?0:3),w=e.retryDelay??s$,j=typeof w=="function"?w(s,v):w,N=x===!0||typeof x=="number"&&s<x||typeof x=="function"&&x(s,v);if(t||!N){f(v);return}s++,(k=e.onFail)==null||k.call(e,s,v),Q8(j).then(()=>u()?void 0:m()).then(()=>{t?f(v):p()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?p():m().then(p),a)}}var Jo,_T,g4=(_T=class{constructor(){Ge(this,Jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yy(this.gcTime)&&Le(this,Jo,zo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yl?1/0:5*60*1e3))}clearGcTimeout(){ne(this,Jo)&&(zo.clearTimeout(ne(this,Jo)),Le(this,Jo,void 0))}},Jo=new WeakMap,_T),el,Hc,ar,tl,Vn,Nh,nl,Tr,Ia,AT,r$=(AT=class extends g4{constructor(t){super();Ge(this,Tr);Ge(this,el);Ge(this,Hc);Ge(this,ar);Ge(this,tl);Ge(this,Vn);Ge(this,Nh);Ge(this,nl);Le(this,nl,!1),Le(this,Nh,t.defaultOptions),this.setOptions(t.options),this.observers=[],Le(this,tl,t.client),Le(this,ar,ne(this,tl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Le(this,el,a2(this.options)),this.state=t.state??ne(this,el),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ne(this,Vn))==null?void 0:t.promise}setOptions(t){if(this.options={...ne(this,Nh),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=a2(this.options);s.data!==void 0&&(this.setState(r2(s.data,s.dataUpdatedAt)),Le(this,el,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,ar).remove(this)}setData(t,s){const r=Zy(this.state.data,t,this.options);return dt(this,Tr,Ia).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){dt(this,Tr,Ia).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,a;const s=(r=ne(this,Vn))==null?void 0:r.promise;return(a=ne(this,Vn))==null||a.cancel(t),s?s.then(fs).catch(fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,el))}isActive(){return this.observers.some(t=>ir(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ew||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!u4(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=ne(this,Vn))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=ne(this,Vn))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ne(this,ar).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(ne(this,Vn)&&(ne(this,nl)?ne(this,Vn).cancel({revert:!0}):ne(this,Vn).cancelRetry()),this.scheduleGc()),ne(this,ar).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||dt(this,Tr,Ia).call(this,{type:"invalidate"})}async fetch(t,s){var c,u,h,d,f,m,p,g,b,v,x,w;if(this.state.fetchStatus!=="idle"&&((c=ne(this,Vn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(ne(this,Vn))return ne(this,Vn).continueRetry(),ne(this,Vn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const r=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Le(this,nl,!0),r.signal)})},i=()=>{const j=h4(this.options,s),k=(()=>{const S={client:ne(this,tl),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return Le(this,nl,!1),this.options.persister?this.options.persister(j,k,this):j(k)},l=(()=>{const j={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:ne(this,tl),state:this.state,fetchFn:i};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Le(this,Hc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&dt(this,Tr,Ia).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),Le(this,Vn,p4({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Jy&&j.revert&&this.setState({...ne(this,Hc),fetchStatus:"idle"}),r.abort()},onFail:(j,N)=>{dt(this,Tr,Ia).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{dt(this,Tr,Ia).call(this,{type:"pause"})},onContinue:()=>{dt(this,Tr,Ia).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await ne(this,Vn).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(f=ne(this,ar).config).onSuccess)==null||m.call(f,j,this),(g=(p=ne(this,ar).config).onSettled)==null||g.call(p,j,this.state.error,this),j}catch(j){if(j instanceof Jy){if(j.silent)return ne(this,Vn).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw dt(this,Tr,Ia).call(this,{type:"error",error:j}),(v=(b=ne(this,ar).config).onError)==null||v.call(b,j,this),(w=(x=ne(this,ar).config).onSettled)==null||w.call(x,this.state.data,j,this),j}finally{this.scheduleGc()}}},el=new WeakMap,Hc=new WeakMap,ar=new WeakMap,tl=new WeakMap,Vn=new WeakMap,Nh=new WeakMap,nl=new WeakMap,Tr=new WeakSet,Ia=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...x4(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,...r2(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Le(this,Hc,t.manual?a:void 0),a;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ne(this,ar).notify({query:this,type:"updated",action:t})})},AT);function x4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:m4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function r2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function a2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var ws,bt,kh,cs,sl,Wc,Fa,Ri,Sh,Kc,Gc,rl,al,Oi,Yc,At,xd,ev,tv,nv,sv,rv,av,iv,y4,DT,a$=(DT=class extends Nu{constructor(t,s){super();Ge(this,At);Ge(this,ws);Ge(this,bt);Ge(this,kh);Ge(this,cs);Ge(this,sl);Ge(this,Wc);Ge(this,Fa);Ge(this,Ri);Ge(this,Sh);Ge(this,Kc);Ge(this,Gc);Ge(this,rl);Ge(this,al);Ge(this,Oi);Ge(this,Yc,new Set);this.options=s,Le(this,ws,t),Le(this,Ri,null),Le(this,Fa,Xy()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ne(this,bt).addObserver(this),i2(ne(this,bt),this.options)?dt(this,At,xd).call(this):this.updateResult(),dt(this,At,sv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ov(ne(this,bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ov(ne(this,bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,dt(this,At,rv).call(this),dt(this,At,av).call(this),ne(this,bt).removeObserver(this)}setOptions(t){const s=this.options,r=ne(this,bt);if(this.options=ne(this,ws).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ir(this.options.enabled,ne(this,bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");dt(this,At,iv).call(this),ne(this,bt).setOptions(this.options),s._defaulted&&!sp(this.options,s)&&ne(this,ws).getQueryCache().notify({type:"observerOptionsUpdated",query:ne(this,bt),observer:this});const a=this.hasListeners();a&&o2(ne(this,bt),r,this.options,s)&&dt(this,At,xd).call(this),this.updateResult(),a&&(ne(this,bt)!==r||ir(this.options.enabled,ne(this,bt))!==ir(s.enabled,ne(this,bt))||Gi(this.options.staleTime,ne(this,bt))!==Gi(s.staleTime,ne(this,bt)))&&dt(this,At,ev).call(this);const i=dt(this,At,tv).call(this);a&&(ne(this,bt)!==r||ir(this.options.enabled,ne(this,bt))!==ir(s.enabled,ne(this,bt))||i!==ne(this,Oi))&&dt(this,At,nv).call(this,i)}getOptimisticResult(t){const s=ne(this,ws).getQueryCache().build(ne(this,ws),t),r=this.createResult(s,t);return o$(this,r)&&(Le(this,cs,r),Le(this,Wc,this.options),Le(this,sl,ne(this,bt).state)),r}getCurrentResult(){return ne(this,cs)}trackResult(t,s){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),s==null||s(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ne(this,Fa).status==="pending"&&ne(this,Fa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(t){ne(this,Yc).add(t)}getCurrentQuery(){return ne(this,bt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=ne(this,ws).defaultQueryOptions(t),r=ne(this,ws).getQueryCache().build(ne(this,ws),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return dt(this,At,xd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ne(this,cs)))}createResult(t,s){var E;const r=ne(this,bt),a=this.options,i=ne(this,cs),o=ne(this,sl),l=ne(this,Wc),u=t!==r?t.state:ne(this,kh),{state:h}=t;let d={...h},f=!1,m;if(s._optimisticResults){const T=this.hasListeners(),_=!T&&i2(t,s),A=T&&o2(t,r,s,a);(_||A)&&(d={...d,...x4(h.data,t.options)}),s._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:b}=d;m=d.data;let v=!1;if(s.placeholderData!==void 0&&m===void 0&&b==="pending"){let T;i!=null&&i.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,v=!0):T=typeof s.placeholderData=="function"?s.placeholderData((E=ne(this,Gc))==null?void 0:E.state.data,ne(this,Gc)):s.placeholderData,T!==void 0&&(b="success",m=Zy(i==null?void 0:i.data,T,s),f=!0)}if(s.select&&m!==void 0&&!v)if(i&&m===(o==null?void 0:o.data)&&s.select===ne(this,Sh))m=ne(this,Kc);else try{Le(this,Sh,s.select),m=s.select(m),m=Zy(i==null?void 0:i.data,m,s),Le(this,Kc,m),Le(this,Ri,null)}catch(T){Le(this,Ri,T)}ne(this,Ri)&&(p=ne(this,Ri),m=ne(this,Kc),g=Date.now(),b="error");const x=d.fetchStatus==="fetching",w=b==="pending",j=b==="error",N=w&&x,k=m!==void 0,C={status:b,fetchStatus:d.fetchStatus,isPending:w,isSuccess:b==="success",isError:j,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:j&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&k,isStale:Aw(t,s),refetch:this.refetch,promise:ne(this,Fa),isEnabled:ir(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},_=()=>{const D=Le(this,Fa,C.promise=Xy());T(D)},A=ne(this,Fa);switch(A.status){case"pending":t.queryHash===r.queryHash&&T(A);break;case"fulfilled":(C.status==="error"||C.data!==A.value)&&_();break;case"rejected":(C.status!=="error"||C.error!==A.reason)&&_();break}}return C}updateResult(){const t=ne(this,cs),s=this.createResult(ne(this,bt),this.options);if(Le(this,sl,ne(this,bt).state),Le(this,Wc,this.options),ne(this,sl).data!==void 0&&Le(this,Gc,ne(this,bt)),sp(s,t))return;Le(this,cs,s);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!ne(this,Yc).size)return!0;const o=new Set(i??ne(this,Yc));return this.options.throwOnError&&o.add("error"),Object.keys(ne(this,cs)).some(l=>{const c=l;return ne(this,cs)[c]!==t[c]&&o.has(c)})};dt(this,At,y4).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&dt(this,At,sv).call(this)}},ws=new WeakMap,bt=new WeakMap,kh=new WeakMap,cs=new WeakMap,sl=new WeakMap,Wc=new WeakMap,Fa=new WeakMap,Ri=new WeakMap,Sh=new WeakMap,Kc=new WeakMap,Gc=new WeakMap,rl=new WeakMap,al=new WeakMap,Oi=new WeakMap,Yc=new WeakMap,At=new WeakSet,xd=function(t){dt(this,At,iv).call(this);let s=ne(this,bt).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(fs)),s},ev=function(){dt(this,At,rv).call(this);const t=Gi(this.options.staleTime,ne(this,bt));if(yl||ne(this,cs).isStale||!Yy(t))return;const r=u4(ne(this,cs).dataUpdatedAt,t)+1;Le(this,rl,zo.setTimeout(()=>{ne(this,cs).isStale||this.updateResult()},r))},tv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ne(this,bt)):this.options.refetchInterval)??!1},nv=function(t){dt(this,At,av).call(this),Le(this,Oi,t),!(yl||ir(this.options.enabled,ne(this,bt))===!1||!Yy(ne(this,Oi))||ne(this,Oi)===0)&&Le(this,al,zo.setInterval(()=>{(this.options.refetchIntervalInBackground||_w.isFocused())&&dt(this,At,xd).call(this)},ne(this,Oi)))},sv=function(){dt(this,At,ev).call(this),dt(this,At,nv).call(this,dt(this,At,tv).call(this))},rv=function(){ne(this,rl)&&(zo.clearTimeout(ne(this,rl)),Le(this,rl,void 0))},av=function(){ne(this,al)&&(zo.clearInterval(ne(this,al)),Le(this,al,void 0))},iv=function(){const t=ne(this,ws).getQueryCache().build(ne(this,ws),this.options);if(t===ne(this,bt))return;const s=ne(this,bt);Le(this,bt,t),Le(this,kh,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},y4=function(t){Mn.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(ne(this,cs))}),ne(this,ws).getQueryCache().notify({query:ne(this,bt),type:"observerResultsUpdated"})})},DT);function i$(e,t){return ir(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function i2(e,t){return i$(e,t)||e.state.data!==void 0&&ov(e,t,t.refetchOnMount)}function ov(e,t,s){if(ir(t.enabled,e)!==!1&&Gi(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Aw(e,t)}return!1}function o2(e,t,s,r){return(e!==t||ir(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Aw(e,s)}function Aw(e,t){return ir(t.enabled,e)!==!1&&e.isStaleByTime(Gi(t.staleTime,e))}function o$(e,t){return!sp(e.getCurrentResult(),t)}function l2(e){return{onFetch:(t,s)=>{var h,d,f,m,p;const r=t.options,a=(f=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=h4(t.options,t.fetchOptions),x=async(w,j,N)=>{if(g)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return b(_),_})(),C=await v(S),{maxPages:E}=t.options,T=N?X8:Z8;return{pages:T(w.pages,C,E),pageParams:T(w.pageParams,j,E)}};if(a&&i.length){const w=a==="backward",j=w?l$:c2,N={pages:i,pageParams:o},k=j(r,N);l=await x(N,k,w)}else{const w=e??i.length;do{const j=c===0?o[0]??r.initialPageParam:c2(r,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=u}}}function c2(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function l$(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var Ch,sa,us,il,ra,yi,RT,c$=(RT=class extends g4{constructor(t){super();Ge(this,ra);Ge(this,Ch);Ge(this,sa);Ge(this,us);Ge(this,il);Le(this,Ch,t.client),this.mutationId=t.mutationId,Le(this,us,t.mutationCache),Le(this,sa,[]),this.state=t.state||v4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ne(this,sa).includes(t)||(ne(this,sa).push(t),this.clearGcTimeout(),ne(this,us).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Le(this,sa,ne(this,sa).filter(s=>s!==t)),this.scheduleGc(),ne(this,us).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ne(this,sa).length||(this.state.status==="pending"?this.scheduleGc():ne(this,us).remove(this))}continue(){var t;return((t=ne(this,il))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,h,d,f,m,p,g,b,v,x,w,j,N,k,S,C,E;const s=()=>{dt(this,ra,yi).call(this,{type:"continue"})},r={client:ne(this,Ch),meta:this.options.meta,mutationKey:this.options.mutationKey};Le(this,il,p4({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(T,_)=>{dt(this,ra,yi).call(this,{type:"failed",failureCount:T,error:_})},onPause:()=>{dt(this,ra,yi).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,us).canRun(this)}));const a=this.state.status==="pending",i=!ne(this,il).canStart();try{if(a)s();else{dt(this,ra,yi).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=ne(this,us).config).onMutate)==null?void 0:l.call(o,t,this,r));const _=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));_!==this.state.context&&dt(this,ra,yi).call(this,{type:"pending",context:_,variables:t,isPaused:i})}const T=await ne(this,il).start();return await((d=(h=ne(this,us).config).onSuccess)==null?void 0:d.call(h,T,t,this.state.context,this,r)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,T,t,this.state.context,r)),await((g=(p=ne(this,us).config).onSettled)==null?void 0:g.call(p,T,null,this.state.variables,this.state.context,this,r)),await((v=(b=this.options).onSettled)==null?void 0:v.call(b,T,null,t,this.state.context,r)),dt(this,ra,yi).call(this,{type:"success",data:T}),T}catch(T){try{throw await((w=(x=ne(this,us).config).onError)==null?void 0:w.call(x,T,t,this.state.context,this,r)),await((N=(j=this.options).onError)==null?void 0:N.call(j,T,t,this.state.context,r)),await((S=(k=ne(this,us).config).onSettled)==null?void 0:S.call(k,void 0,T,this.state.variables,this.state.context,this,r)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,T,t,this.state.context,r)),T}finally{dt(this,ra,yi).call(this,{type:"error",error:T})}}finally{ne(this,us).runNext(this)}}},Ch=new WeakMap,sa=new WeakMap,us=new WeakMap,il=new WeakMap,ra=new WeakSet,yi=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Mn.batch(()=>{ne(this,sa).forEach(r=>{r.onMutationUpdate(t)}),ne(this,us).notify({mutation:this,type:"updated",action:t})})},RT);function v4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $a,Er,Th,OT,u$=(OT=class extends Nu{constructor(t={}){super();Ge(this,$a);Ge(this,Er);Ge(this,Th);this.config=t,Le(this,$a,new Set),Le(this,Er,new Map),Le(this,Th,0)}build(t,s,r){const a=new c$({client:t,mutationCache:this,mutationId:++of(this,Th)._,options:t.defaultMutationOptions(s),state:r});return this.add(a),a}add(t){ne(this,$a).add(t);const s=Tf(t);if(typeof s=="string"){const r=ne(this,Er).get(s);r?r.push(t):ne(this,Er).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ne(this,$a).delete(t)){const s=Tf(t);if(typeof s=="string"){const r=ne(this,Er).get(s);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&ne(this,Er).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Tf(t);if(typeof s=="string"){const r=ne(this,Er).get(s),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const s=Tf(t);if(typeof s=="string"){const a=(r=ne(this,Er).get(s))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mn.batch(()=>{ne(this,$a).forEach(t=>{this.notify({type:"removed",mutation:t})}),ne(this,$a).clear(),ne(this,Er).clear()})}getAll(){return Array.from(ne(this,$a))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>t2(s,r))}findAll(t={}){return this.getAll().filter(s=>t2(t,s))}notify(t){Mn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Mn.batch(()=>Promise.all(t.map(s=>s.continue().catch(fs))))}},$a=new WeakMap,Er=new WeakMap,Th=new WeakMap,OT);function Tf(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ua,Pi,js,Va,Xa,pm,lv,PT,d$=(PT=class extends Nu{constructor(s,r){super();Ge(this,Xa);Ge(this,Ua);Ge(this,Pi);Ge(this,js);Ge(this,Va);Le(this,Ua,s),this.setOptions(r),this.bindMethods(),dt(this,Xa,pm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const r=this.options;this.options=ne(this,Ua).defaultMutationOptions(s),sp(this.options,r)||ne(this,Ua).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ne(this,js),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&vl(r.mutationKey)!==vl(this.options.mutationKey)?this.reset():((a=ne(this,js))==null?void 0:a.state.status)==="pending"&&ne(this,js).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=ne(this,js))==null||s.removeObserver(this)}onMutationUpdate(s){dt(this,Xa,pm).call(this),dt(this,Xa,lv).call(this,s)}getCurrentResult(){return ne(this,Pi)}reset(){var s;(s=ne(this,js))==null||s.removeObserver(this),Le(this,js,void 0),dt(this,Xa,pm).call(this),dt(this,Xa,lv).call(this)}mutate(s,r){var a;return Le(this,Va,r),(a=ne(this,js))==null||a.removeObserver(this),Le(this,js,ne(this,Ua).getMutationCache().build(ne(this,Ua),this.options)),ne(this,js).addObserver(this),ne(this,js).execute(s)}},Ua=new WeakMap,Pi=new WeakMap,js=new WeakMap,Va=new WeakMap,Xa=new WeakSet,pm=function(){var r;const s=((r=ne(this,js))==null?void 0:r.state)??v4();Le(this,Pi,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},lv=function(s){Mn.batch(()=>{var r,a,i,o,l,c,u,h;if(ne(this,Va)&&this.hasListeners()){const d=ne(this,Pi).variables,f=ne(this,Pi).context,m={client:ne(this,Ua),meta:this.options.meta,mutationKey:this.options.mutationKey};(s==null?void 0:s.type)==="success"?((a=(r=ne(this,Va)).onSuccess)==null||a.call(r,s.data,d,f,m),(o=(i=ne(this,Va)).onSettled)==null||o.call(i,s.data,null,d,f,m)):(s==null?void 0:s.type)==="error"&&((c=(l=ne(this,Va)).onError)==null||c.call(l,s.error,d,f,m),(h=(u=ne(this,Va)).onSettled)==null||h.call(u,void 0,s.error,d,f,m))}this.listeners.forEach(d=>{d(ne(this,Pi))})})},PT),aa,IT,h$=(IT=class extends Nu{constructor(t={}){super();Ge(this,aa);this.config=t,Le(this,aa,new Map)}build(t,s,r){const a=s.queryKey,i=s.queryHash??Tw(a,s);let o=this.get(i);return o||(o=new r$({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ne(this,aa).has(t.queryHash)||(ne(this,aa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=ne(this,aa).get(t.queryHash);s&&(t.destroy(),s===t&&ne(this,aa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ne(this,aa).get(t)}getAll(){return[...ne(this,aa).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>e2(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>e2(t,r)):s}notify(t){Mn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},aa=new WeakMap,IT),fn,Ii,Mi,Qc,Zc,Li,Xc,Jc,MT,f$=(MT=class{constructor(e={}){Ge(this,fn);Ge(this,Ii);Ge(this,Mi);Ge(this,Qc);Ge(this,Zc);Ge(this,Li);Ge(this,Xc);Ge(this,Jc);Le(this,fn,e.queryCache||new h$),Le(this,Ii,e.mutationCache||new u$),Le(this,Mi,e.defaultOptions||{}),Le(this,Qc,new Map),Le(this,Zc,new Map),Le(this,Li,0)}mount(){of(this,Li)._++,ne(this,Li)===1&&(Le(this,Xc,_w.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,fn).onFocus())})),Le(this,Jc,rp.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,fn).onOnline())})))}unmount(){var e,t;of(this,Li)._--,ne(this,Li)===0&&((e=ne(this,Xc))==null||e.call(this),Le(this,Xc,void 0),(t=ne(this,Jc))==null||t.call(this),Le(this,Jc,void 0))}isFetching(e){return ne(this,fn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ne(this,Ii).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=ne(this,fn).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=ne(this,fn).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Gi(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ne(this,fn).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),a=ne(this,fn).get(r.queryHash),i=a==null?void 0:a.state.data,o=G8(t,i);if(o!==void 0)return ne(this,fn).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return Mn.batch(()=>ne(this,fn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=ne(this,fn).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=ne(this,fn);Mn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=ne(this,fn);return Mn.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=Mn.batch(()=>ne(this,fn).findAll(e).map(a=>a.cancel(s)));return Promise.all(r).then(fs).catch(fs)}invalidateQueries(e,t={}){return Mn.batch(()=>(ne(this,fn).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=Mn.batch(()=>ne(this,fn).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,s);return s.throwOnError||(i=i.catch(fs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(fs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=ne(this,fn).build(this,t);return s.isStaleByTime(Gi(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fs).catch(fs)}fetchInfiniteQuery(e){return e.behavior=l2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fs).catch(fs)}ensureInfiniteQueryData(e){return e.behavior=l2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rp.isOnline()?ne(this,Ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,fn)}getMutationCache(){return ne(this,Ii)}getDefaultOptions(){return ne(this,Mi)}setDefaultOptions(e){Le(this,Mi,e)}setQueryDefaults(e,t){ne(this,Qc).set(vl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ne(this,Qc).values()],s={};return t.forEach(r=>{sh(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){ne(this,Zc).set(vl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ne(this,Zc).values()],s={};return t.forEach(r=>{sh(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ne(this,Mi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Tw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ew&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ne(this,Mi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ne(this,fn).clear(),ne(this,Ii).clear()}},fn=new WeakMap,Ii=new WeakMap,Mi=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,Li=new WeakMap,Xc=new WeakMap,Jc=new WeakMap,MT),b4=y.createContext(void 0),Dw=e=>{const t=y.useContext(b4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},m$=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(b4.Provider,{value:e,children:t})),w4=y.createContext(!1),p$=()=>y.useContext(w4);w4.Provider;function g$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var x$=y.createContext(g$()),y$=()=>y.useContext(x$),v$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},b$=e=>{y.useEffect(()=>{e.clearReset()},[e])},w$=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||f4(s,[e.error,r])),j$=e=>{if(e.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>s(r(...a)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},N$=(e,t)=>e.isLoading&&e.isFetching&&!t,k$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,u2=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function S$(e,t,s){var d,f,m,p,g;const r=p$(),a=y$(),i=Dw(),o=i.defaultQueryOptions(e);(f=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",j$(o),v$(o,a),b$(a);const l=!i.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),h=!r&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(b=>{const v=h?c.subscribe(Mn.batchCalls(b)):fs;return c.updateResult(),v},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o)},[o,c]),k$(o,u))throw u2(o,c,a);if(w$({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((p=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,u),o.experimental_prefetchInRender&&!yl&&N$(u,r)){const b=l?u2(o,c,a):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;b==null||b.catch(fs).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ag(e,t){return S$(e,a$)}function d2(e,t){const s=Dw(),[r]=y.useState(()=>new d$(s,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const a=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(Mn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=y.useCallback((o,l)=>{r.mutate(o,l).catch(fs)},[r]);if(a.error&&f4(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function j4(){const{pathname:e}=Wn();return y.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const se={HOME:"/",LANGUAGES:"/languages",LANGUAGE_COURSES:"/languages/:language",TUTORS:"/tutors",TUTOR_DETAIL:"/tutors/:id",COURSES:"/courses",COURSE_DETAIL:"/courses/:id",LESSON_DETAIL:"/lesson/:id",PRACTICE_TEST:"/practice-test",BECOME_TUTOR:"/become-tutor",POLICY:"/policy",SIGN_IN:"/signin",SIGN_UP:"/signup",FORGOT_PASSWORD:"/auth/forgot-password",VERIFY_EMAIL_FORGOT_PASSWORD:"/auth/verify-email-forgot-password",RESET_PASSWORD:"/auth/reset-password",COMPLETE_FORGOT_PASSWORD:"/auth/complete-forgot-password",VERIFY_EMAIL:"/auth/verify-email",GOOGLE_CALLBACK:"/auth/google-callback",PROFILE:"/profile",CHANGE_PASSWORD:"/change-password",PAYMENT_HISTORY:"/payment-history",MY_ENROLLMENTS:"/my-enrollments",MY_BOOKINGS:"/my-bookings",WISHLIST:"/wishlist",NOTIFICATIONS:"/notifications",MESSAGES:"/messages",MESSAGES_CONVERSATION:"/messages/:conversationId",BOOK_TUTOR:"/book-tutor/:tutorId",APPLY_TUTOR:"/learner/apply-tutor",REFUND_REQUESTS:"/learner/refunds",TUTOR_DASHBOARD:"/dashboard",TUTOR_STUDENTS:"/students",TUTOR_SCHEDULE:"/schedule",TUTOR_BOOKED_SLOTS:"/booked-slots",TUTOR_PACKAGES:"/packages",TUTOR_MESSAGES:"/messages",TUTOR_COURSES:"/tutor/courses",TUTOR_COURSE_DETAILS:"/tutor/courses/:courseId/details",TUTOR_COURSE_CONTENT:"/tutor/courses/:courseId/content",TUTOR_COURSE_DRAFT_CONTENT:"/tutor/courses/:courseId/draft/:draftId/content",CREATE_COURSE:"/create-course",CREATE_COURSES:"/create-courses",PAYMENTS:"/payments",WITHDRAWAL:"/withdrawal",WITHDRAWAL_HISTORY:"/withdrawal-history",ADMIN:"/admin",ADMIN_DASHBOARD:"/admin/dashboard",ADMIN_USER_MANAGEMENT:"/admin/user-management",ADMIN_COURSES:"/admin/courses",ADMIN_COURSE_DETAIL:"/admin/courses/:courseId",ADMIN_COURSE_APPROVAL:"/admin/course-approval",ADMIN_COURSE_APPROVAL_DETAIL:"/admin/course-approval/:courseId",ADMIN_COURSE_APPROVAL_DRAFTS:"/admin/course-approval/drafts",ADMIN_COURSE_APPROVAL_DRAFT_DETAIL:"/admin/course-approval/drafts/:draftId",ADMIN_TUTOR_APPROVAL:"/admin/tutor-approval",ADMIN_TUTOR_APPROVAL_DETAIL:"/admin/tutor-approval/:id",ADMIN_PAYMENTS:"/admin/payments",ADMIN_WITHDRAW_REQUESTS:"/admin/withdraw-requests",ADMIN_COMMISSION_SETTINGS:"/admin/commission-settings",ADMIN_REFUND_MANAGEMENT:"/admin/refund-management",ADMIN_CATEGORY_MANAGEMENT:"/admin/categories",ADMIN_LANGUAGE_MANAGEMENT:"/admin/languages"},Us=(e,t)=>{let s=e;return Object.entries(t).forEach(([r,a])=>{s=s.replace(`:${r}`,String(a))}),s},Ih={tutorDetail:e=>Us(se.TUTOR_DETAIL,{id:e}),courseDetail:e=>Us(se.COURSE_DETAIL,{id:e}),lessonDetail:e=>Us(se.LESSON_DETAIL,{id:e}),languageCourses:e=>Us(se.LANGUAGE_COURSES,{language:e}),messagesConversation:e=>Us(se.MESSAGES_CONVERSATION,{conversationId:e}),bookTutor:e=>Us(se.BOOK_TUTOR,{tutorId:e}),tutorCourseDetails:e=>Us(se.TUTOR_COURSE_DETAILS,{courseId:e}),tutorCourseContent:e=>Us(se.TUTOR_COURSE_CONTENT,{courseId:e}),tutorCourseDraftContent:(e,t)=>Us(se.TUTOR_COURSE_DRAFT_CONTENT,{courseId:e,draftId:t}),adminCourseDetail:e=>Us(se.ADMIN_COURSE_DETAIL,{courseId:e}),adminCourseApprovalDetail:e=>Us(se.ADMIN_COURSE_APPROVAL_DETAIL,{courseId:e}),adminCourseApprovalDraftDetail:e=>Us(se.ADMIN_COURSE_APPROVAL_DRAFT_DETAIL,{draftId:e}),adminTutorApprovalDetail:e=>Us(se.ADMIN_TUTOR_APPROVAL_DETAIL,{id:e})};function N4(e,t){return function(){return e.apply(t,arguments)}}const{toString:C$}=Object.prototype,{getPrototypeOf:Rw}=Object,{iterator:ig,toStringTag:k4}=Symbol,og=(e=>t=>{const s=C$.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Kr=e=>(e=e.toLowerCase(),t=>og(t)===e),lg=e=>t=>typeof t===e,{isArray:ku}=Array,ou=lg("undefined");function Mh(e){return e!==null&&!ou(e)&&e.constructor!==null&&!ou(e.constructor)&&Rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const S4=Kr("ArrayBuffer");function T$(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&S4(e.buffer),t}const E$=lg("string"),Rs=lg("function"),C4=lg("number"),Lh=e=>e!==null&&typeof e=="object",_$=e=>e===!0||e===!1,gm=e=>{if(og(e)!=="object")return!1;const t=Rw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(k4 in e)&&!(ig in e)},A$=e=>{if(!Lh(e)||Mh(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},D$=Kr("Date"),R$=Kr("File"),O$=Kr("Blob"),P$=Kr("FileList"),I$=e=>Lh(e)&&Rs(e.pipe),M$=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Rs(e.append)&&((t=og(e))==="formdata"||t==="object"&&Rs(e.toString)&&e.toString()==="[object FormData]"))},L$=Kr("URLSearchParams"),[F$,$$,U$,V$]=["ReadableStream","Request","Response","Headers"].map(Kr),B$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fh(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),ku(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Mh(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function T4(e,t){if(Mh(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const qo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E4=e=>!ou(e)&&e!==qo;function cv(){const{caseless:e,skipUndefined:t}=E4(this)&&this||{},s={},r=(a,i)=>{const o=e&&T4(s,i)||i;gm(s[o])&&gm(a)?s[o]=cv(s[o],a):gm(a)?s[o]=cv({},a):ku(a)?s[o]=a.slice():(!t||!ou(a))&&(s[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Fh(arguments[a],r);return s}const z$=(e,t,s,{allOwnKeys:r}={})=>(Fh(t,(a,i)=>{s&&Rs(a)?e[i]=N4(a,s):e[i]=a},{allOwnKeys:r}),e),q$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),H$=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},W$=(e,t,s,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&Rw(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},K$=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},G$=e=>{if(!e)return null;if(ku(e))return e;let t=e.length;if(!C4(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Y$=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Rw(Uint8Array)),Q$=(e,t)=>{const r=(e&&e[ig]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Z$=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},X$=Kr("HTMLFormElement"),J$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),h2=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),eU=Kr("RegExp"),_4=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Fh(s,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},tU=e=>{_4(e,(t,s)=>{if(Rs(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(Rs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},nU=(e,t)=>{const s={},r=a=>{a.forEach(i=>{s[i]=!0})};return ku(e)?r(e):r(String(e).split(t)),s},sU=()=>{},rU=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function aU(e){return!!(e&&Rs(e.append)&&e[k4]==="FormData"&&e[ig])}const iU=e=>{const t=new Array(10),s=(r,a)=>{if(Lh(r)){if(t.indexOf(r)>=0)return;if(Mh(r))return r;if(!("toJSON"in r)){t[a]=r;const i=ku(r)?[]:{};return Fh(r,(o,l)=>{const c=s(o,a+1);!ou(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return s(e,0)},oU=Kr("AsyncFunction"),lU=e=>e&&(Lh(e)||Rs(e))&&Rs(e.then)&&Rs(e.catch),A4=((e,t)=>e?setImmediate:t?((s,r)=>(qo.addEventListener("message",({source:a,data:i})=>{a===qo&&i===s&&r.length&&r.shift()()},!1),a=>{r.push(a),qo.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Rs(qo.postMessage)),cU=typeof queueMicrotask<"u"?queueMicrotask.bind(qo):typeof process<"u"&&process.nextTick||A4,uU=e=>e!=null&&Rs(e[ig]),he={isArray:ku,isArrayBuffer:S4,isBuffer:Mh,isFormData:M$,isArrayBufferView:T$,isString:E$,isNumber:C4,isBoolean:_$,isObject:Lh,isPlainObject:gm,isEmptyObject:A$,isReadableStream:F$,isRequest:$$,isResponse:U$,isHeaders:V$,isUndefined:ou,isDate:D$,isFile:R$,isBlob:O$,isRegExp:eU,isFunction:Rs,isStream:I$,isURLSearchParams:L$,isTypedArray:Y$,isFileList:P$,forEach:Fh,merge:cv,extend:z$,trim:B$,stripBOM:q$,inherits:H$,toFlatObject:W$,kindOf:og,kindOfTest:Kr,endsWith:K$,toArray:G$,forEachEntry:Q$,matchAll:Z$,isHTMLForm:X$,hasOwnProperty:h2,hasOwnProp:h2,reduceDescriptors:_4,freezeMethods:tU,toObjectSet:nU,toCamelCase:J$,noop:sU,toFiniteNumber:rU,findKey:T4,global:qo,isContextDefined:E4,isSpecCompliantForm:aU,toJSONObject:iU,isAsyncFn:oU,isThenable:lU,setImmediate:A4,asap:cU,isIterable:uU};function ot(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}he.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const D4=ot.prototype,R4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{R4[e]={value:e}});Object.defineProperties(ot,R4);Object.defineProperty(D4,"isAxiosError",{value:!0});ot.from=(e,t,s,r,a,i)=>{const o=Object.create(D4);he.toFlatObject(e,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ot.call(o,l,c,s,r,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const dU=null;function uv(e){return he.isPlainObject(e)||he.isArray(e)}function O4(e){return he.endsWith(e,"[]")?e.slice(0,-2):e}function f2(e,t,s){return e?e.concat(t).map(function(a,i){return a=O4(a),!s&&i?"["+a+"]":a}).join(s?".":""):t}function hU(e){return he.isArray(e)&&!e.some(uv)}const fU=he.toFlatObject(he,{},null,function(t){return/^is[A-Z]/.test(t)});function cg(e,t,s){if(!he.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=he.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!he.isUndefined(b[g])});const r=s.metaTokens,a=s.visitor||h,i=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(t);if(!he.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(he.isDate(p))return p.toISOString();if(he.isBoolean(p))return p.toString();if(!c&&he.isBlob(p))throw new ot("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(p)||he.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,g,b){let v=p;if(p&&!b&&typeof p=="object"){if(he.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(he.isArray(p)&&hU(p)||(he.isFileList(p)||he.endsWith(g,"[]"))&&(v=he.toArray(p)))return g=O4(g),v.forEach(function(w,j){!(he.isUndefined(w)||w===null)&&t.append(o===!0?f2([g],j,i):o===null?g:g+"[]",u(w))}),!1}return uv(p)?!0:(t.append(f2(b,g,i),u(p)),!1)}const d=[],f=Object.assign(fU,{defaultVisitor:h,convertValue:u,isVisitable:uv});function m(p,g){if(!he.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(p),he.forEach(p,function(v,x){(!(he.isUndefined(v)||v===null)&&a.call(t,v,he.isString(x)?x.trim():x,g,f))===!0&&m(v,g?g.concat(x):[x])}),d.pop()}}if(!he.isObject(e))throw new TypeError("data must be an object");return m(e),t}function m2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ow(e,t){this._pairs=[],e&&cg(e,this,t)}const P4=Ow.prototype;P4.append=function(t,s){this._pairs.push([t,s])};P4.toString=function(t){const s=t?function(r){return t.call(this,r,m2)}:m2;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function mU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function I4(e,t,s){if(!t)return e;const r=s&&s.encode||mU;he.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(t,s):i=he.isURLSearchParams(t)?t.toString():new Ow(t,s).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class p2{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){he.forEach(this.handlers,function(r){r!==null&&t(r)})}}const M4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pU=typeof URLSearchParams<"u"?URLSearchParams:Ow,gU=typeof FormData<"u"?FormData:null,xU=typeof Blob<"u"?Blob:null,yU={isBrowser:!0,classes:{URLSearchParams:pU,FormData:gU,Blob:xU},protocols:["http","https","file","blob","url","data"]},Pw=typeof window<"u"&&typeof document<"u",dv=typeof navigator=="object"&&navigator||void 0,vU=Pw&&(!dv||["ReactNative","NativeScript","NS"].indexOf(dv.product)<0),bU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wU=Pw&&window.location.href||"http://localhost",jU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pw,hasStandardBrowserEnv:vU,hasStandardBrowserWebWorkerEnv:bU,navigator:dv,origin:wU},Symbol.toStringTag,{value:"Module"})),rs={...jU,...yU};function NU(e,t){return cg(e,new rs.classes.URLSearchParams,{visitor:function(s,r,a,i){return rs.isNode&&he.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function kU(e){return he.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function SU(e){const t={},s=Object.keys(e);let r;const a=s.length;let i;for(r=0;r<a;r++)i=s[r],t[i]=e[i];return t}function L4(e){function t(s,r,a,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=s.length;return o=!o&&he.isArray(a)?a.length:o,c?(he.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!he.isObject(a[o]))&&(a[o]=[]),t(s,r,a[o],i)&&he.isArray(a[o])&&(a[o]=SU(a[o])),!l)}if(he.isFormData(e)&&he.isFunction(e.entries)){const s={};return he.forEachEntry(e,(r,a)=>{t(kU(r),a,s,0)}),s}return null}function CU(e,t,s){if(he.isString(e))try{return(t||JSON.parse)(e),he.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const $h={transitional:M4,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,i=he.isObject(t);if(i&&he.isHTMLForm(t)&&(t=new FormData(t)),he.isFormData(t))return a?JSON.stringify(L4(t)):t;if(he.isArrayBuffer(t)||he.isBuffer(t)||he.isStream(t)||he.isFile(t)||he.isBlob(t)||he.isReadableStream(t))return t;if(he.isArrayBufferView(t))return t.buffer;if(he.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return NU(t,this.formSerializer).toString();if((l=he.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cg(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),CU(t)):t}],transformResponse:[function(t){const s=this.transitional||$h.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(he.isResponse(t)||he.isReadableStream(t))return t;if(t&&he.isString(t)&&(r&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ot.from(l,ot.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rs.classes.FormData,Blob:rs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],e=>{$h.headers[e]={}});const TU=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EU=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!s||t[s]&&TU[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},g2=Symbol("internals");function rd(e){return e&&String(e).trim().toLowerCase()}function xm(e){return e===!1||e==null?e:he.isArray(e)?e.map(xm):String(e)}function _U(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const AU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wx(e,t,s,r,a){if(he.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!he.isString(t)){if(he.isString(r))return t.indexOf(r)!==-1;if(he.isRegExp(r))return r.test(t)}}function DU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function RU(e,t){const s=he.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let Os=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function i(l,c,u){const h=rd(c);if(!h)throw new Error("header name must be a non-empty string");const d=he.findKey(a,h);(!d||a[d]===void 0||u===!0||u===void 0&&a[d]!==!1)&&(a[d||c]=xm(l))}const o=(l,c)=>he.forEach(l,(u,h)=>i(u,h,c));if(he.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(he.isString(t)&&(t=t.trim())&&!AU(t))o(EU(t),s);else if(he.isObject(t)&&he.isIterable(t)){let l={},c,u;for(const h of t){if(!he.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?he.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=rd(t),t){const r=he.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return _U(a);if(he.isFunction(s))return s.call(this,a,r);if(he.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=rd(t),t){const r=he.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||Wx(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function i(o){if(o=rd(o),o){const l=he.findKey(r,o);l&&(!s||Wx(r,r[l],l,s))&&(delete r[l],a=!0)}}return he.isArray(t)?t.forEach(i):i(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const i=s[r];(!t||Wx(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const s=this,r={};return he.forEach(this,(a,i)=>{const o=he.findKey(r,i);if(o){s[o]=xm(a),delete s[i];return}const l=t?DU(i):String(i).trim();l!==i&&delete s[i],s[l]=xm(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return he.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&he.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[g2]=this[g2]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=rd(o);r[l]||(RU(a,o),r[l]=!0)}return he.isArray(t)?t.forEach(i):i(t),this}};Os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(Os.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});he.freezeMethods(Os);function Kx(e,t){const s=this||$h,r=t||s,a=Os.from(r.headers);let i=r.data;return he.forEach(e,function(l){i=l.call(s,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function F4(e){return!!(e&&e.__CANCEL__)}function Su(e,t,s){ot.call(this,e??"canceled",ot.ERR_CANCELED,t,s),this.name="CanceledError"}he.inherits(Su,ot,{__CANCEL__:!0});function $4(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new ot("Request failed with status code "+s.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function OU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function PU(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=r[i];o||(o=u),s[a]=c,r[a]=u;let d=i,f=0;for(;d!==a;)f+=s[d++],d=d%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const m=h&&u-h;return m?Math.round(f*1e3/m):void 0}}function IU(e,t){let s=0,r=1e3/t,a,i;const o=(u,h=Date.now())=>{s=h,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const h=Date.now(),d=h-s;d>=r?o(u,h):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-d)))},()=>a&&o(a)]}const ap=(e,t,s=3)=>{let r=0;const a=PU(50,250);return IU(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=a(c),h=o<=l;r=o;const d={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},s)},x2=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},y2=e=>(...t)=>he.asap(()=>e(...t)),MU=rs.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,rs.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(rs.origin),rs.navigator&&/(msie|trident)/i.test(rs.navigator.userAgent)):()=>!0,LU=rs.hasStandardBrowserEnv?{write(e,t,s,r,a,i){const o=[e+"="+encodeURIComponent(t)];he.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),he.isString(r)&&o.push("path="+r),he.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function FU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $U(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function U4(e,t,s){let r=!FU(t);return e&&(r||s==!1)?$U(e,t):t}const v2=e=>e instanceof Os?{...e}:e;function bl(e,t){t=t||{};const s={};function r(u,h,d,f){return he.isPlainObject(u)&&he.isPlainObject(h)?he.merge.call({caseless:f},u,h):he.isPlainObject(h)?he.merge({},h):he.isArray(h)?h.slice():h}function a(u,h,d,f){if(he.isUndefined(h)){if(!he.isUndefined(u))return r(void 0,u,d,f)}else return r(u,h,d,f)}function i(u,h){if(!he.isUndefined(h))return r(void 0,h)}function o(u,h){if(he.isUndefined(h)){if(!he.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function l(u,h,d){if(d in t)return r(u,h);if(d in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,d)=>a(v2(u),v2(h),d,!0)};return he.forEach(Object.keys({...e,...t}),function(h){const d=c[h]||a,f=d(e[h],t[h],h);he.isUndefined(f)&&d!==l||(s[h]=f)}),s}const V4=e=>{const t=bl({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Os.from(o),t.url=I4(U4(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),he.isFormData(s)){if(rs.hasStandardBrowserEnv||rs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(he.isFunction(s.getHeaders)){const c=s.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([h,d])=>{u.includes(h.toLowerCase())&&o.set(h,d)})}}if(rs.hasStandardBrowserEnv&&(r&&he.isFunction(r)&&(r=r(t)),r||r!==!1&&MU(t.url))){const c=a&&i&&LU.read(i);c&&o.set(a,c)}return t},UU=typeof XMLHttpRequest<"u",VU=UU&&function(e){return new Promise(function(s,r){const a=V4(e);let i=a.data;const o=Os.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,h,d,f,m,p;function g(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function v(){if(!b)return;const w=Os.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:e,request:b};$4(function(S){s(S),g()},function(S){r(S),g()},N),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(r(new ot("Request aborted",ot.ECONNABORTED,e,b)),b=null)},b.onerror=function(j){const N=j&&j.message?j.message:"Network Error",k=new ot(N,ot.ERR_NETWORK,e,b);k.event=j||null,r(k),b=null},b.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||M4;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),r(new ot(j,N.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&he.forEach(o.toJSON(),function(j,N){b.setRequestHeader(N,j)}),he.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([f,p]=ap(u,!0),b.addEventListener("progress",f)),c&&b.upload&&([d,m]=ap(c),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(h=w=>{b&&(r(!w||w.type?new Su(null,e,b):w),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const x=OU(a.url);if(x&&rs.protocols.indexOf(x)===-1){r(new ot("Unsupported protocol "+x+":",ot.ERR_BAD_REQUEST,e));return}b.send(i||null)})},BU=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const i=function(u){if(!a){a=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof ot?h:new Su(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new ot(`timeout ${t} of ms exceeded`,ot.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>he.asap(l),c}},zU=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},qU=async function*(e,t){for await(const s of HU(e))yield*zU(s,t)},HU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},b2=(e,t,s,r)=>{const a=qU(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await a.next();if(u){l(),c.close();return}let d=h.byteLength;if(s){let f=i+=d;s(f)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},w2=64*1024,{isFunction:Ef}=he,WU=(({Request:e,Response:t})=>({Request:e,Response:t}))(he.global),{ReadableStream:j2,TextEncoder:N2}=he.global,k2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},KU=e=>{e=he.merge.call({skipUndefined:!0},WU,e);const{fetch:t,Request:s,Response:r}=e,a=t?Ef(t):typeof fetch=="function",i=Ef(s),o=Ef(r);if(!a)return!1;const l=a&&Ef(j2),c=a&&(typeof N2=="function"?(p=>g=>p.encode(g))(new N2):async p=>new Uint8Array(await new s(p).arrayBuffer())),u=i&&l&&k2(()=>{let p=!1;const g=new s(rs.origin,{body:new j2,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),h=o&&l&&k2(()=>he.isReadableStream(new r("").body)),d={stream:h&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(g,b)=>{let v=g&&g[p];if(v)return v.call(g);throw new ot(`Response type '${p}' is not supported`,ot.ERR_NOT_SUPPORT,b)})});const f=async p=>{if(p==null)return 0;if(he.isBlob(p))return p.size;if(he.isSpecCompliantForm(p))return(await new s(rs.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(he.isArrayBufferView(p)||he.isArrayBuffer(p))return p.byteLength;if(he.isURLSearchParams(p)&&(p=p+""),he.isString(p))return(await c(p)).byteLength},m=async(p,g)=>{const b=he.toFiniteNumber(p.getContentLength());return b??f(g)};return async p=>{let{url:g,method:b,data:v,signal:x,cancelToken:w,timeout:j,onDownloadProgress:N,onUploadProgress:k,responseType:S,headers:C,withCredentials:E="same-origin",fetchOptions:T}=V4(p),_=t||fetch;S=S?(S+"").toLowerCase():"text";let A=BU([x,w&&w.toAbortSignal()],j),D=null;const R=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let U;try{if(k&&u&&b!=="get"&&b!=="head"&&(U=await m(C,v))!==0){let O=new s(g,{method:"POST",body:v,duplex:"half"}),q;if(he.isFormData(v)&&(q=O.headers.get("content-type"))&&C.setContentType(q),O.body){const[B,z]=x2(U,ap(y2(k)));v=b2(O.body,w2,B,z)}}he.isString(E)||(E=E?"include":"omit");const I=i&&"credentials"in s.prototype,L={...T,signal:A,method:b.toUpperCase(),headers:C.normalize().toJSON(),body:v,duplex:"half",credentials:I?E:void 0};D=i&&new s(g,L);let M=await(i?_(D,T):_(g,L));const $=h&&(S==="stream"||S==="response");if(h&&(N||$&&R)){const O={};["status","statusText","headers"].forEach(W=>{O[W]=M[W]});const q=he.toFiniteNumber(M.headers.get("content-length")),[B,z]=N&&x2(q,ap(y2(N),!0))||[];M=new r(b2(M.body,w2,B,()=>{z&&z(),R&&R()}),O)}S=S||"text";let F=await d[he.findKey(d,S)||"text"](M,p);return!$&&R&&R(),await new Promise((O,q)=>{$4(O,q,{data:F,headers:Os.from(M.headers),status:M.status,statusText:M.statusText,config:p,request:D})})}catch(I){throw R&&R(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,p,D),{cause:I.cause||I}):ot.from(I,I&&I.code,p,D)}}},GU=new Map,B4=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:a}=t,i=[r,a,s];let o=i.length,l=o,c,u,h=GU;for(;l--;)c=i[l],u=h.get(c),u===void 0&&h.set(c,u=l?new Map:KU(t)),h=u;return u};B4();const hv={http:dU,xhr:VU,fetch:{get:B4}};he.forEach(hv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const S2=e=>`- ${e}`,YU=e=>he.isFunction(e)||e===null||e===!1,z4={getAdapter:(e,t)=>{e=he.isArray(e)?e:[e];const{length:s}=e;let r,a;const i={};for(let o=0;o<s;o++){r=e[o];let l;if(a=r,!YU(r)&&(a=hv[(l=String(r)).toLowerCase()],a===void 0))throw new ot(`Unknown adapter '${l}'`);if(a&&(he.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map(S2).join(`
`):" "+S2(o[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:hv};function Gx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Su(null,e)}function C2(e){return Gx(e),e.headers=Os.from(e.headers),e.data=Kx.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),z4.getAdapter(e.adapter||$h.adapter,e)(e).then(function(r){return Gx(e),r.data=Kx.call(e,e.transformResponse,r),r.headers=Os.from(r.headers),r},function(r){return F4(r)||(Gx(e),r&&r.response&&(r.response.data=Kx.call(e,e.transformResponse,r.response),r.response.headers=Os.from(r.response.headers))),Promise.reject(r)})}const q4="1.12.2",ug={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ug[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const T2={};ug.transitional=function(t,s,r){function a(i,o){return"[Axios v"+q4+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new ot(a(o," has been removed"+(s?" in "+s:"")),ot.ERR_DEPRECATED);return s&&!T2[o]&&(T2[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,l):!0}};ug.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function QU(e,t,s){if(typeof e!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ot("option "+i+" must be "+c,ot.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ot("Unknown option "+i,ot.ERR_BAD_OPTION)}}const ym={assertOptions:QU,validators:ug},Jr=ym.validators;let cl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new p2,response:new p2}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=bl(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:i}=s;r!==void 0&&ym.assertOptions(r,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),a!=null&&(he.isFunction(a)?s.paramsSerializer={serialize:a}:ym.assertOptions(a,{encode:Jr.function,serialize:Jr.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ym.assertOptions(s,{baseUrl:Jr.spelling("baseURL"),withXsrfToken:Jr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&he.merge(i.common,i[s.method]);i&&he.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),s.headers=Os.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let h,d=0,f;if(!c){const p=[C2.bind(this),void 0];for(p.unshift(...l),p.push(...u),f=p.length,h=Promise.resolve(s);d<f;)h=h.then(p[d++],p[d++]);return h}f=l.length;let m=s;for(;d<f;){const p=l[d++],g=l[d++];try{m=p(m)}catch(b){g.call(this,b);break}}try{h=C2.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)h=h.then(u[d++],u[d++]);return h}getUri(t){t=bl(this.defaults,t);const s=U4(t.baseURL,t.url,t.allowAbsoluteUrls);return I4(s,t.params,t.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(t){cl.prototype[t]=function(s,r){return this.request(bl(r||{},{method:t,url:s,data:(r||{}).data}))}});he.forEach(["post","put","patch"],function(t){function s(r){return function(i,o,l){return this.request(bl(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}cl.prototype[t]=s(),cl.prototype[t+"Form"]=s(!0)});let ZU=class H4{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Su(i,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new H4(function(a){t=a}),cancel:t}}};function XU(e){return function(s){return e.apply(null,s)}}function JU(e){return he.isObject(e)&&e.isAxiosError===!0}const fv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fv).forEach(([e,t])=>{fv[t]=e});function W4(e){const t=new cl(e),s=N4(cl.prototype.request,t);return he.extend(s,cl.prototype,t,{allOwnKeys:!0}),he.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return W4(bl(e,a))},s}const Jt=W4($h);Jt.Axios=cl;Jt.CanceledError=Su;Jt.CancelToken=ZU;Jt.isCancel=F4;Jt.VERSION=q4;Jt.toFormData=cg;Jt.AxiosError=ot;Jt.Cancel=Jt.CanceledError;Jt.all=function(t){return Promise.all(t)};Jt.spread=XU;Jt.isAxiosError=JU;Jt.mergeConfig=bl;Jt.AxiosHeaders=Os;Jt.formToJSON=e=>L4(he.isHTMLForm(e)?new FormData(e):e);Jt.getAdapter=z4.getAdapter;Jt.HttpStatusCode=fv;Jt.default=Jt;const{Axios:Wye,AxiosError:Iw,CanceledError:Kye,isCancel:Gye,CancelToken:Yye,VERSION:Qye,all:Zye,Cancel:Xye,isAxiosError:Jye,spread:eve,toFormData:tve,AxiosHeaders:nve,HttpStatusCode:sve,formToJSON:rve,getAdapter:ave,mergeConfig:ive}=Jt,ee=Jt.create({baseURL:"https://centralized.henrytech.cloud",withCredentials:!0,headers:{"Content-Type":"application/json"}});ee.interceptors.request.use(e=>{if(e.skipAuth)return e;const t=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");return t&&(e.headers=e.headers??{},e.headers.Authorization=`Bearer ${t}`),e});let Yx=!1,mv=[];const E2=(e,t=null)=>{mv.forEach(s=>{e?s.reject(e):s.resolve(t)}),mv=[]};ee.interceptors.response.use(e=>e,async e=>{var i,o,l,c,u;const t=e.config,s=(i=e.response)==null?void 0:i.status;if(t!=null&&t.skipAuth)return Promise.reject(e);const r=(t==null?void 0:t.url)||"";if(r.includes("/auth/verify")||r.includes("/auth/refresh")||r.includes("/auth/login"))return Promise.reject(e);const a=localStorage.getItem("refresh_token")||sessionStorage.getItem("refresh_token");if((s===401||s===403)&&!a)return Promise.reject(e);if((s===401||s===403)&&!t._retry){if(t._retry=!0,Yx)return new Promise((h,d)=>{mv.push({resolve:f=>{t.headers.Authorization=`Bearer ${f}`,h(ee(t))},reject:d})});Yx=!0;try{const h=await ee.post("/auth/refresh",{refreshToken:a},{skipAuth:!0}),d=(l=(o=h.data)==null?void 0:o.result)==null?void 0:l.accessToken,f=(u=(c=h.data)==null?void 0:c.result)==null?void 0:u.refreshToken;return localStorage.getItem("refresh_token")?(localStorage.setItem("access_token",d),localStorage.setItem("refresh_token",f)):(sessionStorage.setItem("access_token",d),sessionStorage.setItem("refresh_token",f)),E2(null,d),t.headers.Authorization=`Bearer ${d}`,ee(t)}catch(h){return E2(h,null),localStorage.clear(),sessionStorage.clear(),Promise.reject(h)}finally{Yx=!1}}return Promise.reject(e)});const K4=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),G4=y.createContext(void 0),e7=({children:e})=>{const[t,s]=y.useState(null),[r,a]=y.useState(!0),i=async()=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){s(null),a(!1);return}try{const c=(await ee.get("/users/myInfo")).data.result;s(c)}catch(l){console.error("Failed to fetch user info:",l),s(null)}finally{a(!1)}};return y.useEffect(()=>{i()},[]),y.useEffect(()=>{const o=l=>{(l.key==="access_token"||l.key===null)&&i()};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[]),n.jsx(G4.Provider,{value:{user:t,loading:r,refreshUser:i,setUser:s},children:e})},Rl=()=>{const e=y.useContext(G4);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},t7=()=>{const{user:e,loading:t,refreshUser:s}=Rl(),r=!!e,a=(e==null?void 0:e.role)==="Admin",i=(e==null?void 0:e.role)==="Tutor",o=(e==null?void 0:e.role)==="Learner";return{data:{session:e?{user:e}:null,user:e},user:e,loading:t,isAuthenticated:r,isAdmin:a,isTutor:i,isLearner:o,refreshUser:s}},Y4=({requiredRole:e,redirectTo:t})=>{const{user:s,loading:r,isAuthenticated:a}=t7();return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):a?e&&(s==null?void 0:s.role)!==e?(s==null?void 0:s.role)==="Admin"?n.jsx(Sf,{to:se.ADMIN_DASHBOARD,replace:!0}):(s==null?void 0:s.role)==="Tutor"?n.jsx(Sf,{to:se.TUTOR_DASHBOARD,replace:!0}):n.jsx(Sf,{to:t||se.HOME,replace:!0}):n.jsx(Nw,{}):n.jsx(Sf,{to:t||se.SIGN_IN,replace:!0})},n7=()=>n.jsx(Y4,{requiredRole:"Admin"}),s7=()=>n.jsx(Y4,{requiredRole:"Tutor"}),Mw=()=>{const[e,t]=y.useState(null),[s,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{var i;try{const o=await ee.get("/users/myInfo");t(((i=o.data)==null?void 0:i.result)||null)}catch{t(null)}finally{r(!1)}})()},[]),{user:e,loading:s}},Lw=y.createContext({});function Fw(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const $w=typeof window<"u",Q4=$w?y.useLayoutEffect:y.useEffect,dg=y.createContext(null);function Uw(e,t){e.indexOf(t)===-1&&e.push(t)}function Vw(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ri=(e,t,s)=>s>t?t:s<e?e:s;let Bw=()=>{};const ai={},Z4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function X4(e){return typeof e=="object"&&e!==null}const J4=e=>/^0[^.\s]+$/u.test(e);function zw(e){let t;return()=>(t===void 0&&(t=e()),t)}const fr=e=>e,r7=(e,t)=>s=>t(e(s)),Uh=(...e)=>e.reduce(r7),rh=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class qw{constructor(){this.subscriptions=[]}add(t){return Uw(this.subscriptions,t),()=>Vw(this.subscriptions,t)}notify(t,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ma=e=>e*1e3,dr=e=>e/1e3;function eA(e,t){return t?e*(1e3/t):0}const tA=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,a7=1e-7,i7=12;function o7(e,t,s,r,a){let i,o,l=0;do o=t+(s-t)/2,i=tA(o,r,a)-e,i>0?s=o:t=o;while(Math.abs(i)>a7&&++l<i7);return o}function Vh(e,t,s,r){if(e===t&&s===r)return fr;const a=i=>o7(i,0,1,e,s);return i=>i===0||i===1?i:tA(a(i),t,r)}const nA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sA=e=>t=>1-e(1-t),rA=Vh(.33,1.53,.69,.99),Hw=sA(rA),aA=nA(Hw),iA=e=>(e*=2)<1?.5*Hw(e):.5*(2-Math.pow(2,-10*(e-1))),Ww=e=>1-Math.sin(Math.acos(e)),oA=sA(Ww),lA=nA(Ww),l7=Vh(.42,0,1,1),c7=Vh(0,0,.58,1),cA=Vh(.42,0,.58,1),u7=e=>Array.isArray(e)&&typeof e[0]!="number",uA=e=>Array.isArray(e)&&typeof e[0]=="number",d7={linear:fr,easeIn:l7,easeInOut:cA,easeOut:c7,circIn:Ww,circInOut:lA,circOut:oA,backIn:Hw,backInOut:aA,backOut:rA,anticipate:iA},h7=e=>typeof e=="string",_2=e=>{if(uA(e)){Bw(e.length===4);const[t,s,r,a]=e;return Vh(t,s,r,a)}else if(h7(e))return d7[e];return e},_f=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function f7(e,t){let s=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(u.schedule(h),e()),h(l)}const u={schedule:(h,d=!1,f=!1)=>{const p=f&&a?s:r;return d&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,a){i=!0;return}a=!0,[s,r]=[r,s],s.forEach(c),s.clear(),a=!1,i&&(i=!1,u.process(h))}};return u}const m7=40;function dA(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=_f.reduce((w,j)=>(w[j]=f7(i),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:h,update:d,preRender:f,render:m,postRender:p}=o,g=()=>{const w=ai.useManualTiming?a.timestamp:performance.now();s=!1,ai.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(w-a.timestamp,m7),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),h.process(a),d.process(a),f.process(a),m.process(a),p.process(a),a.isProcessing=!1,s&&t&&(r=!1,e(g))},b=()=>{s=!0,r=!0,a.isProcessing||e(g)};return{schedule:_f.reduce((w,j)=>{const N=o[j];return w[j]=(k,S=!1,C=!1)=>(s||b(),N.schedule(k,S,C)),w},{}),cancel:w=>{for(let j=0;j<_f.length;j++)o[_f[j]].cancel(w)},state:a,steps:o}}const{schedule:Qt,cancel:no,state:Gn,steps:Qx}=dA(typeof requestAnimationFrame<"u"?requestAnimationFrame:fr,!0);let vm;function p7(){vm=void 0}const Ts={now:()=>(vm===void 0&&Ts.set(Gn.isProcessing||ai.useManualTiming?Gn.timestamp:performance.now()),vm),set:e=>{vm=e,queueMicrotask(p7)}},hA=e=>t=>typeof t=="string"&&t.startsWith(e),Kw=hA("--"),g7=hA("var(--"),Gw=e=>g7(e)?x7.test(e.split("/*")[0].trim()):!1,x7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ah={...Cu,transform:e=>ri(0,1,e)},Af={...Cu,default:1},Dd=e=>Math.round(e*1e5)/1e5,Yw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y7(e){return e==null}const v7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qw=(e,t)=>s=>!!(typeof s=="string"&&v7.test(s)&&s.startsWith(e)||t&&!y7(s)&&Object.prototype.hasOwnProperty.call(s,t)),fA=(e,t,s)=>r=>{if(typeof r!="string")return r;const[a,i,o,l]=r.match(Yw);return{[e]:parseFloat(a),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},b7=e=>ri(0,255,e),Zx={...Cu,transform:e=>Math.round(b7(e))},Ho={test:Qw("rgb","red"),parse:fA("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Zx.transform(e)+", "+Zx.transform(t)+", "+Zx.transform(s)+", "+Dd(ah.transform(r))+")"};function w7(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const pv={test:Qw("#"),parse:w7,transform:Ho.transform},Bh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vi=Bh("deg"),pa=Bh("%"),nt=Bh("px"),j7=Bh("vh"),N7=Bh("vw"),A2={...pa,parse:e=>pa.parse(e)/100,transform:e=>pa.transform(e*100)},vc={test:Qw("hsl","hue"),parse:fA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+pa.transform(Dd(t))+", "+pa.transform(Dd(s))+", "+Dd(ah.transform(r))+")"},Sn={test:e=>Ho.test(e)||pv.test(e)||vc.test(e),parse:e=>Ho.test(e)?Ho.parse(e):vc.test(e)?vc.parse(e):pv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ho.transform(e):vc.transform(e),getAnimatableNone:e=>{const t=Sn.parse(e);return t.alpha=0,Sn.transform(t)}},k7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function S7(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Yw))==null?void 0:t.length)||0)+(((s=e.match(k7))==null?void 0:s.length)||0)>0}const mA="number",pA="color",C7="var",T7="var(",D2="${}",E7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ih(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(E7,c=>(Sn.test(c)?(r.color.push(i),a.push(pA),s.push(Sn.parse(c))):c.startsWith(T7)?(r.var.push(i),a.push(C7),s.push(c)):(r.number.push(i),a.push(mA),s.push(parseFloat(c))),++i,D2)).split(D2);return{values:s,split:l,indexes:r,types:a}}function gA(e){return ih(e).values}function xA(e){const{split:t,types:s}=ih(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const l=s[o];l===mA?i+=Dd(a[o]):l===pA?i+=Sn.transform(a[o]):i+=a[o]}return i}}const _7=e=>typeof e=="number"?0:Sn.test(e)?Sn.getAnimatableNone(e):e;function A7(e){const t=gA(e);return xA(e)(t.map(_7))}const so={test:S7,parse:gA,createTransformer:xA,getAnimatableNone:A7};function Xx(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function D7({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let a=0,i=0,o=0;if(!t)a=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=Xx(c,l,e+1/3),i=Xx(c,l,e),o=Xx(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ip(e,t){return s=>s>0?t:e}const an=(e,t,s)=>e+(t-e)*s,Jx=(e,t,s)=>{const r=e*e,a=s*(t*t-r)+r;return a<0?0:Math.sqrt(a)},R7=[pv,Ho,vc],O7=e=>R7.find(t=>t.test(e));function R2(e){const t=O7(e);if(!t)return!1;let s=t.parse(e);return t===vc&&(s=D7(s)),s}const O2=(e,t)=>{const s=R2(e),r=R2(t);if(!s||!r)return ip(e,t);const a={...s};return i=>(a.red=Jx(s.red,r.red,i),a.green=Jx(s.green,r.green,i),a.blue=Jx(s.blue,r.blue,i),a.alpha=an(s.alpha,r.alpha,i),Ho.transform(a))},gv=new Set(["none","hidden"]);function P7(e,t){return gv.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function I7(e,t){return s=>an(e,t,s)}function Zw(e){return typeof e=="number"?I7:typeof e=="string"?Gw(e)?ip:Sn.test(e)?O2:F7:Array.isArray(e)?yA:typeof e=="object"?Sn.test(e)?O2:M7:ip}function yA(e,t){const s=[...e],r=s.length,a=e.map((i,o)=>Zw(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)s[o]=a[o](i);return s}}function M7(e,t){const s={...e,...t},r={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Zw(e[a])(e[a],t[a]));return a=>{for(const i in r)s[i]=r[i](a);return s}}function L7(e,t){const s=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][r[i]],l=e.values[o]??0;s[a]=l,r[i]++}return s}const F7=(e,t)=>{const s=so.createTransformer(t),r=ih(e),a=ih(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?gv.has(e)&&!a.values.length||gv.has(t)&&!r.values.length?P7(e,t):Uh(yA(L7(r,a),a.values),s):ip(e,t)};function vA(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?an(e,t,s):Zw(e)(e,t)}const $7=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Qt.update(t,s),stop:()=>no(t),now:()=>Gn.isProcessing?Gn.timestamp:Ts.now()}},bA=(e,t,s=10)=>{let r="";const a=Math.max(Math.round(t/s),2);for(let i=0;i<a;i++)r+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},op=2e4;function Xw(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<op;)t+=s,r=e.next(t);return t>=op?1/0:t}function U7(e,t=100,s){const r=s({...e,keyframes:[0,t]}),a=Math.min(Xw(r),op);return{type:"keyframes",ease:i=>r.next(a*i).value/t,duration:dr(a)}}const V7=5;function wA(e,t,s){const r=Math.max(t-V7,0);return eA(s-e(r),t-r)}const mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},e0=.001;function B7({duration:e=mn.duration,bounce:t=mn.bounce,velocity:s=mn.velocity,mass:r=mn.mass}){let a,i,o=1-t;o=ri(mn.minDamping,mn.maxDamping,o),e=ri(mn.minDuration,mn.maxDuration,dr(e)),o<1?(a=u=>{const h=u*o,d=h*e,f=h-s,m=xv(u,o),p=Math.exp(-d);return e0-f/m*p},i=u=>{const d=u*o*e,f=d*s+s,m=Math.pow(o,2)*Math.pow(u,2)*e,p=Math.exp(-d),g=xv(Math.pow(u,2),o);return(-a(u)+e0>0?-1:1)*((f-m)*p)/g}):(a=u=>{const h=Math.exp(-u*e),d=(u-s)*e+1;return-e0+h*d},i=u=>{const h=Math.exp(-u*e),d=(s-u)*(e*e);return h*d});const l=5/e,c=q7(a,i,l);if(e=ma(e),isNaN(c))return{stiffness:mn.stiffness,damping:mn.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const z7=12;function q7(e,t,s){let r=s;for(let a=1;a<z7;a++)r=r-e(r)/t(r);return r}function xv(e,t){return e*Math.sqrt(1-t*t)}const H7=["duration","bounce"],W7=["stiffness","damping","mass"];function P2(e,t){return t.some(s=>e[s]!==void 0)}function K7(e){let t={velocity:mn.velocity,stiffness:mn.stiffness,damping:mn.damping,mass:mn.mass,isResolvedFromDuration:!1,...e};if(!P2(e,W7)&&P2(e,H7))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),a=r*r,i=2*ri(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:mn.mass,stiffness:a,damping:i}}else{const s=B7(e);t={...t,...s,mass:mn.mass},t.isResolvedFromDuration=!0}return t}function lp(e=mn.visualDuration,t=mn.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:m}=K7({...s,velocity:-dr(s.velocity||0)}),p=f||0,g=u/(2*Math.sqrt(c*h)),b=o-i,v=dr(Math.sqrt(c/h)),x=Math.abs(b)<5;r||(r=x?mn.restSpeed.granular:mn.restSpeed.default),a||(a=x?mn.restDelta.granular:mn.restDelta.default);let w;if(g<1){const N=xv(v,g);w=k=>{const S=Math.exp(-g*v*k);return o-S*((p+g*v*b)/N*Math.sin(N*k)+b*Math.cos(N*k))}}else if(g===1)w=N=>o-Math.exp(-v*N)*(b+(p+v*b)*N);else{const N=v*Math.sqrt(g*g-1);w=k=>{const S=Math.exp(-g*v*k),C=Math.min(N*k,300);return o-S*((p+g*v*b)*Math.sinh(C)+N*b*Math.cosh(C))/N}}const j={calculatedDuration:m&&d||null,next:N=>{const k=w(N);if(m)l.done=N>=d;else{let S=N===0?p:0;g<1&&(S=N===0?ma(p):wA(w,N,k));const C=Math.abs(S)<=r,E=Math.abs(o-k)<=a;l.done=C&&E}return l.value=l.done?o:k,l},toString:()=>{const N=Math.min(Xw(j),op),k=bA(S=>j.next(N*S).value,N,30);return N+"ms "+k},toTransition:()=>{}};return j}lp.applyToOptions=e=>{const t=U7(e,100,lp);return e.ease=t.ease,e.duration=ma(t.duration),e.type="keyframes",e};function yv({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const d=e[0],f={done:!1,value:d},m=C=>l!==void 0&&C<l||c!==void 0&&C>c,p=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let g=s*t;const b=d+g,v=o===void 0?b:o(b);v!==b&&(g=v-d);const x=C=>-g*Math.exp(-C/r),w=C=>v+x(C),j=C=>{const E=x(C),T=w(C);f.done=Math.abs(E)<=u,f.value=f.done?v:T};let N,k;const S=C=>{m(f.value)&&(N=C,k=lp({keyframes:[f.value,p(f.value)],velocity:wA(w,C,f.value),damping:a,stiffness:i,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:C=>{let E=!1;return!k&&N===void 0&&(E=!0,j(C),S(C)),N!==void 0&&C>=N?k.next(C-N):(!E&&j(C),f)}}}function G7(e,t,s){const r=[],a=s||ai.mix||vA,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||fr:t;l=Uh(c,l)}r.push(l)}return r}function Y7(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const i=e.length;if(Bw(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=G7(t,r,a),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const f=rh(e[d],e[d+1],h);return l[d](f)};return s?h=>u(ri(e[0],e[i-1],h)):u}function Q7(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=rh(0,t,r);e.push(an(s,1,a))}}function Z7(e){const t=[0];return Q7(t,e.length-1),t}function X7(e,t){return e.map(s=>s*t)}function J7(e,t){return e.map(()=>t||cA).splice(0,e.length-1)}function Rd({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=u7(r)?r.map(_2):_2(r),i={done:!1,value:t[0]},o=X7(s&&s.length===t.length?s:Z7(t),e),l=Y7(o,t,{ease:Array.isArray(a)?a:J7(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const e9=e=>e!==null;function Jw(e,{repeat:t,repeatType:s="loop"},r,a=1){const i=e.filter(e9),l=a<0||t&&s!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const t9={decay:yv,inertia:yv,tween:Rd,keyframes:Rd,spring:lp};function jA(e){typeof e.type=="string"&&(e.type=t9[e.type])}class ej{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const n9=e=>e/100;class tj extends ej{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:s}=this.options;s&&s.updatedAt!==Ts.now()&&this.tick(Ts.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jA(t);const{type:s=Rd,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=s||Rd;c!==Rd&&typeof l[0]!="number"&&(this.mixKeyframes=Uh(n9,vA(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Xw(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=u}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:d,repeatType:f,repeatDelay:m,type:p,onUpdate:g,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,j=r;if(d){const C=Math.min(this.currentTime,a)/l;let E=Math.floor(C),T=C%1;!T&&C>=1&&(T=1),T===1&&E--,E=Math.min(E,d+1),!!(E%2)&&(f==="reverse"?(T=1-T,m&&(T-=m/l)):f==="mirror"&&(j=o)),w=ri(0,1,T)*l}const N=x?{done:!1,value:h[0]}:j.next(w);i&&(N.value=i(N.value));let{done:k}=N;!x&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return S&&p!==yv&&(N.value=Jw(h,this.options,b,this.speed)),g&&g(N.value),S&&this.finish(),N}then(t,s){return this.finished.then(t,s)}get duration(){return dr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(this.currentTime)}set time(t){var s;t=ma(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ts.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=dr(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=$7,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ts.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function s9(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Wo=e=>e*180/Math.PI,vv=e=>{const t=Wo(Math.atan2(e[1],e[0]));return bv(t)},r9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vv,rotateZ:vv,skewX:e=>Wo(Math.atan(e[1])),skewY:e=>Wo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},bv=e=>(e=e%360,e<0&&(e+=360),e),I2=vv,M2=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),L2=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),a9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:M2,scaleY:L2,scale:e=>(M2(e)+L2(e))/2,rotateX:e=>bv(Wo(Math.atan2(e[6],e[5]))),rotateY:e=>bv(Wo(Math.atan2(-e[2],e[0]))),rotateZ:I2,rotate:I2,skewX:e=>Wo(Math.atan(e[4])),skewY:e=>Wo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function wv(e){return e.includes("scale")?1:0}function jv(e,t){if(!e||e==="none")return wv(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(s)r=a9,a=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=r9,a=l}if(!a)return wv(t);const i=r[t],o=a[1].split(",").map(o9);return typeof i=="function"?i(o):o[i]}const i9=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return jv(s,t)};function o9(e){return parseFloat(e.trim())}const Tu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eu=new Set(Tu),F2=e=>e===Cu||e===nt,l9=new Set(["x","y","z"]),c9=Tu.filter(e=>!l9.has(e));function u9(e){const t=[];return c9.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const ul={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>jv(t,"x"),y:(e,{transform:t})=>jv(t,"y")};ul.translateX=ul.x;ul.translateY=ul.y;const dl=new Set;let Nv=!1,kv=!1,Sv=!1;function NA(){if(kv){const e=Array.from(dl).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const a=u9(r);a.length&&(s.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=s.get(r);a&&a.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kv=!1,Nv=!1,dl.forEach(e=>e.complete(Sv)),dl.clear()}function kA(){dl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(kv=!0)})}function d9(){Sv=!0,kA(),NA(),Sv=!1}class nj{constructor(t,s,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(dl.add(this),Nv||(Nv=!0,Qt.read(kA),Qt.resolveKeyframes(NA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&s){const l=r.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}s9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),dl.delete(this)}cancel(){this.state==="scheduled"&&(dl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const h9=e=>e.startsWith("--");function f9(e,t,s){h9(t)?e.style.setProperty(t,s):e.style[t]=s}const m9=zw(()=>window.ScrollTimeline!==void 0),p9={};function g9(e,t){const s=zw(e);return()=>p9[t]??s()}const SA=g9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yd=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,$2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yd([0,.65,.55,1]),circOut:yd([.55,0,1,.45]),backIn:yd([.31,.01,.66,-.59]),backOut:yd([.33,1.53,.69,.99])};function CA(e,t){if(e)return typeof e=="function"?SA()?bA(e,t):"ease-out":uA(e)?yd(e):Array.isArray(e)?e.map(s=>CA(s,t)||$2.easeOut):$2[e]}function x9(e,t,s,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const h={[t]:s};c&&(h.offset=c);const d=CA(l,a);Array.isArray(d)&&(h.easing=d);const f={delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(h,f)}function TA(e){return typeof e=="function"&&"applyToOptions"in e}function y9({type:e,...t}){return TA(e)&&SA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class v9 extends ej{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Bw(typeof t.type!="string");const u=y9(t);this.animation=x9(s,r,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=Jw(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):f9(s,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return dr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dr(t)}get time(){return dr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ma(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&m9()?(this.animation.timeline=t,fr):s(this)}}const EA={anticipate:iA,backInOut:aA,circInOut:lA};function b9(e){return e in EA}function w9(e){typeof e.ease=="string"&&b9(e.ease)&&(e.ease=EA[e.ease])}const U2=10;class j9 extends v9{constructor(t){w9(t),jA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new tj({...o,autoplay:!1}),c=ma(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-U2).value,l.sample(c).value,U2),l.stop()}}const V2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(so.test(e)||e==="0")&&!e.startsWith("url("));function N9(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function k9(e,t,s,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=V2(a,t),l=V2(i,t);return!o||!l?!1:N9(e)||(s==="spring"||TA(s))&&r}function Cv(e){e.duration=0,e.type="keyframes"}const S9=new Set(["opacity","clipPath","filter","transform"]),C9=zw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function T9(e){var h;const{motionValue:t,name:s,repeatDelay:r,repeatType:a,damping:i,type:o}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return C9()&&s&&S9.has(s)&&(s!=="transform"||!u)&&!c&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const E9=40;class _9 extends ej{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:h,...d}){var p;super(),this.stop=()=>{var g,b;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Ts.now();const f={autoplay:t,delay:s,type:r,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:h,...d},m=(h==null?void 0:h.KeyframeResolver)||nj;this.keyframeResolver=new m(l,(g,b,v)=>this.onKeyframesResolved(g,b,f,!v),c,u,h),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,s,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:h}=r;this.resolvedAt=Ts.now(),k9(t,i,o,l)||((ai.instantAnimations||!c)&&(h==null||h(Jw(t,r,s))),t[0]=t[t.length-1],Cv(r),r.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>E9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},m=!u&&T9(f)?new j9({...f,element:f.motionValue.owner.current}):new tj(f);m.finished.then(()=>this.notifyFinished()).catch(fr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),d9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const A9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function D9(e){const t=A9.exec(e);if(!t)return[,];const[,s,r,a]=t;return[`--${s??r}`,a]}function _A(e,t,s=1){const[r,a]=D9(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Z4(o)?parseFloat(o):o}return Gw(a)?_A(a,t,s+1):a}function sj(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const AA=new Set(["width","height","top","left","right","bottom",...Tu]),R9={test:e=>e==="auto",parse:e=>e},DA=e=>t=>t.test(e),RA=[Cu,nt,pa,vi,N7,j7,R9],B2=e=>RA.find(DA(e));function O9(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||J4(e):!0}const P9=new Set(["brightness","contrast","saturate","opacity"]);function I9(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Yw)||[];if(!r)return e;const a=s.replace(r,"");let i=P9.has(t)?1:0;return r!==s&&(i*=100),t+"("+i+a+")"}const M9=/\b([a-z-]*)\(.*?\)/gu,Tv={...so,getAnimatableNone:e=>{const t=e.match(M9);return t?t.map(I9).join(" "):e}},z2={...Cu,transform:Math.round},L9={rotate:vi,rotateX:vi,rotateY:vi,rotateZ:vi,scale:Af,scaleX:Af,scaleY:Af,scaleZ:Af,skew:vi,skewX:vi,skewY:vi,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:ah,originX:A2,originY:A2,originZ:nt},rj={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,backgroundPositionX:nt,backgroundPositionY:nt,...L9,zIndex:z2,fillOpacity:ah,strokeOpacity:ah,numOctaves:z2},F9={...rj,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:Tv,WebkitFilter:Tv},OA=e=>F9[e];function PA(e,t){let s=OA(e);return s!==Tv&&(s=so),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const $9=new Set(["auto","none","0"]);function U9(e,t,s){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!$9.has(i)&&ih(i).values.length&&(a=e[r]),r++}if(a&&s)for(const i of t)e[i]=PA(s,a)}class V9 extends nj{constructor(t,s,r,a,i){super(t,s,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Gw(u))){const h=_A(u,s.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!AA.has(r)||t.length!==2)return;const[a,i]=t,o=B2(a),l=B2(i);if(o!==l)if(F2(o)&&F2(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else ul[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||O9(t[a]))&&r.push(a);r.length&&U9(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ul[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(s);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ul[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function B9(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(s==null?void 0:s[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const IA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function MA(e){return X4(e)&&"offsetHeight"in e}const q2=30,z9=e=>!isNaN(parseFloat(e));class q9{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=Ts.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Ts.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=z9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new qw);const r=this.events[t].add(s);return t==="change"?()=>{r(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ts.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>q2)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,q2);return eA(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lu(e,t){return new q9(e,t)}const{schedule:aj}=dA(queueMicrotask,!1),kr={x:!1,y:!1};function LA(){return kr.x||kr.y}function H9(e){return e==="x"||e==="y"?kr[e]?null:(kr[e]=!0,()=>{kr[e]=!1}):kr.x||kr.y?null:(kr.x=kr.y=!0,()=>{kr.x=kr.y=!1})}function FA(e,t){const s=B9(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[s,a,()=>r.abort()]}function H2(e){return!(e.pointerType==="touch"||LA())}function W9(e,t,s={}){const[r,a,i]=FA(e,s),o=l=>{if(!H2(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const h=d=>{H2(d)&&(u(d),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,a)};return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const $A=(e,t)=>t?e===t?!0:$A(e,t.parentElement):!1,ij=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,K9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G9(e){return K9.has(e.tagName)||e.tabIndex!==-1}const bm=new WeakSet;function W2(e){return t=>{t.key==="Enter"&&e(t)}}function t0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Y9=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=W2(()=>{if(bm.has(s))return;t0(s,"down");const a=W2(()=>{t0(s,"up")}),i=()=>t0(s,"cancel");s.addEventListener("keyup",a,t),s.addEventListener("blur",i,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function K2(e){return ij(e)&&!LA()}function Q9(e,t,s={}){const[r,a,i]=FA(e,s),o=l=>{const c=l.currentTarget;if(!K2(l))return;bm.add(c);const u=t(c,l),h=(m,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),bm.has(c)&&bm.delete(c),K2(m)&&typeof u=="function"&&u(m,{success:p})},d=m=>{h(m,c===window||c===document||s.useGlobalTarget||$A(c,m.target))},f=m=>{h(m,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",f,a)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),MA(l)&&(l.addEventListener("focus",u=>Y9(u,a)),!G9(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function UA(e){return X4(e)&&"ownerSVGElement"in e}function Z9(e){return UA(e)&&e.tagName==="svg"}const as=e=>!!(e&&e.getVelocity),X9=[...RA,Sn,so],J9=e=>X9.find(DA(e)),oj=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function G2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eV(...e){return t=>{let s=!1;const r=e.map(a=>{const i=G2(a,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():G2(e[a],null)}}}}function tV(...e){return y.useCallback(eV(...e),e)}class nV extends y.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,a=MA(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sV({children:e,isPresent:t,anchorX:s,root:r}){const a=y.useId(),i=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(oj),c=tV(i,e==null?void 0:e.ref);return y.useInsertionEffect(()=>{const{width:u,height:h,top:d,left:f,right:m}=o.current;if(t||!i.current||!u||!h)return;const p=s==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const b=r??document.head;return b.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{b.contains(g)&&b.removeChild(g)}},[t]),n.jsx(nV,{isPresent:t,childRef:i,sizeRef:o,children:y.cloneElement(e,{ref:c})})}const rV=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=Fw(aV),h=y.useId();let d=!0,f=y.useMemo(()=>(d=!1,{id:h,initial:t,isPresent:s,custom:a,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[s,u,r]);return i&&d&&(f={...f}),y.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[s]),y.useEffect(()=>{!s&&!u.size&&r&&r()},[s]),o==="popLayout"&&(e=n.jsx(sV,{isPresent:s,anchorX:l,root:c,children:e})),n.jsx(dg.Provider,{value:f,children:e})};function aV(){return new Map}function VA(e=!0){const t=y.useContext(dg);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:a}=t,i=y.useId();y.useEffect(()=>{if(e)return a(i)},[e]);const o=y.useCallback(()=>e&&r&&r(i),[i,r,e]);return!s&&r?[!1,o]:[!0]}const Df=e=>e.key||"";function Y2(e){const t=[];return y.Children.forEach(e,s=>{y.isValidElement(s)&&t.push(s)}),t}const iV=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,h]=VA(o),d=y.useMemo(()=>Y2(e),[e]),f=o&&!u?[]:d.map(Df),m=y.useRef(!0),p=y.useRef(d),g=Fw(()=>new Map),[b,v]=y.useState(d),[x,w]=y.useState(d);Q4(()=>{m.current=!1,p.current=d;for(let k=0;k<x.length;k++){const S=Df(x[k]);f.includes(S)?g.delete(S):g.get(S)!==!0&&g.set(S,!1)}},[x,f.length,f.join("-")]);const j=[];if(d!==b){let k=[...d];for(let S=0;S<x.length;S++){const C=x[S],E=Df(C);f.includes(E)||(k.splice(S,0,C),j.push(C))}return i==="wait"&&j.length&&(k=j),w(Y2(k)),v(d),null}const{forceRender:N}=y.useContext(Lw);return n.jsx(n.Fragment,{children:x.map(k=>{const S=Df(k),C=o&&!u?!1:d===x||f.includes(S),E=()=>{if(g.has(S))g.set(S,!0);else return;let T=!0;g.forEach(_=>{_||(T=!1)}),T&&(N==null||N(),w(p.current),o&&(h==null||h()),r&&r())};return n.jsx(rV,{isPresent:C,initial:!m.current||s?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:C?void 0:E,anchorX:l,children:k},S)})})},BA=y.createContext({strict:!1}),Q2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cu={};for(const e in Q2)cu[e]={isEnabled:t=>Q2[e].some(s=>!!t[s])};function oV(e){for(const t in e)cu[t]={...cu[t],...e[t]}}const lV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lV.has(e)}let zA=e=>!cp(e);function cV(e){typeof e=="function"&&(zA=t=>t.startsWith("on")?!cp(t):e(t))}try{cV(require("@emotion/is-prop-valid").default)}catch{}function uV(e,t,s){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(zA(a)||s===!0&&cp(a)||!t&&!cp(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const hg=y.createContext({});function fg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function oh(e){return typeof e=="string"||Array.isArray(e)}const lj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cj=["initial",...lj];function mg(e){return fg(e.animate)||cj.some(t=>oh(e[t]))}function qA(e){return!!(mg(e)||e.variants)}function dV(e,t){if(mg(e)){const{initial:s,animate:r}=e;return{initial:s===!1||oh(s)?s:void 0,animate:oh(r)?r:void 0}}return e.inherit!==!1?t:{}}function hV(e){const{initial:t,animate:s}=dV(e,y.useContext(hg));return y.useMemo(()=>({initial:t,animate:s}),[Z2(t),Z2(s)])}function Z2(e){return Array.isArray(e)?e.join(" "):e}const lh={};function fV(e){for(const t in e)lh[t]=e[t],Kw(t)&&(lh[t].isCSSVariable=!0)}function HA(e,{layout:t,layoutId:s}){return Eu.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!lh[e]||e==="opacity")}const mV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pV=Tu.length;function gV(e,t,s){let r="",a=!0;for(let i=0;i<pV;i++){const o=Tu[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const u=IA(l,rj[o]);if(!c){a=!1;const h=mV[o]||o;r+=`${h}(${u}) `}s&&(t[o]=u)}}return r=r.trim(),s?r=s(t,a?"":r):a&&(r="none"),r}function uj(e,t,s){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Eu.has(c)){o=!0;continue}else if(Kw(c)){a[c]=u;continue}else{const h=IA(u,rj[c]);c.startsWith("origin")?(l=!0,i[c]=h):r[c]=h}}if(t.transform||(o||s?r.transform=gV(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=i;r.transformOrigin=`${c} ${u} ${h}`}}const dj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WA(e,t,s){for(const r in t)!as(t[r])&&!HA(r,s)&&(e[r]=t[r])}function xV({transformTemplate:e},t){return y.useMemo(()=>{const s=dj();return uj(s,t,e),Object.assign({},s.vars,s.style)},[t])}function yV(e,t){const s=e.style||{},r={};return WA(r,s,e),Object.assign(r,xV(e,t)),r}function vV(e,t){const s={},r=yV(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const bV={offset:"stroke-dashoffset",array:"stroke-dasharray"},wV={offset:"strokeDashoffset",array:"strokeDasharray"};function jV(e,t,s=1,r=0,a=!0){e.pathLength=1;const i=a?bV:wV;e[i.offset]=nt.transform(-r);const o=nt.transform(t),l=nt.transform(s);e[i.array]=`${o} ${l}`}function KA(e,{attrX:t,attrY:s,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,h){if(uj(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),s!==void 0&&(d.y=s),r!==void 0&&(d.scale=r),a!==void 0&&jV(d,a,i,o,!1)}const GA=()=>({...dj(),attrs:{}}),YA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function NV(e,t,s,r){const a=y.useMemo(()=>{const i=GA();return KA(i,t,YA(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};WA(i,e.style,e),a.style={...i,...a.style}}return a}const kV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hj(e){return typeof e!="string"||e.includes("-")?!1:!!(kV.indexOf(e)>-1||/[A-Z]/u.test(e))}function SV(e,t,s,{latestValues:r},a,i=!1){const l=(hj(e)?NV:vV)(t,r,a,e),c=uV(t,typeof e=="string",i),u=e!==y.Fragment?{...c,...l,ref:s}:{},{children:h}=t,d=y.useMemo(()=>as(h)?h.get():h,[h]);return y.createElement(e,{...u,children:d})}function X2(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function fj(e,t,s,r){if(typeof t=="function"){const[a,i]=X2(r);t=t(s!==void 0?s:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=X2(r);t=t(s!==void 0?s:e.custom,a,i)}return t}function wm(e){return as(e)?e.get():e}function CV({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,a){return{latestValues:TV(s,r,a,e),renderState:t()}}function TV(e,t,s,r){const a={},i=r(e,{});for(const f in i)a[f]=wm(i[f]);let{initial:o,animate:l}=e;const c=mg(e),u=qA(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=s?s.initial===!1:!1;h=h||o===!1;const d=h?l:o;if(d&&typeof d!="boolean"&&!fg(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const p=fj(e,f[m]);if(p){const{transitionEnd:g,transition:b,...v}=p;for(const x in v){let w=v[x];if(Array.isArray(w)){const j=h?w.length-1:0;w=w[j]}w!==null&&(a[x]=w)}for(const x in g)a[x]=g[x]}}}return a}const QA=e=>(t,s)=>{const r=y.useContext(hg),a=y.useContext(dg),i=()=>CV(e,t,r,a);return s?i():Fw(i)};function mj(e,t,s){var i;const{style:r}=e,a={};for(const o in r)(as(r[o])||t.style&&as(t.style[o])||HA(o,e)||((i=s==null?void 0:s.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const EV=QA({scrapeMotionValuesFromProps:mj,createRenderState:dj});function ZA(e,t,s){const r=mj(e,t,s);for(const a in e)if(as(e[a])||as(t[a])){const i=Tu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}const _V=QA({scrapeMotionValuesFromProps:ZA,createRenderState:GA}),AV=Symbol.for("motionComponentSymbol");function bc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function DV(e,t,s){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):bc(s)&&(s.current=r))},[t])}const pj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RV="framerAppearId",XA="data-"+pj(RV),JA=y.createContext({});function OV(e,t,s,r,a){var g,b;const{visualElement:i}=y.useContext(hg),o=y.useContext(BA),l=y.useContext(dg),c=y.useContext(oj).reducedMotion,u=y.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,d=y.useContext(JA);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&PV(u.current,s,a,d);const f=y.useRef(!1);y.useInsertionEffect(()=>{h&&f.current&&h.update(s,l)});const m=s[XA],p=y.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return Q4(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),p.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),p.current=!1),h.enteringChildren=void 0)}),h}function PV(e,t,s,r){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:e5(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&bc(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:u})}function e5(e){if(e)return e.options.allowProjection!==!1?e.projection:e5(e.parent)}function n0(e,{forwardMotionProps:t=!1}={},s,r){s&&oV(s);const a=hj(e)?_V:EV;function i(l,c){let u;const h={...y.useContext(oj),...l,layoutId:IV(l)},{isStatic:d}=h,f=hV(l),m=a(l,d);if(!d&&$w){MV();const p=LV(h);u=p.MeasureLayout,f.visualElement=OV(e,m,h,r,p.ProjectionNode)}return n.jsxs(hg.Provider,{value:f,children:[u&&f.visualElement?n.jsx(u,{visualElement:f.visualElement,...h}):null,SV(e,l,DV(m,f.visualElement,c),m,d,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=y.forwardRef(i);return o[AV]=e,o}function IV({layoutId:e}){const t=y.useContext(Lw).id;return t&&e!==void 0?t+"-"+e:e}function MV(e,t){y.useContext(BA).strict}function LV(e){const{drag:t,layout:s}=cu;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function FV(e,t){if(typeof Proxy>"u")return n0;const s=new Map,r=(i,o)=>n0(i,o,e,t),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(s.has(o)||s.set(o,n0(o,void 0,e,t)),s.get(o))})}function t5({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function $V({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UV(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function s0(e){return e===void 0||e===1}function Ev({scale:e,scaleX:t,scaleY:s}){return!s0(e)||!s0(t)||!s0(s)}function Do(e){return Ev(e)||n5(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function n5(e){return J2(e.x)||J2(e.y)}function J2(e){return e&&e!=="0%"}function up(e,t,s){const r=e-s,a=t*r;return s+a}function ek(e,t,s,r,a){return a!==void 0&&(e=up(e,a,r)),up(e,s,r)+t}function _v(e,t=0,s=1,r,a){e.min=ek(e.min,t,s,r,a),e.max=ek(e.max,t,s,r,a)}function s5(e,{x:t,y:s}){_v(e.x,t.translate,t.scale,t.originPoint),_v(e.y,s.translate,s.scale,s.originPoint)}const tk=.999999999999,nk=1.0000000000001;function VV(e,t,s,r=!1){const a=s.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=s[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jc(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,s5(e,o)),r&&Do(i.latestValues)&&jc(e,i.latestValues))}t.x<nk&&t.x>tk&&(t.x=1),t.y<nk&&t.y>tk&&(t.y=1)}function wc(e,t){e.min=e.min+t,e.max=e.max+t}function sk(e,t,s,r,a=.5){const i=an(e.min,e.max,a);_v(e,t,s,i,r)}function jc(e,t){sk(e.x,t.x,t.scaleX,t.scale,t.originX),sk(e.y,t.y,t.scaleY,t.scale,t.originY)}function r5(e,t){return t5(UV(e.getBoundingClientRect(),t))}function BV(e,t,s){const r=r5(e,s),{scroll:a}=t;return a&&(wc(r.x,a.offset.x),wc(r.y,a.offset.y)),r}const rk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nc=()=>({x:rk(),y:rk()}),ak=()=>({min:0,max:0}),vn=()=>({x:ak(),y:ak()}),Av={current:null},a5={current:!1};function zV(){if(a5.current=!0,!!$w)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Av.current=e.matches;e.addEventListener("change",t),t()}else Av.current=!1}const qV=new WeakMap;function HV(e,t,s){for(const r in t){const a=t[r],i=s[r];if(as(a))e.addValue(r,a);else if(as(i))e.addValue(r,lu(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,lu(o!==void 0?o:a,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const ik=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WV{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ts.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Qt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=mg(s),this.isVariantNode=qA(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in d){const m=d[f];c[f]!==void 0&&as(m)&&m.set(c[f])}}mount(t){var s;this.current=t,qV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),a5.current||zV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Av.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),no(this.notifyUpdate),no(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Eu.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cu){const s=cu[t];if(!s)continue;const{isEnabled:r,Feature:a}=s;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<ik.length;r++){const a=ik[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=HV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=lu(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Z4(r)||J4(r))?r=parseFloat(r):!J9(r)&&so.test(s)&&(r=PA(t,s)),this.setBaseTarget(t,as(r)?r.get():r)),as(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var i;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=fj(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!as(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new qw),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){aj.render(this.render)}}class i5 extends WV{constructor(){super(...arguments),this.KeyframeResolver=V9}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;as(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function o5(e,{style:t,vars:s},r,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,r);for(o in s)i.setProperty(o,s[o])}function KV(e){return window.getComputedStyle(e)}class GV extends i5{constructor(){super(...arguments),this.type="html",this.renderInstance=o5}readValueFromInstance(t,s){var r;if(Eu.has(s))return(r=this.projection)!=null&&r.isProjecting?wv(s):i9(t,s);{const a=KV(t),i=(Kw(s)?a.getPropertyValue(s):a[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return r5(t,s)}build(t,s,r){uj(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return mj(t,s,r)}}const l5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YV(e,t,s,r){o5(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(l5.has(a)?a:pj(a),t.attrs[a])}class QV extends i5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Eu.has(s)){const r=OA(s);return r&&r.default||0}return s=l5.has(s)?s:pj(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return ZA(t,s,r)}build(t,s,r){KA(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,a){YV(t,s,r,a)}mount(t){this.isSVGTag=YA(t.tagName),super.mount(t)}}const ZV=(e,t)=>hj(e)?new QV(t):new GV(t,{allowProjection:e!==y.Fragment});function Oc(e,t,s){const r=e.getProps();return fj(r,t,s!==void 0?s:r.custom,e)}const Dv=e=>Array.isArray(e);function XV(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,lu(s))}function JV(e){return Dv(e)?e[e.length-1]||0:e}function eB(e,t){const s=Oc(e,t);let{transitionEnd:r={},transition:a={},...i}=s||{};i={...i,...r};for(const o in i){const l=JV(i[o]);XV(e,o,l)}}function tB(e){return!!(as(e)&&e.add)}function Rv(e,t){const s=e.getValue("willChange");if(tB(s))return s.add(t);if(!s&&ai.WillChange){const r=new ai.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function c5(e){return e.props[XA]}const nB=e=>e!==null;function sB(e,{repeat:t,repeatType:s="loop"},r){const a=e.filter(nB),i=t&&s!=="loop"&&t%2===1?0:a.length-1;return a[i]}const rB={type:"spring",stiffness:500,damping:25,restSpeed:10},aB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iB={type:"keyframes",duration:.8},oB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lB=(e,{keyframes:t})=>t.length>2?iB:Eu.has(e)?e.startsWith("scale")?aB(t[1]):rB:oB;function cB({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const gj=(e,t,s,r={},a,i)=>o=>{const l=sj(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ma(c);const h={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};cB(l)||Object.assign(h,lB(e,h)),h.duration&&(h.duration=ma(h.duration)),h.repeatDelay&&(h.repeatDelay=ma(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Cv(h),h.delay===0&&(d=!0)),(ai.instantAnimations||ai.skipAnimations)&&(d=!0,Cv(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,d&&!i&&t.get()!==void 0){const f=sB(h.keyframes,l);if(f!==void 0){Qt.update(()=>{h.onUpdate(f),h.onComplete()});return}}return l.isSync?new tj(h):new _9(h)};function uB({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function u5(e,t,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const d=e.getValue(h,e.latestValues[h]??null),f=l[h];if(f===void 0||u&&uB(u,h))continue;const m={delay:s,...sj(i||{},h)},p=d.get();if(p!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=c5(e);if(v){const x=window.MotionHandoffAnimation(v,h,Qt);x!==null&&(m.startTime=x,g=!0)}}Rv(e,h),d.start(gj(h,d,f,e.shouldReduceMotion&&AA.has(h)?{type:!1}:m,e,g));const b=d.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Qt.update(()=>{o&&eB(e,o)})}),c}function d5(e,t,s,r=0,a=1){const i=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),o=e.size,l=(o-1)*r;return typeof s=="function"?s(i,o):a===1?i*r:l-i*r}function Ov(e,t,s={}){var c;const r=Oc(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const i=r?()=>Promise.all(u5(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=a;return dB(e,t,u,h,d,f,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(s.delay)])}function dB(e,t,s=0,r=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Ov(c,t,{...o,delay:s+(typeof r=="function"?0:r)+d5(e.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function hB(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>Ov(e,i,s));r=Promise.all(a)}else if(typeof t=="string")r=Ov(e,t,s);else{const a=typeof t=="function"?Oc(e,t,s.custom):t;r=Promise.all(u5(e,a,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function h5(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const fB=cj.length;function f5(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?f5(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<fB;s++){const r=cj[s],a=e.props[r];(oh(a)||a===!1)&&(t[r]=a)}return t}const mB=[...lj].reverse(),pB=lj.length;function gB(e){return t=>Promise.all(t.map(({animation:s,options:r})=>hB(e,s,r)))}function xB(e){let t=gB(e),s=ok(),r=!0;const a=c=>(u,h)=>{var f;const d=Oc(e,h,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:p,...g}=d;u={...u,...g,...p}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,h=f5(e.parent)||{},d=[],f=new Set;let m={},p=1/0;for(let b=0;b<pB;b++){const v=mB[b],x=s[v],w=u[v]!==void 0?u[v]:h[v],j=oh(w),N=v===c?x.isActive:null;N===!1&&(p=b);let k=w===h[v]&&w!==u[v]&&j;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...m},!x.isActive&&N===null||!w&&!x.prevProp||fg(w)||typeof w=="boolean")continue;const S=yB(x.prevProp,w);let C=S||v===c&&x.isActive&&!k&&j||b>p&&j,E=!1;const T=Array.isArray(w)?w:[w];let _=T.reduce(a(v),{});N===!1&&(_={});const{prevResolvedValues:A={}}=x,D={...A,..._},R=L=>{C=!0,f.has(L)&&(E=!0,f.delete(L)),x.needsAnimating[L]=!0;const M=e.getValue(L);M&&(M.liveStyle=!1)};for(const L in D){const M=_[L],$=A[L];if(m.hasOwnProperty(L))continue;let F=!1;Dv(M)&&Dv($)?F=!h5(M,$):F=M!==$,F?M!=null?R(L):f.add(L):M!==void 0&&f.has(L)?R(L):x.protectedKeys[L]=!0}x.prevProp=w,x.prevResolvedValues=_,x.isActive&&(m={...m,..._}),r&&e.blockInitialAnimation&&(C=!1);const U=k&&S;C&&(!U||E)&&d.push(...T.map(L=>{const M={type:v};if(typeof L=="string"&&r&&!U&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,F=Oc($,L);if($.enteringChildren&&F){const{delayChildren:O}=F.transition||{};M.delay=d5($.enteringChildren,e,O)}}return{animation:L,options:M}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const v=Oc(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(b.transition=v.transition)}f.forEach(v=>{const x=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),b[v]=x??null}),d.push({animation:b})}let g=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(d):Promise.resolve()}function l(c,u){var d;if(s[c].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),s[c].isActive=u;const h=o(c);for(const f in s)s[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s,reset:()=>{s=ok()}}}function yB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!h5(t,e):!1}function To(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ok(){return{animate:To(!0),whileInView:To(),whileHover:To(),whileTap:To(),whileDrag:To(),whileFocus:To(),exit:To()}}class xo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vB extends xo{constructor(t){super(t),t.animationState||(t.animationState=xB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let bB=0;class wB extends xo{constructor(){super(...arguments),this.id=bB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);s&&!t&&a.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const jB={animation:{Feature:vB},exit:{Feature:wB}};function ch(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function zh(e){return{point:{x:e.pageX,y:e.pageY}}}const NB=e=>t=>ij(t)&&e(t,zh(t));function Od(e,t,s,r){return ch(e,t,NB(s),r)}const m5=1e-4,kB=1-m5,SB=1+m5,p5=.01,CB=0-p5,TB=0+p5;function ms(e){return e.max-e.min}function EB(e,t,s){return Math.abs(e-t)<=s}function lk(e,t,s,r=.5){e.origin=r,e.originPoint=an(t.min,t.max,e.origin),e.scale=ms(s)/ms(t),e.translate=an(s.min,s.max,e.origin)-e.originPoint,(e.scale>=kB&&e.scale<=SB||isNaN(e.scale))&&(e.scale=1),(e.translate>=CB&&e.translate<=TB||isNaN(e.translate))&&(e.translate=0)}function Pd(e,t,s,r){lk(e.x,t.x,s.x,r?r.originX:void 0),lk(e.y,t.y,s.y,r?r.originY:void 0)}function ck(e,t,s){e.min=s.min+t.min,e.max=e.min+ms(t)}function _B(e,t,s){ck(e.x,t.x,s.x),ck(e.y,t.y,s.y)}function uk(e,t,s){e.min=t.min-s.min,e.max=e.min+ms(t)}function Id(e,t,s){uk(e.x,t.x,s.x),uk(e.y,t.y,s.y)}function sr(e){return[e("x"),e("y")]}const g5=({current:e})=>e?e.ownerDocument.defaultView:null,dk=(e,t)=>Math.abs(e-t);function AB(e,t){const s=dk(e.x,t.x),r=dk(e.y,t.y);return Math.sqrt(s**2+r**2)}class x5{constructor(t,s,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=a0(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=AB(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:g}=f,{timestamp:b}=Gn;this.history.push({...g,timestamp:b});const{onStart:v,onMove:x}=this.handlers;m||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=r0(m,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=a0(f.type==="pointercancel"?this.lastMoveEventInfo:r0(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),g&&g(f,v)},!ij(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const l=zh(t),c=r0(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=Gn;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=s;d&&d(t,a0(c,this.history)),this.removeListeners=Uh(Od(this.contextWindow,"pointermove",this.handlePointerMove),Od(this.contextWindow,"pointerup",this.handlePointerUp),Od(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),no(this.updatePoint)}}function r0(e,t){return t?{point:t(e.point)}:e}function hk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function a0({point:e},t){return{point:e,delta:hk(e,y5(t)),offset:hk(e,DB(t)),velocity:RB(t,.1)}}function DB(e){return e[0]}function y5(e){return e[e.length-1]}function RB(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=y5(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>ma(t)));)s--;if(!r)return{x:0,y:0};const i=dr(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function OB(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?an(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?an(s,e,r.max):Math.min(e,s)),e}function fk(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function PB(e,{top:t,left:s,bottom:r,right:a}){return{x:fk(e.x,s,a),y:fk(e.y,t,r)}}function mk(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function IB(e,t){return{x:mk(e.x,t.x),y:mk(e.y,t.y)}}function MB(e,t){let s=.5;const r=ms(e),a=ms(t);return a>r?s=rh(t.min,t.max-r,e.min):r>a&&(s=rh(e.min,e.max-a,t.min)),ri(0,1,s)}function LB(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Pv=.35;function FB(e=Pv){return e===!1?e=0:e===!0&&(e=Pv),{x:pk(e,"left","right"),y:pk(e,"top","bottom")}}function pk(e,t,s){return{min:gk(e,t),max:gk(e,s)}}function gk(e,t){return typeof e=="number"?e:e[t]||0}const $B=new WeakMap;class UB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(zh(d).point)},o=(d,f)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=H9(m),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(v=>{let x=this.getAxisMotionValue(v).get()||0;if(pa.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[v];j&&(x=ms(j)*(parseFloat(x)/100))}}this.originPoint[v]=x}),g&&Qt.postRender(()=>g(d,f)),Rv(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=VB(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),b&&b(d,f)},c=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>sr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new x5(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:g5(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,a=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Qt.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:a}=this.getProps();if(!r||!Rf(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=OB(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&bc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=PB(r.layoutBox,t):this.constraints=!1,this.elastic=FB(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LB(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!bc(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=BV(r,a.root,this.visualElement.getTransformPagePoint());let o=IB(a.layout.layoutBox,i);if(s){const l=s($V(o));this.hasMutatedConstraints=!!l,l&&(o=t5(l))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=sr(h=>{if(!Rf(h,s,this.currentDirection))return;let d=c&&c[h]||{};o&&(d={min:0,max:0});const f=a?200:1e6,m=a?40:1e7,p={type:"inertia",velocity:r?t[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return Rv(this.visualElement,t),r.start(gj(t,r,0,s,this.visualElement,!1))}stopAnimation(){sr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){sr(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){sr(s=>{const{drag:r}=this.getProps();if(!Rf(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(s);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[s];i.set(t[s]-an(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!bc(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};sr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=MB({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(o=>{if(!Rf(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(an(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;$B.set(this.visualElement,this);const t=this.visualElement.current,s=Od(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();bc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Qt.read(r);const o=ch(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(sr(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Pv,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Rf(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function VB(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class BB extends xo{constructor(t){super(t),this.removeGroupControls=fr,this.removeListeners=fr,this.controls=new UB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const xk=e=>(t,s)=>{e&&Qt.postRender(()=>e(t,s))};class zB extends xo{constructor(){super(...arguments),this.removePointerDownListener=fr}onPointerDown(t){this.session=new x5(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:g5(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:xk(t),onStart:xk(s),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Qt.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Od(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ad={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(nt.test(e))e=parseFloat(e);else return e;const s=yk(e,t.target.x),r=yk(e,t.target.y);return`${s}% ${r}%`}},qB={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=so.parse(e);if(a.length>5)return r;const i=so.createTransformer(e),o=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=an(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let i0=!1;class HB extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;fV(WB),i&&(s.group&&s.group.add(i),r&&r.register&&a&&r.register(i),i0&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,i0=!0,a||t.layoutDependency!==s||s===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Qt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),aj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=t;i0=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function v5(e){const[t,s]=VA(),r=y.useContext(Lw);return n.jsx(HB,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(JA),isPresent:t,safeToRemove:s})}const WB={borderRadius:{...ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ad,borderTopRightRadius:ad,borderBottomLeftRadius:ad,borderBottomRightRadius:ad,boxShadow:qB};function KB(e,t,s){const r=as(e)?e:lu(e);return r.start(gj("",r,t,s)),r.animation}const GB=(e,t)=>e.depth-t.depth;class YB{constructor(){this.children=[],this.isDirty=!1}add(t){Uw(this.children,t),this.isDirty=!0}remove(t){Vw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GB),this.isDirty=!1,this.children.forEach(t)}}function QB(e,t){const s=Ts.now(),r=({timestamp:a})=>{const i=a-s;i>=t&&(no(r),e(i-t))};return Qt.setup(r,!0),()=>no(r)}const b5=["TopLeft","TopRight","BottomLeft","BottomRight"],ZB=b5.length,vk=e=>typeof e=="string"?parseFloat(e):e,bk=e=>typeof e=="number"||nt.test(e);function XB(e,t,s,r,a,i){a?(e.opacity=an(0,s.opacity??1,JB(r)),e.opacityExit=an(t.opacity??1,0,ez(r))):i&&(e.opacity=an(t.opacity??1,s.opacity??1,r));for(let o=0;o<ZB;o++){const l=`border${b5[o]}Radius`;let c=wk(t,l),u=wk(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||bk(c)===bk(u)?(e[l]=Math.max(an(vk(c),vk(u),r),0),(pa.test(u)||pa.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=an(t.rotate||0,s.rotate||0,r))}function wk(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JB=w5(0,.5,oA),ez=w5(.5,.95,fr);function w5(e,t,s){return r=>r<e?0:r>t?1:s(rh(e,t,r))}function jk(e,t){e.min=t.min,e.max=t.max}function nr(e,t){jk(e.x,t.x),jk(e.y,t.y)}function Nk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kk(e,t,s,r,a){return e-=t,e=up(e,1/s,r),a!==void 0&&(e=up(e,1/a,r)),e}function tz(e,t=0,s=1,r=.5,a,i=e,o=e){if(pa.test(t)&&(t=parseFloat(t),t=an(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=an(i.min,i.max,r);e===i&&(l-=t),e.min=kk(e.min,t,s,l,a),e.max=kk(e.max,t,s,l,a)}function Sk(e,t,[s,r,a],i,o){tz(e,t[s],t[r],t[a],t.scale,i,o)}const nz=["x","scaleX","originX"],sz=["y","scaleY","originY"];function Ck(e,t,s,r){Sk(e.x,t,nz,s?s.x:void 0,r?r.x:void 0),Sk(e.y,t,sz,s?s.y:void 0,r?r.y:void 0)}function Tk(e){return e.translate===0&&e.scale===1}function j5(e){return Tk(e.x)&&Tk(e.y)}function Ek(e,t){return e.min===t.min&&e.max===t.max}function rz(e,t){return Ek(e.x,t.x)&&Ek(e.y,t.y)}function _k(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function N5(e,t){return _k(e.x,t.x)&&_k(e.y,t.y)}function Ak(e){return ms(e.x)/ms(e.y)}function Dk(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class az{constructor(){this.members=[]}add(t){Uw(this.members,t),t.scheduleRender()}remove(t){if(Vw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iz(e,t,s){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:m,skewY:p}=s;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const o0=["","X","Y","Z"],oz=1e3;let lz=0;function l0(e,t,s,r){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function k5(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=c5(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Qt,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&k5(r)}function S5({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=lz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dz),this.nodes.forEach(pz),this.nodes.forEach(gz),this.nodes.forEach(hz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YB)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qw),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UA(o)&&!Z9(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let h,d=0;const f=()=>this.root.updateBlockedByResize=!1;Qt.read(()=>{d=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==d&&(d=m,this.root.updateBlockedByResize=!0,h&&h(),h=QB(f,250),jm.hasAnimatedSinceResize&&(jm.hasAnimatedSinceResize=!1,this.nodes.forEach(Pk)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||wz,{onLayoutAnimationStart:g,onLayoutAnimationComplete:b}=u.getProps(),v=!this.targetLayout||!N5(this.targetLayout,m),x=!d&&f;if(this.options.layoutRoot||this.resumeFrom||x||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...sj(p,"layout"),onPlay:g,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(h,x)}else d||Pk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),no(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&k5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ok);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mz),this.nodes.forEach(cz),this.nodes.forEach(uz)):this.nodes.forEach(Ok),this.clearAllSnapshots();const l=Ts.now();Gn.delta=ri(0,1e3/60,l-Gn.timestamp),Gn.timestamp=l,Gn.isProcessing=!0,Qx.update.process(Gn),Qx.preRender.process(Gn),Qx.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fz),this.sharedNodes.forEach(yz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ms(this.snapshot.measuredBox.x)&&!ms(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!j5(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Do(this.latestValues)||h)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),jz(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return vn();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Nz))){const{scroll:h}=this.root;h&&(wc(l.x,h.offset.x),wc(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=vn();if(nr(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&nr(l,o),wc(l.x,d.offset.x),wc(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=vn();nr(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&jc(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Do(h.latestValues)&&jc(c,h.latestValues)}return Do(this.latestValues)&&jc(c,this.latestValues),c}removeTransform(o){const l=vn();nr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Do(u.latestValues))continue;Ev(u.latestValues)&&u.updateSnapshot();const h=vn(),d=u.measurePageBox();nr(h,d),Ck(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Do(this.latestValues)&&Ck(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),Id(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vn(),this.targetWithTransforms=vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_B(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),s5(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),Id(this.relativeTargetOrigin,this.target,m.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ev(this.parent.latestValues)||n5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;nr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;VV(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=vn());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nk(this.prevProjectionDelta.x,this.projectionDelta.x),Nk(this.prevProjectionDelta.y,this.projectionDelta.y)),Pd(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Dk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nc(),this.projectionDelta=Nc(),this.projectionDeltaWithTransform=Nc()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},d=Nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=vn(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,b=this.getStack(),v=!b||b.members.length<=1,x=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(bz));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;Ik(d.x,o.x,N),Ik(d.y,o.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Id(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vz(this.relativeTarget,this.relativeTargetOrigin,f,N),w&&rz(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=vn()),nr(w,this.relativeTarget)),g&&(this.animationValues=h,XB(h,u,this.latestValues,N,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(no(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{jm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lu(0)),this.currentAnimation=KB(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&C5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||vn();const d=ms(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=ms(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}nr(l,c),jc(l,h),Pd(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new az),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&l0("z",o,u,this.animationValues);for(let h=0;h<o0.length;h++)l0(`rotate${o0[h]}`,o,u,this.animationValues),l0(`skew${o0[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=wm(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=wm(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Do(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=iz(this.projectionDeltaWithTransform,this.treeScale,h);c&&(d=c(h,d)),o.transform=d;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in lh){if(h[p]===void 0)continue;const{correct:g,applyTo:b,isCSSVariable:v}=lh[p],x=d==="none"?h[p]:g(h[p],u);if(b){const w=b.length;for(let j=0;j<w;j++)o[b[j]]=x}else v?this.options.visualElement.renderState.vars[p]=x:o[p]=x}this.options.layoutId&&(o.pointerEvents=u===this?wm(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Rk),this.root.sharedNodes.clear()}}}function cz(e){e.updateLayout()}function uz(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?sr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],m=ms(f);f.min=r[d].min,f.max=f.min+m}):C5(i,t.layoutBox,r)&&sr(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],m=ms(r[d]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const l=Nc();Pd(l,r,t.layoutBox);const c=Nc();o?Pd(c,e.applyTransform(a,!0),t.measuredBox):Pd(c,r,t.layoutBox);const u=!j5(l);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const p=vn();Id(p,t.layoutBox,f.layoutBox);const g=vn();Id(g,r,m.layoutBox),N5(p,g)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function dz(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fz(e){e.clearSnapshot()}function Rk(e){e.clearMeasurements()}function Ok(e){e.isLayoutDirty=!1}function mz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Pk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pz(e){e.resolveTargetDelta()}function gz(e){e.calcProjection()}function xz(e){e.resetSkewAndRotation()}function yz(e){e.removeLeadSnapshot()}function Ik(e,t,s){e.translate=an(t.translate,0,s),e.scale=an(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Mk(e,t,s,r){e.min=an(t.min,s.min,r),e.max=an(t.max,s.max,r)}function vz(e,t,s,r){Mk(e.x,t.x,s.x,r),Mk(e.y,t.y,s.y,r)}function bz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wz={duration:.45,ease:[.4,0,.1,1]},Lk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Fk=Lk("applewebkit/")&&!Lk("chrome/")?Math.round:fr;function $k(e){e.min=Fk(e.min),e.max=Fk(e.max)}function jz(e){$k(e.x),$k(e.y)}function C5(e,t,s){return e==="position"||e==="preserve-aspect"&&!EB(Ak(t),Ak(s),.2)}function Nz(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const kz=S5({attachResizeListener:(e,t)=>ch(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),c0={current:void 0},T5=S5({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!c0.current){const e=new kz({});e.mount(window),e.setOptions({layoutScroll:!0}),c0.current=e}return c0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Sz={pan:{Feature:zB},drag:{Feature:BB,ProjectionNode:T5,MeasureLayout:v5}};function Uk(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,i=r[a];i&&Qt.postRender(()=>i(t,zh(t)))}class Cz extends xo{mount(){const{current:t}=this.node;t&&(this.unmount=W9(t,(s,r)=>(Uk(this.node,r,"Start"),a=>Uk(this.node,a,"End"))))}unmount(){}}class Tz extends xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uh(ch(this.node.current,"focus",()=>this.onFocus()),ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Vk(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),i=r[a];i&&Qt.postRender(()=>i(t,zh(t)))}class Ez extends xo{mount(){const{current:t}=this.node;t&&(this.unmount=Q9(t,(s,r)=>(Vk(this.node,r,"Start"),(a,{success:i})=>Vk(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Iv=new WeakMap,u0=new WeakMap,_z=e=>{const t=Iv.get(e.target);t&&t(e)},Az=e=>{e.forEach(_z)};function Dz({root:e,...t}){const s=e||document;u0.has(s)||u0.set(s,{});const r=u0.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Az,{root:e,...t})),r[a]}function Rz(e,t,s){const r=Dz(t);return Iv.set(e,s),r.observe(e),()=>{Iv.delete(e),r.unobserve(e)}}const Oz={some:0,all:1};class Pz extends xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Oz[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(c)};return Rz(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Iz(t,s))&&this.startObserver()}unmount(){}}function Iz({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Mz={inView:{Feature:Pz},tap:{Feature:Ez},focus:{Feature:Tz},hover:{Feature:Cz}},Lz={layout:{ProjectionNode:T5,MeasureLayout:v5}},Fz={...jB,...Mz,...Sz,...Lz},ue=FV(Fz,ZV),Bk=()=>{const e=["https://images.pexels.com/photos/3184287/pexels-photo-3184287.jpeg?auto=compress&cs=tinysrgb&w=1600","https://848603edf5.vws.vegacdn.vn/UploadImages%2Fhaiphong%2Fttgdtxhaiphong%2F2023_2%2Fday-hoc-tich-cuc-1_212202310.jpg?w=900","https://images.pexels.com/photos/1181342/pexels-photo-1181342.jpeg?auto=compress&cs=tinysrgb&w=1600","https://images.pexels.com/photos/545068/pexels-photo-545068.jpeg?auto=compress&cs=tinysrgb&w=1600"],[t,s]=y.useState(0);y.useEffect(()=>{const a=setInterval(()=>{s(i=>(i+1)%e.length)},2e3);return()=>clearInterval(a)},[e.length]);const r={initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95}};return n.jsxs("section",{className:"relative overflow-hidden h-[500px] md:h-[600px] bg-gradient-to-r from-blue-600 to-purple-700 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden",children:n.jsx(iV,{mode:"wait",children:n.jsx(ue.img,{src:e[t],alt:"Language learning banner",variants:r,initial:"initial",animate:"animate",exit:"exit",transition:{duration:1},className:"absolute w-full h-full object-cover opacity-70"},t)})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/70 to-purple-900/50"}),n.jsxs("div",{className:"relative z-10 text-center text-white px-6",children:[n.jsxs(ue.h1,{className:"text-4xl md:text-6xl font-bold mb-6 drop-shadow-lg",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},children:["Hc ngn ng, ",n.jsx("br",{})," Kt ni th gii "]}),n.jsx(ue.p,{className:"text-lg md:text-2xl text-blue-100 max-w-2xl mx-auto mb-10",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:"Trao quyn cho tng lai ca bn vi giao tip ton cu  bt u hc vi gio vin bn ng ngay hm nay!"}),n.jsxs(ue.div,{className:"flex justify-center gap-6 flex-wrap",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[n.jsx(_e,{to:se.LANGUAGES,className:"bg-yellow-400 text-blue-900 font-semibold px-6 py-3 rounded-full shadow-md hover:bg-yellow-500 hover:scale-105 transform transition-all duration-300",children:"Bt u hc vi kha hc"}),n.jsx(_e,{to:se.TUTORS,className:"bg-white/90 text-blue-700 font-semibold px-6 py-3 rounded-full shadow-md hover:bg-white hover:scale-105 transform transition-all duration-300",children:"Tm gia s ca bn"})]}),n.jsxs(ue.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12 max-w-5xl mx-auto",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.9},children:[n.jsx(_e,{to:se.LANGUAGES,className:"group",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 hover:bg-white/20 hover:scale-105 transition-all duration-300 shadow-xl min-h-[160px] flex flex-col",children:[n.jsx("div",{className:"text-4xl mb-3",children:""}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Kha hc a dng"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Kha hc cht lng t c bn ti nng cao"})]})}),n.jsx(_e,{to:se.TUTORS,className:"group",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 hover:bg-white/20 hover:scale-105 transition-all duration-300 shadow-xl min-h-[160px] flex flex-col",children:[n.jsx("div",{className:"text-4xl mb-3",children:""}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Hc 1-1 vi gia s"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Lch linh hot, hc theo nhu cu"})]})}),n.jsx(_e,{to:se.BECOME_TUTOR,className:"group",children:n.jsxs("div",{className:"bg-gradient-to-br from-yellow-400/20 to-orange-500/20 backdrop-blur-md border border-yellow-300/30 rounded-2xl p-6 hover:from-yellow-400/30 hover:to-orange-500/30 hover:scale-105 transition-all duration-300 shadow-xl min-h-[160px] flex flex-col",children:[n.jsx("div",{className:"text-4xl mb-3",children:""}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Tr thnh gia s"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Chia s kin thc, kim thu nhp"})]})})]})]}),n.jsx("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center space-x-2 z-20",children:e.map((a,i)=>n.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${i===t?"bg-yellow-400 scale-110":"bg-white/50 hover:bg-white/80"}`},i))})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),je=(e,t)=>{const s=y.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},h)=>y.createElement("svg",{ref:h,...$z,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Uz(e)}`,l].join(" "),...u},[...t.map(([d,f])=>y.createElement(d,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=je("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=je("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=je("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=je("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=je("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=je("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=je("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=je("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=je("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=je("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=je("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=je("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=je("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=je("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=je("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=je("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=je("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=je("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=je("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=je("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=je("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=je("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=je("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=je("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=je("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=je("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=je("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=je("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=je("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=je("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=je("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=je("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=je("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=je("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=je("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=je("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=je("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=je("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=je("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=je("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=je("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=je("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=je("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=je("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=je("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=je("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=je("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=je("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=je("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=je("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=je("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=je("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=je("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=je("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=je("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=je("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=je("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=je("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=je("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=je("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=je("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=je("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=je("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=je("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=je("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=je("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=je("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=je("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Wk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gg(...e){return t=>{let s=!1;const r=e.map(a=>{const i=Wk(a,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():Wk(e[a],null)}}}}function mt(...e){return y.useCallback(gg(...e),e)}function lo(e){const t=vq(e),s=y.forwardRef((r,a)=>{const{children:i,...o}=r,l=y.Children.toArray(i),c=l.find(wq);if(c){const u=c.props.children,h=l.map(d=>d===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:d);return n.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,h):null})}return n.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}var q5=lo("Slot");function vq(e){const t=y.forwardRef((s,r)=>{const{children:a,...i}=s;if(y.isValidElement(a)){const o=Nq(a),l=jq(i,a.props);return a.type!==y.Fragment&&(l.ref=r?gg(r,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var H5=Symbol("radix.slottable");function bq(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=H5,t}function wq(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===H5}function jq(e,t){const s={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function Nq(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function W5(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=W5(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function K5(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=W5(e))&&(r&&(r+=" "),r+=t);return r}const Kk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gk=K5,qh=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return Gk(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const h=s==null?void 0:s[u],d=i==null?void 0:i[u];if(h===null)return null;const f=Kk(h)||Kk(d);return a[u][f]}),l=s&&Object.entries(s).reduce((u,h)=>{let[d,f]=h;return f===void 0||(u[d]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:d,className:f,...m}=h;return Object.entries(m).every(p=>{let[g,b]=p;return Array.isArray(b)?b.includes({...i,...l}[g]):{...i,...l}[g]===b})?[...u,d,f]:u},[]);return Gk(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)},bj="-",kq=e=>{const t=Cq(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(bj);return l[0]===""&&l.length!==1&&l.shift(),G5(l,t)||Sq(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},G5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),a=r?G5(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(bj);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Yk=/^\[(.+)\]$/,Sq=e=>{if(Yk.test(e)){const t=Yk.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},Cq=e=>{const{theme:t,classGroups:s}=e,r={nextPart:new Map,validators:[]};for(const a in s)Fv(s[a],r,a,t);return r},Fv=(e,t,s,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Qk(t,a);i.classGroupId=s;return}if(typeof a=="function"){if(Tq(a)){Fv(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([i,o])=>{Fv(o,Qk(t,i),s,r)})})},Qk=(e,t)=>{let s=e;return t.split(bj).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},Tq=e=>e.isThemeGetter,Eq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(i,o)=>{s.set(i,o),t++,t>e&&(t=0,r=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){s.has(i)?s.set(i,o):a(i,o)}}},$v="!",Uv=":",_q=Uv.length,Aq=e=>{const{prefix:t,experimentalParseClassName:s}=e;let r=a=>{const i=[];let o=0,l=0,c=0,u;for(let p=0;p<a.length;p++){let g=a[p];if(o===0&&l===0){if(g===Uv){i.push(a.slice(c,p)),c=p+_q;continue}if(g==="/"){u=p;continue}}g==="["?o++:g==="]"?o--:g==="("?l++:g===")"&&l--}const h=i.length===0?a:a.substring(c),d=Dq(h),f=d!==h,m=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:m}};if(t){const a=t+Uv,i=r;r=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(s){const a=r;r=i=>s({className:i,parseClassName:a})}return r},Dq=e=>e.endsWith($v)?e.substring(0,e.length-1):e.startsWith($v)?e.substring(1):e,Rq=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let i=[];return r.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},Oq=e=>({cache:Eq(e.cacheSize),parseClassName:Aq(e),sortModifiers:Rq(e),...kq(e)}),Pq=/\s+/,Iq=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(Pq);let c="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{isExternal:d,modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=s(h);if(d){c=h+(c.length>0?" "+c:c);continue}let b=!!g,v=r(b?p.substring(0,g):p);if(!v){if(!b){c=h+(c.length>0?" "+c:c);continue}if(v=r(p),!v){c=h+(c.length>0?" "+c:c);continue}b=!1}const x=i(f).join(":"),w=m?x+$v:x,j=w+v;if(o.includes(j))continue;o.push(j);const N=a(v,b);for(let k=0;k<N.length;++k){const S=N[k];o.push(w+S)}c=h+(c.length>0?" "+c:c)}return c};function Mq(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Y5(t))&&(r&&(r+=" "),r+=s);return r}const Y5=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=Y5(e[r]))&&(s&&(s+=" "),s+=t);return s};function Lq(e,...t){let s,r,a,i=o;function o(c){const u=t.reduce((h,d)=>d(h),e());return s=Oq(u),r=s.cache.get,a=s.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=Iq(c,s);return a(c,h),h}return function(){return i(Mq.apply(null,arguments))}}const Pn=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Q5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Z5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Fq=/^\d+\/\d+$/,$q=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Uq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Bq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hl=e=>Fq.test(e),gt=e=>!!e&&!Number.isNaN(Number(e)),pi=e=>!!e&&Number.isInteger(Number(e)),d0=e=>e.endsWith("%")&&gt(e.slice(0,-1)),Ra=e=>$q.test(e),qq=()=>!0,Hq=e=>Uq.test(e)&&!Vq.test(e),X5=()=>!1,Wq=e=>Bq.test(e),Kq=e=>zq.test(e),Gq=e=>!Be(e)&&!ze(e),Yq=e=>Du(e,tD,X5),Be=e=>Q5.test(e),Eo=e=>Du(e,nD,Hq),h0=e=>Du(e,eH,gt),Zk=e=>Du(e,J5,X5),Qq=e=>Du(e,eD,Kq),Of=e=>Du(e,sD,Wq),ze=e=>Z5.test(e),od=e=>Ru(e,nD),Zq=e=>Ru(e,tH),Xk=e=>Ru(e,J5),Xq=e=>Ru(e,tD),Jq=e=>Ru(e,eD),Pf=e=>Ru(e,sD,!0),Du=(e,t,s)=>{const r=Q5.exec(e);return r?r[1]?t(r[1]):s(r[2]):!1},Ru=(e,t,s=!1)=>{const r=Z5.exec(e);return r?r[1]?t(r[1]):s:!1},J5=e=>e==="position"||e==="percentage",eD=e=>e==="image"||e==="url",tD=e=>e==="length"||e==="size"||e==="bg-size",nD=e=>e==="length",eH=e=>e==="number",tH=e=>e==="family-name",sD=e=>e==="shadow",nH=()=>{const e=Pn("color"),t=Pn("font"),s=Pn("text"),r=Pn("font-weight"),a=Pn("tracking"),i=Pn("leading"),o=Pn("breakpoint"),l=Pn("container"),c=Pn("spacing"),u=Pn("radius"),h=Pn("shadow"),d=Pn("inset-shadow"),f=Pn("text-shadow"),m=Pn("drop-shadow"),p=Pn("blur"),g=Pn("perspective"),b=Pn("aspect"),v=Pn("ease"),x=Pn("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...j(),ze,Be],k=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],C=()=>[ze,Be,c],E=()=>[Hl,"full","auto",...C()],T=()=>[pi,"none","subgrid",ze,Be],_=()=>["auto",{span:["full",pi,ze,Be]},pi,ze,Be],A=()=>[pi,"auto",ze,Be],D=()=>["auto","min","max","fr",ze,Be],R=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...C()],L=()=>[Hl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],M=()=>[e,ze,Be],$=()=>[...j(),Xk,Zk,{position:[ze,Be]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",Xq,Yq,{size:[ze,Be]}],q=()=>[d0,od,Eo],B=()=>["","none","full",u,ze,Be],z=()=>["",gt,od,Eo],W=()=>["solid","dashed","dotted","double"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[gt,d0,Xk,Zk],Y=()=>["","none",p,ze,Be],J=()=>["none",gt,ze,Be],te=()=>["none",gt,ze,Be],ie=()=>[gt,ze,Be],de=()=>[Hl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ra],breakpoint:[Ra],color:[qq],container:[Ra],"drop-shadow":[Ra],ease:["in","out","in-out"],font:[Gq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ra],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ra],shadow:[Ra],spacing:["px",gt],text:[Ra],"text-shadow":[Ra],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hl,Be,ze,b]}],container:["container"],columns:[{columns:[gt,Be,ze,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[pi,"auto",ze,Be]}],basis:[{basis:[Hl,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gt,Hl,"auto","initial","none",Be]}],grow:[{grow:["",gt,ze,Be]}],shrink:[{shrink:["",gt,ze,Be]}],order:[{order:[pi,"first","last","none",ze,Be]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:_()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:_()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...R(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...R()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":R()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[l,"screen",...L()]}],"min-w":[{"min-w":[l,"screen","none",...L()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",s,od,Eo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ze,h0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",d0,Be]}],"font-family":[{font:[Zq,Be,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ze,Be]}],"line-clamp":[{"line-clamp":[gt,"none",ze,h0]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",ze,Be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ze,Be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:[gt,"from-font","auto",ze,Eo]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[gt,"auto",ze,Be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze,Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze,Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pi,ze,Be],radial:["",ze,Be],conic:[pi,ze,Be]},Jq,Qq]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...W(),"hidden","none"]}],"divide-style":[{divide:[...W(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...W(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gt,ze,Be]}],"outline-w":[{outline:["",gt,od,Eo]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",h,Pf,Of]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",d,Pf,Of]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[gt,Eo]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",f,Pf,Of]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[gt,ze,Be]}],"mix-blend":[{"mix-blend":[...P(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":P()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gt]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[ze,Be]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[gt]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ze,Be]}],filter:[{filter:["","none",ze,Be]}],blur:[{blur:Y()}],brightness:[{brightness:[gt,ze,Be]}],contrast:[{contrast:[gt,ze,Be]}],"drop-shadow":[{"drop-shadow":["","none",m,Pf,Of]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",gt,ze,Be]}],"hue-rotate":[{"hue-rotate":[gt,ze,Be]}],invert:[{invert:["",gt,ze,Be]}],saturate:[{saturate:[gt,ze,Be]}],sepia:[{sepia:["",gt,ze,Be]}],"backdrop-filter":[{"backdrop-filter":["","none",ze,Be]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[gt,ze,Be]}],"backdrop-contrast":[{"backdrop-contrast":[gt,ze,Be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gt,ze,Be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gt,ze,Be]}],"backdrop-invert":[{"backdrop-invert":["",gt,ze,Be]}],"backdrop-opacity":[{"backdrop-opacity":[gt,ze,Be]}],"backdrop-saturate":[{"backdrop-saturate":[gt,ze,Be]}],"backdrop-sepia":[{"backdrop-sepia":["",gt,ze,Be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ze,Be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gt,"initial",ze,Be]}],ease:[{ease:["linear","initial",v,ze,Be]}],delay:[{delay:[gt,ze,Be]}],animate:[{animate:["none",x,ze,Be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ze,Be]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[ze,Be,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze,Be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze,Be]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[gt,od,Eo,h0]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sH=Lq(nH);function fe(...e){return sH(K5(e))}const mh=qh("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=y.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},i)=>{const o=r?q5:"button";return n.jsx(o,{className:fe(mh({variant:t,size:s,className:e})),ref:i,...a})});H.displayName="Button";const ye=y.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ye.displayName="Card";const Je=y.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fe("flex flex-col space-y-1.5 p-6",e),...t}));Je.displayName="CardHeader";const yt=y.forwardRef(({className:e,...t},s)=>n.jsx("h3",{ref:s,className:fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));yt.displayName="CardTitle";const xg=y.forwardRef(({className:e,...t},s)=>n.jsx("p",{ref:s,className:fe("text-sm text-muted-foreground",e),...t}));xg.displayName="CardDescription";const De=y.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fe("p-6 pt-0",e),...t}));De.displayName="CardContent";const rD=y.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fe("flex items-center p-6 pt-0",e),...t}));rD.displayName="CardFooter";const rH=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t={animate:{transition:{staggerChildren:.1}}};return n.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-600 to-purple-700 text-white",children:n.jsxs("div",{className:"w-full px-8 lg:px-16",children:[n.jsxs(ue.div,{className:"text-center mb-16",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:e,children:[n.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/20 backdrop-blur-md px-4 py-2 rounded-full text-sm font-medium mb-4",children:[n.jsx(Za,{className:"w-4 h-4"}),n.jsx("span",{children:"Hc 1-1 ring t"})]}),n.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Hc bt k ngn ng no 1-1 vi gia s bn ng"}),n.jsx("p",{className:"text-lg text-blue-100 max-w-2xl mx-auto leading-relaxed",children:"Ting Anh  Ting Nht  Ting Hn  Ting Trung  Ting Php  Ting Vit Mc tiu ca bn quyt nh ni dung hc  giao tip, kinh doanh, thi c, hoc du lch."})]}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:t,children:[{icon:en,title:"Bui hc ring",desc:"100% s ch  ca gia s ch dnh cho bn."},{icon:st,title:"Hc mi lc",desc:"Sng, ti hay cui tun  bn chn."},{icon:un,title:"L trnh c nhn ha",desc:"Mc tiu ca bn quyt nh k hoch hc."}].map((s,r)=>n.jsx(ue.div,{variants:e,children:n.jsx(ye,{className:"p-6 bg-white text-gray-900 hover:shadow-2xl transition-all rounded-xl",children:n.jsxs(De,{className:"p-0 text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-600/10 flex items-center justify-center mx-auto mb-4",children:n.jsx(s.icon,{className:"w-8 h-8 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:s.title}),n.jsx("p",{className:"text-gray-700",children:s.desc})]})})},r))}),n.jsxs(ue.div,{className:"text-center",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:e,children:[n.jsx(H,{size:"lg",className:"px-10 py-6 text-lg font-semibold bg-white text-blue-600 hover:bg-blue-50 transition-all shadow-lg",children:n.jsx(_e,{to:se.TUTORS,children:"t bui hc th min ph"})}),n.jsx("p",{className:"mt-4 text-blue-100 text-sm italic",children:"Bt u ni ngn ng mc tiu ca bn ngay t ngy u tin."})]})]})})},aH=qh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...s}){return n.jsx("div",{className:fe(aH({variant:t}),e),...s})}const aD=({src:e,alt:t="Image",fallbackSrc:s="https://images.unsplash.com/photo-1546410531-bb4caa6b424d?w=800",className:r,onError:a})=>{const[i,o]=y.useState(e||s),[l,c]=y.useState(!1),u=()=>{l||(c(!0),o(s),a==null||a())};return n.jsx("img",{src:i,alt:t,className:fe("object-cover",r),onError:u,loading:"lazy"})},Jk=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0);y.useEffect(()=>{(async()=>{try{const u=await ee.get("/languages/all");t(u.data.result.slice(0,6))}catch(u){console.error("Error fetching languages:",u)}finally{r(!1)}})()},[]);const a={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.45}},i={animate:{transition:{staggerChildren:.1}}},o=c=>{const u=((c==null?void 0:c.trim())||"").toLowerCase();return u.includes("d")||u.includes("easy")?{bgStyle:{backgroundColor:"#a7f3d0"},textStyle:{color:"#064e3b"},label:c}:u.includes("trung bnh")||u.includes("medium")?{bgStyle:{backgroundColor:"#fde68a"},textStyle:{color:"#78350f"},label:c}:u.includes("rt kh")||u.includes("very hard")||u.includes("veryhard")?{bgStyle:{backgroundColor:"#fecaca"},textStyle:{color:"#7f1d1d"},label:c}:u.includes("kh")||u.includes("hard")?{bgStyle:{backgroundColor:"#fed7aa"},textStyle:{color:"#7c2d12"},label:c}:(console.log("Unknown difficulty:",c),{bgStyle:{backgroundColor:"#e5e7eb"},textStyle:{color:"#111827"},label:c||"Cha xc nh"})},l=c=>{if(!c)return[];try{return c.split(",").map(u=>u.trim())}catch{return[]}};return s?n.jsx("section",{className:"py-16 text-center",children:n.jsx("p",{className:"text-lg",children:"ang ti ngn ng..."})}):n.jsxs("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 opacity-5",children:[n.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-500 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"w-full px-8 lg:px-16 relative z-10",children:[n.jsxs(ue.div,{className:"text-center mb-16",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:a,children:[n.jsx("div",{className:"inline-block mb-4",children:n.jsx("span",{className:"bg-blue-100 text-blue-600 px-4 py-2 rounded-full text-sm font-semibold",children:" Hc ngn ng mi"})}),n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Ngn ng ph bin"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Khm ph cc ngn ng c yu thch nht v bt u hnh trnh hc tp ca bn."})]}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:i,children:e.map(c=>{const u=l(c.certificates),h=o(c.difficulty),d=3,f=u.slice(0,d),m=u.length-d;return n.jsxs(ue.div,{variants:a,className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden group cursor-pointer flex flex-col border border-gray-100 hover:border-blue-300 hover:-translate-y-2",children:[n.jsxs("div",{className:"relative h-56 overflow-hidden bg-gray-200",children:[n.jsx(aD,{src:c.thumbnailUrl,alt:c.nameVi,className:"w-full h-full group-hover:scale-110 transition-transform duration-700"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),n.jsx("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start",children:n.jsx(Pe,{className:`${c.isActive?"bg-emerald-500 hover:bg-emerald-600 shadow-lg":"bg-slate-500 hover:bg-slate-600 shadow-lg"} backdrop-blur-md border-0`,children:c.isActive?" ang m":" Tm ngng"})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-gradient-to-t from-black/90 to-transparent",children:[n.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-2xl mb-1 tracking-tight",children:c.nameVi}),n.jsx("p",{className:"text-sm text-white/95 drop-shadow-lg font-medium",children:c.nameEn})]})]}),n.jsxs("div",{className:"p-6 space-y-5 flex flex-col flex-1 bg-gradient-to-b from-white via-gray-50/30 to-gray-50/50",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-600 font-medium",children:" kh:"}),n.jsx("span",{className:"px-4 py-1.5 rounded-full text-sm font-bold shadow-sm",style:{...h.bgStyle,...h.textStyle},children:h.label})]}),n.jsxs("div",{className:"flex-1 min-h-[80px]",children:[n.jsxs("h4",{className:"font-bold text-gray-900 mb-3 text-sm flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsx("span",{children:"Chng ch"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.length>0?n.jsxs(n.Fragment,{children:[f.map((p,g)=>n.jsx("span",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 text-xs px-3 py-1.5 rounded-lg font-semibold border border-blue-200/50 shadow-sm hover:shadow-md transition-shadow",children:p},g)),m>0&&n.jsxs("span",{className:"bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-xs px-3 py-1.5 rounded-lg font-bold border border-purple-200/50 shadow-sm",children:["+",m]})]}):n.jsx("span",{className:"text-gray-400 text-xs italic",children:"Cha c chng ch"})})]}),n.jsx(_e,{to:`/languages/${c.nameEn.toLowerCase()}`,className:`block w-full text-center py-3.5 rounded-xl font-bold transition-all duration-300 mt-auto shadow-md ${c.isActive?"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,onClick:p=>!c.isActive&&p.preventDefault(),children:c.isActive?"Khm ph kha hc ":"Tm ngng"})]})]},c.id)})}),n.jsx(ue.div,{className:"text-center mt-16",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:a,children:n.jsx(H,{size:"lg",asChild:!0,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl transition-all duration-300 px-8 py-6 text-base",children:n.jsxs(_e,{to:se.LANGUAGES,children:["Xem tt c ngn ng ",n.jsx(Wt,{className:"ml-2 w-5 h-5"})]})})})]})]})},iH=1,oH=1e6;let f0=0;function lH(){return f0=(f0+1)%Number.MAX_SAFE_INTEGER,f0.toString()}const m0=new Map,eS=e=>{if(m0.has(e))return;const t=setTimeout(()=>{m0.delete(e),Md({type:"REMOVE_TOAST",toastId:e})},oH);m0.set(e,t)},cH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,iH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?eS(s):e.toasts.forEach(r=>{eS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Nm=[];let km={toasts:[]};function Md(e){km=cH(km,e),Nm.forEach(t=>{t(km)})}function iD({...e}){const t=lH(),s=a=>Md({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Md({type:"DISMISS_TOAST",toastId:t});return Md({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:s}}function jt(){const[e,t]=y.useState(km);return y.useEffect(()=>(Nm.push(t),()=>{const s=Nm.indexOf(t);s>-1&&Nm.splice(s,1)}),[e]),{...e,toast:iD,dismiss:s=>Md({type:"DISMISS_TOAST",toastId:s})}}const uH=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0),{toast:a}=jt(),i=Qe(),[o,l]=y.useState({});y.useEffect(()=>{(async()=>{try{const p=(await ee.get("/courses/public/approved")).data.result.sort((g,b)=>b.avgRating-g.avgRating).slice(0,6);t(p),l(Object.fromEntries(p.map(g=>[g.id,g.isWishListed??!1])))}catch(m){console.error("Error fetching courses:",m)}finally{r(!1)}})()},[]);const c=async f=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){i(`${se.SIGN_IN}`),a({title:"Yu cu ng nhp",description:"Vui lng ng nhp  s dng danh sch yu thch.",variant:"destructive"});return}const p=o[f];try{p?await ee.delete(`/wishlist/${f}`):await ee.post(`/wishlist/${f}`),l(g=>({...g,[f]:!p}))}catch{a({title:"Li",description:"Khng th cp nht danh sch yu thch.",variant:"destructive"})}},u={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.45}},h={animate:{transition:{staggerChildren:.1}}},d=f=>new Date(f).toLocaleDateString("vi-VN");return s?n.jsx("section",{className:"py-16 text-center",children:n.jsx("p",{className:"text-lg",children:"ang ti kha hc..."})}):n.jsx("section",{className:"py-16 bg-muted/50",children:n.jsxs("div",{className:"w-full px-8 lg:px-16",children:[n.jsxs(ue.div,{className:"text-center mb-12",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:u,children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Bi hc ngn ng ph bin"}),n.jsx("p",{className:"text-lg text-muted-foreground",children:"Hc t cc ging vin giu kinh nghim v c nh gi cao nht."})]}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:h,children:e.map(f=>{const m=o[f.id];return n.jsx(ue.div,{variants:u,children:n.jsxs(ye,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 group cursor-pointer relative",children:[n.jsx("button",{className:"absolute top-4 right-4 z-10 bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white transition-all hover:scale-110",onClick:p=>{p.preventDefault(),p.stopPropagation(),c(f.id)},children:n.jsx(yo,{className:`w-5 h-5 transition-all ${m?"fill-red-500 text-red-500":"text-gray-600 hover:text-red-500 hover:fill-red-100"}`})}),n.jsxs(_e,{to:`/courses/${f.id}`,children:[n.jsxs("div",{className:"relative overflow-hidden h-48 bg-gray-100",children:[n.jsx("img",{src:f.thumbnailURL,alt:f.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),n.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[n.jsx(Pe,{className:"bg-primary text-primary-foreground",children:f.categoryName}),n.jsx(Pe,{className:"bg-white/80 backdrop-blur text-black border",children:f.level})]})]}),n.jsxs(De,{className:"p-6 flex flex-col min-h-[280px]",children:[n.jsx("h3",{className:"font-bold text-lg text-foreground group-hover:text-primary transition-colors line-clamp-2",children:f.title}),n.jsxs("div",{className:"flex items-center justify-between text-muted-foreground mt-1",children:[n.jsxs("p",{children:["By ",f.tutorName]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(un,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),n.jsx("span",{className:"font-medium",children:f.avgRating.toFixed(1)}),n.jsxs("span",{className:"text-xs opacity-70",children:["(",f.totalRatings,")"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mt-3",children:[n.jsx(en,{className:"w-4 h-4"}),n.jsxs("span",{children:[f.learnerCount," hc vin"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mt-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(st,{className:"w-4 h-4"}),n.jsxs("span",{children:[f.duration," gi"]})]}),n.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:f.language})]}),n.jsxs("div",{className:"flex justify-between items-end mt-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-xl font-bold text-primary",children:[f.price.toLocaleString(),""]}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["To: ",d(f.createdAt)]})]}),n.jsx(H,{className:`min-w-[100px] ${f.isPurchased?"bg-green-600 hover:bg-green-700 text-white":""}`,children:f.isPurchased?"Tip tc":"Tham gia"})]})]})]})]})},f.id)})}),n.jsx(ue.div,{className:"text-center mt-12",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:u,children:n.jsx(H,{size:"lg",asChild:!0,children:n.jsxs(_e,{to:se.LANGUAGES,children:["Xem tt c kha hc ",n.jsx(Wt,{className:"ml-2 w-4 h-4"})]})})})]})})},tS=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0);y.useEffect(()=>{(async()=>{try{console.log("Fetching approved tutors...");const u=(await ee.get("/tutors/approved")).data;if(console.log("Approved tutors:",(u==null?void 0:u.length)||0),!u||u.length===0){console.warn("No approved tutors found"),r(!1);return}console.log("Fetching tutor details...");const h=u.map(m=>ee.get(`/tutors/${m.tutorId}`).then(p=>p.data).catch(p=>(console.error(`Failed to fetch tutor ${m.tutorId}:`,p),null))),d=(await Promise.all(h)).filter(m=>m!==null);console.log("Detailed tutors:",d.length);const f=d.sort((m,p)=>(p.rating||0)-(m.rating||0)).slice(0,4);console.log("Top 4 tutors:",f),t(f)}catch(c){console.error("Failed to fetch tutors:",c)}finally{r(!1)}})()},[]);const a={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.55}},i={animate:{transition:{staggerChildren:.12}}},o=l=>new Intl.NumberFormat("vi-VN").format(l)+" ";return n.jsx("section",{className:"py-16 bg-gradient-to-br from-indigo-50 to-purple-50",children:n.jsxs("div",{className:"w-full px-8 lg:px-16",children:[n.jsxs(ue.div,{className:"text-center mb-12",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:a,children:[n.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-4 py-2 rounded-full text-sm font-medium mb-4",children:[n.jsx(Ss,{className:"w-4 h-4"}),n.jsx("span",{children:"Gia s hng u"})]}),n.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:"Gp g cc gio vin xut sc nht"})]}),s&&n.jsx("p",{className:"text-center text-muted-foreground text-lg",children:"ang ti gia s..."}),!s&&e.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:"Cha c gia s no c ph duyt"}),n.jsx(H,{asChild:!0,children:n.jsx(_e,{to:se.BECOME_TUTOR,children:"Tr thnh gia s"})})]}),!s&&e.length>0&&n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:i,children:e.map(l=>n.jsx(ue.div,{variants:a,className:"h-full",children:n.jsx(ye,{className:"overflow-hidden hover:shadow-2xl transition-all duration-300 group cursor-pointer border-0 bg-white/80 backdrop-blur-sm h-full flex flex-col",children:n.jsxs(_e,{to:`/tutors/${l.tutorId}`,className:"flex flex-col h-full",children:[n.jsx("div",{className:"relative w-full h-80 overflow-hidden rounded-t-xl bg-gray-100",children:n.jsx("img",{src:l.avatarURL||"https://via.placeholder.com/300",alt:l.userName,className:"w-full h-full object-cover object-top group-hover:scale-105 transition-transform duration-300"})}),n.jsxs(De,{className:"p-6 flex flex-col flex-1",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-indigo-600 transition",children:l.userName}),n.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[n.jsx(un,{className:"w-4 h-4 fill-yellow-400"}),n.jsx("span",{className:"font-medium",children:l.rating.toFixed(1)})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[n.jsx(Au,{className:"w-4 h-4"}),n.jsx("span",{children:l.country||"Unknown"})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Un,{className:"w-4 h-4"}),l.teachingLanguage]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tt,{className:"w-4 h-4"}),l.experience," yrs"]})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4 overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",height:"4.5rem",lineHeight:"1.5rem"},children:l.bio||"Cha c gii thiu"}),n.jsxs("div",{className:"flex justify-end mt-auto",children:[n.jsx("span",{className:"text-lg font-bold text-indigo-600",children:o(l.pricePerHour)}),n.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"/slot"})]})]})]})})},l.tutorId))}),!s&&e.length>0&&n.jsx(ue.div,{className:"text-center",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:a,children:n.jsx(H,{size:"lg",asChild:!0,className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700",children:n.jsxs(_e,{to:se.TUTORS,children:["Xem tt c gio vin",n.jsx(Wt,{className:"w-4 h-4 ml-2"})]})})})]})})},nS=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t={animate:{transition:{staggerChildren:.1}}},s=[{icon:$n,title:"Thu nhp cao",description:"Kim n 350,000  1,200,000 mi gi dy ngn ng bn ng ca bn"},{icon:st,title:"Lch linh hot",description:"Dy bt c lc no, bt c ni u  bn kim sot thi gian"},{icon:en,title:"Hc vin ton cu",description:"Kt ni vi hc vin t hn 100 quc gia"},{icon:_u,title:"Nn tng uy tn",description:"Tham gia cng ng hn 5000 gia s chuyn nghip"}];return n.jsx("section",{className:"py-12 bg-gradient-to-r from-blue-50 to-cyan-50",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[n.jsxs(ue.div,{initial:"initial",whileInView:"animate",viewport:{once:!0},variants:t,children:[n.jsxs(ue.h2,{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",variants:e,children:["Tr thnh ",n.jsx("span",{className:"text-blue-600",children:"Gia s"})," cng LinguaHub"]}),n.jsx(ue.p,{className:"text-base text-gray-600 mb-6",variants:e,children:"Chia s ngn ng ca bn vi hc vin t khp ni trn th gii v kim tin t iu bn yu thch."}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",variants:t,children:s.map((r,a)=>n.jsx(ue.div,{variants:e,children:n.jsx(ye,{className:"p-3 hover:shadow-md transition-shadow",children:n.jsx(De,{className:"p-0",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"bg-blue-100 p-1.5 rounded-lg",children:n.jsx(r.icon,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:r.title}),n.jsx("p",{className:"text-xs text-gray-600",children:r.description})]})]})})})},a))}),n.jsxs(ue.div,{className:"flex flex-col sm:flex-row gap-3",variants:e,children:[n.jsx(H,{asChild:!0,className:"bg-blue-600 hover:bg-blue-700",children:n.jsxs(_e,{to:"/become-tutor",children:["ng k lm gia s",n.jsx(Mv,{className:"w-4 h-4 ml-2"})]})}),n.jsx(H,{variant:"outline",children:"Tm hiu thm"})]})]}),n.jsx(ue.div,{className:"relative",initial:{opacity:0,x:60},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("img",{src:"https://images.pexels.com/photos/3184287/pexels-photo-3184287.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Online teaching",className:"w-full h-auto max-h-64 object-cover rounded-xl shadow-lg"}),n.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-white p-2 rounded-lg shadow-md border",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:"5000+"}),n.jsx("div",{className:"text-xs text-gray-600",children:"Gia s"})]}),n.jsxs("div",{className:"absolute -top-2 -right-2 bg-white p-2 rounded-lg shadow-md border",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:"100K+"}),n.jsx("div",{className:"text-xs text-gray-600",children:"Hc vin"})]})]})})]})})})};function sS(){const[e,t]=y.useState({totalLearners:0,totalTutors:0,totalCourses:0,totalLanguages:12}),[s,r]=y.useState(!0);y.useEffect(()=>{(async()=>{var u,h,d;try{const f=await ee.get("/courses/public/approved"),m=Array.isArray((u=f.data)==null?void 0:u.result)?f.data.result:[],p=await ee.get("/tutors/approved"),g=Array.isArray((h=p.data)==null?void 0:h.result)?p.data.result:Array.isArray(p.data)?p.data:[],b=await ee.get("/languages/all"),v=Array.isArray((d=b.data)==null?void 0:d.result)?b.data.result:[];t({totalLearners:1500,totalTutors:g.length>0?g.length:250,totalCourses:m.length>0?m.length:100,totalLanguages:v.length>0?v.length:12})}catch(f){console.error("Failed to load stats:",f),t({totalLearners:1500,totalTutors:250,totalCourses:100,totalLanguages:12})}finally{r(!1)}})()},[]);const a=c=>c>=1e6?(c/1e6).toFixed(1)+"M+":c>=1e3?(c/1e3).toFixed(1)+"K+":c+"+",i=[{icon:Ss,number:a(e.totalCourses),label:"Kha hc cht lng",description:"c xc minh v ph duyt"},{icon:tt,number:a(e.totalTutors),label:"Gia s chuyn nghip",description:"n t nhiu quc gia"},{icon:_u,number:e.totalLanguages+"",label:"Ngn ng ph bin",description:"Sn sng  bn khm ph"},{icon:en,number:"24/7",label:"H tr hc tp",description:"Lun sn sng ng hnh cng bn"}],o={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},l={animate:{transition:{staggerChildren:.1}}};return n.jsx("section",{className:"py-16 bg-gray-900",children:n.jsxs("div",{className:"w-full px-8 lg:px-16",children:[n.jsxs(ue.div,{className:"text-center mb-12",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:o,children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ti sao chn LinguaHub?"}),n.jsx("p",{className:"text-lg text-gray-300",children:"Tham gia cng hng nghn hc vin thnh cng trn ton th gii"})]}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:l,children:i.map((c,u)=>n.jsxs(ue.div,{className:"text-center",variants:o,children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-500 rounded-full mb-4",children:n.jsx(c.icon,{className:"w-8 h-8 text-white"})}),n.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:c.number}),n.jsx("div",{className:"text-xl font-semibold text-blue-400 mb-2",children:c.label}),n.jsx("div",{className:"text-gray-400",children:c.description})]},u))})]})})}function dH(e,t){const s=y.createContext(t),r=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=y.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Jn(e,t=[]){let s=[];function r(i,o){const l=y.createContext(o),c=s.length;s=[...s,o];const u=d=>{var v;const{scope:f,children:m,...p}=d,g=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,b=y.useMemo(()=>p,Object.values(p));return n.jsx(g.Provider,{value:b,children:m})};u.displayName=i+"Provider";function h(d,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,p=y.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,h]}const a=()=>{const i=s.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,hH(a,...t)]}function hH(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}var fH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=fH.reduce((e,t)=>{const s=lo(`Primitive.${t}`),r=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wj(e,t){e&&go.flushSync(()=>e.dispatchEvent(t))}var jj="Progress",Nj=100,[mH]=Jn(jj),[pH,gH]=mH(jj),oD=y.forwardRef((e,t)=>{const{__scopeProgress:s,value:r=null,max:a,getValueLabel:i=xH,...o}=e;(a||a===0)&&!rS(a)&&console.error(yH(`${a}`,"Progress"));const l=rS(a)?a:Nj;r!==null&&!aS(r,l)&&console.error(vH(`${r}`,"Progress"));const c=aS(r,l)?r:null,u=fp(c)?i(c,l):void 0;return n.jsx(pH,{scope:s,value:c,max:l,children:n.jsx(qe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":fp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":uD(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});oD.displayName=jj;var lD="ProgressIndicator",cD=y.forwardRef((e,t)=>{const{__scopeProgress:s,...r}=e,a=gH(lD,s);return n.jsx(qe.div,{"data-state":uD(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});cD.displayName=lD;function xH(e,t){return`${Math.round(e/t*100)}%`}function uD(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function fp(e){return typeof e=="number"}function rS(e){return fp(e)&&!isNaN(e)&&e>0}function aS(e,t){return fp(e)&&!isNaN(e)&&e<=t&&e>=0}function yH(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Nj}\`.`}function vH(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Nj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dD=oD,bH=cD;const yg=y.forwardRef(({className:e,value:t,...s},r)=>n.jsx(dD,{ref:r,className:fe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:n.jsx(bH,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));yg.displayName=dD.displayName;function wH(){const[e,t]=y.useState([]),[s,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{var i;try{const l=((i=(await ee.get("/student/courses")).data)==null?void 0:i.result)||[],h=(await Promise.all(l.map(async d=>{var v;const m=(v=(await ee.get(`/student/courses/${d.courseID}`)).data)==null?void 0:v.result;let p=0,g=0,b=null;return m.sectionProgress.forEach(x=>{if(p+=x.lessons.length,g+=x.lessons.filter(w=>w.isDone).length,!b){const w=x.lessons.find(j=>!j.isDone);w&&(b=w.lessonTitle)}}),{...d,language:m.language,level:m.level,categoryName:m.categoryName,enrolledAt:m.enrolledAt,totalLessons:p,completedLessons:g,currentLesson:b||" hon thnh tt c bi hc"}}))).filter(d=>!d.isCompleted).sort((d,f)=>{const m=new Date(d.enrolledAt).getTime(),p=new Date(f.enrolledAt).getTime();return m!==p?p-m:f.progressPercent-d.progressPercent});t(h.slice(0,3))}catch(o){console.error("Failed to load courses:",o)}finally{r(!1)}})()},[]),s?null:n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[n.jsx(hh,{className:"w-8 h-8 text-blue-600"}),"Tip tc hc"]}),n.jsx("p",{className:"text-gray-600",children:"Tip tc t ni bn  dng li"})]}),e.length>0&&n.jsx(H,{variant:"ghost",children:n.jsxs(_e,{to:"/my-enrollments",className:"flex items-center gap-2 text-blue-600",children:["Xem tt c ",n.jsx(Mv,{className:"w-4 h-4"})]})})]}),e.length===0&&n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"p-10 text-center bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl shadow-lg",children:[n.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Bn cha ng k kha hc no"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Bt u hc  m kha c hi mi!"}),n.jsx(H,{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-4 text-lg",asChild:!0,children:n.jsxs(_e,{to:se.LANGUAGES,children:["Duyt kha hc ",n.jsx(Mv,{className:"w-5 h-5 ml-2"})]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((a,i)=>n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},className:"flex",children:n.jsxs(ye,{className:"overflow-hidden shadow-lg hover:shadow-2xl hover:scale-105 transition-all flex flex-col w-full",children:[n.jsxs("div",{className:"relative h-48",children:[n.jsx("img",{src:a.thumbnailURL,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 px-3 py-1 rounded-full text-sm font-bold",children:["Hon thnh ",Math.round(a.progressPercent),"%"]}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:n.jsx(yg,{value:a.progressPercent,className:"h-2 bg-white/40"})})]}),n.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[n.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-2 min-h-[3.5rem]",children:a.courseTitle}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["by ",a.tutorName]}),n.jsx("div",{className:"flex flex-wrap gap-3 mb-4 text-sm",children:n.jsxs("span",{className:"px-3 py-1 bg-blue-50 rounded-full text-blue-700",children:[" ",a.language]})}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[n.jsx(tt,{className:"w-4 h-4"}),n.jsxs("span",{children:[a.completedLessons," / ",a.totalLessons," bi hc"]})]}),n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mb-4",children:n.jsxs("p",{className:"text-sm font-medium",children:[n.jsx(st,{className:"w-4 h-4 inline mr-1"}),"Tip theo: ",a.currentLesson]})}),n.jsx(H,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white mt-auto",asChild:!0,children:n.jsxs(_e,{to:`/courses/${a.courseID}`,children:[n.jsx(hh,{className:"w-4 h-4 mr-2"}),"Tip tc hc"]})})]})]})},a.courseID))})]})})}function jH(){const[e,t]=y.useState([]),[s,r]=y.useState(!0),a=Qe(),{toast:i}=jt(),[o,l]=y.useState({});y.useEffect(()=>{(async()=>{try{let m=(await ee.get("/courses/public/approved")).data.result||[];m=m.filter(g=>!g.isPurchased&&!g.isWishListed);const p=[...m].sort((g,b)=>b.avgRating-g.avgRating).slice(0,4);t(p),l(Object.fromEntries(p.map(g=>[g.id,g.isWishListed??!1])))}catch(f){console.error(f)}finally{r(!1)}})()},[]);const c=async d=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){i({title:"Yu cu ng nhp",description:"Vui lng ng nhp.",variant:"destructive"}),a(se.SIGN_IN);return}const m=o[d];try{m?await ee.delete(`/wishlist/${d}`):await ee.post(`/wishlist/${d}`),l(p=>({...p,[d]:!m}))}catch{i({title:"Li",description:"Khng th cp nht danh sch yu thch.",variant:"destructive"})}},u={initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{duration:.45}},h={animate:{transition:{staggerChildren:.07}}};return s?n.jsx("div",{className:"py-20 text-center text-lg font-medium",children:"ang ti kha hc  xut"}):e.length===0?n.jsxs("section",{className:"py-16 text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Khng c kha hc  xut"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Bn  ng k tt c cc kha hc c sn."})]}):n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-10",children:[n.jsx("h2",{className:"text-3xl font-bold",children:"Kha hc  xut"}),n.jsx(H,{variant:"outline",className:"font-medium",onClick:()=>a(se.LANGUAGES),children:"Xem tt c kha hc"})]}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",initial:"initial",animate:"animate",variants:h,children:e.map(d=>{const f=o[d.id]??!1;return n.jsx(ue.div,{variants:u,children:n.jsx(_e,{to:`/courses/${d.id}`,className:"block h-full",children:n.jsxs(ye,{className:"overflow-hidden rounded-xl shadow-sm hover:shadow-xl transition-all h-full flex flex-col bg-white",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:d.thumbnailURL||"/placeholder.jpg",alt:d.title,className:"w-full h-48 object-cover"}),n.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[n.jsx(Pe,{className:"bg-primary text-white",children:d.categoryName}),n.jsx(Pe,{className:"bg-white/90 backdrop-blur text-black border",children:d.level})]}),n.jsx("button",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white transition-all hover:scale-110",onClick:m=>{m.preventDefault(),c(d.id)},children:n.jsx(yo,{className:`w-5 h-5 transition-all ${f?"fill-red-500 text-red-500":"text-gray-600 hover:text-red-500 hover:fill-red-100"}`})})]}),n.jsxs(De,{className:"p-5 flex flex-col flex-grow",children:[n.jsx("h3",{className:"font-semibold text-lg leading-tight line-clamp-2 min-h-[48px]",children:d.title}),n.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["by ",d.tutorName]}),n.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 min-h-[40px] mb-3",children:d.shortDescription}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-2 h-[24px]",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-4 h-4"}),d.learnerCount]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(un,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),d.avgRating.toFixed(1),n.jsxs("span",{className:"text-xs opacity-60",children:["(",d.totalRatings,")"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4 h-[24px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(st,{className:"w-4 h-4"}),d.duration," hrs"]}),n.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:d.language})]}),n.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t",children:[n.jsxs("div",{className:"text-xl font-bold text-primary",children:[d.price.toLocaleString("vi-VN"),""]}),n.jsx(H,{onClick:m=>{m.preventDefault(),a(`/courses/${d.id}`)},children:"Tham gia"})]})]})]})})},d.id)})})]})})}const NH=()=>{const e=Qe(),[t,s]=y.useState([]),[r,a]=y.useState(!0);y.useEffect(()=>{(async()=>{var l;try{const u=(l=(await ee.get("/users/myInfo")).data.result)==null?void 0:l.userID;if(u){const d=(await ee.get("/booking-slots/my-slots")).data.result||[],f=new Date,m=d.filter(p=>{const g=new Date(p.end_time);return p.user_id===u&&p.status==="Paid"&&g>=f}).sort((p,g)=>{const b=new Date(p.start_time).getTime(),v=new Date(g.start_time).getTime();return b-v}).slice(0,6).map(p=>({slotID:p.slotid,bookingPlanID:p.booking_planid,tutorID:p.tutor_id,userID:p.user_id,startTime:p.start_time,endTime:p.end_time,paymentID:p.payment_id,status:p.status,lockedAt:p.locked_at,expiresAt:p.expires_at,tutorFullname:p.tutor_fullname}));s(m)}}catch(c){console.error("Failed to fetch bookings:",c)}finally{a(!1)}})()},[]);const i=o=>{const l=new Date(o);return{date:l.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),time:l.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}};return r?n.jsx("section",{className:"py-16 bg-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("p",{className:"text-center text-gray-600",children:"Loading your bookings..."})})}):n.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-blue-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h2",{className:"text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center space-x-3",children:[n.jsx(ft,{className:"w-10 h-10 text-blue-600"}),n.jsx("span",{children:"Cc bui hc  t"})]}),n.jsx("p",{className:"text-lg text-gray-600",children:"Theo di cc bui hc sp ti ca bn"})]}),t.length===0?n.jsxs(ye,{className:"p-12 text-center bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-dashed border-blue-300",children:[n.jsx(tt,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Cha t bui hc no"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Bt u hnh trnh hc tp ca bn bng cch t bui hc vi mt trong nhng gia s chuyn gia ca chng ti!"}),n.jsx(H,{onClick:()=>e("/tutors"),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold px-8 py-3 text-lg",children:"Duyt gia s"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map((o,l)=>{const{date:c,time:u}=i(o.startTime),h=i(o.endTime).time;return n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:l*.1},children:n.jsx(ye,{className:"p-6 border-l-4 hover:shadow-xl transition-all min-h-[200px] flex flex-col bg-gradient-to-br from-blue-50 to-purple-50 border-blue-500",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"p-3 rounded-full shadow-md flex-shrink-0 bg-white",children:n.jsx(st,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center mb-2",children:n.jsx("span",{className:"text-xs font-semibold px-3 py-1 rounded-full bg-blue-600 text-white",children:"Sp ti"})}),n.jsxs("h3",{className:"font-bold text-gray-900 mb-3 text-base",children:["Bui hc #",o.slotID]}),o.tutorFullname&&n.jsxs("div",{className:"mb-3 text-sm",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Gia s: "}),n.jsx("button",{onClick:()=>e(`/tutors/${o.tutorID}`),className:"text-blue-600 font-medium hover:text-blue-700 hover:underline transition-colors",children:o.tutorFullname})]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(ft,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),n.jsx("span",{className:"font-medium",children:c})]}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(st,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),n.jsxs("span",{children:[u," - ",h]})]})]})]})]})})},o.slotID)})}),n.jsxs(ye,{className:"p-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-center",children:[n.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Sn sng hc thm?"}),n.jsx("p",{className:"text-blue-100 mb-6 max-w-2xl mx-auto",children:"Tip tc tin b ca bn bng cch t thm bui hc vi cc gia s chuyn gia ca chng ti. Kin tr l cha kha  thnh tho bt k ngn ng no!"}),n.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[n.jsx(H,{onClick:()=>e("/tutors"),className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold px-8 py-3 min-w-[200px]",children:"t thm bui hc"}),n.jsx(H,{onClick:()=>e("/my-bookings"),className:"border-2 border-white bg-transparent text-white hover:bg-white hover:text-blue-600 font-semibold px-8 py-3 min-w-[200px]",children:"Xem tt c lch t"})]})]})]})]})})})};function kH(){const[e,t]=y.useState(null),{user:s,loading:r}=Mw();if(y.useEffect(()=>{const a=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");t(!!a)},[]),e===null||r)return null;if(e){const a=(s==null?void 0:s.role)==="Tutor"||(s==null?void 0:s.role)==="Admin";return n.jsxs(n.Fragment,{children:[n.jsx(Bk,{}),n.jsx(wH,{}),n.jsx(jH,{}),n.jsx(NH,{}),n.jsx(Jk,{}),n.jsx(tS,{}),!a&&n.jsx(nS,{}),n.jsx(sS,{})]})}return n.jsxs(n.Fragment,{children:[n.jsx(Bk,{}),n.jsx(rH,{}),n.jsx(Jk,{}),n.jsx(uH,{}),n.jsx(tS,{}),n.jsx(nS,{}),n.jsx(sS,{})]})}var Hh=e=>e.type==="checkbox",Ko=e=>e instanceof Date,Ns=e=>e==null;const hD=e=>typeof e=="object";var En=e=>!Ns(e)&&!Array.isArray(e)&&hD(e)&&!Ko(e),fD=e=>En(e)&&e.target?Hh(e.target)?e.target.checked:e.target.value:e,SH=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mD=(e,t)=>e.has(SH(t)),CH=e=>{const t=e.constructor&&e.constructor.prototype;return En(t)&&t.hasOwnProperty("isPrototypeOf")},kj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bt(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(kj&&(e instanceof Blob||r))&&(s||En(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!CH(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Bt(e[a]));else return e;return t}var vg=e=>/^\w*$/.test(e),Ft=e=>e===void 0,bg=e=>Array.isArray(e)?e.filter(Boolean):[],Sj=e=>bg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(e,t,s)=>{if(!t||!En(e))return s;const r=(vg(t)?[t]:Sj(t)).reduce((a,i)=>Ns(a)?a:a[i],e);return Ft(r)||r===e?Ft(e[t])?s:e[t]:r},qs=e=>typeof e=="boolean",Et=(e,t,s)=>{let r=-1;const a=vg(t)?[t]:Sj(t),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let c=s;if(r!==o){const u=e[l];c=En(u)||Array.isArray(u)?u:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const mp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Cj=re.createContext(null);Cj.displayName="HookFormContext";const Wh=()=>re.useContext(Cj),TH=e=>{const{children:t,...s}=e;return re.createElement(Cj.Provider,{value:s},t)};var pD=(e,t,s,r=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==cr.all&&(t._proxyFormState[o]=!r||cr.all),s&&(s[o]=!0),e[o]}});return a};const wg=typeof window<"u"?re.useLayoutEffect:re.useEffect;function EH(e){const t=Wh(),{control:s=t.control,disabled:r,name:a,exact:i}=e||{},[o,l]=re.useState(s._formState),c=re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return wg(()=>s._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!r&&l({...s._formState,...u})}}),[a,r,i]),re.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),re.useMemo(()=>pD(o,s,c.current,!1),[o,s])}var Ks=e=>typeof e=="string",gD=(e,t,s,r,a)=>Ks(e)?(r&&t.watch.add(e),Oe(s,e,a)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),Oe(s,i))):(r&&(t.watchAll=!0),s),Vv=e=>Ns(e)||!hD(e);function Ba(e,t,s=new WeakSet){if(Vv(e)||Vv(t))return e===t;if(Ko(e)&&Ko(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of r){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ko(o)&&Ko(l)||En(o)&&En(l)||Array.isArray(o)&&Array.isArray(l)?!Ba(o,l,s):o!==l)return!1}}return!0}function _H(e){const t=Wh(),{control:s=t.control,name:r,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=re.useRef(a),u=re.useRef(l),h=re.useRef(void 0);u.current=l;const d=re.useMemo(()=>s._getWatch(r,c.current),[s,r]),[f,m]=re.useState(u.current?u.current(d):d);return wg(()=>s._subscribe({name:r,formState:{values:!0},exact:o,callback:p=>{if(!i){const g=gD(r,s._names,p.values||s._formValues,!1,c.current);if(u.current){const b=u.current(g);Ba(b,h.current)||(m(b),h.current=b)}else m(g)}}}),[s,i,r,o]),re.useEffect(()=>s._removeUnmounted()),f}function AH(e){const t=Wh(),{name:s,disabled:r,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=mD(a._names.array,s),c=re.useMemo(()=>Oe(a._formValues,s,Oe(a._defaultValues,s,o)),[a,s,o]),u=_H({control:a,name:s,defaultValue:c,exact:!0}),h=EH({control:a,name:s,exact:!0}),d=re.useRef(e),f=re.useRef(void 0),m=re.useRef(a.register(s,{...e.rules,value:u,...qs(e.disabled)?{disabled:e.disabled}:{}}));d.current=e;const p=re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oe(h.errors,s)},isDirty:{enumerable:!0,get:()=>!!Oe(h.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Oe(h.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Oe(h.validatingFields,s)},error:{enumerable:!0,get:()=>Oe(h.errors,s)}}),[h,s]),g=re.useCallback(w=>m.current.onChange({target:{value:fD(w),name:s},type:mp.CHANGE}),[s]),b=re.useCallback(()=>m.current.onBlur({target:{value:Oe(a._formValues,s),name:s},type:mp.BLUR}),[s,a._formValues]),v=re.useCallback(w=>{const j=Oe(a._fields,s);j&&w&&(j._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:N=>w.setCustomValidity(N),reportValidity:()=>w.reportValidity()})},[a._fields,s]),x=re.useMemo(()=>({name:s,value:u,...qs(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:g,onBlur:b,ref:v}),[s,r,h.disabled,g,b,v,u]);return re.useEffect(()=>{const w=a._options.shouldUnregister||i,j=f.current;j&&j!==s&&!l&&a.unregister(j),a.register(s,{...d.current.rules,...qs(d.current.disabled)?{disabled:d.current.disabled}:{}});const N=(k,S)=>{const C=Oe(a._fields,k);C&&C._f&&(C._f.mount=S)};if(N(s,!0),w){const k=Bt(Oe(a._options.defaultValues,s,d.current.defaultValue));Et(a._defaultValues,s,k),Ft(Oe(a._formValues,s))&&Et(a._formValues,s,k)}return!l&&a.register(s),f.current=s,()=>{(l?w&&!a._state.action:w)?a.unregister(s):N(s,!1)}},[s,a,l,i]),re.useEffect(()=>{a._setDisabledField({disabled:r,name:s})},[r,s,a]),re.useMemo(()=>({field:x,formState:h,fieldState:p}),[x,h,p])}const Ro=e=>e.render(AH(e));var Tj=(e,t,s,r,a)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:a||!0}}:{},Es=e=>Array.isArray(e)?e:[e],iS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function xD(e,t){const s={};for(const r in e)if(e.hasOwnProperty(r)){const a=e[r],i=t[r];if(a&&En(a)&&i){const o=xD(a,i);En(o)&&(s[r]=o)}else e[r]&&(s[r]=i)}return s}var ds=e=>En(e)&&!Object.keys(e).length,Ej=e=>e.type==="file",Dr=e=>typeof e=="function",pp=e=>{if(!kj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yD=e=>e.type==="select-multiple",_j=e=>e.type==="radio",DH=e=>_j(e)||Hh(e),p0=e=>pp(e)&&e.isConnected;function RH(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=Ft(e)?r++:e[t[r++]];return e}function OH(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ft(e[t]))return!1;return!0}function yn(e,t){const s=Array.isArray(t)?t:vg(t)?[t]:Sj(t),r=s.length===1?e:RH(e,s),a=s.length-1,i=s[a];return r&&delete r[i],a!==0&&(En(r)&&ds(r)||Array.isArray(r)&&OH(r))&&yn(e,s.slice(0,-1)),e}var PH=e=>{for(const t in e)if(Dr(e[t]))return!0;return!1};function vD(e){return Array.isArray(e)||En(e)&&!PH(e)}function Bv(e,t={}){for(const s in e)vD(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Bv(e[s],t[s])):Ft(e[s])||(t[s]=!0);return t}function tc(e,t,s){s||(s=Bv(t));for(const r in e)vD(e[r])?Ft(t)||Vv(s[r])?s[r]=Bv(e[r],Array.isArray(e[r])?[]:{}):tc(e[r],Ns(t)?{}:t[r],s[r]):s[r]=!Ba(e[r],t[r]);return s}const oS={value:!1,isValid:!1},lS={value:!0,isValid:!0};var bD=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ft(e[0].attributes.value)?Ft(e[0].value)||e[0].value===""?lS:{value:e[0].value,isValid:!0}:lS:oS}return oS},wD=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>Ft(e)?e:t?e===""?NaN:e&&+e:s&&Ks(e)?new Date(e):r?r(e):e;const cS={isValid:!1,value:null};var jD=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,cS):cS;function uS(e){const t=e.ref;return Ej(t)?t.files:_j(t)?jD(e.refs).value:yD(t)?[...t.selectedOptions].map(({value:s})=>s):Hh(t)?bD(e.refs).value:wD(Ft(t.value)?e.ref.value:t.value,e)}var IH=(e,t,s,r)=>{const a={};for(const i of e){const o=Oe(t,i);o&&Et(a,i,o._f)}return{criteriaMode:s,names:[...e],fields:a,shouldUseNativeValidation:r}},gp=e=>e instanceof RegExp,ld=e=>Ft(e)?e:gp(e)?e.source:En(e)?gp(e.value)?e.value.source:e.value:e,kc=e=>({isOnSubmit:!e||e===cr.onSubmit,isOnBlur:e===cr.onBlur,isOnChange:e===cr.onChange,isOnAll:e===cr.all,isOnTouch:e===cr.onTouched});const dS="AsyncFunction";var MH=e=>!!e&&!!e.validate&&!!(Dr(e.validate)&&e.validate.constructor.name===dS||En(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===dS)),LH=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),zv=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Pc=(e,t,s,r)=>{for(const a of s||Object.keys(e)){const i=Oe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Pc(l,t))break}else if(En(l)&&Pc(l,t))break}}};function hS(e,t,s){const r=Oe(e,s);if(r||vg(s))return{error:r,name:s};const a=s.split(".");for(;a.length;){const i=a.join("."),o=Oe(t,i),l=Oe(e,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:s}}var FH=(e,t,s,r)=>{s(e);const{name:a,...i}=e;return ds(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||cr.all))},$H=(e,t,s)=>!e||!t||e===t||Es(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),UH=(e,t,s,r,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(t||e):(s?r.isOnBlur:a.isOnBlur)?!e:(s?r.isOnChange:a.isOnChange)?e:!0,VH=(e,t)=>!bg(Oe(e,t)).length&&yn(e,t),ND=(e,t,s)=>{const r=Es(Oe(e,s));return Et(r,"root",t[s]),Et(e,s,r),e};function fS(e,t,s="validate"){if(Ks(e)||Array.isArray(e)&&e.every(Ks)||qs(e)&&!e)return{type:s,message:Ks(e)?e:"",ref:t}}var Wl=e=>En(e)&&!gp(e)?e:{value:e,message:""},qv=async(e,t,s,r,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:h,min:d,max:f,pattern:m,validate:p,name:g,valueAsNumber:b,mount:v}=e._f,x=Oe(s,g);if(!v||t.has(g))return{};const w=l?l[0]:o,j=A=>{a&&w.reportValidity&&(w.setCustomValidity(qs(A)?"":A||""),w.reportValidity())},N={},k=_j(o),S=Hh(o),C=k||S,E=(b||Ej(o))&&Ft(o.value)&&Ft(x)||pp(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,T=Tj.bind(null,g,r,N),_=(A,D,R,U=Oa.maxLength,I=Oa.minLength)=>{const L=A?D:R;N[g]={type:A?U:I,message:L,ref:o,...T(A?U:I,L)}};if(i?!Array.isArray(x)||!x.length:c&&(!C&&(E||Ns(x))||qs(x)&&!x||S&&!bD(l).isValid||k&&!jD(l).isValid)){const{value:A,message:D}=Ks(c)?{value:!!c,message:c}:Wl(c);if(A&&(N[g]={type:Oa.required,message:D,ref:w,...T(Oa.required,D)},!r))return j(D),N}if(!E&&(!Ns(d)||!Ns(f))){let A,D;const R=Wl(f),U=Wl(d);if(!Ns(x)&&!isNaN(x)){const I=o.valueAsNumber||x&&+x;Ns(R.value)||(A=I>R.value),Ns(U.value)||(D=I<U.value)}else{const I=o.valueAsDate||new Date(x),L=F=>new Date(new Date().toDateString()+" "+F),M=o.type=="time",$=o.type=="week";Ks(R.value)&&x&&(A=M?L(x)>L(R.value):$?x>R.value:I>new Date(R.value)),Ks(U.value)&&x&&(D=M?L(x)<L(U.value):$?x<U.value:I<new Date(U.value))}if((A||D)&&(_(!!A,R.message,U.message,Oa.max,Oa.min),!r))return j(N[g].message),N}if((u||h)&&!E&&(Ks(x)||i&&Array.isArray(x))){const A=Wl(u),D=Wl(h),R=!Ns(A.value)&&x.length>+A.value,U=!Ns(D.value)&&x.length<+D.value;if((R||U)&&(_(R,A.message,D.message),!r))return j(N[g].message),N}if(m&&!E&&Ks(x)){const{value:A,message:D}=Wl(m);if(gp(A)&&!x.match(A)&&(N[g]={type:Oa.pattern,message:D,ref:o,...T(Oa.pattern,D)},!r))return j(D),N}if(p){if(Dr(p)){const A=await p(x,s),D=fS(A,w);if(D&&(N[g]={...D,...T(Oa.validate,D.message)},!r))return j(D.message),N}else if(En(p)){let A={};for(const D in p){if(!ds(A)&&!r)break;const R=fS(await p[D](x,s),w,D);R&&(A={...R,...T(D,R.message)},j(R.message),r&&(N[g]=A))}if(!ds(A)&&(N[g]={ref:w,...A},!r))return N}}return j(!0),N};const BH={mode:cr.onSubmit,reValidateMode:cr.onChange,shouldFocusError:!0};function zH(e={}){let t={...BH,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},a=En(t.defaultValues)||En(t.values)?Bt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Bt(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...h};const f={array:iS(),state:iS()},m=t.criteriaMode===cr.all,p=K=>Z=>{clearTimeout(u),u=setTimeout(K,Z)},g=async K=>{if(!t.disabled&&(h.isValid||d.isValid||K)){const Z=t.resolver?ds((await S()).errors):await E(r,!0);Z!==s.isValid&&f.state.next({isValid:Z})}},b=(K,Z)=>{!t.disabled&&(h.isValidating||h.validatingFields||d.isValidating||d.validatingFields)&&((K||Array.from(l.mount)).forEach(Q=>{Q&&(Z?Et(s.validatingFields,Q,Z):yn(s.validatingFields,Q))}),f.state.next({validatingFields:s.validatingFields,isValidating:!ds(s.validatingFields)}))},v=(K,Z=[],Q,pe,me=!0,ce=!0)=>{if(pe&&Q&&!t.disabled){if(o.action=!0,ce&&Array.isArray(Oe(r,K))){const Se=Q(Oe(r,K),pe.argA,pe.argB);me&&Et(r,K,Se)}if(ce&&Array.isArray(Oe(s.errors,K))){const Se=Q(Oe(s.errors,K),pe.argA,pe.argB);me&&Et(s.errors,K,Se),VH(s.errors,K)}if((h.touchedFields||d.touchedFields)&&ce&&Array.isArray(Oe(s.touchedFields,K))){const Se=Q(Oe(s.touchedFields,K),pe.argA,pe.argB);me&&Et(s.touchedFields,K,Se)}(h.dirtyFields||d.dirtyFields)&&(s.dirtyFields=tc(a,i)),f.state.next({name:K,isDirty:_(K,Z),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Et(i,K,Z)},x=(K,Z)=>{Et(s.errors,K,Z),f.state.next({errors:s.errors})},w=K=>{s.errors=K,f.state.next({errors:s.errors,isValid:!1})},j=(K,Z,Q,pe)=>{const me=Oe(r,K);if(me){const ce=Oe(i,K,Ft(Q)?Oe(a,K):Q);Ft(ce)||pe&&pe.defaultChecked||Z?Et(i,K,Z?ce:uS(me._f)):R(K,ce),o.mount&&g()}},N=(K,Z,Q,pe,me)=>{let ce=!1,Se=!1;const He={name:K};if(!t.disabled){if(!Q||pe){(h.isDirty||d.isDirty)&&(Se=s.isDirty,s.isDirty=He.isDirty=_(),ce=Se!==He.isDirty);const Ve=Ba(Oe(a,K),Z);Se=!!Oe(s.dirtyFields,K),Ve?yn(s.dirtyFields,K):Et(s.dirtyFields,K,!0),He.dirtyFields=s.dirtyFields,ce=ce||(h.dirtyFields||d.dirtyFields)&&Se!==!Ve}if(Q){const Ve=Oe(s.touchedFields,K);Ve||(Et(s.touchedFields,K,Q),He.touchedFields=s.touchedFields,ce=ce||(h.touchedFields||d.touchedFields)&&Ve!==Q)}ce&&me&&f.state.next(He)}return ce?He:{}},k=(K,Z,Q,pe)=>{const me=Oe(s.errors,K),ce=(h.isValid||d.isValid)&&qs(Z)&&s.isValid!==Z;if(t.delayError&&Q?(c=p(()=>x(K,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?Et(s.errors,K,Q):yn(s.errors,K)),(Q?!Ba(me,Q):me)||!ds(pe)||ce){const Se={...pe,...ce&&qs(Z)?{isValid:Z}:{},errors:s.errors,name:K};s={...s,...Se},f.state.next(Se)}},S=async K=>{b(K,!0);const Z=await t.resolver(i,t.context,IH(K||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(K),Z},C=async K=>{const{errors:Z}=await S(K);if(K)for(const Q of K){const pe=Oe(Z,Q);pe?Et(s.errors,Q,pe):yn(s.errors,Q)}else s.errors=Z;return Z},E=async(K,Z,Q={valid:!0})=>{for(const pe in K){const me=K[pe];if(me){const{_f:ce,...Se}=me;if(ce){const He=l.array.has(ce.name),Ve=me._f&&MH(me._f);Ve&&h.validatingFields&&b([ce.name],!0);const xn=await qv(me,l.disabled,i,m,t.shouldUseNativeValidation&&!Z,He);if(Ve&&h.validatingFields&&b([ce.name]),xn[ce.name]&&(Q.valid=!1,Z))break;!Z&&(Oe(xn,ce.name)?He?ND(s.errors,xn,ce.name):Et(s.errors,ce.name,xn[ce.name]):yn(s.errors,ce.name))}!ds(Se)&&await E(Se,Z,Q)}}return Q.valid},T=()=>{for(const K of l.unMount){const Z=Oe(r,K);Z&&(Z._f.refs?Z._f.refs.every(Q=>!p0(Q)):!p0(Z._f.ref))&&V(K)}l.unMount=new Set},_=(K,Z)=>!t.disabled&&(K&&Z&&Et(i,K,Z),!Ba(F(),a)),A=(K,Z,Q)=>gD(K,l,{...o.mount?i:Ft(Z)?a:Ks(K)?{[K]:Z}:Z},Q,Z),D=K=>bg(Oe(o.mount?i:a,K,t.shouldUnregister?Oe(a,K,[]):[])),R=(K,Z,Q={})=>{const pe=Oe(r,K);let me=Z;if(pe){const ce=pe._f;ce&&(!ce.disabled&&Et(i,K,wD(Z,ce)),me=pp(ce.ref)&&Ns(Z)?"":Z,yD(ce.ref)?[...ce.ref.options].forEach(Se=>Se.selected=me.includes(Se.value)):ce.refs?Hh(ce.ref)?ce.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(me)?Se.checked=!!me.find(He=>He===Se.value):Se.checked=me===Se.value||!!me)}):ce.refs.forEach(Se=>Se.checked=Se.value===me):Ej(ce.ref)?ce.ref.value="":(ce.ref.value=me,ce.ref.type||f.state.next({name:K,values:Bt(i)})))}(Q.shouldDirty||Q.shouldTouch)&&N(K,me,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&$(K)},U=(K,Z,Q)=>{for(const pe in Z){if(!Z.hasOwnProperty(pe))return;const me=Z[pe],ce=K+"."+pe,Se=Oe(r,ce);(l.array.has(K)||En(me)||Se&&!Se._f)&&!Ko(me)?U(ce,me,Q):R(ce,me,Q)}},I=(K,Z,Q={})=>{const pe=Oe(r,K),me=l.array.has(K),ce=Bt(Z);Et(i,K,ce),me?(f.array.next({name:K,values:Bt(i)}),(h.isDirty||h.dirtyFields||d.isDirty||d.dirtyFields)&&Q.shouldDirty&&f.state.next({name:K,dirtyFields:tc(a,i),isDirty:_(K,ce)})):pe&&!pe._f&&!Ns(ce)?U(K,ce,Q):R(K,ce,Q),zv(K,l)&&f.state.next({...s,name:K}),f.state.next({name:o.mount?K:void 0,values:Bt(i)})},L=async K=>{o.mount=!0;const Z=K.target;let Q=Z.name,pe=!0;const me=Oe(r,Q),ce=Ve=>{pe=Number.isNaN(Ve)||Ko(Ve)&&isNaN(Ve.getTime())||Ba(Ve,Oe(i,Q,Ve))},Se=kc(t.mode),He=kc(t.reValidateMode);if(me){let Ve,xn;const Ct=Z.type?uS(me._f):fD(K),Ot=K.type===mp.BLUR||K.type===mp.FOCUS_OUT,Ea=!LH(me._f)&&!t.resolver&&!Oe(s.errors,Q)&&!me._f.deps||UH(Ot,Oe(s.touchedFields,Q),s.isSubmitted,He,Se),tr=zv(Q,l,Ot);Et(i,Q,Ct),Ot?(!Z||!Z.readOnly)&&(me._f.onBlur&&me._f.onBlur(K),c&&c(0)):me._f.onChange&&me._f.onChange(K);const Dn=N(Q,Ct,Ot),Qr=!ds(Dn)||tr;if(!Ot&&f.state.next({name:Q,type:K.type,values:Bt(i)}),Ea)return(h.isValid||d.isValid)&&(t.mode==="onBlur"?Ot&&g():Ot||g()),Qr&&f.state.next({name:Q,...tr?{}:Dn});if(!Ot&&tr&&f.state.next({...s}),t.resolver){const{errors:_a}=await S([Q]);if(ce(Ct),pe){const Aa=hS(s.errors,r,Q),Da=hS(_a,r,Aa.name||Q);Ve=Da.error,Q=Da.name,xn=ds(_a)}}else b([Q],!0),Ve=(await qv(me,l.disabled,i,m,t.shouldUseNativeValidation))[Q],b([Q]),ce(Ct),pe&&(Ve?xn=!1:(h.isValid||d.isValid)&&(xn=await E(r,!0)));pe&&(me._f.deps&&(!Array.isArray(me._f.deps)||me._f.deps.length>0)&&$(me._f.deps),k(Q,xn,Ve,Dn))}},M=(K,Z)=>{if(Oe(s.errors,Z)&&K.focus)return K.focus(),1},$=async(K,Z={})=>{let Q,pe;const me=Es(K);if(t.resolver){const ce=await C(Ft(K)?K:me);Q=ds(ce),pe=K?!me.some(Se=>Oe(ce,Se)):Q}else K?(pe=(await Promise.all(me.map(async ce=>{const Se=Oe(r,ce);return await E(Se&&Se._f?{[ce]:Se}:Se)}))).every(Boolean),!(!pe&&!s.isValid)&&g()):pe=Q=await E(r);return f.state.next({...!Ks(K)||(h.isValid||d.isValid)&&Q!==s.isValid?{}:{name:K},...t.resolver||!K?{isValid:Q}:{},errors:s.errors}),Z.shouldFocus&&!pe&&Pc(r,M,K?me:l.mount),pe},F=(K,Z)=>{let Q={...o.mount?i:a};return Z&&(Q=xD(Z.dirtyFields?s.dirtyFields:s.touchedFields,Q)),Ft(K)?Q:Ks(K)?Oe(Q,K):K.map(pe=>Oe(Q,pe))},O=(K,Z)=>({invalid:!!Oe((Z||s).errors,K),isDirty:!!Oe((Z||s).dirtyFields,K),error:Oe((Z||s).errors,K),isValidating:!!Oe(s.validatingFields,K),isTouched:!!Oe((Z||s).touchedFields,K)}),q=K=>{K&&Es(K).forEach(Z=>yn(s.errors,Z)),f.state.next({errors:K?s.errors:{}})},B=(K,Z,Q)=>{const pe=(Oe(r,K,{_f:{}})._f||{}).ref,me=Oe(s.errors,K)||{},{ref:ce,message:Se,type:He,...Ve}=me;Et(s.errors,K,{...Ve,...Z,ref:pe}),f.state.next({name:K,errors:s.errors,isValid:!1}),Q&&Q.shouldFocus&&pe&&pe.focus&&pe.focus()},z=(K,Z)=>Dr(K)?f.state.subscribe({next:Q=>"values"in Q&&K(A(void 0,Z),Q)}):A(K,Z,!0),W=K=>f.state.subscribe({next:Z=>{$H(K.name,Z.name,K.exact)&&FH(Z,K.formState||h,Re,K.reRenderRoot)&&K.callback({values:{...i},...s,...Z,defaultValues:a})}}).unsubscribe,P=K=>(o.mount=!0,d={...d,...K.formState},W({...K,formState:d})),V=(K,Z={})=>{for(const Q of K?Es(K):l.mount)l.mount.delete(Q),l.array.delete(Q),Z.keepValue||(yn(r,Q),yn(i,Q)),!Z.keepError&&yn(s.errors,Q),!Z.keepDirty&&yn(s.dirtyFields,Q),!Z.keepTouched&&yn(s.touchedFields,Q),!Z.keepIsValidating&&yn(s.validatingFields,Q),!t.shouldUnregister&&!Z.keepDefaultValue&&yn(a,Q);f.state.next({values:Bt(i)}),f.state.next({...s,...Z.keepDirty?{isDirty:_()}:{}}),!Z.keepIsValid&&g()},Y=({disabled:K,name:Z})=>{(qs(K)&&o.mount||K||l.disabled.has(Z))&&(K?l.disabled.add(Z):l.disabled.delete(Z))},J=(K,Z={})=>{let Q=Oe(r,K);const pe=qs(Z.disabled)||qs(t.disabled);return Et(r,K,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:K}},name:K,mount:!0,...Z}}),l.mount.add(K),Q?Y({disabled:qs(Z.disabled)?Z.disabled:t.disabled,name:K}):j(K,!0,Z.value),{...pe?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:ld(Z.min),max:ld(Z.max),minLength:ld(Z.minLength),maxLength:ld(Z.maxLength),pattern:ld(Z.pattern)}:{},name:K,onChange:L,onBlur:L,ref:me=>{if(me){J(K,Z),Q=Oe(r,K);const ce=Ft(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,Se=DH(ce),He=Q._f.refs||[];if(Se?He.find(Ve=>Ve===ce):ce===Q._f.ref)return;Et(r,K,{_f:{...Q._f,...Se?{refs:[...He.filter(p0),ce,...Array.isArray(Oe(a,K))?[{}]:[]],ref:{type:ce.type,name:K}}:{ref:ce}}}),j(K,!1,void 0,ce)}else Q=Oe(r,K,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(mD(l.array,K)&&o.action)&&l.unMount.add(K)}}},te=()=>t.shouldFocusError&&Pc(r,M,l.mount),ie=K=>{qs(K)&&(f.state.next({disabled:K}),Pc(r,(Z,Q)=>{const pe=Oe(r,Q);pe&&(Z.disabled=pe._f.disabled||K,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(me=>{me.disabled=pe._f.disabled||K}))},0,!1))},de=(K,Z)=>async Q=>{let pe;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let me=Bt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:ce,values:Se}=await S();s.errors=ce,me=Bt(Se)}else await E(r);if(l.disabled.size)for(const ce of l.disabled)yn(me,ce);if(yn(s.errors,"root"),ds(s.errors)){f.state.next({errors:{}});try{await K(me,Q)}catch(ce){pe=ce}}else Z&&await Z({...s.errors},Q),te(),setTimeout(te);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ds(s.errors)&&!pe,submitCount:s.submitCount+1,errors:s.errors}),pe)throw pe},G=(K,Z={})=>{Oe(r,K)&&(Ft(Z.defaultValue)?I(K,Bt(Oe(a,K))):(I(K,Z.defaultValue),Et(a,K,Bt(Z.defaultValue))),Z.keepTouched||yn(s.touchedFields,K),Z.keepDirty||(yn(s.dirtyFields,K),s.isDirty=Z.defaultValue?_(K,Bt(Oe(a,K))):_()),Z.keepError||(yn(s.errors,K),h.isValid&&g()),f.state.next({...s}))},X=(K,Z={})=>{const Q=K?Bt(K):a,pe=Bt(Q),me=ds(K),ce=me?a:pe;if(Z.keepDefaultValues||(a=Q),!Z.keepValues){if(Z.keepDirtyValues){const Se=new Set([...l.mount,...Object.keys(tc(a,i))]);for(const He of Array.from(Se))Oe(s.dirtyFields,He)?Et(ce,He,Oe(i,He)):I(He,Oe(ce,He))}else{if(kj&&Ft(K))for(const Se of l.mount){const He=Oe(r,Se);if(He&&He._f){const Ve=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(pp(Ve)){const xn=Ve.closest("form");if(xn){xn.reset();break}}}}if(Z.keepFieldsRef)for(const Se of l.mount)I(Se,Oe(ce,Se));else r={}}i=t.shouldUnregister?Z.keepDefaultValues?Bt(a):{}:Bt(ce),f.array.next({values:{...ce}}),f.state.next({values:{...ce}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:Z.keepSubmitCount?s.submitCount:0,isDirty:me?!1:Z.keepDirty?s.isDirty:!!(Z.keepDefaultValues&&!Ba(K,a)),isSubmitted:Z.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:me?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?tc(a,i):s.dirtyFields:Z.keepDefaultValues&&K?tc(a,K):Z.keepDirty?s.dirtyFields:{},touchedFields:Z.keepTouched?s.touchedFields:{},errors:Z.keepErrors?s.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},le=(K,Z)=>X(Dr(K)?K(i):K,Z),Ne=(K,Z={})=>{const Q=Oe(r,K),pe=Q&&Q._f;if(pe){const me=pe.refs?pe.refs[0]:pe.ref;me.focus&&(me.focus(),Z.shouldSelect&&Dr(me.select)&&me.select())}},Re=K=>{s={...s,...K}},ae={control:{register:J,unregister:V,getFieldState:O,handleSubmit:de,setError:B,_subscribe:W,_runSchema:S,_focusError:te,_getWatch:A,_getDirty:_,_setValid:g,_setFieldArray:v,_setDisabledField:Y,_setErrors:w,_getFieldArray:D,_reset:X,_resetDefaultValues:()=>Dr(t.defaultValues)&&t.defaultValues().then(K=>{le(K,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ie,_subjects:f,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(K){o=K},get _defaultValues(){return a},get _names(){return l},set _names(K){l=K},get _formState(){return s},get _options(){return t},set _options(K){t={...t,...K}}},subscribe:P,trigger:$,register:J,handleSubmit:de,watch:z,setValue:I,getValues:F,reset:le,resetField:G,clearErrors:q,unregister:V,setError:B,setFocus:Ne,getFieldState:O};return{...ae,formControl:ae}}var gi=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=(Math.random()*16+e)%16|0;return(t=="x"?s:s&3|8).toString(16)})},g0=(e,t,s={})=>s.shouldFocus||Ft(s.shouldFocus)?s.focusName||`${e}.${Ft(s.focusIndex)?t:s.focusIndex}.`:"",x0=(e,t)=>[...e,...Es(t)],y0=e=>Array.isArray(e)?e.map(()=>{}):void 0;function v0(e,t,s){return[...e.slice(0,t),...Es(s),...e.slice(t)]}var b0=(e,t,s)=>Array.isArray(e)?(Ft(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(t,1)[0]),e):[],w0=(e,t)=>[...Es(t),...Es(e)];function qH(e,t){let s=0;const r=[...e];for(const a of t)r.splice(a-s,1),s++;return bg(r).length?r:[]}var j0=(e,t)=>Ft(t)?[]:qH(e,Es(t).sort((s,r)=>s-r)),N0=(e,t,s)=>{[e[t],e[s]]=[e[s],e[t]]},mS=(e,t,s)=>(e[t]=s,e);function HH(e){const t=Wh(),{control:s=t.control,name:r,keyName:a="id",shouldUnregister:i,rules:o}=e,[l,c]=re.useState(s._getFieldArray(r)),u=re.useRef(s._getFieldArray(r).map(gi)),h=re.useRef(!1);s._names.array.add(r),re.useMemo(()=>o&&l.length>=0&&s.register(r,o),[s,r,l.length,o]),wg(()=>s._subjects.array.subscribe({next:({values:j,name:N})=>{if(N===r||!N){const k=Oe(j,r);Array.isArray(k)&&(c(k),u.current=k.map(gi))}}}).unsubscribe,[s,r]);const d=re.useCallback(j=>{h.current=!0,s._setFieldArray(r,j)},[s,r]),f=(j,N)=>{const k=Es(Bt(j)),S=x0(s._getFieldArray(r),k);s._names.focus=g0(r,S.length-1,N),u.current=x0(u.current,k.map(gi)),d(S),c(S),s._setFieldArray(r,S,x0,{argA:y0(j)})},m=(j,N)=>{const k=Es(Bt(j)),S=w0(s._getFieldArray(r),k);s._names.focus=g0(r,0,N),u.current=w0(u.current,k.map(gi)),d(S),c(S),s._setFieldArray(r,S,w0,{argA:y0(j)})},p=j=>{const N=j0(s._getFieldArray(r),j);u.current=j0(u.current,j),d(N),c(N),!Array.isArray(Oe(s._fields,r))&&Et(s._fields,r,void 0),s._setFieldArray(r,N,j0,{argA:j})},g=(j,N,k)=>{const S=Es(Bt(N)),C=v0(s._getFieldArray(r),j,S);s._names.focus=g0(r,j,k),u.current=v0(u.current,j,S.map(gi)),d(C),c(C),s._setFieldArray(r,C,v0,{argA:j,argB:y0(N)})},b=(j,N)=>{const k=s._getFieldArray(r);N0(k,j,N),N0(u.current,j,N),d(k),c(k),s._setFieldArray(r,k,N0,{argA:j,argB:N},!1)},v=(j,N)=>{const k=s._getFieldArray(r);b0(k,j,N),b0(u.current,j,N),d(k),c(k),s._setFieldArray(r,k,b0,{argA:j,argB:N},!1)},x=(j,N)=>{const k=Bt(N),S=mS(s._getFieldArray(r),j,k);u.current=[...S].map((C,E)=>!C||E===j?gi():u.current[E]),d(S),c([...S]),s._setFieldArray(r,S,mS,{argA:j,argB:k},!0,!1)},w=j=>{const N=Es(Bt(j));u.current=N.map(gi),d([...N]),c([...N]),s._setFieldArray(r,[...N],k=>k,{},!0,!1)};return re.useEffect(()=>{if(s._state.action=!1,zv(r,s._names)&&s._subjects.state.next({...s._formState}),h.current&&(!kc(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!kc(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([r]).then(j=>{const N=Oe(j.errors,r),k=Oe(s._formState.errors,r);(k?!N&&k.type||N&&(k.type!==N.type||k.message!==N.message):N&&N.type)&&(N?Et(s._formState.errors,r,N):yn(s._formState.errors,r),s._subjects.state.next({errors:s._formState.errors}))});else{const j=Oe(s._fields,r);j&&j._f&&!(kc(s._options.reValidateMode).isOnSubmit&&kc(s._options.mode).isOnSubmit)&&qv(j,s._names.disabled,s._formValues,s._options.criteriaMode===cr.all,s._options.shouldUseNativeValidation,!0).then(N=>!ds(N)&&s._subjects.state.next({errors:ND(s._formState.errors,N,r)}))}s._subjects.state.next({name:r,values:Bt(s._formValues)}),s._names.focus&&Pc(s._fields,(j,N)=>{if(s._names.focus&&N.startsWith(s._names.focus)&&j.focus)return j.focus(),1}),s._names.focus="",s._setValid(),h.current=!1},[l,r,s]),re.useEffect(()=>(!Oe(s._formValues,r)&&s._setFieldArray(r),()=>{const j=(N,k)=>{const S=Oe(s._fields,N);S&&S._f&&(S._f.mount=k)};s._options.shouldUnregister||i?s.unregister(r):j(r,!1)}),[r,s,a,i]),{swap:re.useCallback(b,[d,r,s]),move:re.useCallback(v,[d,r,s]),prepend:re.useCallback(m,[d,r,s]),append:re.useCallback(f,[d,r,s]),remove:re.useCallback(p,[d,r,s]),insert:re.useCallback(g,[d,r,s]),update:re.useCallback(x,[d,r,s]),replace:re.useCallback(w,[d,r,s]),fields:re.useMemo(()=>l.map((j,N)=>({...j,[a]:u.current[N]||gi()})),[l,a])}}function Na(e={}){const t=re.useRef(void 0),s=re.useRef(void 0),[r,a]=re.useState({isDirty:!1,isValidating:!1,isLoading:Dr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Dr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Dr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=zH(e);t.current={...l,formState:r}}const i=t.current.control;return i._options=e,wg(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),re.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),re.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),re.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),re.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),re.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),re.useEffect(()=>{e.values&&!Ba(e.values,s.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),re.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=pD(r,i),t.current}const pS=(e,t,s)=>{if(e&&"reportValidity"in e){const r=Oe(s,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Hv=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?pS(r.ref,s,e):r&&r.refs&&r.refs.forEach(a=>pS(a,s,e))}},gS=(e,t)=>{t.shouldUseNativeValidation&&Hv(e,t);const s={};for(const r in e){const a=Oe(t.fields,r),i=Object.assign(e[r]||{},{ref:a&&a.ref});if(WH(t.names||Object.keys(e),r)){const o=Object.assign({},Oe(s,r));Et(o,"root",i),Et(s,r,o)}else Et(s,r,i)}return s},WH=(e,t)=>{const s=xS(t);return e.some(r=>xS(r).match(`^${s}\\.\\d+`))};function xS(e){return e.replace(/\]|\[/g,"")}function we(e,t,s){function r(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,c);for(const h in o.prototype)h in l||Object.defineProperty(l,h,{value:o.prototype[h].bind(l)});l._zod.constr=o,l._zod.def=c}const a=(s==null?void 0:s.Parent)??Object;class i extends a{}Object.defineProperty(i,"name",{value:e});function o(l){var c;const u=s!=null&&s.Parent?new i:this;r(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const h of u._zod.deferred)h();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return s!=null&&s.Parent&&l instanceof s.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class Ic extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class kD extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const SD={};function jl(e){return SD}function KH(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function Wv(e,t){return typeof t=="bigint"?t.toString():t}function Aj(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Dj(e){return e==null}function Rj(e){const t=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(t,s)}function GH(e,t){const s=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c!=null&&c[1]&&(a=Number.parseInt(c[1]))}const i=s>a?s:a,o=Number.parseInt(e.toFixed(i).replace(".","")),l=Number.parseInt(t.toFixed(i).replace(".",""));return o%l/10**i}const yS=Symbol("evaluating");function Ut(e,t,s){let r;Object.defineProperty(e,t,{get(){if(r!==yS)return r===void 0&&(r=yS,r=s()),r},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Ll(e,t,s){Object.defineProperty(e,t,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Fl(...e){const t={};for(const s of e){const r=Object.getOwnPropertyDescriptors(s);Object.assign(t,r)}return Object.defineProperties({},t)}function vS(e){return JSON.stringify(e)}const CD="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function xp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const YH=Aj(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ph(e){if(xp(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(xp(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function TD(e){return ph(e)?{...e}:Array.isArray(e)?[...e]:e}const QH=new Set(["string","number","symbol"]);function jg(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bo(e,t,s){const r=new e._zod.constr(t??e._zod.def);return(!t||s!=null&&s.parent)&&(r._zod.parent=e),r}function Ze(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function ZH(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const XH={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function JH(e,t){const s=e._zod.def,r=Fl(e._zod.def,{get shape(){const a={};for(const i in t){if(!(i in s.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(a[i]=s.shape[i])}return Ll(this,"shape",a),a},checks:[]});return bo(e,r)}function eW(e,t){const s=e._zod.def,r=Fl(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const i in t){if(!(i in s.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete a[i]}return Ll(this,"shape",a),a},checks:[]});return bo(e,r)}function tW(e,t){if(!ph(t))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Fl(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Ll(this,"shape",i),i},checks:[]});return bo(e,a)}function nW(e,t){if(!ph(t))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Ll(this,"shape",r),r},checks:e._zod.def.checks};return bo(e,s)}function sW(e,t){const s=Fl(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Ll(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return bo(e,s)}function rW(e,t,s){const r=Fl(t._zod.def,{get shape(){const a=t._zod.def.shape,i={...a};if(s)for(const o in s){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);s[o]&&(i[o]=e?new e({type:"optional",innerType:a[o]}):a[o])}else for(const o in a)i[o]=e?new e({type:"optional",innerType:a[o]}):a[o];return Ll(this,"shape",i),i},checks:[]});return bo(t,r)}function aW(e,t,s){const r=Fl(t._zod.def,{get shape(){const a=t._zod.def.shape,i={...a};if(s)for(const o in s){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);s[o]&&(i[o]=new e({type:"nonoptional",innerType:a[o]}))}else for(const o in a)i[o]=new e({type:"nonoptional",innerType:a[o]});return Ll(this,"shape",i),i},checks:[]});return bo(t,r)}function Sc(e,t=0){var s;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((s=e.issues[r])==null?void 0:s.continue)!==!0)return!0;return!1}function ED(e,t){return t.map(s=>{var r;return(r=s).path??(r.path=[]),s.path.unshift(e),s})}function If(e){return typeof e=="string"?e:e==null?void 0:e.message}function Nl(e,t,s){var a,i,o,l,c,u;const r={...e,path:e.path??[]};if(!e.message){const h=If((o=(i=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??If((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??If((c=s.customError)==null?void 0:c.call(s,e))??If((u=s.localeError)==null?void 0:u.call(s,e))??"Invalid input";r.message=h}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Oj(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function gh(...e){const[t,s,r]=e;return typeof t=="string"?{message:t,code:"custom",input:s,inst:r}:{...t}}const _D=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Wv,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Pj=we("$ZodError",_D),Ng=we("$ZodError",_D,{Parent:Error});function iW(e,t=s=>s.message){const s={},r=[];for(const a of e.issues)a.path.length>0?(s[a.path[0]]=s[a.path[0]]||[],s[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:s}}function oW(e,t=s=>s.message){const s={_errors:[]},r=a=>{for(const i of a.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>r({issues:o}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)s._errors.push(t(i));else{let o=s,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return r(e),s}const kg=e=>(t,s,r,a)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:s,issues:[]},i);if(o instanceof Promise)throw new Ic;if(o.issues.length){const l=new((a==null?void 0:a.Err)??e)(o.issues.map(c=>Nl(c,i,jl())));throw CD(l,a==null?void 0:a.callee),l}return o.value},lW=kg(Ng),Sg=e=>async(t,s,r,a)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:s,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((a==null?void 0:a.Err)??e)(o.issues.map(c=>Nl(c,i,jl())));throw CD(l,a==null?void 0:a.callee),l}return o.value},cW=Sg(Ng),Cg=e=>(t,s,r)=>{const a=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:s,issues:[]},a);if(i instanceof Promise)throw new Ic;return i.issues.length?{success:!1,error:new(e??Pj)(i.issues.map(o=>Nl(o,a,jl())))}:{success:!0,data:i.value}},uW=Cg(Ng),Tg=e=>async(t,s,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:s,issues:[]},a);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>Nl(o,a,jl())))}:{success:!0,data:i.value}},dW=Tg(Ng),hW=e=>(t,s,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kg(e)(t,s,a)},fW=e=>(t,s,r)=>kg(e)(t,s,r),mW=e=>async(t,s,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Sg(e)(t,s,a)},pW=e=>async(t,s,r)=>Sg(e)(t,s,r),gW=e=>(t,s,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Cg(e)(t,s,a)},xW=e=>(t,s,r)=>Cg(e)(t,s,r),yW=e=>async(t,s,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Tg(e)(t,s,a)},vW=e=>async(t,s,r)=>Tg(e)(t,s,r),bW=/^[cC][^\s-]{8,}$/,wW=/^[0-9a-z]+$/,jW=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,NW=/^[0-9a-vA-V]{20}$/,kW=/^[A-Za-z0-9]{27}$/,SW=/^[a-zA-Z0-9_-]{21}$/,CW=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,TW=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bS=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,EW=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_W="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function AW(){return new RegExp(_W,"u")}const DW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RW=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,OW=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,PW=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IW=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,AD=/^[A-Za-z0-9_-]*$/,MW=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,LW=/^\+(?:[0-9]){6,14}[0-9]$/,DD="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",FW=new RegExp(`^${DD}$`);function RD(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function $W(e){return new RegExp(`^${RD(e)}$`)}function UW(e){const t=RD({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${s.join("|")})`;return new RegExp(`^${DD}T(?:${r})$`)}const VW=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},BW=/^-?\d+$/,zW=/^-?\d+(?:\.\d+)?/,qW=/^(?:true|false)$/i,HW=/^[^A-Z]*$/,WW=/^[^a-z]*$/,Ps=we("$ZodCheck",(e,t)=>{var s;e._zod??(e._zod={}),e._zod.def=t,(s=e._zod).onattach??(s.onattach=[])}),OD={number:"number",bigint:"bigint",object:"date"},PD=we("$ZodCheckLessThan",(e,t)=>{Ps.init(e,t);const s=OD[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,i=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:s,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ID=we("$ZodCheckGreaterThan",(e,t)=>{Ps.init(e,t);const s=OD[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,i=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:s,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),KW=we("$ZodCheckMultipleOf",(e,t)=>{Ps.init(e,t),e._zod.onattach.push(s=>{var r;(r=s._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=s=>{if(typeof s.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%t.value===BigInt(0):GH(s.value,t.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:t.value,input:s.value,inst:e,continue:!t.abort})}}),GW=we("$ZodCheckNumberFormat",(e,t)=>{var o;Ps.init(e,t),t.format=t.format||"float64";const s=(o=t.format)==null?void 0:o.includes("int"),r=s?"int":"number",[a,i]=XH[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=a,c.maximum=i,s&&(c.pattern=BW)}),e._zod.check=l=>{const c=l.value;if(s){if(!Number.isInteger(c)){l.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<a&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>i&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:e})}}),YW=we("$ZodCheckMaxLength",(e,t)=>{var s;Ps.init(e,t),(s=e._zod.def).when??(s.when=r=>{const a=r.value;return!Dj(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const o=Oj(a);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),QW=we("$ZodCheckMinLength",(e,t)=>{var s;Ps.init(e,t),(s=e._zod.def).when??(s.when=r=>{const a=r.value;return!Dj(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const o=Oj(a);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),ZW=we("$ZodCheckLengthEquals",(e,t)=>{var s;Ps.init(e,t),(s=e._zod.def).when??(s.when=r=>{const a=r.value;return!Dj(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,i=a.length;if(i===t.length)return;const o=Oj(a),l=i>t.length;r.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Eg=we("$ZodCheckStringFormat",(e,t)=>{var s,r;Ps.init(e,t),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(s=e._zod).check??(s.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),XW=we("$ZodCheckRegex",(e,t)=>{Eg.init(e,t),e._zod.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),JW=we("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=HW),Eg.init(e,t)}),eK=we("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=WW),Eg.init(e,t)}),tK=we("$ZodCheckIncludes",(e,t)=>{Ps.init(e,t);const s=jg(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${s}`:s);t.pattern=r,e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),nK=we("$ZodCheckStartsWith",(e,t)=>{Ps.init(e,t);const s=new RegExp(`^${jg(t.prefix)}.*`);t.pattern??(t.pattern=s),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),sK=we("$ZodCheckEndsWith",(e,t)=>{Ps.init(e,t);const s=new RegExp(`.*${jg(t.suffix)}$`);t.pattern??(t.pattern=s),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),rK=we("$ZodCheckOverwrite",(e,t)=>{Ps.init(e,t),e._zod.check=s=>{s.value=t.tx(s.value)}});class aK{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),a=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,s=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...s,a.join(`
`))}}const iK={major:4,minor:1,patch:12},kn=we("$ZodType",(e,t)=>{var a;var s;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=iK;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const o of i._zod.onattach)o(e);if(r.length===0)(s=e._zod).deferred??(s.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const i=(l,c,u)=>{let h=Sc(l),d;for(const f of c){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(h)continue;const m=l.issues.length,p=f._zod.check(l);if(p instanceof Promise&&(u==null?void 0:u.async)===!1)throw new Ic;if(d||p instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await p,l.issues.length!==m&&(h||(h=Sc(l,m)))});else{if(l.issues.length===m)continue;h||(h=Sc(l,m))}}return d?d.then(()=>l):l},o=(l,c,u)=>{if(Sc(l))return l.aborted=!0,l;const h=i(c,r,u);if(h instanceof Promise){if(u.async===!1)throw new Ic;return h.then(d=>e._zod.parse(d,u))}return e._zod.parse(h,u)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const h=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return h instanceof Promise?h.then(d=>o(d,l,c)):o(h,l,c)}const u=e._zod.parse(l,c);if(u instanceof Promise){if(c.async===!1)throw new Ic;return u.then(h=>i(h,r,c))}return i(u,r,c)}}e["~standard"]={validate:i=>{var o;try{const l=uW(e,i);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return dW(e,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Ij=we("$ZodString",(e,t)=>{var s;kn.init(e,t),e._zod.pattern=[...((s=e==null?void 0:e._zod.bag)==null?void 0:s.patterns)??[]].pop()??VW(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),tn=we("$ZodStringFormat",(e,t)=>{Eg.init(e,t),Ij.init(e,t)}),oK=we("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=TW),tn.init(e,t)}),lK=we("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=bS(r))}else t.pattern??(t.pattern=bS());tn.init(e,t)}),cK=we("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=EW),tn.init(e,t)}),uK=we("$ZodURL",(e,t)=>{tn.init(e,t),e._zod.check=s=>{try{const r=s.value.trim(),a=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:MW.source,input:s.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:s.value,inst:e,continue:!t.abort})),t.normalize?s.value=a.href:s.value=r;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!t.abort})}}}),dK=we("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=AW()),tn.init(e,t)}),hK=we("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=SW),tn.init(e,t)}),fK=we("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=bW),tn.init(e,t)}),mK=we("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=wW),tn.init(e,t)}),pK=we("$ZodULID",(e,t)=>{t.pattern??(t.pattern=jW),tn.init(e,t)}),gK=we("$ZodXID",(e,t)=>{t.pattern??(t.pattern=NW),tn.init(e,t)}),xK=we("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=kW),tn.init(e,t)}),yK=we("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=UW(t)),tn.init(e,t)}),vK=we("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=FW),tn.init(e,t)}),bK=we("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=$W(t)),tn.init(e,t)}),wK=we("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=CW),tn.init(e,t)}),jK=we("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=DW),tn.init(e,t),e._zod.onattach.push(s=>{const r=s._zod.bag;r.format="ipv4"})}),NK=we("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=RW),tn.init(e,t),e._zod.onattach.push(s=>{const r=s._zod.bag;r.format="ipv6"}),e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!t.abort})}}}),kK=we("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=OW),tn.init(e,t)}),SK=we("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=PW),tn.init(e,t),e._zod.check=s=>{const r=s.value.split("/");try{if(r.length!==2)throw new Error;const[a,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${a}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!t.abort})}}});function MD(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const CK=we("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=IW),tn.init(e,t),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),e._zod.check=s=>{MD(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!t.abort})}});function TK(e){if(!AD.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),s=t.padEnd(Math.ceil(t.length/4)*4,"=");return MD(s)}const EK=we("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=AD),tn.init(e,t),e._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),e._zod.check=s=>{TK(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!t.abort})}}),_K=we("$ZodE164",(e,t)=>{t.pattern??(t.pattern=LW),tn.init(e,t)});function AK(e,t=null){try{const s=e.split(".");if(s.length!==3)return!1;const[r]=s;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const DK=we("$ZodJWT",(e,t)=>{tn.init(e,t),e._zod.check=s=>{AK(s.value,t.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!t.abort})}}),LD=we("$ZodNumber",(e,t)=>{kn.init(e,t),e._zod.pattern=e._zod.bag.pattern??zW,e._zod.parse=(s,r)=>{if(t.coerce)try{s.value=Number(s.value)}catch{}const a=s.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return s;const i=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...i?{received:i}:{}}),s}}),RK=we("$ZodNumber",(e,t)=>{GW.init(e,t),LD.init(e,t)}),OK=we("$ZodBoolean",(e,t)=>{kn.init(e,t),e._zod.pattern=qW,e._zod.parse=(s,r)=>{if(t.coerce)try{s.value=!!s.value}catch{}const a=s.value;return typeof a=="boolean"||s.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),s}}),PK=we("$ZodUnknown",(e,t)=>{kn.init(e,t),e._zod.parse=s=>s}),IK=we("$ZodNever",(e,t)=>{kn.init(e,t),e._zod.parse=(s,r)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function wS(e,t,s){e.issues.length&&t.issues.push(...ED(s,e.issues)),t.value[s]=e.value}const MK=we("$ZodArray",(e,t)=>{kn.init(e,t),e._zod.parse=(s,r)=>{const a=s.value;if(!Array.isArray(a))return s.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),s;s.value=Array(a.length);const i=[];for(let o=0;o<a.length;o++){const l=a[o],c=t.element._zod.run({value:l,issues:[]},r);c instanceof Promise?i.push(c.then(u=>wS(u,s,o))):wS(c,s,o)}return i.length?Promise.all(i).then(()=>s):s}});function yp(e,t,s,r){e.issues.length&&t.issues.push(...ED(s,e.issues)),e.value===void 0?s in r&&(t.value[s]=void 0):t.value[s]=e.value}function FD(e){var r,a,i,o;const t=Object.keys(e.shape);for(const l of t)if(!((o=(i=(a=(r=e.shape)==null?void 0:r[l])==null?void 0:a._zod)==null?void 0:i.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const s=ZH(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(s)}}function $D(e,t,s,r,a,i){const o=[],l=a.keySet,c=a.catchall._zod,u=c.def.type;for(const h of Object.keys(t)){if(l.has(h))continue;if(u==="never"){o.push(h);continue}const d=c.run({value:t[h],issues:[]},r);d instanceof Promise?e.push(d.then(f=>yp(f,s,h,t))):yp(d,s,h,t)}return o.length&&s.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>s):s}const LK=we("$ZodObject",(e,t)=>{kn.init(e,t);const s=Object.getOwnPropertyDescriptor(t,"shape");if(!(s!=null&&s.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...l};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=Aj(()=>FD(t));Ut(e._zod,"propValues",()=>{const l=t.shape,c={};for(const u in l){const h=l[u]._zod;if(h.values){c[u]??(c[u]=new Set);for(const d of h.values)c[u].add(d)}}return c});const a=xp,i=t.catchall;let o;e._zod.parse=(l,c)=>{o??(o=r.value);const u=l.value;if(!a(u))return l.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),l;l.value={};const h=[],d=o.shape;for(const f of o.keys){const p=d[f]._zod.run({value:u[f],issues:[]},c);p instanceof Promise?h.push(p.then(g=>yp(g,l,f,u))):yp(p,l,f,u)}return i?$D(h,u,l,c,r.value,e):h.length?Promise.all(h).then(()=>l):l}}),FK=we("$ZodObjectJIT",(e,t)=>{LK.init(e,t);const s=e._zod.parse,r=Aj(()=>FD(t)),a=f=>{const m=new aK(["shape","payload","ctx"]),p=r.value,g=w=>{const j=vS(w);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};m.write("const input = payload.value;");const b=Object.create(null);let v=0;for(const w of p.keys)b[w]=`key_${v++}`;m.write("const newResult = {};");for(const w of p.keys){const j=b[w],N=vS(w);m.write(`const ${j} = ${g(w)};`),m.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${N}, ...iss.path] : [${N}]
          })));
        }
        
        
        if (${j}.value === undefined) {
          if (${N} in input) {
            newResult[${N}] = undefined;
          }
        } else {
          newResult[${N}] = ${j}.value;
        }
        
      `)}m.write("payload.value = newResult;"),m.write("return payload;");const x=m.compile();return(w,j)=>x(f,w,j)};let i;const o=xp,l=!SD.jitless,u=l&&YH.value,h=t.catchall;let d;e._zod.parse=(f,m)=>{d??(d=r.value);const p=f.value;return o(p)?l&&u&&(m==null?void 0:m.async)===!1&&m.jitless!==!0?(i||(i=a(t.shape)),f=i(f,m),h?$D([],p,f,m,d,e):f):s(f,m):(f.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),f)}});function jS(e,t,s,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const a=e.filter(i=>!Sc(i));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:s,errors:e.map(i=>i.issues.map(o=>Nl(o,r,jl())))}),t)}const $K=we("$ZodUnion",(e,t)=>{kn.init(e,t),Ut(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),Ut(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),Ut(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),Ut(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${a.map(i=>Rj(i.source)).join("|")})$`)}});const s=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(a,i)=>{if(s)return r(a,i);let o=!1;const l=[];for(const c of t.options){const u=c._zod.run({value:a.value,issues:[]},i);if(u instanceof Promise)l.push(u),o=!0;else{if(u.issues.length===0)return u;l.push(u)}}return o?Promise.all(l).then(c=>jS(c,a,e,i)):jS(l,a,e,i)}}),UK=we("$ZodIntersection",(e,t)=>{kn.init(e,t),e._zod.parse=(s,r)=>{const a=s.value,i=t.left._zod.run({value:a,issues:[]},r),o=t.right._zod.run({value:a,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([c,u])=>NS(s,c,u)):NS(s,i,o)}});function Kv(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ph(e)&&ph(t)){const s=Object.keys(t),r=Object.keys(e).filter(i=>s.indexOf(i)!==-1),a={...e,...t};for(const i of r){const o=Kv(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};a[i]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let r=0;r<e.length;r++){const a=e[r],i=t[r],o=Kv(a,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};s.push(o.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function NS(e,t,s){if(t.issues.length&&e.issues.push(...t.issues),s.issues.length&&e.issues.push(...s.issues),Sc(e))return e;const r=Kv(t.value,s.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const VK=we("$ZodEnum",(e,t)=>{kn.init(e,t);const s=KH(t.entries),r=new Set(s);e._zod.values=r,e._zod.pattern=new RegExp(`^(${s.filter(a=>QH.has(typeof a)).map(a=>typeof a=="string"?jg(a):a.toString()).join("|")})$`),e._zod.parse=(a,i)=>{const o=a.value;return r.has(o)||a.issues.push({code:"invalid_value",values:s,input:o,inst:e}),a}}),BK=we("$ZodTransform",(e,t)=>{kn.init(e,t),e._zod.parse=(s,r)=>{if(r.direction==="backward")throw new kD(e.constructor.name);const a=t.transform(s.value,s);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(s.value=o,s));if(a instanceof Promise)throw new Ic;return s.value=a,s}});function kS(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const zK=we("$ZodOptional",(e,t)=>{kn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ut(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ut(e._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${Rj(s.source)})?$`):void 0}),e._zod.parse=(s,r)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(s,r);return a instanceof Promise?a.then(i=>kS(i,s.value)):kS(a,s.value)}return s.value===void 0?s:t.innerType._zod.run(s,r)}}),qK=we("$ZodNullable",(e,t)=>{kn.init(e,t),Ut(e._zod,"optin",()=>t.innerType._zod.optin),Ut(e._zod,"optout",()=>t.innerType._zod.optout),Ut(e._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${Rj(s.source)}|null)$`):void 0}),Ut(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(s,r)=>s.value===null?s:t.innerType._zod.run(s,r)}),HK=we("$ZodDefault",(e,t)=>{kn.init(e,t),e._zod.optin="optional",Ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,r)=>{if(r.direction==="backward")return t.innerType._zod.run(s,r);if(s.value===void 0)return s.value=t.defaultValue,s;const a=t.innerType._zod.run(s,r);return a instanceof Promise?a.then(i=>SS(i,t)):SS(a,t)}});function SS(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const WK=we("$ZodPrefault",(e,t)=>{kn.init(e,t),e._zod.optin="optional",Ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,r)=>(r.direction==="backward"||s.value===void 0&&(s.value=t.defaultValue),t.innerType._zod.run(s,r))}),KK=we("$ZodNonOptional",(e,t)=>{kn.init(e,t),Ut(e._zod,"values",()=>{const s=t.innerType._zod.values;return s?new Set([...s].filter(r=>r!==void 0)):void 0}),e._zod.parse=(s,r)=>{const a=t.innerType._zod.run(s,r);return a instanceof Promise?a.then(i=>CS(i,e)):CS(a,e)}});function CS(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const GK=we("$ZodCatch",(e,t)=>{kn.init(e,t),Ut(e._zod,"optin",()=>t.innerType._zod.optin),Ut(e._zod,"optout",()=>t.innerType._zod.optout),Ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,r)=>{if(r.direction==="backward")return t.innerType._zod.run(s,r);const a=t.innerType._zod.run(s,r);return a instanceof Promise?a.then(i=>(s.value=i.value,i.issues.length&&(s.value=t.catchValue({...s,error:{issues:i.issues.map(o=>Nl(o,r,jl()))},input:s.value}),s.issues=[]),s)):(s.value=a.value,a.issues.length&&(s.value=t.catchValue({...s,error:{issues:a.issues.map(i=>Nl(i,r,jl()))},input:s.value}),s.issues=[]),s)}}),YK=we("$ZodPipe",(e,t)=>{kn.init(e,t),Ut(e._zod,"values",()=>t.in._zod.values),Ut(e._zod,"optin",()=>t.in._zod.optin),Ut(e._zod,"optout",()=>t.out._zod.optout),Ut(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(s,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(s,r);return i instanceof Promise?i.then(o=>Mf(o,t.in,r)):Mf(i,t.in,r)}const a=t.in._zod.run(s,r);return a instanceof Promise?a.then(i=>Mf(i,t.out,r)):Mf(a,t.out,r)}});function Mf(e,t,s){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},s)}const QK=we("$ZodReadonly",(e,t)=>{kn.init(e,t),Ut(e._zod,"propValues",()=>t.innerType._zod.propValues),Ut(e._zod,"values",()=>t.innerType._zod.values),Ut(e._zod,"optin",()=>t.innerType._zod.optin),Ut(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(s,r)=>{if(r.direction==="backward")return t.innerType._zod.run(s,r);const a=t.innerType._zod.run(s,r);return a instanceof Promise?a.then(TS):TS(a)}});function TS(e){return e.value=Object.freeze(e.value),e}const ZK=we("$ZodCustom",(e,t)=>{Ps.init(e,t),kn.init(e,t),e._zod.parse=(s,r)=>s,e._zod.check=s=>{const r=s.value,a=t.fn(r);if(a instanceof Promise)return a.then(i=>ES(i,s,r,e));ES(a,s,r,e)}});function ES(e,t,s,r){if(!e){const a={code:"custom",input:s,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(gh(a))}}class XK{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...s){const r=s[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const s=this._map.get(t);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(t),this}get(t){const s=t._zod.parent;if(s){const r={...this.get(s)??{}};delete r.id;const a={...r,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function JK(){return new XK}const Lf=JK();function eG(e,t){return new e({type:"string",...Ze(t)})}function tG(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ze(t)})}function _S(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ze(t)})}function nG(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ze(t)})}function sG(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ze(t)})}function rG(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ze(t)})}function aG(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ze(t)})}function iG(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ze(t)})}function oG(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ze(t)})}function lG(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ze(t)})}function cG(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ze(t)})}function uG(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ze(t)})}function dG(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ze(t)})}function hG(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ze(t)})}function fG(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ze(t)})}function mG(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ze(t)})}function pG(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ze(t)})}function gG(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ze(t)})}function xG(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ze(t)})}function yG(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ze(t)})}function vG(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ze(t)})}function bG(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ze(t)})}function wG(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ze(t)})}function jG(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ze(t)})}function NG(e,t){return new e({type:"string",format:"date",check:"string_format",...Ze(t)})}function kG(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ze(t)})}function SG(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ze(t)})}function CG(e,t){return new e({type:"number",checks:[],...Ze(t)})}function TG(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ze(t)})}function EG(e,t){return new e({type:"boolean",...Ze(t)})}function _G(e){return new e({type:"unknown"})}function AG(e,t){return new e({type:"never",...Ze(t)})}function AS(e,t){return new PD({check:"less_than",...Ze(t),value:e,inclusive:!1})}function k0(e,t){return new PD({check:"less_than",...Ze(t),value:e,inclusive:!0})}function DS(e,t){return new ID({check:"greater_than",...Ze(t),value:e,inclusive:!1})}function S0(e,t){return new ID({check:"greater_than",...Ze(t),value:e,inclusive:!0})}function RS(e,t){return new KW({check:"multiple_of",...Ze(t),value:e})}function UD(e,t){return new YW({check:"max_length",...Ze(t),maximum:e})}function vp(e,t){return new QW({check:"min_length",...Ze(t),minimum:e})}function VD(e,t){return new ZW({check:"length_equals",...Ze(t),length:e})}function DG(e,t){return new XW({check:"string_format",format:"regex",...Ze(t),pattern:e})}function RG(e){return new JW({check:"string_format",format:"lowercase",...Ze(e)})}function OG(e){return new eK({check:"string_format",format:"uppercase",...Ze(e)})}function PG(e,t){return new tK({check:"string_format",format:"includes",...Ze(t),includes:e})}function IG(e,t){return new nK({check:"string_format",format:"starts_with",...Ze(t),prefix:e})}function MG(e,t){return new sK({check:"string_format",format:"ends_with",...Ze(t),suffix:e})}function Kh(e){return new rK({check:"overwrite",tx:e})}function LG(e){return Kh(t=>t.normalize(e))}function FG(){return Kh(e=>e.trim())}function $G(){return Kh(e=>e.toLowerCase())}function UG(){return Kh(e=>e.toUpperCase())}function VG(e,t,s){return new e({type:"array",element:t,...Ze(s)})}function BG(e,t,s){return new e({type:"custom",check:"custom",fn:t,...Ze(s)})}function zG(e){const t=qG(s=>(s.addIssue=r=>{if(typeof r=="string")s.issues.push(gh(r,s.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=s.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),s.issues.push(gh(a))}},e(s.value,s)));return t}function qG(e,t){const s=new Ps({check:"custom",...Ze(t)});return s._zod.check=e,s}function OS(e,t){try{var s=e()}catch(r){return t(r)}return s&&s.then?s.then(void 0,t):s}function HG(e,t){for(var s={};e.length;){var r=e[0],a=r.code,i=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(d){return e.push(d)})}),t){var c=s[o].types,u=c&&c[r.code];s[o]=Tj(o,t,s,a,u?[].concat(u,r.message):r.message)}e.shift()}return s}function WG(e,t){for(var s={};e.length;){var r=e[0],a=r.code,i=r.message,o=r.path.join(".");if(!s[o])if(r.code==="invalid_union"&&r.errors.length>0){var l=r.errors[0][0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:a};if(r.code==="invalid_union"&&r.errors.forEach(function(h){return h.forEach(function(d){return e.push(d)})}),t){var c=s[o].types,u=c&&c[r.code];s[o]=Tj(o,t,s,a,u?[].concat(u,r.message):r.message)}e.shift()}return s}function ka(e,t,s){if(s===void 0&&(s={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(e))return function(r,a,i){try{return Promise.resolve(OS(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(o){return i.shouldUseNativeValidation&&Hv({},i),{errors:{},values:s.raw?Object.assign({},r):o}})},function(o){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(o))return{values:{},errors:gS(HG(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(e))return function(r,a,i){try{return Promise.resolve(OS(function(){return Promise.resolve((s.mode==="sync"?lW:cW)(e,r,t)).then(function(o){return i.shouldUseNativeValidation&&Hv({},i),{errors:{},values:s.raw?Object.assign({},r):o}})},function(o){if(function(l){return l instanceof Pj}(o))return{values:{},errors:gS(WG(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const KG=we("ZodISODateTime",(e,t)=>{yK.init(e,t),hn.init(e,t)});function GG(e){return jG(KG,e)}const YG=we("ZodISODate",(e,t)=>{vK.init(e,t),hn.init(e,t)});function QG(e){return NG(YG,e)}const ZG=we("ZodISOTime",(e,t)=>{bK.init(e,t),hn.init(e,t)});function XG(e){return kG(ZG,e)}const JG=we("ZodISODuration",(e,t)=>{wK.init(e,t),hn.init(e,t)});function eY(e){return SG(JG,e)}const tY=(e,t)=>{Pj.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>oW(e,s)},flatten:{value:s=>iW(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,Wv,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,Wv,2)}},isEmpty:{get(){return e.issues.length===0}}})},jr=we("ZodError",tY,{Parent:Error}),nY=kg(jr),sY=Sg(jr),rY=Cg(jr),aY=Tg(jr),iY=hW(jr),oY=fW(jr),lY=mW(jr),cY=pW(jr),uY=gW(jr),dY=xW(jr),hY=yW(jr),fY=vW(jr),An=we("ZodType",(e,t)=>(kn.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...s)=>e.clone(Fl(t,{checks:[...t.checks??[],...s.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(s,r)=>bo(e,s,r),e.brand=()=>e,e.register=(s,r)=>(s.add(e,r),e),e.parse=(s,r)=>nY(e,s,r,{callee:e.parse}),e.safeParse=(s,r)=>rY(e,s,r),e.parseAsync=async(s,r)=>sY(e,s,r,{callee:e.parseAsync}),e.safeParseAsync=async(s,r)=>aY(e,s,r),e.spa=e.safeParseAsync,e.encode=(s,r)=>iY(e,s,r),e.decode=(s,r)=>oY(e,s,r),e.encodeAsync=async(s,r)=>lY(e,s,r),e.decodeAsync=async(s,r)=>cY(e,s,r),e.safeEncode=(s,r)=>uY(e,s,r),e.safeDecode=(s,r)=>dY(e,s,r),e.safeEncodeAsync=async(s,r)=>hY(e,s,r),e.safeDecodeAsync=async(s,r)=>fY(e,s,r),e.refine=(s,r)=>e.check(rQ(s,r)),e.superRefine=s=>e.check(aQ(s)),e.overwrite=s=>e.check(Kh(s)),e.optional=()=>LS(e),e.nullable=()=>FS(e),e.nullish=()=>LS(FS(e)),e.nonoptional=s=>ZY(e,s),e.array=()=>Mj(e),e.or=s=>VY([e,s]),e.and=s=>zY(e,s),e.transform=s=>$S(e,HY(s)),e.default=s=>GY(e,s),e.prefault=s=>QY(e,s),e.catch=s=>JY(e,s),e.pipe=s=>$S(e,s),e.readonly=()=>nQ(e),e.describe=s=>{const r=e.clone();return Lf.add(r,{description:s}),r},Object.defineProperty(e,"description",{get(){var s;return(s=Lf.get(e))==null?void 0:s.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return Lf.get(e);const r=e.clone();return Lf.add(r,s[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),BD=we("_ZodString",(e,t)=>{Ij.init(e,t),An.init(e,t);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...r)=>e.check(DG(...r)),e.includes=(...r)=>e.check(PG(...r)),e.startsWith=(...r)=>e.check(IG(...r)),e.endsWith=(...r)=>e.check(MG(...r)),e.min=(...r)=>e.check(vp(...r)),e.max=(...r)=>e.check(UD(...r)),e.length=(...r)=>e.check(VD(...r)),e.nonempty=(...r)=>e.check(vp(1,...r)),e.lowercase=r=>e.check(RG(r)),e.uppercase=r=>e.check(OG(r)),e.trim=()=>e.check(FG()),e.normalize=(...r)=>e.check(LG(...r)),e.toLowerCase=()=>e.check($G()),e.toUpperCase=()=>e.check(UG())}),mY=we("ZodString",(e,t)=>{Ij.init(e,t),BD.init(e,t),e.email=s=>e.check(tG(pY,s)),e.url=s=>e.check(iG(gY,s)),e.jwt=s=>e.check(wG(DY,s)),e.emoji=s=>e.check(oG(xY,s)),e.guid=s=>e.check(_S(PS,s)),e.uuid=s=>e.check(nG(Ff,s)),e.uuidv4=s=>e.check(sG(Ff,s)),e.uuidv6=s=>e.check(rG(Ff,s)),e.uuidv7=s=>e.check(aG(Ff,s)),e.nanoid=s=>e.check(lG(yY,s)),e.guid=s=>e.check(_S(PS,s)),e.cuid=s=>e.check(cG(vY,s)),e.cuid2=s=>e.check(uG(bY,s)),e.ulid=s=>e.check(dG(wY,s)),e.base64=s=>e.check(yG(EY,s)),e.base64url=s=>e.check(vG(_Y,s)),e.xid=s=>e.check(hG(jY,s)),e.ksuid=s=>e.check(fG(NY,s)),e.ipv4=s=>e.check(mG(kY,s)),e.ipv6=s=>e.check(pG(SY,s)),e.cidrv4=s=>e.check(gG(CY,s)),e.cidrv6=s=>e.check(xG(TY,s)),e.e164=s=>e.check(bG(AY,s)),e.datetime=s=>e.check(GG(s)),e.date=s=>e.check(QG(s)),e.time=s=>e.check(XG(s)),e.duration=s=>e.check(eY(s))});function wt(e){return eG(mY,e)}const hn=we("ZodStringFormat",(e,t)=>{tn.init(e,t),BD.init(e,t)}),pY=we("ZodEmail",(e,t)=>{cK.init(e,t),hn.init(e,t)}),PS=we("ZodGUID",(e,t)=>{oK.init(e,t),hn.init(e,t)}),Ff=we("ZodUUID",(e,t)=>{lK.init(e,t),hn.init(e,t)}),gY=we("ZodURL",(e,t)=>{uK.init(e,t),hn.init(e,t)}),xY=we("ZodEmoji",(e,t)=>{dK.init(e,t),hn.init(e,t)}),yY=we("ZodNanoID",(e,t)=>{hK.init(e,t),hn.init(e,t)}),vY=we("ZodCUID",(e,t)=>{fK.init(e,t),hn.init(e,t)}),bY=we("ZodCUID2",(e,t)=>{mK.init(e,t),hn.init(e,t)}),wY=we("ZodULID",(e,t)=>{pK.init(e,t),hn.init(e,t)}),jY=we("ZodXID",(e,t)=>{gK.init(e,t),hn.init(e,t)}),NY=we("ZodKSUID",(e,t)=>{xK.init(e,t),hn.init(e,t)}),kY=we("ZodIPv4",(e,t)=>{jK.init(e,t),hn.init(e,t)}),SY=we("ZodIPv6",(e,t)=>{NK.init(e,t),hn.init(e,t)}),CY=we("ZodCIDRv4",(e,t)=>{kK.init(e,t),hn.init(e,t)}),TY=we("ZodCIDRv6",(e,t)=>{SK.init(e,t),hn.init(e,t)}),EY=we("ZodBase64",(e,t)=>{CK.init(e,t),hn.init(e,t)}),_Y=we("ZodBase64URL",(e,t)=>{EK.init(e,t),hn.init(e,t)}),AY=we("ZodE164",(e,t)=>{_K.init(e,t),hn.init(e,t)}),DY=we("ZodJWT",(e,t)=>{DK.init(e,t),hn.init(e,t)}),zD=we("ZodNumber",(e,t)=>{LD.init(e,t),An.init(e,t),e.gt=(r,a)=>e.check(DS(r,a)),e.gte=(r,a)=>e.check(S0(r,a)),e.min=(r,a)=>e.check(S0(r,a)),e.lt=(r,a)=>e.check(AS(r,a)),e.lte=(r,a)=>e.check(k0(r,a)),e.max=(r,a)=>e.check(k0(r,a)),e.int=r=>e.check(IS(r)),e.safe=r=>e.check(IS(r)),e.positive=r=>e.check(DS(0,r)),e.nonnegative=r=>e.check(S0(0,r)),e.negative=r=>e.check(AS(0,r)),e.nonpositive=r=>e.check(k0(0,r)),e.multipleOf=(r,a)=>e.check(RS(r,a)),e.step=(r,a)=>e.check(RS(r,a)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function Gv(e){return CG(zD,e)}const RY=we("ZodNumberFormat",(e,t)=>{RK.init(e,t),zD.init(e,t)});function IS(e){return TG(RY,e)}const OY=we("ZodBoolean",(e,t)=>{OK.init(e,t),An.init(e,t)});function PY(e){return EG(OY,e)}const IY=we("ZodUnknown",(e,t)=>{PK.init(e,t),An.init(e,t)});function MS(){return _G(IY)}const MY=we("ZodNever",(e,t)=>{IK.init(e,t),An.init(e,t)});function LY(e){return AG(MY,e)}const FY=we("ZodArray",(e,t)=>{MK.init(e,t),An.init(e,t),e.element=t.element,e.min=(s,r)=>e.check(vp(s,r)),e.nonempty=s=>e.check(vp(1,s)),e.max=(s,r)=>e.check(UD(s,r)),e.length=(s,r)=>e.check(VD(s,r)),e.unwrap=()=>e.element});function Mj(e,t){return VG(FY,e,t)}const $Y=we("ZodObject",(e,t)=>{FK.init(e,t),An.init(e,t),Ut(e,"shape",()=>t.shape),e.keyof=()=>qD(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:MS()}),e.loose=()=>e.clone({...e._zod.def,catchall:MS()}),e.strict=()=>e.clone({...e._zod.def,catchall:LY()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>tW(e,s),e.safeExtend=s=>nW(e,s),e.merge=s=>sW(e,s),e.pick=s=>JH(e,s),e.omit=s=>eW(e,s),e.partial=(...s)=>rW(HD,e,s[0]),e.required=(...s)=>aW(WD,e,s[0])});function vr(e,t){const s={type:"object",shape:e??{},...Ze(t)};return new $Y(s)}const UY=we("ZodUnion",(e,t)=>{$K.init(e,t),An.init(e,t),e.options=t.options});function VY(e,t){return new UY({type:"union",options:e,...Ze(t)})}const BY=we("ZodIntersection",(e,t)=>{UK.init(e,t),An.init(e,t)});function zY(e,t){return new BY({type:"intersection",left:e,right:t})}const Yv=we("ZodEnum",(e,t)=>{VK.init(e,t),An.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const s=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const i={};for(const o of r)if(s.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Yv({...t,checks:[],...Ze(a),entries:i})},e.exclude=(r,a)=>{const i={...t.entries};for(const o of r)if(s.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new Yv({...t,checks:[],...Ze(a),entries:i})}});function qD(e,t){const s=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Yv({type:"enum",entries:s,...Ze(t)})}const qY=we("ZodTransform",(e,t)=>{BK.init(e,t),An.init(e,t),e._zod.parse=(s,r)=>{if(r.direction==="backward")throw new kD(e.constructor.name);s.addIssue=i=>{if(typeof i=="string")s.issues.push(gh(i,s.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=s.value),o.inst??(o.inst=e),s.issues.push(gh(o))}};const a=t.transform(s.value,s);return a instanceof Promise?a.then(i=>(s.value=i,s)):(s.value=a,s)}});function HY(e){return new qY({type:"transform",transform:e})}const HD=we("ZodOptional",(e,t)=>{zK.init(e,t),An.init(e,t),e.unwrap=()=>e._zod.def.innerType});function LS(e){return new HD({type:"optional",innerType:e})}const WY=we("ZodNullable",(e,t)=>{qK.init(e,t),An.init(e,t),e.unwrap=()=>e._zod.def.innerType});function FS(e){return new WY({type:"nullable",innerType:e})}const KY=we("ZodDefault",(e,t)=>{HK.init(e,t),An.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function GY(e,t){return new KY({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():TD(t)}})}const YY=we("ZodPrefault",(e,t)=>{WK.init(e,t),An.init(e,t),e.unwrap=()=>e._zod.def.innerType});function QY(e,t){return new YY({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():TD(t)}})}const WD=we("ZodNonOptional",(e,t)=>{KK.init(e,t),An.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ZY(e,t){return new WD({type:"nonoptional",innerType:e,...Ze(t)})}const XY=we("ZodCatch",(e,t)=>{GK.init(e,t),An.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function JY(e,t){return new XY({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const eQ=we("ZodPipe",(e,t)=>{YK.init(e,t),An.init(e,t),e.in=t.in,e.out=t.out});function $S(e,t){return new eQ({type:"pipe",in:e,out:t})}const tQ=we("ZodReadonly",(e,t)=>{QK.init(e,t),An.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nQ(e){return new tQ({type:"readonly",innerType:e})}const sQ=we("ZodCustom",(e,t)=>{ZK.init(e,t),An.init(e,t)});function rQ(e,t={}){return BG(sQ,e,t)}function aQ(e){return zG(e)}function iQ(e={}){const{nonce:t,onScriptLoadSuccess:s,onScriptLoadError:r}=e,[a,i]=y.useState(!1),o=y.useRef(s);o.current=s;const l=y.useRef(r);return l.current=r,y.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=t,c.onload=()=>{var u;i(!0),(u=o.current)===null||u===void 0||u.call(o)},c.onerror=()=>{var u;i(!1),(u=l.current)===null||u===void 0||u.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[t]),a}const KD=y.createContext(null);function oQ({clientId:e,nonce:t,onScriptLoadSuccess:s,onScriptLoadError:r,children:a}){const i=iQ({nonce:t,onScriptLoadSuccess:s,onScriptLoadError:r}),o=y.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:i}),[e,i]);return re.createElement(KD.Provider,{value:o},a)}function lQ(){const e=y.useContext(KD);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function cQ(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const uQ={large:40,medium:32,small:20};function dQ({onSuccess:e,onError:t,useOneTap:s,promptMomentNotification:r,type:a="standard",theme:i="outline",size:o="large",text:l,shape:c,logo_alignment:u,width:h,locale:d,click_listener:f,containerProps:m,...p}){const g=y.useRef(null),{clientId:b,scriptLoadedSuccessfully:v}=lQ(),x=y.useRef(e);x.current=e;const w=y.useRef(t);w.current=t;const j=y.useRef(r);return j.current=r,y.useEffect(()=>{var N,k,S,C,E,T,_,A,D;if(v)return(S=(k=(N=window==null?void 0:window.google)===null||N===void 0?void 0:N.accounts)===null||k===void 0?void 0:k.id)===null||S===void 0||S.initialize({client_id:b,callback:R=>{var U;if(!(R!=null&&R.credential))return(U=w.current)===null||U===void 0?void 0:U.call(w);const{credential:I,select_by:L}=R;x.current({credential:I,clientId:cQ(R),select_by:L})},...p}),(T=(E=(C=window==null?void 0:window.google)===null||C===void 0?void 0:C.accounts)===null||E===void 0?void 0:E.id)===null||T===void 0||T.renderButton(g.current,{type:a,theme:i,size:o,text:l,shape:c,logo_alignment:u,width:h,locale:d,click_listener:f}),s&&((D=(A=(_=window==null?void 0:window.google)===null||_===void 0?void 0:_.accounts)===null||A===void 0?void 0:A.id)===null||D===void 0||D.prompt(j.current)),()=>{var R,U,I;s&&((I=(U=(R=window==null?void 0:window.google)===null||R===void 0?void 0:R.accounts)===null||U===void 0?void 0:U.id)===null||I===void 0||I.cancel())}},[b,v,s,a,i,o,l,c,u,h,d]),re.createElement("div",{...m,ref:g,style:{height:uQ[o],...m==null?void 0:m.style}})}const Ce=y.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));Ce.displayName="Input";function Ie(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var _n=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},hQ=KT[" useInsertionEffect ".trim().toString()]||_n;function $r({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,i,o]=fQ({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:a;{const h=y.useRef(e!==void 0);y.useEffect(()=>{const d=h.current;d!==l&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=y.useCallback(h=>{var d;if(l){const f=mQ(h)?h(e):h;f!==e&&((d=o.current)==null||d.call(o,f))}else i(h)},[l,e,i,o]);return[c,u]}function fQ({defaultProp:e,onChange:t}){const[s,r]=y.useState(e),a=y.useRef(s),i=y.useRef(t);return hQ(()=>{i.current=t},[t]),y.useEffect(()=>{var o;a.current!==s&&((o=i.current)==null||o.call(i,s),a.current=s)},[s,a]),[s,r,i]}function mQ(e){return typeof e=="function"}function _g(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Ag(e){const[t,s]=y.useState(void 0);return _n(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}function pQ(e,t){return y.useReducer((s,r)=>t[s][r]??s,e)}var Is=e=>{const{present:t,children:s}=e,r=gQ(t),a=typeof s=="function"?s({present:r.isPresent}):y.Children.only(s),i=mt(r.ref,xQ(a));return typeof s=="function"||r.isPresent?y.cloneElement(a,{ref:i}):null};Is.displayName="Presence";function gQ(e){const[t,s]=y.useState(),r=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=pQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=$f(r.current);i.current=l==="mounted"?u:"none"},[l]),_n(()=>{const u=r.current,h=a.current;if(h!==e){const f=i.current,m=$f(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),_n(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,d=m=>{const g=$f(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=m=>{m.target===t&&(i.current=$f(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,s(u)},[])}}function $f(e){return(e==null?void 0:e.animationName)||"none"}function xQ(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Dg="Checkbox",[yQ]=Jn(Dg),[vQ,Lj]=yQ(Dg);function bQ(e){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:d}=e,[f,m]=$r({prop:s,defaultProp:a??!1,onChange:c,caller:Dg}),[p,g]=y.useState(null),[b,v]=y.useState(null),x=y.useRef(!1),w=p?!!o||!!p.closest("form"):!0,j={checked:f,disabled:i,setChecked:m,control:p,setControl:g,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Qi(a)?!1:a,isFormControl:w,bubbleInput:b,setBubbleInput:v};return n.jsx(vQ,{scope:t,...j,children:wQ(d)?d(j):r})}var GD="CheckboxTrigger",YD=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:h,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:p}=Lj(GD,e),g=mt(a,h),b=y.useRef(c);return y.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const x=()=>d(b.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[i,d]),n.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":Qi(c)?"mixed":c,"aria-required":u,"data-state":eR(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:Ie(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Ie(s,v=>{d(x=>Qi(x)?!0:!x),p&&m&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});YD.displayName=GD;var Fj=y.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:h,...d}=e;return n.jsx(bQ,{__scopeCheckbox:s,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(YD,{...d,ref:t,__scopeCheckbox:s}),f&&n.jsx(JD,{__scopeCheckbox:s})]})})});Fj.displayName=Dg;var QD="CheckboxIndicator",ZD=y.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...a}=e,i=Lj(QD,s);return n.jsx(Is,{present:r||Qi(i.checked)||i.checked===!0,children:n.jsx(qe.span,{"data-state":eR(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});ZD.displayName=QD;var XD="CheckboxBubbleInput",JD=y.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:h,form:d,bubbleInput:f,setBubbleInput:m}=Lj(XD,e),p=mt(s,m),g=_g(i),b=Ag(r);y.useEffect(()=>{const x=f;if(!x)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,k=!a.current;if(g!==i&&N){const S=new Event("click",{bubbles:k});x.indeterminate=Qi(i),N.call(x,Qi(i)?!1:i),x.dispatchEvent(S)}},[f,g,i,a]);const v=y.useRef(Qi(i)?!1:i);return n.jsx(qe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:u,value:h,form:d,...t,tabIndex:-1,ref:p,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});JD.displayName=XD;function wQ(e){return typeof e=="function"}function Qi(e){return e==="indeterminate"}function eR(e){return Qi(e)?"indeterminate":e?"checked":"unchecked"}const $l=y.forwardRef(({className:e,...t},s)=>n.jsx(Fj,{ref:s,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(ZD,{className:fe("flex items-center justify-center text-current"),children:n.jsx(vj,{className:"h-4 w-4"})})}));$l.displayName=Fj.displayName;function bn({message:e,className:t}){return n.jsxs("div",{className:fe("flex items-center space-x-2 text-red-600",t),children:[n.jsx(at,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:e})]})}const jQ=vr({username:wt().min(3,"Tn ng nhp phi c t nht 3 k t"),password:wt().min(8,"Mt khu phi c t nht 8 k t"),rememberMe:PY().optional()}),NQ=()=>{const[e,t]=re.useState(!1),[s,r]=re.useState(null),a=Qe(),i=Wn(),l=new URLSearchParams(i.search).get("redirect")||se.HOME,{refreshUser:c}=Rl(),{register:u,handleSubmit:h,watch:d,setValue:f,formState:{errors:m,isValid:p}}=Na({resolver:ka(jQ),mode:"onChange",defaultValues:{username:"",password:"",rememberMe:!1}}),g=async v=>{r(null);try{const x=await ee.post("/auth/token",{username:v.username,password:v.password}),{accessToken:w,refreshToken:j}=x.data.result;v.rememberMe?(localStorage.setItem("access_token",w),localStorage.setItem("refresh_token",j)):(sessionStorage.setItem("access_token",w),sessionStorage.setItem("refresh_token",j));try{await c();const k=(await ee.get("/users/myInfo")).data.result.role;k==="Admin"?a(se.ADMIN_DASHBOARD,{replace:!0}):k==="Tutor"?a(se.TUTOR_DASHBOARD,{replace:!0}):a(l,{replace:!0})}catch(N){console.error("Error fetching user info:",N),a(l,{replace:!0})}}catch(x){console.error("Login error:",x),r("Tn ng nhp hoc mt khu khng chnh xc.")}},b=async v=>{r(null);try{if(!v.credential){r("Xc thc Google tht bi: thiu thng tin ng nhp.");return}const x=v.credential,w=await ee.post("/auth/google",{idToken:x}),{token:j}=w.data;localStorage.setItem("access_token",j);try{await c();const k=(await ee.get("/users/myInfo")).data.result.role;k==="Admin"?a(se.ADMIN_DASHBOARD,{replace:!0}):k==="Tutor"?a(se.TUTOR_DASHBOARD,{replace:!0}):a(l,{replace:!0})}catch(N){console.error("Error fetching user info after Google login:",N),a(l,{replace:!0})}}catch(x){console.error("Google login error:",x),r("ng nhp Google tht bi. Vui lng th li.")}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center py-16",children:n.jsxs(ue.div,{className:"max-w-md w-full space-y-8",initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsxs(_e,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-lg",children:n.jsx(Un,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:["Lingua",n.jsx("span",{className:"text-blue-500",children:"Hub"})]})]}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Cho mng tr li!"}),n.jsx("p",{className:"text-gray-600",children:"ng nhp  tip tc hnh trnh ca bn"})]}),n.jsxs(ue.div,{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsxs("form",{className:"space-y-6",onSubmit:h(g),children:[s&&n.jsx(bn,{message:s}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ng nhp"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{...u("username"),className:"pl-10",placeholder:"Nhp tn ng nhp"}),n.jsx(Pt,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"})]}),m.username&&n.jsx(bn,{message:m.username.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{...u("password"),type:e?"text":"password",className:"pl-10 pr-10",placeholder:"Nhp mt khu"}),n.jsx(mr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-3 flex items-center text-gray-400",onClick:()=>t(!e),children:e?n.jsx(Yi,{size:18}):n.jsx(gs,{size:18})})]}),m.password&&n.jsx(bn,{message:m.password.message})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[n.jsx($l,{checked:d("rememberMe"),onCheckedChange:v=>f("rememberMe",!!v)}),n.jsx("span",{children:"Ghi nh ng nhp"})]}),n.jsx(_e,{to:se.FORGOT_PASSWORD,className:"text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:"Qun mt khu?"})]}),n.jsx(H,{type:"submit",className:"w-full",disabled:!p,children:"ng nhp"})]}),n.jsxs("div",{className:"my-6 flex items-center",children:[n.jsx("div",{className:"flex-1 h-px bg-gray-300"}),n.jsx("span",{className:"px-3 text-gray-500 text-sm",children:"hoc"}),n.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx(dQ,{onSuccess:b,onError:()=>r("ng nhp Google tht bi.")})}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Dont have an account?"," ",n.jsx(_e,{to:se.SIGN_UP,className:"font-medium text-blue-600 hover:text-blue-500 hover:underline",children:"ng k ngay"})]})})]})]})})};function co({className:e,size:t="md"}){const s={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return n.jsx("div",{className:fe("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",s[t],e)})}const kQ=vr({username:wt().min(3,"Tn ng nhp phi c t nht 3 k t"),fullName:wt().min(3,"H v tn l bt buc"),email:wt().email("Email khng hp l"),phone:wt().min(1,"S in thoi l bt buc").refine(e=>/^\d{10,}$/.test(e.replace(/\D/g,"")),{message:"S in thoi phi c t nht 10 ch s"}),dob:wt().min(1,"Ngy sinh l bt buc").refine(e=>(new Date().getTime()-new Date(e).getTime())/315576e5>=13,{message:"Bn phi t nht 13 tui"}),gender:qD(["Male","Female","Other"]),password:wt().min(8,"Mt khu phi c t nht 8 k t"),confirmPassword:wt().min(1,"Vui lng xc nhn mt khu")}).refine(e=>e.password===e.confirmPassword,{message:"Mt khu khng khp",path:["confirmPassword"]}),SQ=()=>{var v,x,w,j,N,k,S,C;const e=Qe(),[t,s]=y.useState(!1),[r,a]=y.useState(null),[i,o]=y.useState(!1),[l,c]=y.useState(!1),u=Na({resolver:ka(kQ),mode:"onChange",defaultValues:{username:"",fullName:"",email:"",phone:"",dob:"",gender:"Male",password:"",confirmPassword:""}}),{register:h,handleSubmit:d,formState:{errors:f,isValid:m},reset:p}=u,g=async E=>{var T,_;a(null),s(!0);try{await ee.post("/auth/register",{username:E.username,fullName:E.fullName,email:E.email,phone:E.phone,dob:E.dob,gender:E.gender,password:E.password}),localStorage.setItem("temp_signup_data",JSON.stringify(E)),p(),e(`${se.VERIFY_EMAIL}?email=${E.email}`)}catch(A){const D=((_=(T=A.response)==null?void 0:T.data)==null?void 0:_.message)??"ng k tht bi";a(D)}finally{s(!1)}},b={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs(ue.div,{className:"max-w-md w-full space-y-8",...b,children:[n.jsxs("div",{className:"text-center",children:[n.jsxs(_e,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-lg",children:n.jsx(Un,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:["Lingua",n.jsx("span",{className:"text-blue-500",children:"Hub"})]})]}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"To ti khon"}),n.jsx("p",{className:"text-gray-600",children:"Bt u hnh trnh hc ngn ng ca bn ngay hm nay"})]}),n.jsxs(ue.div,{className:"bg-white rounded-2xl shadow-xl p-8",variants:b,transition:{delay:.1},children:[n.jsxs("form",{className:"space-y-6",onSubmit:d(g),children:[r&&n.jsx(bn,{message:r}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ng nhp"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Pt,{className:"h-6 w-6 text-gray-400"})}),n.jsx(Ce,{...h("username"),type:"text",className:"pl-12",placeholder:"Nhp tn ng nhp",disabled:t})]}),((v=f.username)==null?void 0:v.message)&&n.jsx(bn,{message:f.username.message??""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"H v tn"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Pt,{className:"h-6 w-6 text-gray-400"})}),n.jsx(Ce,{...h("fullName"),className:"pl-12",placeholder:"Nhp h v tn",disabled:t})]}),((x=f.fullName)==null?void 0:x.message)&&n.jsx(bn,{message:f.fullName.message??""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"a ch Email"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Gr,{className:"h-6 w-6 text-gray-400"})}),n.jsx(Ce,{...h("email"),className:"pl-12",placeholder:"Nhp email ca bn",disabled:t})]}),((w=f.email)==null?void 0:w.message)&&n.jsx(bn,{message:f.email.message??""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Il,{className:"h-6 w-6 text-gray-400"})}),n.jsx(Ce,{...h("phone"),className:"pl-12",placeholder:"Nhp s in thoi",disabled:t})]}),((j=f.phone)==null?void 0:j.message)&&n.jsx(bn,{message:f.phone.message??""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngy sinh"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(ft,{className:"h-6 w-6 text-gray-400"})}),n.jsx(Ce,{...h("dob"),type:"date",className:"pl-12",disabled:t})]}),((N=f.dob)==null?void 0:N.message)&&n.jsx(bn,{message:f.dob.message??""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gii tnh"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Gz,{className:"h-6 w-6 text-gray-400"})}),n.jsxs("select",{...h("gender"),className:"block w-full pl-12 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",disabled:t,children:[n.jsx("option",{value:"Male",children:"Nam"}),n.jsx("option",{value:"Female",children:"N"}),n.jsx("option",{value:"Other",children:"Khc"})]})]}),((k=f.gender)==null?void 0:k.message)&&n.jsx(bn,{message:f.gender.message??""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(mr,{className:"h-6 w-6 text-gray-400"})}),n.jsx(Ce,{...h("password"),type:i?"text":"password",className:"pl-12 pr-10",placeholder:"Nhp mt khu",disabled:t}),n.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700",children:i?n.jsx(Yi,{className:"h-5 w-5"}):n.jsx(gs,{className:"h-5 w-5"})})]}),((S=f.password)==null?void 0:S.message)&&n.jsx(bn,{message:f.password.message??""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xc nhn mt khu"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(mr,{className:"h-6 w-6 text-gray-400"})}),n.jsx(Ce,{...h("confirmPassword"),type:l?"text":"password",className:"pl-12 pr-10",placeholder:"Nhp li mt khu",disabled:t}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700",children:l?n.jsx(Yi,{className:"h-5 w-5"}):n.jsx(gs,{className:"h-5 w-5"})})]}),((C=f.confirmPassword)==null?void 0:C.message)&&n.jsx(bn,{message:f.confirmPassword.message??""})]}),n.jsx(H,{type:"submit",className:"w-full",disabled:!m||t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(co,{size:"sm",className:"mr-2"})," ang to ti khon..."]}):"To ti khon"})]}),n.jsx(H,{asChild:!0,variant:"ghost",className:"w-full mt-2",children:n.jsx(_e,{to:se.SIGN_IN,children:"Quay li ng nhp"})})]})]})})},CQ=()=>n.jsx(SQ,{}),TQ=({setSearchTerm:e})=>{const[t,s]=y.useState(""),r={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},a=()=>{const i=t.trim();e(i),i||e("")};return n.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-700 py-20",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"text-center text-white",initial:"initial",animate:"animate",variants:r,children:[n.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Chn hnh trnh ngn ng ca bn"}),n.jsx("p",{className:"text-xl text-blue-100 mb-10",children:"Khm ph cc chng trnh ngn ng ton din c thit k  gip bn t chng ch"}),n.jsx("div",{className:"max-w-3xl mx-auto mb-10",children:n.jsxs("div",{className:"flex items-center bg-white rounded-full shadow-xl overflow-hidden",children:[n.jsx("input",{type:"text",value:t,placeholder:"Tm kim ngn ng...",onChange:i=>s(i.target.value),onKeyDown:i=>i.key==="Enter"&&a(),className:"flex-1 px-6 py-4 text-gray-900 text-base focus:outline-none"}),n.jsx("button",{onClick:a,className:"bg-orange-500 text-white px-10 py-4 hover:bg-orange-600 transition-colors flex items-center justify-center",children:n.jsx(ci,{className:"w-6 h-6"})})]})}),n.jsxs("div",{className:"flex justify-center space-x-8 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold",children:"50+"}),n.jsx("div",{className:"text-blue-200",children:"Ngn ng"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold",children:"5000+"}),n.jsx("div",{className:"text-blue-200",children:"Gia s bn ng"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold",children:"100K+"}),n.jsx("div",{className:"text-blue-200",children:"Hc vin"})]})]})]})})})},EQ=({languages:e})=>{const t={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},s={animate:{transition:{staggerChildren:.1}}},r=i=>{const o=((i==null?void 0:i.trim())||"").toLowerCase();return o.includes("d")||o.includes("easy")?{bgStyle:{backgroundColor:"#a7f3d0"},textStyle:{color:"#064e3b"},label:i}:o.includes("trung bnh")||o.includes("medium")?{bgStyle:{backgroundColor:"#fde68a"},textStyle:{color:"#78350f"},label:i}:o.includes("rt kh")||o.includes("very hard")||o.includes("veryhard")?{bgStyle:{backgroundColor:"#fecaca"},textStyle:{color:"#7f1d1d"},label:i}:o.includes("kh")||o.includes("hard")?{bgStyle:{backgroundColor:"#fed7aa"},textStyle:{color:"#7c2d12"},label:i}:(console.log("Unknown difficulty:",i),{bgStyle:{backgroundColor:"#e5e7eb"},textStyle:{color:"#111827"},label:i||"Cha xc nh"})},a=i=>{if(!i)return[];try{return i.split(",").map(o=>o.trim())}catch{return[]}};return n.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsx(ue.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",initial:"initial",animate:"animate",viewport:{once:!0},variants:s,children:e.map(i=>{const o=a(i.certificates),l=r(i.difficulty),c=3,u=o.slice(0,c),h=o.length-c;return n.jsxs(ue.div,{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden group cursor-pointer flex flex-col border border-gray-100 hover:border-blue-300 hover:-translate-y-2",variants:t,children:[n.jsxs("div",{className:"relative h-56 overflow-hidden bg-gray-200",children:[n.jsx(aD,{src:i.thumbnailUrl,alt:i.nameVi,className:"w-full h-full group-hover:scale-110 transition-transform duration-700"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),n.jsx("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start",children:n.jsx(Pe,{className:`${i.isActive?"bg-emerald-500 hover:bg-emerald-600 shadow-lg":"bg-slate-500 hover:bg-slate-600 shadow-lg"} backdrop-blur-md border-0`,children:i.isActive?" ang m":" Tm ngng"})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-gradient-to-t from-black/90 to-transparent",children:[n.jsx("h3",{className:"text-2xl font-bold text-white drop-shadow-2xl mb-1 tracking-tight",children:i.nameVi}),n.jsx("p",{className:"text-sm text-white/95 drop-shadow-lg font-medium",children:i.nameEn})]})]}),n.jsxs("div",{className:"p-6 space-y-5 flex flex-col flex-1 bg-gradient-to-b from-white via-gray-50/30 to-gray-50/50",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-600 font-medium",children:" kh:"}),n.jsx("span",{className:"px-4 py-1.5 rounded-full text-sm font-bold shadow-sm",style:{...l.bgStyle,...l.textStyle},children:l.label})]}),n.jsxs("div",{className:"flex-1 min-h-[80px]",children:[n.jsxs("h4",{className:"font-bold text-gray-900 mb-3 text-sm flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsx("span",{children:"Chng ch"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:o.length>0?n.jsxs(n.Fragment,{children:[u.map((d,f)=>n.jsx("span",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 text-xs px-3 py-1.5 rounded-lg font-semibold border border-blue-200/50 shadow-sm hover:shadow-md transition-shadow",children:d},f)),h>0&&n.jsxs("span",{className:"bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 text-xs px-3 py-1.5 rounded-lg font-bold border border-purple-200/50 shadow-sm",children:["+",h]})]}):n.jsx("span",{className:"text-gray-400 text-xs italic",children:"Cha c chng ch"})})]}),n.jsx(_e,{to:`/languages/${i.nameEn.toLowerCase()}`,className:`block w-full text-center py-3.5 rounded-xl font-bold transition-all duration-300 mt-auto shadow-md ${i.isActive?"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white hover:from-blue-600 hover:via-blue-700 hover:to-indigo-700 hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98]":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,onClick:d=>!i.isActive&&d.preventDefault(),children:i.isActive?"Khm ph kha hc ":"Tm ngng"})]})]},i.id)})})})})},_Q=({currentPage:e,totalPages:t,onPageChange:s})=>{const r={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};if(t<=1)return null;const a=()=>{const i=[];if(t<=5)for(let l=1;l<=t;l++)i.push(l);else if(e<=3){for(let l=1;l<=4;l++)i.push(l);i.push("..."),i.push(t)}else if(e>=t-2){i.push(1),i.push("...");for(let l=t-3;l<=t;l++)i.push(l)}else{i.push(1),i.push("...");for(let l=e-1;l<=e+1;l++)i.push(l);i.push("..."),i.push(t)}return i};return n.jsxs(ue.div,{className:"flex justify-center items-center space-x-2 py-8",initial:"initial",animate:"animate",variants:r,children:[n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e-1),disabled:e===1,children:n.jsx(qn,{className:"w-4 h-4"})}),a().map((i,o)=>n.jsx(re.Fragment,{children:i==="..."?n.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):n.jsx(H,{variant:e===i?"default":"outline",size:"sm",onClick:()=>s(i),children:i})},o)),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e+1),disabled:e===t,children:n.jsx(Wt,{className:"w-4 h-4"})})]})},AQ=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t={animate:{transition:{staggerChildren:.1}}};return n.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-500 to-purple-600",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16 text-center",children:n.jsxs(ue.div,{initial:"initial",whileInView:"animate",viewport:{once:!0},variants:t,children:[n.jsx(ue.h2,{className:"text-4xl font-bold text-white mb-6",variants:e,children:"Sn sng bt u hnh trnh ngn ng ca bn?"}),n.jsx(ue.p,{className:"text-xl text-blue-100 mb-8",variants:e,children:"Chn ngn ng ca bn v c kt ni vi gia s bn ng hon ho"}),n.jsx(ue.div,{variants:e,children:n.jsx(_e,{to:se.TUTORS,className:"bg-white text-blue-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-100 transition-colors inline-block",children:"Tm gia s ca bn"})})]})})})},DQ=()=>{const[e,t]=re.useState(""),[s,r]=re.useState(1),[a,i]=re.useState([]),[o,l]=re.useState(!0),c=8;re.useEffect(()=>{(async()=>{try{const p=await ee.get("/languages/all");i(p.data.result)}catch(p){console.error("Error fetching languages:",p)}finally{l(!1)}})()},[]);const u=e.trim()?a.filter(m=>m.nameVi.toLowerCase().includes(e.toLowerCase())||m.nameEn.toLowerCase().includes(e.toLowerCase())):a,h=Math.ceil(u.length/c),d=(s-1)*c,f=u.slice(d,d+c);return re.useEffect(()=>{r(1)},[e]),re.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s]),o?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("p",{className:"text-lg",children:"ang ti ngn ng..."})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(TQ,{setSearchTerm:t}),n.jsx(EQ,{languages:f}),n.jsx(_Q,{currentPage:s,totalPages:h,onPageChange:r}),n.jsx(AQ,{})]})},RQ=({onSearchChange:e})=>{const[t,s]=y.useState(""),r={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},a=()=>{e(t.trim())},i=o=>{o.key==="Enter"&&a()};return n.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-700 py-20",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"text-center text-white",initial:"initial",animate:"animate",variants:r,children:[n.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Tm gia s ngn ng hon ho ca bn"}),n.jsx("p",{className:"text-xl text-blue-100 mb-10",children:"Kt ni vi gio vin bn ng c chng nhn t khp ni trn th gii"}),n.jsx("div",{className:"max-w-3xl mx-auto",children:n.jsxs("div",{className:"flex items-center bg-white rounded-full shadow-xl overflow-hidden",children:[n.jsx("input",{type:"text",placeholder:"Tm kim gia s ph hp cho bn",value:t,onChange:o=>s(o.target.value),onKeyDown:i,className:"flex-1 px-6 py-4 text-gray-900 text-base focus:outline-none"}),n.jsx("button",{onClick:a,className:"bg-orange-500 text-white px-10 py-4 hover:bg-orange-600 transition-colors flex items-center justify-center",children:n.jsx(ci,{className:"w-6 h-6"})})]})})]})})})},OQ=({languages:e,selectedLanguage:t,priceRange:s,maxPrice:r,selectedRating:a,tutorCount:i,selectedDay:o,timeRange:l,onLanguageChange:c,onPriceRangeChange:u,onRatingChange:h,onDayChange:d,onTimeRangeChange:f})=>{const m=["All","T2","T3","T4","T5","T6","T7","CN"],p={All:"Tt c",T2:"Th 2",T3:"Th 3",T4:"Th 4",T5:"Th 5",T6:"Th 6",T7:"Th 7",CN:"Ch nht"},g={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return n.jsx("section",{className:"py-4 bg-white border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"space-y-3",initial:"initial",animate:"animate",variants:g,children:[n.jsxs("div",{className:"flex items-center justify-center gap-3 flex-nowrap overflow-x-auto",children:[n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx(Pl,{className:"w-3.5 h-3.5 text-gray-600"}),n.jsx("span",{className:"font-medium text-gray-700 text-xs",children:"B lc:"})]}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Ngn ng:"}),n.jsx("select",{value:t,onChange:b=>c(b.target.value),className:"border-2 border-gray-400 rounded-md px-2 py-1 text-xs focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",children:(e??[]).map(b=>n.jsx("option",{value:b,children:b},b))})]}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Th:"}),n.jsx("select",{value:o,onChange:b=>d(b.target.value),className:"border-2 border-gray-400 rounded-md px-2 py-1 text-xs focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",children:m.map(b=>n.jsx("option",{value:b,children:p[b]},b))})]}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Gi:"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"range",min:0,max:24,value:l[0],step:1,onChange:b=>f([Number(b.target.value),l[1]]),className:"w-20 accent-indigo-600"}),n.jsxs("span",{className:"text-xs text-gray-600 w-7",children:[String(l[0]).padStart(2,"0"),"h"]}),n.jsx("span",{className:"text-gray-400 text-xs",children:"-"}),n.jsx("input",{type:"range",min:0,max:24,value:l[1],step:1,onChange:b=>f([l[0],Number(b.target.value)]),className:"w-20 accent-indigo-600"}),n.jsxs("span",{className:"text-xs text-gray-600 w-7",children:[String(l[1]).padStart(2,"0"),"h"]})]})]}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Gi:"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("input",{type:"range",min:0,max:r,value:s[0],step:1e3,onChange:b=>u([Number(b.target.value),s[1]]),className:"w-20 accent-indigo-600"}),n.jsxs("span",{className:"text-xs text-gray-600 w-10",children:[(s[0]/1e3).toFixed(0),"k"]}),n.jsx("span",{className:"text-gray-400 text-xs",children:"-"}),n.jsx("input",{type:"range",min:0,max:r,value:s[1],step:1e3,onChange:b=>u([s[0],Number(b.target.value)]),className:"w-20 accent-indigo-600"}),n.jsxs("span",{className:"text-xs text-gray-600 w-10",children:[(s[1]/1e3).toFixed(0),"k"]})]})]}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx("label",{className:"text-xs font-medium text-gray-600",children:"nh gi:"}),n.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(b=>{const v=a>=b;return n.jsx("button",{type:"button",onClick:()=>h(a===b?0:b),children:n.jsx(un,{className:`w-3.5 h-3.5 ${v?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},b)})})]})]}),n.jsxs("div",{className:"text-center text-sm text-gray-900",children:["Tm thy ",n.jsx("span",{className:"font-semibold",children:i})," gia s"]})]})})})},PQ=({tutors:e,loading:t})=>{const s={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},r={animate:{transition:{staggerChildren:.1}}};return t?n.jsx("section",{className:"py-16 text-center",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"ang ti gia s..."})}):!e||e.length===0?n.jsx("section",{className:"py-16 text-center",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"Khng tm thy gia s."})}):n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:"initial",animate:"animate",variants:r,children:e.map(a=>{var o;const i=se.TUTOR_DETAIL.replace(":id",a.id.toString());return n.jsx(ue.div,{variants:s,whileHover:{scale:1.02},transition:{duration:.3},children:n.jsxs(_e,{to:i,className:"block bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group cursor-pointer flex flex-col h-full",children:[n.jsx("div",{className:"relative w-full h-96 overflow-hidden rounded-t-xl bg-gray-100",children:n.jsx("img",{src:a.image||"https://via.placeholder.com/400x400",alt:a.name,className:"w-full h-full object-cover object-top group-hover:scale-105 transition-transform duration-300",onError:l=>{l.target.src="https://via.placeholder.com/400x400"}})}),n.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:a.name}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(un,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"text-sm font-medium",children:a.rating}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.reviews,")"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 mb-3 text-gray-600 text-sm",children:[n.jsx(Au,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:a.country}),n.jsx(Un,{className:"w-4 h-4 text-gray-500 ml-3"}),n.jsx("span",{children:a.language})]}),n.jsx("p",{className:"text-gray-600 mb-4 text-sm overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",height:"4.5rem",lineHeight:"1.5rem"},children:a.description||"Cha c m t"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.specialties.map((l,c)=>n.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-xs px-2 py-1 rounded-full",children:l},c))}),n.jsx("div",{className:"mt-auto pt-4 border-t",children:n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[(o=a.price)==null?void 0:o.toLocaleString(),""]}),n.jsx("span",{className:"text-gray-500 text-sm",children:"/slot"})]}),n.jsx("span",{className:"text-xs text-gray-400",children:"(1 slot = 1 gi)"})]}),n.jsx(_e,{to:i,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm font-semibold",children:"t lch"})]})})]})]})},a.id)})},e.map(a=>a.id).join("-"))})})},IQ=({currentPage:e,totalPages:t,onPageChange:s})=>{const r={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};if(t<=0)return null;const a=()=>{const i=[];if(t<=5)for(let l=1;l<=t;l++)i.push(l);else if(e<=3){for(let l=1;l<=4;l++)i.push(l);i.push("..."),i.push(t)}else if(e>=t-2){i.push(1),i.push("...");for(let l=t-3;l<=t;l++)i.push(l)}else{i.push(1),i.push("...");for(let l=e-1;l<=e+1;l++)i.push(l);i.push("..."),i.push(t)}return i};return n.jsxs(ue.div,{className:"flex justify-center items-center space-x-2 py-8",initial:"initial",animate:"animate",variants:r,children:[n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e-1),disabled:e===1,children:n.jsx(qn,{className:"w-4 h-4"})}),a().map((i,o)=>n.jsx(re.Fragment,{children:i==="..."?n.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):n.jsx(H,{variant:e===i?"default":"outline",size:"sm",onClick:()=>s(i),children:i})},o)),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e+1),disabled:e===t,children:n.jsx(Wt,{className:"w-4 h-4"})})]})},MQ=e=>{const t=r=>r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();return{search:r=>{if(!r||r.trim()==="")return e.map(g=>g.id);const a=t(r),i={english:["english","tieng anh","anh"],japanese:["japanese","tieng nhat","nhat"],korean:["korean","tieng han","han"],chinese:["chinese","tieng trung","trung"],french:["french","tieng phap","phap"],german:["german","tieng duc","duc"],spanish:["spanish","tieng tay ban nha"],italian:["italian","tieng y"],vietnamese:["vietnamese","tieng viet","viet"]};let o=a;for(const[g,b]of Object.entries(i))for(const v of b)if(a.includes(v)){o+=" "+g;break}const l=["gia","su","tutor","teacher","giao","vien","nguoi","den","tu"],c=o.split(/\s+/).filter(g=>g.length>1&&!l.includes(g)).filter((g,b,v)=>v.indexOf(g)===b);if(c.length===0)return e.map(g=>g.id);const u=["english","japanese","korean","chinese","french","german","spanish","italian","vietnamese","tieng","anh","nhat","han","trung","phap","duc"],h=["vietnam","viet","nam","japan","nhat","korea","han","china","trung","france","phap","germany","duc","usa","my","uk"],d=c.some(g=>u.includes(g)),f=c.some(g=>h.includes(g)),m=d&&f;return e.map(g=>{let b=0,v=0,x=!1,w=!1;const j=t(g.name),N=t(g.language),k=t(g.country),S=g.specialties.map(E=>t(E)).join(" "),C=t(g.description);return N.includes(a)&&(b+=100,v=c.length,x=!0),S.includes(a)&&(b+=80,v=c.length,x=!0),c.forEach(E=>{let T=!1;const _=u.includes(E),A=h.includes(E);N.includes(E)&&(b+=15,T=!0,_&&(x=!0)),S.includes(E)&&(b+=12,T=!0,_&&(x=!0)),k.includes(E)&&(b+=8,T=!0,A&&(w=!0)),!_&&!A&&j.includes(E)&&(b+=3,T=!0),!_&&!A&&C.includes(E)&&(b+=.5,T=!0),T&&v++}),m&&(!x||!w)&&(b=0),c.length>1&&v===c.length&&(b*=1.5),{id:g.id,score:b,matchedWords:v}}).filter(g=>g.score>3&&g.matchedWords>0).sort((g,b)=>b.score-g.score).map(g=>g.id)}}},LQ=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,i]=y.useState(""),[o,l]=y.useState("All"),[c,u]=y.useState([]),[h,d]=y.useState([0,0]),[f,m]=y.useState(0),[p,g]=y.useState(0),[b,v]=y.useState(1),x=6,[w,j]=y.useState("All"),[N,k]=y.useState([0,24]),[S,C]=y.useState({});y.useEffect(()=>{(async()=>{try{r(!0);const R=await ee.get("/tutors/approved"),U=Array.isArray(R.data.result)?R.data.result:R.data,I=await Promise.all(U.map(async M=>{try{const F=(await ee.get(`/tutors/${M.tutorId}`)).data,O=F.feedbacks?F.feedbacks.length:0;return{id:M.tutorId,name:M.userName,language:(M.teachingLanguage??"Unknown").trim(),country:M.country??"Unknown",rating:M.rating??5,reviews:O,price:M.pricePerHour??0,specialties:M.specialization?M.specialization.split(",").map(q=>q.trim()):[],image:M.avatarUrl||M.avatarURL||"https://placehold.co/300x200?text=No+Image",description:F.bio||"No bio available.",availability:M.availability??"Available"}}catch{return{id:M.tutorId,name:M.userName,language:(M.teachingLanguage??"Unknown").trim(),country:M.country??"Unknown",rating:M.rating??5,reviews:0,price:M.pricePerHour??0,specialties:M.specialization?M.specialization.split(",").map($=>$.trim()):[],image:M.avatarUrl||M.avatarURL||"https://placehold.co/300x200?text=No+Image",description:"No bio available.",availability:M.availability??"Available"}}}));t(I);const L={};await Promise.all(I.map(async M=>{var $;try{const F=await ee.get(`/tutor/${M.id}/booking-plan`,{skipAuth:!0}),O=(($=F==null?void 0:F.data)==null?void 0:$.plans)||[];L[M.id]=O.filter(q=>q.is_open&&q.is_active)}catch{L[M.id]=[]}})),C(L)}catch(R){console.error(" Failed to fetch tutors:",R)}finally{r(!1)}})()},[]),y.useEffect(()=>{if(e.length>0){const D=Array.from(new Set(e.map(L=>(L.language||"Unknown").trim().replace(/\s+/g," ")))),R={English:"Ting Anh",Japanese:"Ting Nht",Korean:"Ting Hn",Chinese:"Ting Trung",French:"Ting Php",German:"Ting c",Spanish:"Ting Ty Ban Nha",Italian:"Ting ",Vietnamese:"Ting Vit"},U=D.map(L=>R[L]||L);u(["Tt c",...U]);const I=Math.max(...e.map(L=>L.price),0);m(I),d([0,I])}},[e]);const{search:E}=MQ(e),T=y.useMemo(()=>{const D=E(a),R=a.trim()===""?e:e.filter(M=>D.includes(M.id)),U={"tt c":"all","ting anh":"english","ting nht":"japanese","ting hn":"korean","ting trung":"chinese","ting php":"french","ting c":"german","ting ty ban nha":"spanish","ting ":"italian","ting vit":"vietnamese"},I=o.trim().toLowerCase(),L=U[I]||I;return R.filter(M=>{const $=(M.language||"Unknown").trim().toLowerCase(),F=L==="all"||$===L;let O=!0;if(w!=="All"){const W=(S[M.id]||[]).filter(P=>P.title===w);W.length===0?O=!1:O=W.some(V=>{const Y=parseInt(V.start_hours.split(":")[0]);return!(parseInt(V.end_hours.split(":")[0])<=N[0]||Y>=N[1])})}const q=M.price>=h[0]&&M.price<=h[1],B=p===0||M.rating>=p;return F&&q&&B&&O})},[e,o,a,h,p,w,N,S,E]);y.useEffect(()=>{v(1)},[o,a,h,p,w,N]);const _=Math.ceil(T.length/x),A=T.slice((b-1)*x,b*x);return y.useEffect(()=>{b>_&&v(1)},[_]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(RQ,{onSearchChange:D=>{i(D),v(1),window.scrollTo({top:0,behavior:"smooth"})}}),n.jsx(OQ,{languages:c,selectedLanguage:o,priceRange:h,maxPrice:f,selectedRating:p,tutorCount:T.length,selectedDay:w,timeRange:N,onLanguageChange:D=>{l(D),v(1),d([0,f])},onPriceRangeChange:D=>{d(D),v(1)},onRatingChange:D=>{g(D),v(1)},onDayChange:D=>{j(D),v(1)},onTimeRangeChange:D=>{k(D),v(1)}}),n.jsx(PQ,{tutors:A,loading:s}),n.jsx(IQ,{currentPage:b,totalPages:_,onPageChange:D=>{v(D),window.scrollTo({top:0,behavior:"smooth"})}})]})},FQ=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e||0),$Q=({tutor:e})=>{var l;const t=Qe(),[s,r]=re.useState(!1);re.useEffect(()=>{const c=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");r(!!c)},[]);const a={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},i=()=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){const u=encodeURIComponent(window.location.pathname);return t(`${se.SIGN_IN}?redirect=${u}`),!1}return!0},o=async()=>{var c,u;if(i())try{const d=(c=(await ee.post(`/chat/advice/${e.id}`)).data)==null?void 0:c.result;if(!(d!=null&&d.chatRoomID))return alert("Unable to create chat room.");t(`/messages/${d.chatRoomID}`)}catch(h){if(Jt.isAxiosError(h)&&((u=h.response)==null?void 0:u.status)===401){const d=encodeURIComponent(window.location.pathname);t(`${se.SIGN_IN}?redirect=${d}`);return}console.error(h),alert("Something went wrong.")}};return n.jsxs("section",{className:"relative",children:[n.jsx("div",{className:"h-64 bg-gradient-to-r from-blue-600 to-purple-700 relative overflow-hidden",children:n.jsx("img",{src:e.coverImage||"https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&w=1200&q=80",alt:"Background",className:"w-full h-full object-cover opacity-20"})}),n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16 relative -mt-32",children:n.jsx(ue.div,{className:"bg-white rounded-2xl shadow-xl p-8",initial:"initial",animate:"animate",variants:a,children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6 mb-6",children:[n.jsx("img",{src:e.image||"https://placehold.co/200x200?text=No+Image",alt:e.name,className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.name}),n.jsxs("p",{className:"text-lg text-blue-600 font-medium mb-2",children:["Gia s ",e.language||"Cha r"]}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Au,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"text-gray-600",children:e.country||"Cha r quc gia"})]}),n.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(un,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"font-medium",children:((l=e.rating)==null?void 0:l.toFixed(2))||"5.00"}),n.jsx("span",{className:"text-gray-500",children:"(nh gi)"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(en,{className:"w-5 h-5 text-gray-500"}),n.jsxs("span",{className:"text-gray-600",children:["Ngn ng ging dy: ",e.teachingLanguage]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx(tt,{className:"w-5 h-5 text-gray-500"}),n.jsxs("span",{className:"text-gray-600",children:["Kinh nghim: ",e.experience||"Cha cp nht"]})]})]})]}),e.specialties.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Chuyn mn"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.specialties.map((c,u)=>n.jsx(Pe,{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:c},u))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"V ti"}),n.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:e.description||"Gia s ny cha c m t chi tit. Vui lng quay li sau."})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("div",{className:"flex items-center justify-center mb-3 space-x-2",children:[n.jsx("span",{className:"text-3xl font-bold text-green-500",children:FQ(e.price)}),n.jsx("span",{className:"text-gray-500",children:"/slot"})]}),n.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-700 px-3 py-1.5 rounded-full text-sm font-medium mb-3",children:[n.jsx("span",{className:"text-xs",children:""}),n.jsx("span",{children:"1 slot = 1 gi"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:s?"Chn lch ph hp v bt u hc ngay!":"ng k ngay  nhn slot tt nht"})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs(H,{onClick:()=>{i()&&t(`/book-tutor/${e.id}`)},className:"w-full bg-orange-500 text-white py-3 rounded-lg flex items-center justify-center gap-2 font-semibold hover:bg-orange-600 transition",children:[n.jsx(Za,{className:"w-5 h-5"}),n.jsx("span",{children:"t lch"})]}),n.jsxs(H,{onClick:o,variant:"outline",className:"w-full border border-blue-500 text-blue-500 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors flex items-center justify-center gap-2",children:[n.jsx(I5,{className:"w-5 h-5"}),n.jsx("span",{children:"Nhn tin ngay"})]})]})]})})]})})})]})},UQ=({courses:e})=>{const[t,s]=y.useState(1),r=4,a={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},i=h=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(h||0);if(!e||e.length===0)return n.jsxs(ue.div,{className:"bg-white rounded-xl p-8 shadow-md text-center",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:a,children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Kha hc c sn"}),n.jsx("p",{className:"text-gray-500",children:"Hin cha c kha hc no c ng."})]});const o=Math.ceil(e.length/r),l=e.slice((t-1)*r,t*r),c=()=>{t<o&&(s(t+1),window.scrollTo({top:0,behavior:"smooth"}))},u=()=>{t>1&&(s(t-1),window.scrollTo({top:0,behavior:"smooth"}))};return n.jsxs(ue.div,{className:"bg-white rounded-xl p-8 shadow-md relative",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:a,children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Kha hc c sn"}),n.jsx("button",{onClick:u,disabled:t===1,className:`absolute left-[-22px] top-1/2 -translate-y-1/2 p-3 rounded-full shadow-md bg-white text-gray-700 transition ${t===1?"opacity-40 cursor-default":"hover:bg-gray-100"}`,children:n.jsx(qn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:c,disabled:t===o,className:`absolute right-[-22px] top-1/2 -translate-y-1/2 p-3 rounded-full shadow-md bg-white text-gray-700 transition ${t===o?"opacity-40 cursor-default":"hover:bg-gray-100"}`,children:n.jsx(Wt,{className:"w-5 h-5"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map(h=>n.jsx(ye,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer flex flex-col",children:n.jsxs(_e,{to:`/courses/${h.id}`,className:"flex flex-col h-full",children:[n.jsx("img",{src:h.thumbnailURL||"https://placehold.co/400x250?text=No+Image",alt:h.title,className:"w-full h-40 object-cover",onError:d=>d.target.src="https://placehold.co/400x250?text=No+Image"}),n.jsxs(De,{className:"p-5 flex flex-col flex-grow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(Pe,{variant:"secondary",className:"text-xs capitalize",children:h.categoryName||"Chung"}),n.jsx("span",{className:`text-xs font-medium ${h.status==="Approved"?"text-green-600":"text-gray-500"}`,children:h.status})]}),n.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:h.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3 flex-grow",children:h.description||"Cha c m t."}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(st,{className:"w-4 h-4"}),n.jsxs("span",{children:[h.duration," gi"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mq,{className:"w-4 h-4"}),n.jsx("span",{className:"capitalize",children:h.language})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[n.jsx("span",{className:"text-lg font-bold text-blue-600",children:i(h.price)}),n.jsx(H,{size:"sm",className:"px-4",children:"ng k"})]})]})]})},h.id))})]})},It=y.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));It.displayName="Textarea";var VQ=KT[" useId ".trim().toString()]||(()=>{}),BQ=0;function Ir(e){const[t,s]=y.useState(VQ());return _n(()=>{s(r=>r??String(BQ++))},[e]),t?`radix-${t}`:""}function xs(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function zQ(e,t=globalThis==null?void 0:globalThis.document){const s=xs(e);y.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var qQ="DismissableLayer",Qv="dismissableLayer.update",HQ="dismissableLayer.pointerDownOutside",WQ="dismissableLayer.focusOutside",US,tR=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ou=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(tR),[h,d]=y.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),p=mt(t,S=>d(S)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),x=h?g.indexOf(h):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=v,N=GQ(S=>{const C=S.target,E=[...u.branches].some(T=>T.contains(C));!j||E||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),k=YQ(S=>{const C=S.target;[...u.branches].some(T=>T.contains(C))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return zQ(S=>{x===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),y.useEffect(()=>{if(h)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(US=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),VS(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=US)}},[h,f,s,u]),y.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),VS())},[h,u]),y.useEffect(()=>{const S=()=>m({});return document.addEventListener(Qv,S),()=>document.removeEventListener(Qv,S)},[]),n.jsx(qe.div,{...c,ref:p,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,N.onPointerDownCapture)})});Ou.displayName=qQ;var KQ="DismissableLayerBranch",nR=y.forwardRef((e,t)=>{const s=y.useContext(tR),r=y.useRef(null),a=mt(t,r);return y.useEffect(()=>{const i=r.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),n.jsx(qe.div,{...e,ref:a})});nR.displayName=KQ;function GQ(e,t=globalThis==null?void 0:globalThis.document){const s=xs(e),r=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){sR(HQ,s,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function YQ(e,t=globalThis==null?void 0:globalThis.document){const s=xs(e),r=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!r.current&&sR(WQ,s,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VS(){const e=new CustomEvent(Qv);document.dispatchEvent(e)}function sR(e,t,s,{discrete:r}){const a=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?wj(a,i):a.dispatchEvent(i)}var QQ=Ou,ZQ=nR,C0="focusScope.autoFocusOnMount",T0="focusScope.autoFocusOnUnmount",BS={bubbles:!1,cancelable:!0},XQ="FocusScope",Gh=y.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=xs(a),h=xs(i),d=y.useRef(null),f=mt(t,g=>c(g)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?d.current=j:bi(d.current,{select:!0})},b=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||bi(d.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&bi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[r,l,m.paused]),y.useEffect(()=>{if(l){qS.add(m);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(C0,BS);l.addEventListener(C0,u),l.dispatchEvent(v),v.defaultPrevented||(JQ(rZ(rR(l)),{select:!0}),document.activeElement===g&&bi(l))}return()=>{l.removeEventListener(C0,u),setTimeout(()=>{const v=new CustomEvent(T0,BS);l.addEventListener(T0,h),l.dispatchEvent(v),v.defaultPrevented||bi(g??document.body,{select:!0}),l.removeEventListener(T0,h),qS.remove(m)},0)}}},[l,u,h,m]);const p=y.useCallback(g=>{if(!s&&!r||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const x=g.currentTarget,[w,j]=eZ(x);w&&j?!g.shiftKey&&v===j?(g.preventDefault(),s&&bi(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),s&&bi(j,{select:!0})):v===x&&g.preventDefault()}},[s,r,m.paused]);return n.jsx(qe.div,{tabIndex:-1,...o,ref:f,onKeyDown:p})});Gh.displayName=XQ;function JQ(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(bi(r,{select:t}),document.activeElement!==s)return}function eZ(e){const t=rR(e),s=zS(t,e),r=zS(t.reverse(),e);return[s,r]}function rR(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function zS(e,t){for(const s of e)if(!tZ(s,{upTo:t}))return s}function tZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nZ(e){return e instanceof HTMLInputElement&&"select"in e}function bi(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&nZ(e)&&t&&e.select()}}var qS=sZ();function sZ(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=HS(e,t),e.unshift(t)},remove(t){var s;e=HS(e,t),(s=e[0])==null||s.resume()}}}function HS(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function rZ(e){return e.filter(t=>t.tagName!=="A")}var aZ="Portal",Pu=y.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[a,i]=y.useState(!1);_n(()=>i(!0),[]);const o=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?vF.createPortal(n.jsx(qe.div,{...r,ref:t}),o):null});Pu.displayName=aZ;var E0=0;function Rg(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??WS()),document.body.insertAdjacentElement("beforeend",e[1]??WS()),E0++,()=>{E0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),E0--}},[])}function WS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oa=function(){return oa=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},oa.apply(this,arguments)};function aR(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function iZ(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Sm="right-scroll-bar-position",Cm="width-before-scroll-bar",oZ="with-scroll-bars-hidden",lZ="--removed-body-scroll-bar-size";function _0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cZ(e,t){var s=y.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=t,s.facade}var uZ=typeof window<"u"?y.useLayoutEffect:y.useEffect,KS=new WeakMap;function dZ(e,t){var s=cZ(null,function(r){return e.forEach(function(a){return _0(a,r)})});return uZ(function(){var r=KS.get(s);if(r){var a=new Set(r),i=new Set(e),o=s.current;a.forEach(function(l){i.has(l)||_0(l,null)}),i.forEach(function(l){a.has(l)||_0(l,o)})}KS.set(s,e)},[e]),s}function hZ(e){return e}function fZ(e,t){t===void 0&&(t=hZ);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=t(i,r);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){r=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),s={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),s}}}};return a}function mZ(e){e===void 0&&(e={});var t=fZ(null);return t.options=oa({async:!0,ssr:!1},e),t}var iR=function(e){var t=e.sideCar,s=aR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,oa({},s))};iR.isSideCarExport=!0;function pZ(e,t){return e.useMedium(t),iR}var oR=mZ(),A0=function(){},Og=y.forwardRef(function(e,t){var s=y.useRef(null),r=y.useState({onScrollCapture:A0,onWheelCapture:A0,onTouchMoveCapture:A0}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,d=e.shards,f=e.sideCar,m=e.noRelative,p=e.noIsolation,g=e.inert,b=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,j=aR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,k=dZ([s,t]),S=oa(oa({},j),a);return y.createElement(y.Fragment,null,h&&y.createElement(N,{sideCar:oR,removeScrollBar:u,shards:d,noRelative:m,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!b,lockRef:s,gapMode:w}),o?y.cloneElement(y.Children.only(l),oa(oa({},S),{ref:k})):y.createElement(x,oa({},S,{className:c,ref:k}),l))});Og.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Og.classNames={fullWidth:Cm,zeroRight:Sm};var gZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gZ();return t&&e.setAttribute("nonce",t),e}function yZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bZ=function(){var e=0,t=null;return{add:function(s){e==0&&(t=xZ())&&(yZ(t,s),vZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wZ=function(){var e=bZ();return function(t,s){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},lR=function(){var e=wZ(),t=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return t},jZ={left:0,top:0,right:0,gap:0},D0=function(e){return parseInt(e||"",10)||0},NZ=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[D0(s),D0(r),D0(a)]},kZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jZ;var t=NZ(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},SZ=lR(),Mc="data-scroll-locked",CZ=function(e,t,s,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(oZ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Mc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sm,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Cm,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cm," .").concat(Cm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mc,`] {
    `).concat(lZ,": ").concat(l,`px;
  }
`)},GS=function(){var e=parseInt(document.body.getAttribute(Mc)||"0",10);return isFinite(e)?e:0},TZ=function(){y.useEffect(function(){return document.body.setAttribute(Mc,(GS()+1).toString()),function(){var e=GS()-1;e<=0?document.body.removeAttribute(Mc):document.body.setAttribute(Mc,e.toString())}},[])},EZ=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;TZ();var i=y.useMemo(function(){return kZ(a)},[a]);return y.createElement(SZ,{styles:CZ(i,!t,a,s?"":"!important")})},Zv=!1;if(typeof window<"u")try{var Uf=Object.defineProperty({},"passive",{get:function(){return Zv=!0,!0}});window.addEventListener("test",Uf,Uf),window.removeEventListener("test",Uf,Uf)}catch{Zv=!1}var Kl=Zv?{passive:!1}:!1,_Z=function(e){return e.tagName==="TEXTAREA"},cR=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!_Z(e)&&s[t]==="visible")},AZ=function(e){return cR(e,"overflowY")},DZ=function(e){return cR(e,"overflowX")},YS=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=uR(e,r);if(a){var i=dR(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},RZ=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},OZ=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},uR=function(e,t){return e==="v"?AZ(t):DZ(t)},dR=function(e,t){return e==="v"?RZ(t):OZ(t)},PZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},IZ=function(e,t,s,r,a){var i=PZ(e,window.getComputedStyle(t).direction),o=i*r,l=s.target,c=t.contains(l),u=!1,h=o>0,d=0,f=0;do{if(!l)break;var m=dR(e,l),p=m[0],g=m[1],b=m[2],v=g-b-i*p;(p||v)&&uR(e,l)&&(d+=v,f+=p);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(d)<1||!h&&Math.abs(f)<1)&&(u=!0),u},Vf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},QS=function(e){return[e.deltaX,e.deltaY]},ZS=function(e){return e&&"current"in e?e.current:e},MZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FZ=0,Gl=[];function $Z(e){var t=y.useRef([]),s=y.useRef([0,0]),r=y.useRef(),a=y.useState(FZ++)[0],i=y.useState(lR)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=iZ([e.lockRef.current],(e.shards||[]).map(ZS),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Vf(g),x=s.current,w="deltaX"in g?g.deltaX:x[0]-v[0],j="deltaY"in g?g.deltaY:x[1]-v[1],N,k=g.target,S=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&S==="h"&&k.type==="range")return!1;var C=YS(S,k);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=YS(S,k)),!C)return!1;if(!r.current&&"changedTouches"in g&&(w||j)&&(r.current=N),!N)return!0;var E=r.current||N;return IZ(E,b,g,E==="h"?w:j)},[]),c=y.useCallback(function(g){var b=g;if(!(!Gl.length||Gl[Gl.length-1]!==i)){var v="deltaY"in b?QS(b):Vf(b),x=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&MZ(N.delta,v)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(ZS).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=y.useCallback(function(g,b,v,x){var w={name:g,delta:b,target:v,should:x,shadowParent:UZ(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),h=y.useCallback(function(g){s.current=Vf(g),r.current=void 0},[]),d=y.useCallback(function(g){u(g.type,QS(g),g.target,l(g,e.lockRef.current))},[]),f=y.useCallback(function(g){u(g.type,Vf(g),g.target,l(g,e.lockRef.current))},[]);y.useEffect(function(){return Gl.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Kl),document.addEventListener("touchmove",c,Kl),document.addEventListener("touchstart",h,Kl),function(){Gl=Gl.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Kl),document.removeEventListener("touchmove",c,Kl),document.removeEventListener("touchstart",h,Kl)}},[]);var m=e.removeScrollBar,p=e.inert;return y.createElement(y.Fragment,null,p?y.createElement(i,{styles:LZ(a)}):null,m?y.createElement(EZ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function UZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VZ=pZ(oR,$Z);var Yh=y.forwardRef(function(e,t){return y.createElement(Og,oa({},e,{ref:t,sideCar:VZ}))});Yh.classNames=Og.classNames;var BZ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yl=new WeakMap,Bf=new WeakMap,zf={},R0=0,hR=function(e){return e&&(e.host||hR(e.parentNode))},zZ=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=hR(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},qZ=function(e,t,s,r){var a=zZ(t,Array.isArray(e)?e:[e]);zf[s]||(zf[s]=new WeakMap);var i=zf[s],o=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(l.has(f))h(f);else try{var m=f.getAttribute(r),p=m!==null&&m!=="false",g=(Yl.get(f)||0)+1,b=(i.get(f)||0)+1;Yl.set(f,g),i.set(f,b),o.push(f),g===1&&p&&Bf.set(f,!0),b===1&&f.setAttribute(s,"true"),p||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return h(t),l.clear(),R0++,function(){o.forEach(function(d){var f=Yl.get(d)-1,m=i.get(d)-1;Yl.set(d,f),i.set(d,m),f||(Bf.has(d)||d.removeAttribute(r),Bf.delete(d)),m||d.removeAttribute(s)}),R0--,R0||(Yl=new WeakMap,Yl=new WeakMap,Bf=new WeakMap,zf={})}},Pg=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=BZ(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),qZ(r,a,s,"aria-hidden")):function(){return null}},Ig="Dialog",[fR,mR]=Jn(Ig),[HZ,Yr]=fR(Ig),pR=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,h]=$r({prop:r,defaultProp:a??!1,onChange:i,caller:Ig});return n.jsx(HZ,{scope:t,triggerRef:l,contentRef:c,contentId:Ir(),titleId:Ir(),descriptionId:Ir(),open:u,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(d=>!d),[h]),modal:o,children:s})};pR.displayName=Ig;var gR="DialogTrigger",xR=y.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Yr(gR,s),i=mt(t,a.triggerRef);return n.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Vj(a.open),...r,ref:i,onClick:Ie(e.onClick,a.onOpenToggle)})});xR.displayName=gR;var $j="DialogPortal",[WZ,yR]=fR($j,{forceMount:void 0}),vR=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:a}=e,i=Yr($j,t);return n.jsx(WZ,{scope:t,forceMount:s,children:y.Children.map(r,o=>n.jsx(Is,{present:s||i.open,children:n.jsx(Pu,{asChild:!0,container:a,children:o})}))})};vR.displayName=$j;var bp="DialogOverlay",bR=y.forwardRef((e,t)=>{const s=yR(bp,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,i=Yr(bp,e.__scopeDialog);return i.modal?n.jsx(Is,{present:r||i.open,children:n.jsx(GZ,{...a,ref:t})}):null});bR.displayName=bp;var KZ=lo("DialogOverlay.RemoveScroll"),GZ=y.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Yr(bp,s);return n.jsx(Yh,{as:KZ,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(qe.div,{"data-state":Vj(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),kl="DialogContent",wR=y.forwardRef((e,t)=>{const s=yR(kl,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,i=Yr(kl,e.__scopeDialog);return n.jsx(Is,{present:r||i.open,children:i.modal?n.jsx(YZ,{...a,ref:t}):n.jsx(QZ,{...a,ref:t})})});wR.displayName=kl;var YZ=y.forwardRef((e,t)=>{const s=Yr(kl,e.__scopeDialog),r=y.useRef(null),a=mt(t,s.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return Pg(i)},[]),n.jsx(jR,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault())})}),QZ=y.forwardRef((e,t)=>{const s=Yr(kl,e.__scopeDialog),r=y.useRef(!1),a=y.useRef(!1);return n.jsx(jR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=s.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),jR=y.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Yr(kl,s),c=y.useRef(null),u=mt(t,c);return Rg(),n.jsxs(n.Fragment,{children:[n.jsx(Gh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Ou,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Vj(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(XZ,{titleId:l.titleId}),n.jsx(eX,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Uj="DialogTitle",NR=y.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Yr(Uj,s);return n.jsx(qe.h2,{id:a.titleId,...r,ref:t})});NR.displayName=Uj;var kR="DialogDescription",SR=y.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Yr(kR,s);return n.jsx(qe.p,{id:a.descriptionId,...r,ref:t})});SR.displayName=kR;var CR="DialogClose",TR=y.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Yr(CR,s);return n.jsx(qe.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});TR.displayName=CR;function Vj(e){return e?"open":"closed"}var ER="DialogTitleWarning",[ZZ,_R]=dH(ER,{contentName:kl,titleName:Uj,docsSlug:"dialog"}),XZ=({titleId:e})=>{const t=_R(ER),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},JZ="DialogDescriptionWarning",eX=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_R(JZ).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},AR=pR,DR=xR,RR=vR,Bj=bR,zj=wR,qj=NR,Hj=SR,Mg=TR;function Ul(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}var tX=["color"],nX=y.forwardRef(function(e,t){var s=e.color,r=s===void 0?"currentColor":s,a=Ul(e,tX);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),y.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),sX=["color"],OR=y.forwardRef(function(e,t){var s=e.color,r=s===void 0?"currentColor":s,a=Ul(e,sX);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),y.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),rX=["color"],aX=y.forwardRef(function(e,t){var s=e.color,r=s===void 0?"currentColor":s,a=Ul(e,rX);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),y.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),iX=["color"],oX=y.forwardRef(function(e,t){var s=e.color,r=s===void 0?"currentColor":s,a=Ul(e,iX);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),y.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lX=["color"],cX=y.forwardRef(function(e,t){var s=e.color,r=s===void 0?"currentColor":s,a=Ul(e,lX);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),y.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uX=["color"],dX=y.forwardRef(function(e,t){var s=e.color,r=s===void 0?"currentColor":s,a=Ul(e,uX);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),y.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),hX=["color"],PR=y.forwardRef(function(e,t){var s=e.color,r=s===void 0?"currentColor":s,a=Ul(e,hX);return y.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),y.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const ht=AR,fX=DR,mX=RR,pX=Mg,IR=y.forwardRef(({className:e,...t},s)=>n.jsx(Bj,{ref:s,className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));IR.displayName=Bj.displayName;const lt=y.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(mX,{children:[n.jsx(IR,{}),n.jsxs(zj,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[80%] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-secondary p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(Mg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(PR,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lt.displayName=zj.displayName;const ct=({className:e,...t})=>n.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ct.displayName="DialogHeader";const Nt=({className:e,...t})=>n.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Nt.displayName="DialogFooter";const ut=y.forwardRef(({className:e,...t},s)=>n.jsx(qj,{ref:s,className:fe("text-lg font-semibold leading-none tracking-tight",e),...t}));ut.displayName=qj.displayName;const Zn=y.forwardRef(({className:e,...t},s)=>n.jsx(Hj,{ref:s,className:fe("text-sm text-muted-foreground",e),...t}));Zn.displayName=Hj.displayName;function XS(e,[t,s]){return Math.min(s,Math.max(t,e))}function Lg(e){const t=e+"CollectionProvider",[s,r]=Jn(t),[a,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:v}=g,x=re.useRef(null),w=re.useRef(new Map).current;return n.jsx(a,{scope:b,itemMap:w,collectionRef:x,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=lo(l),u=re.forwardRef((g,b)=>{const{scope:v,children:x}=g,w=i(l,v),j=mt(b,w.collectionRef);return n.jsx(c,{ref:j,children:x})});u.displayName=l;const h=e+"CollectionItemSlot",d="data-radix-collection-item",f=lo(h),m=re.forwardRef((g,b)=>{const{scope:v,children:x,...w}=g,j=re.useRef(null),N=mt(b,j),k=i(h,v);return re.useEffect(()=>(k.itemMap.set(j,{ref:j,...w}),()=>void k.itemMap.delete(j))),n.jsx(f,{[d]:"",ref:N,children:x})});m.displayName=h;function p(g){const b=i(e+"CollectionConsumer",g);return re.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((k,S)=>w.indexOf(k.ref.current)-w.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},p,r]}var gX=y.createContext(void 0);function Qh(e){const t=y.useContext(gX);return e||t||"ltr"}const xX=["top","right","bottom","left"],uo=Math.min,Ws=Math.max,wp=Math.round,qf=Math.floor,ga=e=>({x:e,y:e}),yX={left:"right",right:"left",bottom:"top",top:"bottom"},vX={start:"end",end:"start"};function Xv(e,t,s){return Ws(e,uo(t,s))}function ii(e,t){return typeof e=="function"?e(t):e}function oi(e){return e.split("-")[0]}function Iu(e){return e.split("-")[1]}function Wj(e){return e==="x"?"y":"x"}function Kj(e){return e==="y"?"height":"width"}const bX=new Set(["top","bottom"]);function ua(e){return bX.has(oi(e))?"y":"x"}function Gj(e){return Wj(ua(e))}function wX(e,t,s){s===void 0&&(s=!1);const r=Iu(e),a=Gj(e),i=Kj(a);let o=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=jp(o)),[o,jp(o)]}function jX(e){const t=jp(e);return[Jv(e),t,Jv(t)]}function Jv(e){return e.replace(/start|end/g,t=>vX[t])}const JS=["left","right"],eC=["right","left"],NX=["top","bottom"],kX=["bottom","top"];function SX(e,t,s){switch(e){case"top":case"bottom":return s?t?eC:JS:t?JS:eC;case"left":case"right":return t?NX:kX;default:return[]}}function CX(e,t,s,r){const a=Iu(e);let i=SX(oi(e),s==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Jv)))),i}function jp(e){return e.replace(/left|right|bottom|top/g,t=>yX[t])}function TX(e){return{top:0,right:0,bottom:0,left:0,...e}}function MR(e){return typeof e!="number"?TX(e):{top:e,right:e,bottom:e,left:e}}function Np(e){const{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function tC(e,t,s){let{reference:r,floating:a}=e;const i=ua(t),o=Gj(t),l=Kj(o),c=oi(t),u=i==="y",h=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-a.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-a.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Iu(t)){case"start":m[o]-=f*(s&&u?-1:1);break;case"end":m[o]+=f*(s&&u?-1:1);break}return m}const EX=async(e,t,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:d}=tC(u,r,c),f=r,m={},p=0;for(let g=0;g<l.length;g++){const{name:b,fn:v}=l[g],{x,y:w,data:j,reset:N}=await v({x:h,y:d,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});h=x??h,d=w??d,m={...m,[b]:{...m[b],...j}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:h,y:d}=tC(u,f,c)),g=-1)}return{x:h,y:d,placement:f,strategy:a,middlewareData:m}};async function xh(e,t){var s;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=ii(t,e),p=MR(m),b=l[f?d==="floating"?"reference":"floating":d],v=Np(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(b)))==null||s?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),x=d==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Np(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(v.top-N.top+p.top)/j.y,bottom:(N.bottom-v.bottom+p.bottom)/j.y,left:(v.left-N.left+p.left)/j.x,right:(N.right-v.right+p.right)/j.x}}const _X=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=ii(e,t)||{};if(u==null)return{};const d=MR(h),f={x:s,y:r},m=Gj(a),p=Kj(m),g=await o.getDimensions(u),b=m==="y",v=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=i.reference[p]+i.reference[m]-f[m]-i.floating[p],N=f[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=k?k[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=l.floating[w]||i.floating[p]);const C=j/2-N/2,E=S/2-g[p]/2-1,T=uo(d[v],E),_=uo(d[x],E),A=T,D=S-g[p]-_,R=S/2-g[p]/2+C,U=Xv(A,R,D),I=!c.arrow&&Iu(a)!=null&&R!==U&&i.reference[p]/2-(R<A?T:_)-g[p]/2<0,L=I?R<A?R-A:R-D:0;return{[m]:f[m]+L,data:{[m]:U,centerOffset:R-U-L,...I&&{alignmentOffset:L}},reset:I}}}),AX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...b}=ii(e,t);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const v=oi(a),x=ua(l),w=oi(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(w||!g?[jp(l)]:jX(l)),k=p!=="none";!f&&k&&N.push(...CX(l,g,p,j));const S=[l,...N],C=await xh(t,b),E=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&E.push(C[v]),d){const R=wX(a,o,j);E.push(C[R[0]],C[R[1]])}if(T=[...T,{placement:a,overflows:E}],!E.every(R=>R<=0)){var _,A;const R=(((_=i.flip)==null?void 0:_.index)||0)+1,U=S[R];if(U&&(!(d==="alignment"?x!==ua(U):!1)||T.every(M=>ua(M.placement)===x?M.overflows[0]>0:!0)))return{data:{index:R,overflows:T},reset:{placement:U}};let I=(A=T.filter(L=>L.overflows[0]<=0).sort((L,M)=>L.overflows[1]-M.overflows[1])[0])==null?void 0:A.placement;if(!I)switch(m){case"bestFit":{var D;const L=(D=T.filter(M=>{if(k){const $=ua(M.placement);return $===x||$==="y"}return!0}).map(M=>[M.placement,M.overflows.filter($=>$>0).reduce(($,F)=>$+F,0)]).sort((M,$)=>M[1]-$[1])[0])==null?void 0:D[0];L&&(I=L);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function nC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sC(e){return xX.some(t=>e[t]>=0)}const DX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...a}=ii(e,t);switch(r){case"referenceHidden":{const i=await xh(t,{...a,elementContext:"reference"}),o=nC(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sC(o)}}}case"escaped":{const i=await xh(t,{...a,altBoundary:!0}),o=nC(i,s.floating);return{data:{escapedOffsets:o,escaped:sC(o)}}}default:return{}}}}},LR=new Set(["left","top"]);async function RX(e,t){const{placement:s,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=oi(s),l=Iu(s),c=ua(s)==="y",u=LR.has(o)?-1:1,h=i&&c?-1:1,d=ii(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*h,y:f*u}:{x:f*u,y:m*h}}const OX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await RX(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},PX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:v,y:x}=b;return{x:v,y:x}}},...c}=ii(e,t),u={x:s,y:r},h=await xh(t,c),d=ua(oi(a)),f=Wj(d);let m=u[f],p=u[d];if(i){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=m+h[b],w=m-h[v];m=Xv(x,m,w)}if(o){const b=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=p+h[b],w=p-h[v];p=Xv(x,p,w)}const g=l.fn({...t,[f]:m,[d]:p});return{...g,data:{x:g.x-s,y:g.y-r,enabled:{[f]:i,[d]:o}}}}}},IX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ii(e,t),h={x:s,y:r},d=ua(a),f=Wj(d);let m=h[f],p=h[d];const g=ii(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",j=i.reference[f]-i.floating[w]+b.mainAxis,N=i.reference[f]+i.reference[w]-b.mainAxis;m<j?m=j:m>N&&(m=N)}if(u){var v,x;const w=f==="y"?"width":"height",j=LR.has(oi(a)),N=i.reference[d]-i.floating[w]+(j&&((v=o.offset)==null?void 0:v[d])||0)+(j?0:b.crossAxis),k=i.reference[d]+i.reference[w]+(j?0:((x=o.offset)==null?void 0:x[d])||0)-(j?b.crossAxis:0);p<N?p=N:p>k&&(p=k)}return{[f]:m,[d]:p}}}},MX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ii(e,t),h=await xh(t,u),d=oi(a),f=Iu(a),m=ua(a)==="y",{width:p,height:g}=i.floating;let b,v;d==="top"||d==="bottom"?(b=d,v=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=d,b=f==="end"?"top":"bottom");const x=g-h.top-h.bottom,w=p-h.left-h.right,j=uo(g-h[b],x),N=uo(p-h[v],w),k=!t.middlewareData.shift;let S=j,C=N;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(C=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=x),k&&!f){const T=Ws(h.left,0),_=Ws(h.right,0),A=Ws(h.top,0),D=Ws(h.bottom,0);m?C=p-2*(T!==0||_!==0?T+_:Ws(h.left,h.right)):S=g-2*(A!==0||D!==0?A+D:Ws(h.top,h.bottom))}await c({...t,availableWidth:C,availableHeight:S});const E=await o.getDimensions(l.floating);return p!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function Fg(){return typeof window<"u"}function Mu(e){return FR(e)?(e.nodeName||"").toLowerCase():"#document"}function Qs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Sa(e){var t;return(t=(FR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function FR(e){return Fg()?e instanceof Node||e instanceof Qs(e).Node:!1}function Ur(e){return Fg()?e instanceof Element||e instanceof Qs(e).Element:!1}function ba(e){return Fg()?e instanceof HTMLElement||e instanceof Qs(e).HTMLElement:!1}function rC(e){return!Fg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qs(e).ShadowRoot}const LX=new Set(["inline","contents"]);function Zh(e){const{overflow:t,overflowX:s,overflowY:r,display:a}=Vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!LX.has(a)}const FX=new Set(["table","td","th"]);function $X(e){return FX.has(Mu(e))}const UX=[":popover-open",":modal"];function $g(e){return UX.some(t=>{try{return e.matches(t)}catch{return!1}})}const VX=["transform","translate","scale","rotate","perspective"],BX=["transform","translate","scale","rotate","perspective","filter"],zX=["paint","layout","strict","content"];function Yj(e){const t=Qj(),s=Ur(e)?Vr(e):e;return VX.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||BX.some(r=>(s.willChange||"").includes(r))||zX.some(r=>(s.contain||"").includes(r))}function qX(e){let t=ho(e);for(;ba(t)&&!hu(t);){if(Yj(t))return t;if($g(t))return null;t=ho(t)}return null}function Qj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HX=new Set(["html","body","#document"]);function hu(e){return HX.has(Mu(e))}function Vr(e){return Qs(e).getComputedStyle(e)}function Ug(e){return Ur(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ho(e){if(Mu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rC(e)&&e.host||Sa(e);return rC(t)?t.host:t}function $R(e){const t=ho(e);return hu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ba(t)&&Zh(t)?t:$R(t)}function yh(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=$R(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Qs(a);if(i){const l=eb(o);return t.concat(o,o.visualViewport||[],Zh(a)?a:[],l&&s?yh(l):[])}return t.concat(a,yh(a,[],s))}function eb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function UR(e){const t=Vr(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=ba(e),i=a?e.offsetWidth:s,o=a?e.offsetHeight:r,l=wp(s)!==i||wp(r)!==o;return l&&(s=i,r=o),{width:s,height:r,$:l}}function Zj(e){return Ur(e)?e:e.contextElement}function Lc(e){const t=Zj(e);if(!ba(t))return ga(1);const s=t.getBoundingClientRect(),{width:r,height:a,$:i}=UR(t);let o=(i?wp(s.width):s.width)/r,l=(i?wp(s.height):s.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const WX=ga(0);function VR(e){const t=Qs(e);return!Qj()||!t.visualViewport?WX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KX(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Qs(e)?!1:t}function Sl(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),i=Zj(e);let o=ga(1);t&&(r?Ur(r)&&(o=Lc(r)):o=Lc(e));const l=KX(i,s,r)?VR(i):ga(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,h=a.width/o.x,d=a.height/o.y;if(i){const f=Qs(i),m=r&&Ur(r)?Qs(r):r;let p=f,g=eb(p);for(;g&&r&&m!==p;){const b=Lc(g),v=g.getBoundingClientRect(),x=Vr(g),w=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,j=v.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,d*=b.y,c+=w,u+=j,p=Qs(g),g=eb(p)}}return Np({width:h,height:d,x:c,y:u})}function Vg(e,t){const s=Ug(e).scrollLeft;return t?t.left+s:Sl(Sa(e)).left+s}function BR(e,t){const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-Vg(e,s),a=s.top+t.scrollTop;return{x:r,y:a}}function GX(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Sa(r),l=t?$g(t.floating):!1;if(r===o||l&&i)return s;let c={scrollLeft:0,scrollTop:0},u=ga(1);const h=ga(0),d=ba(r);if((d||!d&&!i)&&((Mu(r)!=="body"||Zh(o))&&(c=Ug(r)),ba(r))){const m=Sl(r);u=Lc(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const f=o&&!d&&!i?BR(o,c):ga(0);return{width:s.width*u.x,height:s.height*u.y,x:s.x*u.x-c.scrollLeft*u.x+h.x+f.x,y:s.y*u.y-c.scrollTop*u.y+h.y+f.y}}function YX(e){return Array.from(e.getClientRects())}function QX(e){const t=Sa(e),s=Ug(e),r=e.ownerDocument.body,a=Ws(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ws(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+Vg(e);const l=-s.scrollTop;return Vr(r).direction==="rtl"&&(o+=Ws(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}const aC=25;function ZX(e,t){const s=Qs(e),r=Sa(e),a=s.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const h=Qj();(!h||h&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Vg(r);if(u<=0){const h=r.ownerDocument,d=h.body,f=getComputedStyle(d),m=h.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-m);p<=aC&&(i-=p)}else u<=aC&&(i+=u);return{width:i,height:o,x:l,y:c}}const XX=new Set(["absolute","fixed"]);function JX(e,t){const s=Sl(e,!0,t==="fixed"),r=s.top+e.clientTop,a=s.left+e.clientLeft,i=ba(e)?Lc(e):ga(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function iC(e,t,s){let r;if(t==="viewport")r=ZX(e,s);else if(t==="document")r=QX(Sa(e));else if(Ur(t))r=JX(t,s);else{const a=VR(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Np(r)}function zR(e,t){const s=ho(e);return s===t||!Ur(s)||hu(s)?!1:Vr(s).position==="fixed"||zR(s,t)}function eJ(e,t){const s=t.get(e);if(s)return s;let r=yh(e,[],!1).filter(l=>Ur(l)&&Mu(l)!=="body"),a=null;const i=Vr(e).position==="fixed";let o=i?ho(e):e;for(;Ur(o)&&!hu(o);){const l=Vr(o),c=Yj(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&XX.has(a.position)||Zh(o)&&!c&&zR(e,o))?r=r.filter(h=>h!==o):a=l,o=ho(o)}return t.set(e,r),r}function tJ(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e;const o=[...s==="clippingAncestors"?$g(t)?[]:eJ(t,this._c):[].concat(s),r],l=o[0],c=o.reduce((u,h)=>{const d=iC(t,h,a);return u.top=Ws(d.top,u.top),u.right=uo(d.right,u.right),u.bottom=uo(d.bottom,u.bottom),u.left=Ws(d.left,u.left),u},iC(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nJ(e){const{width:t,height:s}=UR(e);return{width:t,height:s}}function sJ(e,t,s){const r=ba(t),a=Sa(t),i=s==="fixed",o=Sl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ga(0);function u(){c.x=Vg(a)}if(r||!r&&!i)if((Mu(t)!=="body"||Zh(a))&&(l=Ug(t)),r){const m=Sl(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!r&&a&&u();const h=a&&!r&&!i?BR(a,l):ga(0),d=o.left+l.scrollLeft-c.x-h.x,f=o.top+l.scrollTop-c.y-h.y;return{x:d,y:f,width:o.width,height:o.height}}function O0(e){return Vr(e).position==="static"}function oC(e,t){if(!ba(e)||Vr(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Sa(e)===s&&(s=s.ownerDocument.body),s}function qR(e,t){const s=Qs(e);if($g(e))return s;if(!ba(e)){let a=ho(e);for(;a&&!hu(a);){if(Ur(a)&&!O0(a))return a;a=ho(a)}return s}let r=oC(e,t);for(;r&&$X(r)&&O0(r);)r=oC(r,t);return r&&hu(r)&&O0(r)&&!Yj(r)?s:r||qX(e)||s}const rJ=async function(e){const t=this.getOffsetParent||qR,s=this.getDimensions,r=await s(e.floating);return{reference:sJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aJ(e){return Vr(e).direction==="rtl"}const iJ={convertOffsetParentRelativeRectToViewportRelativeRect:GX,getDocumentElement:Sa,getClippingRect:tJ,getOffsetParent:qR,getElementRects:rJ,getClientRects:YX,getDimensions:nJ,getScale:Lc,isElement:Ur,isRTL:aJ};function HR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function oJ(e,t){let s=null,r;const a=Sa(e);function i(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:d,width:f,height:m}=u;if(l||t(),!f||!m)return;const p=qf(d),g=qf(a.clientWidth-(h+f)),b=qf(a.clientHeight-(d+m)),v=qf(h),w={rootMargin:-p+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Ws(0,uo(1,c))||1};let j=!0;function N(k){const S=k[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!HR(u,e.getBoundingClientRect())&&o(),j=!1}try{s=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{s=new IntersectionObserver(N,w)}s.observe(e)}return o(!0),i}function lJ(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Zj(e),h=a||i?[...u?yh(u):[],...yh(t)]:[];h.forEach(v=>{a&&v.addEventListener("scroll",s,{passive:!0}),i&&v.addEventListener("resize",s)});const d=u&&l?oJ(u,s):null;let f=-1,m=null;o&&(m=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),s()}),u&&!c&&m.observe(u),m.observe(t));let p,g=c?Sl(e):null;c&&b();function b(){const v=Sl(e);g&&!HR(g,v)&&s(),g=v,p=requestAnimationFrame(b)}return s(),()=>{var v;h.forEach(x=>{a&&x.removeEventListener("scroll",s),i&&x.removeEventListener("resize",s)}),d==null||d(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const cJ=OX,uJ=PX,dJ=AX,hJ=MX,fJ=DX,lC=_X,mJ=IX,pJ=(e,t,s)=>{const r=new Map,a={platform:iJ,...s},i={...a.platform,_c:r};return EX(e,t,{...a,platform:i})};var gJ=typeof document<"u",xJ=function(){},Tm=gJ?y.useLayoutEffect:xJ;function kp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!kp(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=s;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!kp(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function WR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cC(e,t){const s=WR(e);return Math.round(t*s)/s}function P0(e){const t=y.useRef(e);return Tm(()=>{t.current=e}),t}function yJ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,d]=y.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=y.useState(r);kp(f,r)||m(r);const[p,g]=y.useState(null),[b,v]=y.useState(null),x=y.useCallback(M=>{M!==k.current&&(k.current=M,g(M))},[]),w=y.useCallback(M=>{M!==S.current&&(S.current=M,v(M))},[]),j=i||p,N=o||b,k=y.useRef(null),S=y.useRef(null),C=y.useRef(h),E=c!=null,T=P0(c),_=P0(a),A=P0(u),D=y.useCallback(()=>{if(!k.current||!S.current)return;const M={placement:t,strategy:s,middleware:f};_.current&&(M.platform=_.current),pJ(k.current,S.current,M).then($=>{const F={...$,isPositioned:A.current!==!1};R.current&&!kp(C.current,F)&&(C.current=F,go.flushSync(()=>{d(F)}))})},[f,t,s,_,A]);Tm(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(M=>({...M,isPositioned:!1})))},[u]);const R=y.useRef(!1);Tm(()=>(R.current=!0,()=>{R.current=!1}),[]),Tm(()=>{if(j&&(k.current=j),N&&(S.current=N),j&&N){if(T.current)return T.current(j,N,D);D()}},[j,N,D,T,E]);const U=y.useMemo(()=>({reference:k,floating:S,setReference:x,setFloating:w}),[x,w]),I=y.useMemo(()=>({reference:j,floating:N}),[j,N]),L=y.useMemo(()=>{const M={position:s,left:0,top:0};if(!I.floating)return M;const $=cC(I.floating,h.x),F=cC(I.floating,h.y);return l?{...M,transform:"translate("+$+"px, "+F+"px)",...WR(I.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:$,top:F}},[s,l,I.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:D,refs:U,elements:I,floatingStyles:L}),[h,D,U,I,L])}const vJ=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:a}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?lC({element:r.current,padding:a}).fn(s):{}:r?lC({element:r,padding:a}).fn(s):{}}}},bJ=(e,t)=>({...cJ(e),options:[e,t]}),wJ=(e,t)=>({...uJ(e),options:[e,t]}),jJ=(e,t)=>({...mJ(e),options:[e,t]}),NJ=(e,t)=>({...dJ(e),options:[e,t]}),kJ=(e,t)=>({...hJ(e),options:[e,t]}),SJ=(e,t)=>({...fJ(e),options:[e,t]}),CJ=(e,t)=>({...vJ(e),options:[e,t]});var TJ="Arrow",KR=y.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...i}=e;return n.jsx(qe.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});KR.displayName=TJ;var EJ=KR,Xj="Popper",[GR,Lu]=Jn(Xj),[_J,YR]=GR(Xj),QR=e=>{const{__scopePopper:t,children:s}=e,[r,a]=y.useState(null);return n.jsx(_J,{scope:t,anchor:r,onAnchorChange:a,children:s})};QR.displayName=Xj;var ZR="PopperAnchor",XR=y.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,i=YR(ZR,s),o=y.useRef(null),l=mt(t,o),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:n.jsx(qe.div,{...a,ref:l})});XR.displayName=ZR;var Jj="PopperContent",[AJ,DJ]=GR(Jj),JR=y.forwardRef((e,t)=>{var V,Y,J,te,ie,de;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,b=YR(Jj,s),[v,x]=y.useState(null),w=mt(t,G=>x(G)),[j,N]=y.useState(null),k=Ag(j),S=(k==null?void 0:k.width)??0,C=(k==null?void 0:k.height)??0,E=r+(i!=="center"?"-"+i:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},_=Array.isArray(u)?u:[u],A=_.length>0,D={padding:T,boundary:_.filter(OJ),altBoundary:A},{refs:R,floatingStyles:U,placement:I,isPositioned:L,middlewareData:M}=yJ({strategy:"fixed",placement:E,whileElementsMounted:(...G)=>lJ(...G,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[bJ({mainAxis:a+C,alignmentAxis:o}),c&&wJ({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?jJ():void 0,...D}),c&&NJ({...D}),kJ({...D,apply:({elements:G,rects:X,availableWidth:le,availableHeight:Ne})=>{const{width:Re,height:oe}=X.reference,ae=G.floating.style;ae.setProperty("--radix-popper-available-width",`${le}px`),ae.setProperty("--radix-popper-available-height",`${Ne}px`),ae.setProperty("--radix-popper-anchor-width",`${Re}px`),ae.setProperty("--radix-popper-anchor-height",`${oe}px`)}}),j&&CJ({element:j,padding:l}),PJ({arrowWidth:S,arrowHeight:C}),f&&SJ({strategy:"referenceHidden",...D})]}),[$,F]=nO(I),O=xs(p);_n(()=>{L&&(O==null||O())},[L,O]);const q=(V=M.arrow)==null?void 0:V.x,B=(Y=M.arrow)==null?void 0:Y.y,z=((J=M.arrow)==null?void 0:J.centerOffset)!==0,[W,P]=y.useState();return _n(()=>{v&&P(window.getComputedStyle(v).zIndex)},[v]),n.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:L?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(te=M.transformOrigin)==null?void 0:te.x,(ie=M.transformOrigin)==null?void 0:ie.y].join(" "),...((de=M.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(AJ,{scope:s,placedSide:$,onArrowChange:N,arrowX:q,arrowY:B,shouldHideArrow:z,children:n.jsx(qe.div,{"data-side":$,"data-align":F,...g,ref:w,style:{...g.style,animation:L?void 0:"none"}})})})});JR.displayName=Jj;var eO="PopperArrow",RJ={top:"bottom",right:"left",bottom:"top",left:"right"},tO=y.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,i=DJ(eO,r),o=RJ[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(EJ,{...a,ref:s,style:{...a.style,display:"block"}})})});tO.displayName=eO;function OJ(e){return e!==null}var PJ=e=>({name:"transformOrigin",options:e,fn(t){var b,v,x;const{placement:s,rects:r,middlewareData:a}=t,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,h]=nO(s),d={start:"0%",center:"50%",end:"100%"}[h],f=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=o?d:`${f}px`,g=`${-c}px`):u==="top"?(p=o?d:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=o?d:`${m}px`):u==="left"&&(p=`${r.floating.width+c}px`,g=o?d:`${m}px`),{data:{x:p,y:g}}}});function nO(e){const[t,s="center"]=e.split("-");return[t,s]}var eN=QR,Bg=XR,tN=JR,nN=tO,sO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IJ="VisuallyHidden",sN=y.forwardRef((e,t)=>n.jsx(qe.span,{...e,ref:t,style:{...sO,...e.style}}));sN.displayName=IJ;var MJ=[" ","Enter","ArrowUp","ArrowDown"],LJ=[" ","Enter"],Cl="Select",[zg,qg,FJ]=Lg(Cl),[Fu]=Jn(Cl,[FJ,Lu]),Hg=Lu(),[$J,wo]=Fu(Cl),[UJ,VJ]=Fu(Cl),rO=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:d,disabled:f,required:m,form:p}=e,g=Hg(t),[b,v]=y.useState(null),[x,w]=y.useState(null),[j,N]=y.useState(!1),k=Qh(u),[S,C]=$r({prop:r,defaultProp:a??!1,onChange:i,caller:Cl}),[E,T]=$r({prop:o,defaultProp:l,onChange:c,caller:Cl}),_=y.useRef(null),A=b?p||!!b.closest("form"):!0,[D,R]=y.useState(new Set),U=Array.from(D).map(I=>I.props.value).join(";");return n.jsx(eN,{...g,children:n.jsxs($J,{required:m,scope:t,trigger:b,onTriggerChange:v,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Ir(),value:E,onValueChange:T,open:S,onOpenChange:C,dir:k,triggerPointerDownPosRef:_,disabled:f,children:[n.jsx(zg.Provider,{scope:t,children:n.jsx(UJ,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(I=>{R(L=>new Set(L).add(I))},[]),onNativeOptionRemove:y.useCallback(I=>{R(L=>{const M=new Set(L);return M.delete(I),M})},[]),children:s})}),A?n.jsxs(EO,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:d,value:E,onChange:I=>T(I.target.value),disabled:f,form:p,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(D)]},U):null]})})};rO.displayName=Cl;var aO="SelectTrigger",iO=y.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...a}=e,i=Hg(s),o=wo(aO,s),l=o.disabled||r,c=mt(t,o.onTriggerChange),u=qg(s),h=y.useRef("touch"),[d,f,m]=AO(g=>{const b=u().filter(w=>!w.disabled),v=b.find(w=>w.value===o.value),x=DO(b,g,v);x!==void 0&&o.onValueChange(x.value)}),p=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(Bg,{asChild:!0,...i,children:n.jsx(qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_O(o.value)?"":void 0,...a,ref:c,onClick:Ie(a.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&p(g)}),onPointerDown:Ie(a.onPointerDown,g=>{h.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Ie(a.onKeyDown,g=>{const b=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(b&&g.key===" ")&&MJ.includes(g.key)&&(p(),g.preventDefault())})})})});iO.displayName=aO;var oO="SelectValue",lO=y.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,children:i,placeholder:o="",...l}=e,c=wo(oO,s),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,d=mt(t,c.onValueNodeChange);return _n(()=>{u(h)},[u,h]),n.jsx(qe.span,{...l,ref:d,style:{pointerEvents:"none"},children:_O(c.value)?n.jsx(n.Fragment,{children:o}):i})});lO.displayName=oO;var BJ="SelectIcon",cO=y.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...a}=e;return n.jsx(qe.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});cO.displayName=BJ;var zJ="SelectPortal",uO=e=>n.jsx(Pu,{asChild:!0,...e});uO.displayName=zJ;var Tl="SelectContent",dO=y.forwardRef((e,t)=>{const s=wo(Tl,e.__scopeSelect),[r,a]=y.useState();if(_n(()=>{a(new DocumentFragment)},[]),!s.open){const i=r;return i?go.createPortal(n.jsx(hO,{scope:e.__scopeSelect,children:n.jsx(zg.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(fO,{...e,ref:t})});dO.displayName=Tl;var Sr=10,[hO,jo]=Fu(Tl),qJ="SelectContentImpl",HJ=lo("SelectContent.RemoveScroll"),fO=y.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:b,...v}=e,x=wo(Tl,s),[w,j]=y.useState(null),[N,k]=y.useState(null),S=mt(t,V=>j(V)),[C,E]=y.useState(null),[T,_]=y.useState(null),A=qg(s),[D,R]=y.useState(!1),U=y.useRef(!1);y.useEffect(()=>{if(w)return Pg(w)},[w]),Rg();const I=y.useCallback(V=>{const[Y,...J]=A().map(de=>de.ref.current),[te]=J.slice(-1),ie=document.activeElement;for(const de of V)if(de===ie||(de==null||de.scrollIntoView({block:"nearest"}),de===Y&&N&&(N.scrollTop=0),de===te&&N&&(N.scrollTop=N.scrollHeight),de==null||de.focus(),document.activeElement!==ie))return},[A,N]),L=y.useCallback(()=>I([C,w]),[I,C,w]);y.useEffect(()=>{D&&L()},[D,L]);const{onOpenChange:M,triggerPointerDownPosRef:$}=x;y.useEffect(()=>{if(w){let V={x:0,y:0};const Y=te=>{var ie,de;V={x:Math.abs(Math.round(te.pageX)-(((ie=$.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(te.pageY)-(((de=$.current)==null?void 0:de.y)??0))}},J=te=>{V.x<=10&&V.y<=10?te.preventDefault():w.contains(te.target)||M(!1),document.removeEventListener("pointermove",Y),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",J,{capture:!0})}}},[w,M,$]),y.useEffect(()=>{const V=()=>M(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[M]);const[F,O]=AO(V=>{const Y=A().filter(ie=>!ie.disabled),J=Y.find(ie=>ie.ref.current===document.activeElement),te=DO(Y,V,J);te&&setTimeout(()=>te.ref.current.focus())}),q=y.useCallback((V,Y,J)=>{const te=!U.current&&!J;(x.value!==void 0&&x.value===Y||te)&&(E(V),te&&(U.current=!0))},[x.value]),B=y.useCallback(()=>w==null?void 0:w.focus(),[w]),z=y.useCallback((V,Y,J)=>{const te=!U.current&&!J;(x.value!==void 0&&x.value===Y||te)&&_(V)},[x.value]),W=r==="popper"?tb:mO,P=W===tb?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:b}:{};return n.jsx(hO,{scope:s,content:w,viewport:N,onViewportChange:k,itemRefCallback:q,selectedItem:C,onItemLeave:B,itemTextRefCallback:z,focusSelectedItem:L,selectedItemText:T,position:r,isPositioned:D,searchRef:F,children:n.jsx(Yh,{as:HJ,allowPinchZoom:!0,children:n.jsx(Gh,{asChild:!0,trapped:x.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:Ie(a,V=>{var Y;(Y=x.trigger)==null||Y.focus({preventScroll:!0}),V.preventDefault()}),children:n.jsx(Ou,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:n.jsx(W,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:V=>V.preventDefault(),...v,...P,onPlaced:()=>R(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ie(v.onKeyDown,V=>{const Y=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!Y&&V.key.length===1&&O(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let te=A().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(V.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const ie=V.target,de=te.indexOf(ie);te=te.slice(de+1)}setTimeout(()=>I(te)),V.preventDefault()}})})})})})})});fO.displayName=qJ;var WJ="SelectItemAlignedPosition",mO=y.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...a}=e,i=wo(Tl,s),o=jo(Tl,s),[l,c]=y.useState(null),[u,h]=y.useState(null),d=mt(t,S=>h(S)),f=qg(s),m=y.useRef(!1),p=y.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:x}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&b&&v){const S=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(i.dir!=="rtl"){const ie=T.left-C.left,de=E.left-ie,G=S.left-de,X=S.width+G,le=Math.max(X,C.width),Ne=window.innerWidth-Sr,Re=XS(de,[Sr,Math.max(Sr,Ne-le)]);l.style.minWidth=X+"px",l.style.left=Re+"px"}else{const ie=C.right-T.right,de=window.innerWidth-E.right-ie,G=window.innerWidth-S.right-de,X=S.width+G,le=Math.max(X,C.width),Ne=window.innerWidth-Sr,Re=XS(de,[Sr,Math.max(Sr,Ne-le)]);l.style.minWidth=X+"px",l.style.right=Re+"px"}const _=f(),A=window.innerHeight-Sr*2,D=g.scrollHeight,R=window.getComputedStyle(u),U=parseInt(R.borderTopWidth,10),I=parseInt(R.paddingTop,10),L=parseInt(R.borderBottomWidth,10),M=parseInt(R.paddingBottom,10),$=U+I+D+M+L,F=Math.min(b.offsetHeight*5,$),O=window.getComputedStyle(g),q=parseInt(O.paddingTop,10),B=parseInt(O.paddingBottom,10),z=S.top+S.height/2-Sr,W=A-z,P=b.offsetHeight/2,V=b.offsetTop+P,Y=U+I+V,J=$-Y;if(Y<=z){const ie=_.length>0&&b===_[_.length-1].ref.current;l.style.bottom="0px";const de=u.clientHeight-g.offsetTop-g.offsetHeight,G=Math.max(W,P+(ie?B:0)+de+L),X=Y+G;l.style.height=X+"px"}else{const ie=_.length>0&&b===_[0].ref.current;l.style.top="0px";const G=Math.max(z,U+g.offsetTop+(ie?q:0)+P)+J;l.style.height=G+"px",g.scrollTop=Y-z+g.offsetTop}l.style.margin=`${Sr}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,g,b,v,i.dir,r]);_n(()=>w(),[w]);const[j,N]=y.useState();_n(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const k=y.useCallback(S=>{S&&p.current===!0&&(w(),x==null||x(),p.current=!1)},[w,x]);return n.jsx(GJ,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:n.jsx(qe.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});mO.displayName=WJ;var KJ="SelectPopperPosition",tb=y.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=Sr,...i}=e,o=Hg(s);return n.jsx(tN,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tb.displayName=KJ;var[GJ,rN]=Fu(Tl,{}),nb="SelectViewport",pO=y.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...a}=e,i=jo(nb,s),o=rN(nb,s),l=mt(t,i.onViewportChange),c=y.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(zg.Slot,{scope:s,children:n.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ie(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const m=Math.abs(c.current-h.scrollTop);if(m>0){const p=window.innerHeight-Sr*2,g=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),v=Math.max(g,b);if(v<p){const x=v+m,w=Math.min(p,x),j=x-w;d.style.height=w+"px",d.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});pO.displayName=nb;var gO="SelectGroup",[YJ,QJ]=Fu(gO),ZJ=y.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=Ir();return n.jsx(YJ,{scope:s,id:a,children:n.jsx(qe.div,{role:"group","aria-labelledby":a,...r,ref:t})})});ZJ.displayName=gO;var xO="SelectLabel",yO=y.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=QJ(xO,s);return n.jsx(qe.div,{id:a.id,...r,ref:t})});yO.displayName=xO;var Sp="SelectItem",[XJ,vO]=Fu(Sp),bO=y.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:i,...o}=e,l=wo(Sp,s),c=jo(Sp,s),u=l.value===r,[h,d]=y.useState(i??""),[f,m]=y.useState(!1),p=mt(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,r,a)}),g=Ir(),b=y.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(XJ,{scope:s,value:r,disabled:a,textId:g,isSelected:u,onItemTextChange:y.useCallback(x=>{d(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:n.jsx(zg.ItemSlot,{scope:s,value:r,disabled:a,textValue:h,children:n.jsx(qe.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:Ie(o.onFocus,()=>m(!0)),onBlur:Ie(o.onBlur,()=>m(!1)),onClick:Ie(o.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:Ie(o.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:Ie(o.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:Ie(o.onPointerMove,x=>{var w;b.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ie(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(LJ.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});bO.displayName=Sp;var vd="SelectItemText",wO=y.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,...i}=e,o=wo(vd,s),l=jo(vd,s),c=vO(vd,s),u=VJ(vd,s),[h,d]=y.useState(null),f=mt(t,v=>d(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),m=h==null?void 0:h.textContent,p=y.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return _n(()=>(g(p),()=>b(p)),[g,b,p]),n.jsxs(n.Fragment,{children:[n.jsx(qe.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?go.createPortal(i.children,o.valueNode):null]})});wO.displayName=vd;var jO="SelectItemIndicator",NO=y.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return vO(jO,s).isSelected?n.jsx(qe.span,{"aria-hidden":!0,...r,ref:t}):null});NO.displayName=jO;var sb="SelectScrollUpButton",kO=y.forwardRef((e,t)=>{const s=jo(sb,e.__scopeSelect),r=rN(sb,e.__scopeSelect),[a,i]=y.useState(!1),o=mt(t,r.onScrollButtonChange);return _n(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(CO,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kO.displayName=sb;var rb="SelectScrollDownButton",SO=y.forwardRef((e,t)=>{const s=jo(rb,e.__scopeSelect),r=rN(rb,e.__scopeSelect),[a,i]=y.useState(!1),o=mt(t,r.onScrollButtonChange);return _n(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(CO,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});SO.displayName=rb;var CO=y.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=e,i=jo("SelectScrollButton",s),o=y.useRef(null),l=qg(s),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),_n(()=>{var h;const u=l().find(d=>d.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),n.jsx(qe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ie(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ie(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ie(a.onPointerLeave,()=>{c()})})}),JJ="SelectSeparator",TO=y.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(qe.div,{"aria-hidden":!0,...r,ref:t})});TO.displayName=JJ;var ab="SelectArrow",eee=y.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=Hg(s),i=wo(ab,s),o=jo(ab,s);return i.open&&o.position==="popper"?n.jsx(nN,{...a,...r,ref:t}):null});eee.displayName=ab;var tee="SelectBubbleInput",EO=y.forwardRef(({__scopeSelect:e,value:t,...s},r)=>{const a=y.useRef(null),i=mt(r,a),o=_g(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&h){const d=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(d)}},[o,t]),n.jsx(qe.select,{...s,style:{...sO,...s.style},ref:i,defaultValue:t})});EO.displayName=tee;function _O(e){return e===""||e===void 0}function AO(e){const t=xs(e),s=y.useRef(""),r=y.useRef(0),a=y.useCallback(o=>{const l=s.current+o;t(l),function c(u){s.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,i]}function DO(e,t,s){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=nee(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==s));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function nee(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var see=rO,RO=iO,ree=lO,aee=cO,iee=uO,OO=dO,oee=pO,PO=yO,IO=bO,lee=wO,cee=NO,MO=kO,LO=SO,FO=TO;const on=see,ln=ree,Gt=y.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(RO,{ref:r,className:fe("flex h-9 w-full  items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(aee,{asChild:!0,children:n.jsx(nX,{className:"h-4 w-4 opacity-50"})})]}));Gt.displayName=RO.displayName;const $O=y.forwardRef(({className:e,...t},s)=>n.jsx(MO,{ref:s,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(dX,{})}));$O.displayName=MO.displayName;const UO=y.forwardRef(({className:e,...t},s)=>n.jsx(LO,{ref:s,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(aX,{})}));UO.displayName=LO.displayName;const Yt=y.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>n.jsx(iee,{children:n.jsxs(OO,{ref:a,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[n.jsx($O,{}),n.jsx(oee,{className:fe("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(UO,{})]})}));Yt.displayName=OO.displayName;const uee=y.forwardRef(({className:e,...t},s)=>n.jsx(PO,{ref:s,className:fe("px-2 py-1.5 text-sm font-semibold",e),...t}));uee.displayName=PO.displayName;const We=y.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(IO,{ref:r,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(cee,{children:n.jsx(OR,{className:"h-4 w-4"})})}),n.jsx(lee,{children:t})]}));We.displayName=IO.displayName;const dee=y.forwardRef(({className:e,...t},s)=>n.jsx(FO,{ref:s,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));dee.displayName=FO.displayName;const hee=({tutorId:e,initialFeedbacks:t=[]})=>{const[s,r]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState([]),[h,d]=y.useState(null),[f,m]=y.useState(null),[p,g]=y.useState(!1),[b,v]=y.useState(null),[x,w]=y.useState(null),[j,N]=y.useState(5),[k,S]=y.useState(""),[C,E]=y.useState(!1),[T,_]=y.useState("date-desc"),[A,D]=y.useState("all"),[R,U]=y.useState(1),I=5,{toast:L}=jt(),M={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};y.useEffect(()=>{(()=>{try{i(!0);const X=t.map(le=>({id:le.feedbackID,studentName:le.learnerName||"Anonymous",studentFlag:"",rating:le.rating||0,date:le.createdAt?new Date(le.createdAt).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"Unknown",comment:le.comment||"No comment provided.",avatarURL:le.learnerAvatarURL}));r(X)}catch(X){console.error("Error mapping reviews:",X),l("Unable to load reviews.")}finally{i(!1)}})()},[t]),y.useEffect(()=>{(async()=>{try{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token")))return;const le=await ee.get("/users/myInfo"),Ne=le.data.result.userID,Re=le.data.result.fullName||le.data.result.username;d(Ne),m(Re);const K=((await ee.get("/booking-slots/my-slots")).data.result||[]).filter(Q=>Q.tutor_id===e&&Q.user_id===Ne),Z=new Map;K.forEach(Q=>{const pe=Q.booking_planid,me=Q.start_time;if(Z.has(pe)){const ce=Z.get(pe);if(new Date(me)<new Date(ce.startTime)){const Se=new Date(me),Ve=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][Se.getDay()];ce.startTime=me,ce.dayOfWeek=Ve}}else{const ce=new Date(me),He=["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][ce.getDay()];Z.set(pe,{bookingPlanId:pe,hasFeedback:!1,feedbackId:void 0,startTime:me,dayOfWeek:He})}}),u(Array.from(Z.values()))}catch(X){console.error("Error fetching user info:",X)}})()},[e,s]);const $=async()=>{var G,X;if(!x){L({title:"Li",description:"Vui lng chn booking  nh gi",variant:"destructive",duration:3e3});return}try{E(!0);const Ne=(await ee.post(`/booking-feedback/${x}`,{rating:j,comment:k})).data.result;L({title:"Thnh cng",description:"nh gi ca bn  c gi",duration:3e3});const Re={id:Ne.feedbackID,studentName:f||"You",studentFlag:"",rating:j,date:new Date().toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),comment:k,avatarURL:Ne.userAvatarURL};r(oe=>[Re,...oe]),u(oe=>oe.map(ae=>ae.bookingPlanId===x?{...ae,hasFeedback:!0,feedbackId:Ne.feedbackID}:ae)),V()}catch(le){L({title:"Li",description:((X=(G=le.response)==null?void 0:G.data)==null?void 0:X.message)||"Khng th gi nh gi",variant:"destructive",duration:3e3})}finally{E(!1)}},F=async()=>{var G,X;if(b)try{E(!0),await ee.put(`/booking-feedback/${b}`,{rating:j,comment:k}),L({title:"Thnh cng",description:"nh gi  c cp nht",duration:3e3}),r(le=>le.map(Ne=>Ne.id===b?{...Ne,rating:j,comment:k}:Ne)),V()}catch(le){L({title:"Li",description:((X=(G=le.response)==null?void 0:G.data)==null?void 0:X.message)||"Khng th cp nht nh gi",variant:"destructive",duration:3e3})}finally{E(!1)}},[O,q]=y.useState(!1),[B,z]=y.useState(null),W=async()=>{var G,X;if(B)try{await ee.delete(`/booking-feedback/${B}`),L({title:"Thnh cng",description:"nh gi  c xa",duration:3e3}),r(le=>le.filter(Ne=>Ne.id!==B)),u(le=>le.map(Ne=>Ne.feedbackId===B?{...Ne,hasFeedback:!1,feedbackId:void 0}:Ne)),q(!1),z(null)}catch(le){L({title:"Li",description:((X=(G=le.response)==null?void 0:G.data)==null?void 0:X.message)||"Khng th xa nh gi",variant:"destructive",duration:3e3})}},P=(G,X,le)=>{v(G),N(X),S(le),g(!0)},V=()=>{g(!1),v(null),w(null),N(5),S("")},Y=c.some(G=>!G.hasFeedback),J=c.length>0,te=y.useMemo(()=>{let G=[...s];if(A!=="all"){const X=parseInt(A);G=G.filter(le=>Math.floor(le.rating)===X)}return G.sort((X,le)=>{switch(T){case"date-desc":return new Date(le.date).getTime()-new Date(X.date).getTime();case"date-asc":return new Date(X.date).getTime()-new Date(le.date).getTime();case"rating-desc":return le.rating-X.rating;case"rating-asc":return X.rating-le.rating;default:return 0}}),G},[s,T,A]),ie=Math.ceil(te.length/I),de=y.useMemo(()=>{const G=(R-1)*I,X=G+I;return te.slice(G,X)},[te,R]);return y.useEffect(()=>{U(1)},[T,A]),n.jsxs(ue.div,{className:"bg-white rounded-xl p-8 shadow-md",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:M,children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"nh gi ca hc vin"}),h&&Y&&!p&&n.jsx(H,{onClick:()=>g(!0),children:"Vit nh gi"})]}),h&&!J&&!p&&n.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-xl",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx(un,{className:"w-6 h-6 text-white fill-white"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Chia s tri nghim ca bn!"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"t lch hc vi gia s ny  c th vit nh gi v gip cng ng hc vin khc c thm thng tin hu ch."}),n.jsx(H,{onClick:()=>window.location.href=`/book-tutor/${e}`,className:"bg-blue-600 hover:bg-blue-700",children:"t lch ngay"})]})]})}),p&&n.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:b?"Chnh sa nh gi":"Vit nh gi mi"}),n.jsx("button",{onClick:V,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ml,{className:"w-5 h-5"})})]}),!b&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chn bui hc"}),n.jsxs("select",{value:x||"",onChange:G=>w(Number(G.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"-- Chn bui hc --"}),c.filter(G=>!G.hasFeedback).map(G=>n.jsxs("option",{value:G.bookingPlanId,children:["Booking ",G.dayOfWeek]},G.bookingPlanId))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"nh gi"}),n.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(G=>n.jsx("button",{type:"button",onClick:()=>N(G),className:"focus:outline-none",children:n.jsx(un,{className:`w-8 h-8 ${G<=j?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},G))})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nhn xt"}),n.jsx(It,{value:k,onChange:G=>S(G.target.value),placeholder:"Chia s tri nghim ca bn...",rows:4,className:"w-full"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(H,{onClick:b?F:$,disabled:C||!b&&!x,children:C?"ang gi...":b?"Cp nht":"Gi nh gi"}),n.jsx(H,{variant:"outline",onClick:V,children:"Hy"})]})]}),a&&n.jsx("p",{className:"text-gray-500 text-center py-4",children:"ang ti nh gi..."}),o&&n.jsx("p",{className:"text-red-500 text-center py-4",children:o}),!a&&!o&&s.length===0&&n.jsx("p",{className:"text-gray-500 text-center py-4",children:"Cha c nh gi no cho gia s ny."}),!a&&!o&&s.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center justify-between bg-gray-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Lc theo sao:"}),n.jsxs(on,{value:A,onValueChange:G=>D(G),children:[n.jsx(Gt,{className:"w-[140px] bg-white",children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"all",children:"Tt c"}),n.jsx(We,{value:"5",children:"5 sao "}),n.jsx(We,{value:"4",children:"4 sao "}),n.jsx(We,{value:"3",children:"3 sao "}),n.jsx(We,{value:"2",children:"2 sao "}),n.jsx(We,{value:"1",children:"1 sao "})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sp xp:"}),n.jsxs(on,{value:T,onValueChange:G=>_(G),children:[n.jsx(Gt,{className:"w-[180px] bg-white",children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"date-desc",children:"Mi nht"}),n.jsx(We,{value:"date-asc",children:"C nht"}),n.jsx(We,{value:"rating-desc",children:"Sao cao nht"}),n.jsx(We,{value:"rating-asc",children:"Sao thp nht"})]})]})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Hin th ",te.length," nh gi"]})]}),te.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"Khng tm thy nh gi ph hp vi b lc."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-6",children:de.map(G=>{const X=f&&G.studentName===f;return n.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[G.avatarURL?n.jsx("img",{src:G.avatarURL,alt:G.studentName,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-sm",children:G.studentFlag}),n.jsx("span",{className:"font-medium text-gray-900",children:G.studentName})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex",children:Array.from({length:Math.max(0,Math.min(5,Math.floor(G.rating||0)))}).map((le,Ne)=>n.jsx(un,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},Ne))}),n.jsx("span",{className:"text-sm text-gray-500",children:G.date})]}),X&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>P(G.id,G.rating,G.comment),className:"text-blue-600 hover:text-blue-700",title:"Chnh sa",children:n.jsx(Ha,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>{z(G.id),q(!0)},className:"text-red-600 hover:text-red-700",title:"Xa",children:n.jsx(Ht,{className:"w-4 h-4"})})]})]})]}),n.jsx("p",{className:"text-gray-700",children:G.comment})]},G.id)})}),ie>1&&n.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2",children:[n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>U(G=>Math.max(1,G-1)),disabled:R===1,className:"flex items-center gap-1",children:[n.jsx(qn,{className:"w-4 h-4"}),"Trc"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:ie},(G,X)=>X+1).map(G=>{const X=G===1||G===ie||G>=R-1&&G<=R+1;return G===R-2&&R>3||G===R+2&&R<ie-2?n.jsx("span",{className:"px-2 text-gray-400",children:"..."},G):X?n.jsx(H,{variant:R===G?"default":"outline",size:"sm",onClick:()=>U(G),className:"min-w-[40px]",children:G},G):null})}),n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>U(G=>Math.min(ie,G+1)),disabled:R===ie,className:"flex items-center gap-1",children:["Sau",n.jsx(Wt,{className:"w-4 h-4"})]})]})]})]}),n.jsx(ht,{open:O,onOpenChange:q,children:n.jsxs(lt,{className:"max-w-md",children:[n.jsxs(ct,{children:[n.jsx(ut,{children:"Xc nhn xa nh gi"}),n.jsx(Zn,{children:"Bn c chc chn mun xa nh gi ny? Hnh ng ny khng th hon tc."})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{q(!1),z(null)},children:"Hy"}),n.jsx(H,{variant:"destructive",onClick:W,children:"Xa"})]})]})})]})},I0=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,fee=e=>{const t=e.getDay(),s=e.getDate()-(t===0?6:t-1);return new Date(e.getFullYear(),e.getMonth(),s)},mee=({tutorId:e})=>{const[t,s]=y.useState({}),[r,a]=y.useState(!0),o=fee(new Date),l=Array.from({length:7}).map((h,d)=>{const f=o;return new Date(f.getFullYear(),f.getMonth(),f.getDate()+d)});if(y.useEffect(()=>{(async()=>{var d;try{a(!0);const f={};l.forEach(b=>f[I0(b)]=[]);const m=await ee.get(`/tutor/${e}/booking-plan`,{skipAuth:!0}),p=((d=m==null?void 0:m.data)==null?void 0:d.plans)||[],g={T2:0,T3:1,T4:2,T5:3,T6:4,T7:5,CN:6};p.forEach(b=>{if(!b.is_open||!b.is_active)return;const v=g[b.title];if(v===void 0)return;const x=I0(l[v]);b.date=x,f[x].push(b)}),s(f)}catch(f){console.error("Error fetching schedule:",f)}finally{a(!1)}})()},[e]),r)return n.jsx("div",{className:"bg-white p-8 rounded-xl shadow-md",children:n.jsx("p",{className:"text-center text-gray-500",children:"ang ti lch dy..."})});const c=[],u=["Th 2","Th 3","Th 4","Th 5","Th 6","Th 7","Ch nht"];return l.forEach((h,d)=>{const f=I0(h),m=t[f]||[];if(m.length>0){const p=m.map(g=>`${g.start_hours.substring(0,5)} - ${g.end_hours.substring(0,5)}`);c.push({day:u[d],times:p})}}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-gray-900",children:[n.jsx(ft,{className:"text-blue-600"})," Lch dy hng tun"]}),c.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"Gia s cha c lch dy c nh"}):n.jsx("div",{className:"space-y-3",children:c.map((h,d)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-r-lg",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"inline-block bg-yellow-100 text-yellow-800 font-bold text-sm px-3 py-1 rounded",children:h.day})}),n.jsx("div",{className:"flex-1",children:h.times.map((f,m)=>n.jsxs("div",{className:"text-gray-800 font-medium",children:[" ",f]},m))})]},d))}),n.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:'Nhn "t lch"  xem chi tit v chn slot ph hp'})]})},pee=({certificates:e})=>{const[t,s]=y.useState(null),[r,a]=y.useState(!1);if(!e||e.length===0)return null;const i=c=>c.certificateURL||c.documentUrl||"",o=c=>c.certificateID||c.certificateId||0,l=c=>{s(c),a(!0)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[n.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-900 flex items-center gap-2",children:[n.jsx(Ss,{className:"w-6 h-6 text-yellow-500"}),"Chng ch & Bng cp"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(c=>{const u=o(c);return n.jsx("button",{onClick:()=>l(c),className:"group block w-full text-left",children:n.jsxs("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden border-2 border-gray-200 hover:border-blue-400 transition-all duration-300 shadow-sm hover:shadow-xl",children:[n.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col items-center justify-center p-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:n.jsx(Ss,{className:"w-8 h-8 text-white"})}),n.jsx("p",{className:"text-xs font-semibold text-gray-800 text-center line-clamp-3 px-2",children:c.certificateName}),c.issuedDate&&n.jsx("p",{className:"text-[10px] text-gray-500 mt-2 text-center",children:new Date(c.issuedDate).toLocaleDateString("vi-VN")})]}),n.jsx("div",{className:"absolute inset-0 bg-blue-600/90 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx(Ss,{className:"w-8 h-8 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-semibold",children:"Xem chi tit"})]})}),n.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-[10px] px-2 py-1 rounded-full font-semibold shadow-md",children:" Xc thc"})]})},u)})})]}),n.jsx(ht,{open:r,onOpenChange:a,children:n.jsxs(lt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ct,{children:n.jsxs(ut,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(Ss,{className:"w-6 h-6 text-yellow-500"}),t==null?void 0:t.certificateName]})}),t&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-white to-purple-50 rounded-xl p-8 border-2 border-gray-200",children:n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx(Ss,{className:"w-12 h-12 text-white"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center",children:t.certificateName}),n.jsxs("div",{className:"w-full max-w-md space-y-3 text-sm",children:[t.issuedDate&&n.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:" Ngy cp:"}),n.jsx("span",{className:"text-gray-900 font-semibold",children:new Date(t.issuedDate).toLocaleDateString("vi-VN")})]}),t.expiryDate&&n.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:" Ngy ht hn:"}),n.jsx("span",{className:"text-gray-900 font-semibold",children:new Date(t.expiryDate).toLocaleDateString("vi-VN")})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[n.jsx("span",{className:"text-green-700 font-medium",children:" Trng thi:"}),n.jsx("span",{className:"text-green-700 font-semibold",children:" xc thc"})]})]})]})}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[i(t)&&n.jsxs("a",{href:i(t),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:[n.jsx(Ol,{className:"w-5 h-5"}),"Xem chng ch gc"]}),n.jsxs("button",{onClick:()=>a(!1),className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-semibold transition-colors",children:[n.jsx(Ml,{className:"w-5 h-5"}),"ng"]})]})]})]})})]})},gee=()=>{var A,D;const{id:e}=wr(),[t,s]=y.useState(null),[r,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(!0),[u,h]=y.useState(null),[d,f]=y.useState(0),[m,p]=y.useState(null),[g,b]=y.useState(!1),[v,x]=y.useState(!1),w=Qe();y.useEffect(()=>{const R=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");x(!!R)},[]);const j=2,N=r.filter(R=>R.is_active),k=Math.max(1,Math.ceil(N.length/j)),S=N.slice(d*j,d*j+j),C=R=>R.max_slots||0,E=R=>{p(R),b(!0)};if(y.useEffect(()=>{e&&(async()=>{try{o(!0);const U=await ee.get(`/tutors/${e}`,{skipAuth:!0});s(U.data)}catch(U){console.error("Failed to fetch tutor:",U),h("Khng th ti thng tin gia s.")}finally{o(!1)}})()},[e]),y.useEffect(()=>{e&&(async()=>{try{c(!0);const U=await ee.get(`/tutor/${e}/packages`,{skipAuth:!0});a(U.data.packages||[])}catch(U){console.error("Failed to fetch packages:",U)}finally{c(!1)}})()},[e]),i)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"ang ti thng tin gia s..."})});if(u||!t)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("p",{className:"text-red-500 text-lg",children:u||"Gia s khng tn ti."})});const T=()=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){const U=encodeURIComponent(window.location.pathname);return w(`${se.SIGN_IN}?redirect=${U}`),!1}return!0},_={id:t.tutorId,name:t.userName,language:t.teachingLanguage||"Unknown",country:t.country||"Unknown",rating:t.rating||0,image:t.avatarURL||"https://placehold.co/600x400?text=No+Image",experience:t.experience||"Hollow",price:t.pricePerHour||0,teachingLanguage:t.teachingLanguage,description:t.bio||"There is currently no detailed description for this tutor. Please come back later.",specialties:t.specialization?t.specialization.split(",").map(R=>R.trim()):[]};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx($Q,{tutor:_}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[n.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-xl shadow-md border border-blue-100",children:[n.jsxs("h2",{className:"text-2xl font-bold mb-2 text-blue-900 flex items-center gap-2",children:[n.jsx("span",{children:""})," Gi hc"]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Xem cc gi hc c sn c cung cp bi gia s ny"}),l?n.jsx("p",{className:"text-gray-500",children:"ang ti gi hc..."}):N.length===0?n.jsx("p",{className:"text-gray-500 italic",children:"Khng c gi hc no kh dng."}):n.jsxs("div",{className:"relative",children:[n.jsx("button",{disabled:d===0,onClick:()=>f(R=>Math.max(0,R-1)),className:"absolute -left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white shadow-lg hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed z-10",children:n.jsx(qn,{className:"w-5 h-5"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-stretch",children:S.map(R=>n.jsxs("div",{className:"p-6 rounded-2xl border-2 border-gray-200 bg-white shadow-md transition hover:bg-blue-50 flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("span",{className:"text-yellow-500 flex-shrink-0",children:""}),n.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1",children:R.name})]}),n.jsx(H,{className:"bg-blue-600 text-white hover:bg-blue-700 flex-shrink-0",size:"sm",onClick:()=>E(R),children:"Chi tit"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-4 line-clamp-2 min-h-[40px]",children:R.requirement||"Khng c yu cu"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-700 flex-1",children:[n.jsxs("p",{className:"line-clamp-2",children:[n.jsx("b",{children:"Mc tiu:"})," ",R.objectives||"Cha c mc tiu"]}),n.jsxs("p",{children:[n.jsx("b",{children:"S bui ti a:"})," ",C(R)]})]})]},R.packageid))}),n.jsx("button",{disabled:d>=k-1,onClick:()=>f(R=>Math.min(k-1,R+1)),className:"absolute -right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white shadow-lg hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed z-10",children:n.jsx(Wt,{className:"w-5 h-5"})})]})]}),n.jsx(ht,{open:g,onOpenChange:b,children:n.jsxs(lt,{className:"max-w-3xl",children:[n.jsx(ct,{children:n.jsxs(ut,{className:"text-3xl font-bold text-blue-900 flex items-center gap-2",children:[n.jsx("span",{children:""})," ",m==null?void 0:m.name]})}),m&&n.jsxs("div",{className:"space-y-3 text-gray-700",children:[n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-900",children:"M t:"})," ",m.description||"Cha c m t"]}),n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-900",children:"Yu cu:"})," ",m.requirement||"Khng c yu cu c th"]}),n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-900",children:"Mc tiu:"})," ",m.objectives||"Cha c mc tiu"]}),n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-900",children:"S bui hc:"})," ",((A=m.slot_content)==null?void 0:A.length)||C(m)]}),n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-900",children:"S bui ti a:"})," ",C(m)]}),m.min_booking_price_per_hour&&n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-900",children:"Gi ti thiu mi gi:"})," ",m.min_booking_price_per_hour.toLocaleString("vi-VN")," "]}),m.slot_content&&m.slot_content.length>0&&n.jsxs("div",{children:[n.jsx("strong",{className:"text-gray-900 block mb-2",children:"Ni dung bi hc:"}),n.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:m.slot_content.map(R=>n.jsxs("li",{children:["Bui ",R.slot_number,": ",R.content]},R.slot_number))})]})]})]})}),t.certificates&&t.certificates.length>0&&n.jsx(pee,{certificates:t.certificates}),n.jsx(mee,{tutorId:t.tutorId}),n.jsx(UQ,{courses:t.courses||[]}),n.jsx(hee,{tutorId:t.tutorId,initialFeedbacks:t.feedbacks||[]})]}),n.jsxs("div",{className:"lg:col-span-1 lg:sticky lg:top-20 lg:self-start",children:[n.jsxs("div",{className:"bg-white shadow-sm rounded-xl p-6",children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Thng tin gia s"}),n.jsx("p",{className:"text-gray-800 text-lg font-semibold mb-3",children:t.userName}),n.jsxs("p",{className:"text-gray-600",children:[n.jsx("strong",{children:"Email:"})," ",t.userEmail]}),t.phone&&n.jsxs("p",{className:"text-gray-600",children:[n.jsx("strong",{children:"in thoi:"})," ",t.phone]})]}),n.jsxs("div",{className:"mt-8 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-xl p-6 shadow-lg",children:[n.jsx("h3",{className:"text-2xl font-bold mb-2",children:"t bui hc 1-1!"}),n.jsxs("p",{className:"text-white/90 text-sm mb-2",children:[" ",n.jsxs("strong",{children:[((D=t.pricePerHour)==null?void 0:D.toLocaleString("vi-VN"))||"0"," /gi"]})," ",n.jsx("span",{className:"text-white/70",children:"(1 slot = 1 gi)"})]}),n.jsx("p",{className:"text-white/90 text-sm mb-4",children:v?"Tri nghim hc tp c nhn ha vi gia s chuyn nghip. Chn lch ph hp vi bn!":"ng k ngay  nhn slot tt nht! Tri nghim hc tp c nhn ha vi gia s chuyn nghip."}),n.jsxs("ul",{className:"text-sm space-y-2 mb-4",children:[n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-green-300",children:""}),"Bui hc ring 1-1"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-green-300",children:""}),"K hoch hc tp ty chnh"]}),n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-green-300",children:""}),"Lch trnh linh hot & t lch ngay lp tc"]})]}),n.jsxs(H,{onClick:()=>{T()&&w(`/book-tutor/${t.tutorId}`)},className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg flex items-center justify-center gap-2 text-lg font-semibold",children:[n.jsx(Za,{className:"w-5 h-5"}),n.jsx("span",{children:"t lch"})]})]})]})]})})})]})},VO=async()=>{var e,t;try{return((t=(e=(await ee.get("/users/myInfo")).data)==null?void 0:e.result)==null?void 0:t.userID)??null}catch(s){return console.error(" Failed to fetch user ID:",s),null}},xee=({course:e,wishlisted:t,setWishlisted:s})=>{const r=Qe(),{toast:a}=jt(),i={...e,shortDescription:e.shortDescription||e.description.slice(0,100),level:e.level||"All Levels",requirement:e.requirement||"No requirement specified",isPurchased:!!e.isPurchased,isWishListed:!!e.isWishListed},o=()=>{var g;if(!e.section||e.section.length===0)return null;const m=[...e.section].sort((b,v)=>b.orderIndex-v.orderIndex)[0];return!(m!=null&&m.lessons)||m.lessons.length===0?null:((g=[...m.lessons].sort((b,v)=>b.orderIndex-v.orderIndex)[0])==null?void 0:g.lessonID)||null},l=()=>{const f=o();if(!f){a({title:"No lessons available",description:"This course has no lessons yet.",variant:"destructive"});return}r(`/lesson/${f}`,{state:{courseId:e.id}})};y.useEffect(()=>{e.isPurchased&&s(!1)},[e.isPurchased]);const c=async()=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){const m=encodeURIComponent(window.location.pathname);r(`${se.SIGN_IN}?redirect=${m}`),a({title:"Login Required",description:"Please sign in.",variant:"destructive"});return}try{if(t)await ee.delete(`/wishlist/${e.id}`),s(!1);else{if(e.isPurchased){a({title:"Already Purchased",description:"You can't add purchased courses to your wishlist.",variant:"destructive"});return}await ee.post(`/wishlist/${e.id}`),s(!0)}}catch{a({title:"Error",description:"Failed to update wishlist.",variant:"destructive"})}},u=async()=>{var p,g;if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){const b=encodeURIComponent(window.location.pathname);r(`${se.SIGN_IN}?redirect=${b}`),a({title:"Login Required",description:"Please sign in before buying the course.",variant:"destructive"});return}const m=await VO();if(!m){a({title:"Error",description:"Cannot detect user ID.",variant:"destructive"});return}try{const b=await ee.post("/api/payments/create",{userId:m,targetId:e.id,paymentType:"Course"});window.location.href=b.data.checkoutUrl}catch(b){const v=((g=(p=b==null?void 0:b.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to initialize payment.";a({title:"Payment Error",description:v,variant:"destructive"})}},h=f=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(f),d=f=>new Date(f).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"});return n.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-700 py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs(ue.div,{className:"text-white",initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"bg-white text-blue-600 px-3 py-1 rounded-full text-sm font-medium",children:i.language}),n.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-medium",children:[i.level," Level"]})]}),n.jsx("h1",{className:"text-4xl font-bold mt-4 mb-2",children:i.title}),n.jsxs("div",{className:"flex items-center gap-4 text-blue-100 mb-4",children:[n.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:i.categoryName}),n.jsxs("span",{className:"text-sm opacity-90",children:["To lc: ",d(i.createdAt)]})]}),n.jsx("p",{className:"text-xl text-blue-100 mb-6",children:i.shortDescription}),n.jsxs("div",{className:"flex items-center gap-4 text-blue-100 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(un,{className:"w-5 h-5 text-yellow-300 fill-yellow-300"}),n.jsx("span",{className:"font-semibold",children:i.avgRating.toFixed(1)}),n.jsxs("span",{className:"opacity-80 text-sm",children:["(",i.totalRatings," nh gi)"]})]}),n.jsx("span",{children:""}),n.jsxs("span",{children:[i.learnerCount," hc vin"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[n.jsx(st,{className:"w-5 h-5 text-blue-200"}),n.jsxs("span",{children:[i.duration," gi"]})]}),n.jsx("span",{className:"text-3xl font-bold mb-6 block",children:h(i.price)}),n.jsxs("div",{className:"flex gap-4 mt-4",children:[!i.isPurchased&&n.jsxs("button",{onClick:c,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all border border-white ${t?"bg-white text-blue-600 hover:bg-gray-100":"bg-transparent text-white hover:bg-white hover:text-blue-600"}`,children:[n.jsx(yo,{className:`w-5 h-5 ${t?"fill-blue-600 text-blue-600":"text-white"}`}),t?"Xa khi yu thch":"Thm vo yu thch"]}),i.isPurchased?n.jsx("button",{onClick:l,className:"px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition",children:"Vo hc"}):n.jsx("button",{onClick:u,className:"px-6 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-gray-100 transition",children:"Mua ngay"})]})]}),n.jsx(ue.div,{className:"relative",initial:{opacity:0,x:60},animate:{opacity:1,x:0},transition:{duration:.8},children:n.jsx("div",{className:"relative w-full h-[400px] rounded-2xl overflow-hidden shadow-2xl bg-gray-100",children:n.jsx("img",{src:i.thumbnailURL,alt:i.title,className:"w-full h-full object-cover"})})})]})})})},yee=({course:e,isPurchased:t})=>{const s=Qe(),{toast:r}=jt(),[a,i]=y.useState([]),o={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},l=u=>{i(h=>h.includes(u)?h.filter(d=>d!==u):[...h,u])},c=u=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){r({variant:"destructive",title:"Yu cu ng nhp",description:"Vui lng ng nhp  truy cp bi hc."});return}if(!t){r({variant:"destructive",title:"Yu cu mua kha hc",description:"Bn phi mua kha hc trc khi truy cp bi hc."});return}s(`/lesson/${u}`,{state:{courseId:e.id}})};return n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs(ue.div,{className:"bg-white rounded-xl p-8 shadow-md mb-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:o,children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Bn s hc c g"}),e.objectives&&e.objectives.length>0?n.jsx("ul",{className:"space-y-3",children:e.objectives.map((u,h)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(kt,{className:"w-5 h-5 text-green-600 mt-0.5"}),n.jsx("span",{className:"text-gray-700 leading-relaxed",children:u})]},h))}):n.jsx("p",{className:"text-gray-500",children:"Kha hc ny cha c mc tiu c th."})]}),n.jsxs(ue.div,{className:"bg-white rounded-xl p-8 shadow-md mb-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:o,children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Yu cu"}),n.jsx("p",{className:"text-gray-700 whitespace-pre-line leading-relaxed",children:e.requirement})]}),e.section&&n.jsxs(ue.div,{className:"bg-white rounded-xl p-8 shadow-md mb-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:o,children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Chng trnh hc"}),n.jsx("div",{className:"space-y-4",children:e.section.map(u=>{const h=a.includes(u.sectionID);return n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 transition gap-4",onClick:()=>l(u.sectionID),children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[h?n.jsx(ao,{className:"w-5 h-5 flex-shrink-0"}):n.jsx(Wt,{className:"w-5 h-5 flex-shrink-0"}),n.jsxs("span",{className:"truncate",children:[u.orderIndex,". ",u.title]})]}),u.description&&n.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:u.description})]}),n.jsxs("span",{className:"text-sm text-gray-500 whitespace-nowrap flex-shrink-0",children:[u.lessons.length," bi hc"]})]}),h&&n.jsx(ue.ul,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 p-4 space-y-2",children:u.lessons.map(d=>{var g;const f=(g=d.lessonType)==null?void 0:g.toLowerCase(),m=f==="video"?M5:f==="quiz"?A5:tt,p=f==="video"?"text-blue-500":f==="quiz"?"text-purple-500":"text-blue-500";return n.jsxs("li",{className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600 cursor-pointer transition-colors",onClick:()=>c(d.lessonID),children:[n.jsx(m,{className:`w-4 h-4 ${p} flex-shrink-0`}),n.jsx("span",{className:"flex-1",children:d.title}),n.jsxs("span",{className:"text-xs text-gray-400",children:[d.duration," pht"]})]},d.lessonID)})})]},u.sectionID)})})]})]})},vee=({course:e,wishlisted:t,setWishlisted:s})=>{var b;const r=Qe(),{toast:a}=jt(),[i,o]=y.useState(0),[l,c]=y.useState(0);y.useEffect(()=>{const v=async()=>{var x;try{const w=await ee.get(`/tutors/${e.tutorID}`,{skipAuth:!0});o(w.data.rating||0),c(((x=w.data.feedbacks)==null?void 0:x.length)||0)}catch(w){console.error("Failed to fetch tutor rating:",w)}};e.tutorID&&v()},[e.tutorID]),y.useEffect(()=>{e.isPurchased&&t&&(async()=>{try{await ee.delete(`/wishlist/${e.id}`),s(!1)}catch{}})()},[e.isPurchased]);const u=async()=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){r(`${se.SIGN_IN}?redirect=${window.location.pathname}`),a({variant:"destructive",title:"You must be logged in"});return}try{t?(await ee.delete(`/wishlist/${e.id}`),s(!1),a({title:"Removed from wishlist"})):(await ee.post(`/wishlist/${e.id}`),s(!0),a({title:"Added to wishlist"}))}catch{a({variant:"destructive",title:"Wishlist error"})}},h=async()=>{var w,j,N;if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){r(`${se.SIGN_IN}?redirect=${window.location.pathname}`),a({variant:"destructive",title:"Login required"});return}const x=await VO();if(!x){a({variant:"destructive",title:"User not found"});return}try{const k=await ee.post("/api/payments/create",{userId:x,targetId:e.id,paymentType:"Course"});(w=k.data)!=null&&w.checkoutUrl?window.location.href=k.data.checkoutUrl:a({variant:"destructive",title:"Payment Error",description:"Cannot get checkout URL"})}catch(k){const S=((N=(j=k==null?void 0:k.response)==null?void 0:j.data)==null?void 0:N.message)||"Failed to initialize payment.";a({variant:"destructive",title:"Payment failed",description:S})}},d=()=>{var j;if(!e.section||e.section.length===0)return null;const x=[...e.section].sort((N,k)=>N.orderIndex-k.orderIndex)[0];return!(x!=null&&x.lessons)||x.lessons.length===0?null:((j=[...x.lessons].sort((N,k)=>N.orderIndex-k.orderIndex)[0])==null?void 0:j.lessonID)||null},f=()=>{const v=d();if(!v){a({title:"No lessons available",description:"This course has no lessons yet.",variant:"destructive"});return}r(`/lesson/${v}`,{state:{courseId:e.id}})},m=()=>r(se.TUTOR_DETAIL.replace(":id",`${e.tutorID}`)),p=(b=e.section)==null?void 0:b.reduce((v,x)=>v+x.lessons.length,0),g=v=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v);return n.jsxs("div",{className:"lg:col-span-1 space-y-8 lg:sticky lg:top-20 lg:self-start",children:[n.jsxs(ue.div,{className:"bg-white rounded-2xl p-6 shadow-lg",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ging vin"}),n.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[n.jsx("img",{src:e.tutorAvatarURL||"https://placehold.co/150x150/png",className:"w-16 h-16 rounded-full object-cover shadow"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:e.tutorName}),n.jsx("p",{className:"text-sm text-gray-500",children:e.tutorAddress}),n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[n.jsx(un,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),n.jsx("span",{className:"text-sm",children:i.toFixed(1)}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",l," nh gi gia s)"]})]})]})]}),n.jsx("button",{onClick:m,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition",children:"Xem h s"})]}),n.jsxs(ue.div,{className:"bg-white rounded-2xl p-6 shadow-lg",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Thng tin kha hc"}),n.jsxs("div",{className:"space-y-4",children:[e.contentSummary&&n.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Kha hc ny bao gm:"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[e.contentSummary.totalVideoHours>0&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(st,{className:"w-4 h-4"}),n.jsxs("span",{children:[e.contentSummary.totalVideoHours," gi video theo yu cu"]})]}),e.contentSummary.totalPracticeTests>0&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(tt,{className:"w-4 h-4"}),n.jsxs("span",{children:[e.contentSummary.totalPracticeTests," bi kim tra thc hnh"]})]}),e.contentSummary.totalArticles>0&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(tt,{className:"w-4 h-4"}),n.jsxs("span",{children:[e.contentSummary.totalArticles," bi vit"]})]}),e.contentSummary.totalDownloadableResources>0&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(tt,{className:"w-4 h-4"}),n.jsxs("span",{children:[e.contentSummary.totalDownloadableResources," ti nguyn c th ti xung"]})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[n.jsx(st,{className:"w-5 h-5"}),n.jsx("span",{children:"Thi lng"})]}),n.jsxs("span",{className:"font-semibold",children:[e.duration," gi"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[n.jsx(tt,{className:"w-5 h-5"}),n.jsx("span",{children:"Bi hc"})]}),n.jsx("span",{className:"font-semibold",children:p})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[n.jsx(_u,{className:"w-5 h-5"}),n.jsx("span",{children:"Ngn ng"})]}),n.jsx("span",{className:"font-semibold",children:e.language})]})]})]}),n.jsxs(ue.div,{className:"bg-white rounded-2xl p-6 shadow-lg",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[n.jsx("div",{className:"text-center mb-6",children:n.jsx("span",{className:"text-3xl font-bold text-blue-600",children:g(e.price)})}),e.isPurchased?n.jsx("button",{onClick:f,className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition mb-3",children:"Vo hc"}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:h,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition mb-3",children:"Mua ngay"}),n.jsxs("button",{onClick:u,className:"w-full border flex items-center justify-center gap-2 border-blue-600 text-blue-600 py-3 rounded-lg hover:bg-blue-50 transition",children:[n.jsx(yo,{className:`w-5 h-5 ${t?"fill-blue-600 text-blue-600":""}`}),t?"Xa khi yu thch":"Thm vo yu thch"]})]})]})]})},bee=({feedbacks:e=[],courseId:t,isPurchased:s})=>{const{toast:r}=jt(),[a,i]=y.useState(0),[o,l]=y.useState(""),[c,u]=y.useState(e),[h,d]=y.useState(!1),[f,m]=y.useState(0),[p,g]=y.useState(!1),[b,v]=y.useState(!1),[x,w]=y.useState(null),[j,N]=y.useState("date-desc"),[k,S]=y.useState("all"),[C,E]=y.useState(1),T=5;y.useEffect(()=>{(async()=>{var M;try{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))||!s)return;const O=(await ee.get(`/student/courses/${t}`)).data.result;(O==null?void 0:O.progressPercent)!==void 0&&m(O.progressPercent);const B=(M=(await ee.get("/users/myInfo")).data.result)==null?void 0:M.userID,z=e.find(W=>W.userID===B);g(!!z)}catch($){console.error("Failed to fetch progress:",$)}})()},[t,s,e]);const _=L=>L?L.trim()[0].toUpperCase():"U",A=async()=>{var M,$,F;if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){r({variant:"destructive",title:"You are not logged in",description:"Please login before submitting a review."});return}if(!s){r({variant:"destructive",title:"Purchase required",description:"You must purchase the course before rating."});return}if(a<1||a>5){r({variant:"destructive",title:"Invalid rating",description:"Rating must be between 1 and 5 stars."});return}if(!o.trim()){r({variant:"destructive",title:"Empty review",description:"Please enter your review."});return}d(!0);try{const q=((M=(await ee.get(`/student/courses/${t}`)).data.result)==null?void 0:M.progressPercent)||0;if(q<50){r({variant:"destructive",title:"Cha  tin ",description:`Bn phi hon thnh t nht 50% kha hc  nh gi. Tin  hin ti: ${Math.round(q)}%`}),d(!1);return}const z=(await ee.post(`/review/${t}`,{rating:a,comment:o})).data.result;u(W=>[{...z},...W]),i(0),l(""),r({variant:"success",title:"Review submitted "})}catch(O){const B=((F=($=O.response)==null?void 0:$.data)==null?void 0:F.message)||"Something went wrong.";r({variant:"destructive",title:"Review submission failed",description:B})}finally{d(!1)}},D=async()=>{var M,$;if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){r({variant:"destructive",title:"You are not logged in",description:"Please login before deleting a review."}),v(!1);return}if(!x){v(!1);return}try{await ee.delete(`/review/${x}`),u(F=>F.filter(O=>O.feedbackID!==x)),v(!1),r({variant:"success",title:"Review deleted successfully"})}catch(F){r({variant:"destructive",title:"Delete failed",description:(($=(M=F.response)==null?void 0:M.data)==null?void 0:$.message)||"Something went wrong."})}},R=y.useMemo(()=>{let L=[...c];if(k!=="all"){const M=parseInt(k);L=L.filter($=>Math.floor($.rating)===M)}return L.sort((M,$)=>{switch(j){case"date-desc":return new Date($.createdAt).getTime()-new Date(M.createdAt).getTime();case"date-asc":return new Date(M.createdAt).getTime()-new Date($.createdAt).getTime();case"rating-desc":return $.rating-M.rating;case"rating-asc":return M.rating-$.rating;default:return 0}}),L},[c,j,k]),U=Math.ceil(R.length/T),I=y.useMemo(()=>{const L=(C-1)*T,M=L+T;return R.slice(L,M)},[R,C]);return y.useEffect(()=>{E(1)},[j,k]),n.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-md",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"nh gi ca hc vin"}),n.jsxs("div",{className:"mb-8 border rounded-xl p-6 bg-gray-50",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Vit nh gi"}),n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:" Hng dn nh gi:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[n.jsx("li",{children:"Bn ch c th gi mt nh gi cho mi kha hc"}),n.jsx("li",{children:"Bn phi hon thnh t nht 50% kha hc  c th nh gi"}),s&&n.jsxs("li",{className:"font-semibold",children:["Tin  hin ti ca bn: ",f.toFixed(1),"%",f<50&&n.jsxs("span",{className:"text-red-600",children:[" (Cn thm ",(50-f).toFixed(1),"%)"]}),f>=50&&n.jsx("span",{className:"text-green-600",children:"   iu kin nh gi (50%)"})]}),p&&n.jsx("li",{className:"font-semibold text-orange-600",children:" Bn  gi nh gi cho kha hc ny ri"})]})]}),n.jsx("div",{className:"flex gap-1 mb-3 cursor-pointer",children:[1,2,3,4,5].map(L=>n.jsx(un,{onClick:()=>i(L),className:`w-6 h-6 ${L<=a?"fill-yellow-400 text-yellow-400":"text-gray-400"}`},L))}),n.jsx("textarea",{className:"w-full border rounded-lg p-3 text-gray-700 focus:ring-blue-500",rows:3,placeholder:"Vit nh gi ca bn...",value:o,onChange:L=>l(L.target.value)}),n.jsx("button",{onClick:A,disabled:h||!s||f<50||p,className:"mt-3 bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-40 disabled:cursor-not-allowed",children:h?"ang gi...":s?f<50?`Cn 50% tin  (hin ti: ${f.toFixed(1)}%)`:p?" nh gi":"Gi nh gi":"Yu cu mua kha hc"})]}),c.length>0&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center justify-between bg-gray-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Lc theo sao:"}),n.jsxs(on,{value:k,onValueChange:L=>S(L),children:[n.jsx(Gt,{className:"w-[140px] bg-white",children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"all",children:"Tt c"}),n.jsx(We,{value:"5",children:"5 sao "}),n.jsx(We,{value:"4",children:"4 sao "}),n.jsx(We,{value:"3",children:"3 sao "}),n.jsx(We,{value:"2",children:"2 sao "}),n.jsx(We,{value:"1",children:"1 sao "})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sp xp:"}),n.jsxs(on,{value:j,onValueChange:L=>N(L),children:[n.jsx(Gt,{className:"w-[180px] bg-white",children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"date-desc",children:"Mi nht"}),n.jsx(We,{value:"date-asc",children:"C nht"}),n.jsx(We,{value:"rating-desc",children:"Sao cao nht"}),n.jsx(We,{value:"rating-asc",children:"Sao thp nht"})]})]})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Hin th ",R.length," nh gi"]})]})}),n.jsxs("div",{className:"space-y-6 mt-4",children:[((c==null?void 0:c.length)??0)===0&&n.jsx("p",{className:"text-gray-500",children:"Cha c nh gi no."}),R.length===0&&c.length>0&&n.jsx("p",{className:"text-gray-500 text-center py-4",children:"Khng tm thy nh gi ph hp vi b lc."}),I.map(L=>n.jsxs("div",{className:"border-b pb-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[L.userAvatarURL?n.jsx("img",{src:L.userAvatarURL,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold",children:_(L.userFullName)}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold flex gap-2 items-center",children:[L.userFullName,n.jsx("span",{className:"text-gray-500 text-xs",children:new Date(L.createdAt).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),n.jsx("div",{className:"flex text-yellow-400",children:Array.from({length:L.rating}).map((M,$)=>n.jsx(un,{className:"w-4 h-4 fill-yellow-400"},$))})]}),(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))&&n.jsx(Ht,{onClick:()=>{w(L.feedbackID),v(!0)},className:"w-5 h-5 text-red-500 ml-auto cursor-pointer hover:text-red-700"})]}),n.jsx("p",{className:"text-gray-700",children:L.comment})]},L.feedbackID))]}),U>1&&n.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2",children:[n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>E(L=>Math.max(1,L-1)),disabled:C===1,className:"flex items-center gap-1",children:[n.jsx(qn,{className:"w-4 h-4"}),"Trc"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:U},(L,M)=>M+1).map(L=>{const M=L===1||L===U||L>=C-1&&L<=C+1;return L===C-2&&C>3||L===C+2&&C<U-2?n.jsx("span",{className:"px-2 text-gray-400",children:"..."},L):M?n.jsx(H,{variant:C===L?"default":"outline",size:"sm",onClick:()=>E(L),className:"min-w-[40px]",children:L},L):null})}),n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>E(L=>Math.min(U,L+1)),disabled:C===U,className:"flex items-center gap-1",children:["Sau",n.jsx(Wt,{className:"w-4 h-4"})]})]}),n.jsx(ht,{open:b,onOpenChange:v,children:n.jsxs(lt,{className:"max-w-sm w-full",children:[n.jsxs(ct,{children:[n.jsx(ut,{children:"Xa nh gi?"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Bn c chc chn mun xa nh gi ny? Hnh ng ny khng th hon tc."})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>v(!1),children:"Hy"}),n.jsx(H,{variant:"destructive",onClick:D,children:"Xa"})]})]})})]})},wee=()=>{const{id:e}=wr(),[t]=Cw(),s=Qe(),{toast:r}=jt(),[a,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!0);return y.useEffect(()=>{(async()=>{u(!0);try{const f=(await ee.get(`/courses/detail/${e}`)).data.result;i(f),f.isPurchased?(await ee.delete(`/wishlist/${f.id}`).catch(()=>{}),l(!1)):l(!!f.isWishListed)}catch(d){console.error("Failed to fetch course detail:",d)}finally{u(!1)}})()},[e]),y.useEffect(()=>{const h=t.get("paid");h==="true"?(r({title:"Thanh ton thnh cng! ",description:"Bn  mua kha hc thnh cng."}),s(`/courses/${e}`,{replace:!0}),setTimeout(async()=>{try{const m=(await ee.get(`/courses/detail/${e}`)).data.result;i(m),m.isPurchased&&(await ee.delete(`/wishlist/${m.id}`).catch(()=>{}),l(!1))}catch(f){console.error("Failed to refetch course:",f)}},1e3)):h==="false"&&(r({variant:"destructive",title:"Thanh ton tht bi",description:"Mua kha hc cha c xc nhn. Vui lng th li."}),s(`/courses/${e}`,{replace:!0}))},[t,e,s,r]),c?n.jsx("p",{className:"text-center py-10 text-lg",children:"Loading course..."}):a?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(xee,{course:{...a,isPurchased:!!a.isPurchased},wishlisted:o,setWishlisted:l,turnstileToken:null,setTurnstileToken:()=>{}}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[n.jsx(yee,{course:a,isPurchased:a.isPurchased}),n.jsx(bee,{feedbacks:a.review||[],courseId:a.id,isPurchased:!!a.isPurchased})]}),n.jsx(vee,{course:{...a,isPurchased:!!a.isPurchased},wishlisted:o,setWishlisted:l,turnstileToken:null,setTurnstileToken:()=>{}})]})})})]}):n.jsx("p",{className:"text-center py-10 text-red-500",children:"Course not found"})},jee=({lesson:e,courseId:t,courseTitle:s})=>{const r={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},a=i=>{if(!i)return"0 min";if(i<60)return`${i} min`;const o=Math.floor(i/60),l=i%60;return`${o}h ${l}m`};return n.jsxs("section",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-500 py-12 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16 relative z-10",children:n.jsxs(ue.div,{initial:"initial",animate:"animate",variants:r,children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6 text-white",children:[n.jsx(H,{variant:"ghost",asChild:!0,className:"text-white hover:bg-white/20 border border-white/30",children:n.jsxs(_e,{to:`/courses/${t}`,children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li kha hc"]})}),n.jsx("span",{className:"opacity-70",children:"|"}),n.jsx("span",{className:"truncate max-w-[180px] md:max-w-xs opacity-90",children:s}),n.jsx("span",{className:"opacity-70",children:"|"}),n.jsxs("span",{className:"opacity-90",children:["Bi ",e.week]})]}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white",children:[n.jsx(st,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:a(e.duration)})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-white",children:[n.jsx(tt,{className:"w-5 h-5"}),n.jsxs("span",{className:"font-medium",children:["Tun ",e.week]})]})]})]})})]})},Nee=({course:e,lesson:t})=>{const s=Qe(),[r,a]=y.useState({}),[i,o]=y.useState(null),l=async()=>{if(!(e!=null&&e.id))return;const g=(await ee.get(`/student/courses/${e.id}`)).data.result,b={id:g.courseID,section:g.sectionProgress.map(v=>({sectionID:v.sectionId,title:v.sectionTitle,progress:v.progress,lessons:v.lessons.map(x=>({lessonID:x.lessonId,title:x.lessonTitle,isDone:x.isDone,duration:x.duration??null,lessonType:x.lessonType}))}))};o(b)};if(y.useEffect(()=>{l()},[e==null?void 0:e.id]),y.useEffect(()=>{!(t!=null&&t.id)||!i||o(p=>p&&{...p,section:p.section.map(g=>({...g,lessons:g.lessons.map(b=>b.lessonID===t.id?{...b,isDone:t.isDone??!1}:b)}))})},[t==null?void 0:t.isDone]),y.useEffect(()=>{const p=setInterval(()=>l(),3e3);return()=>clearInterval(p)},[e==null?void 0:e.id]),!i)return null;const c=i.section.map(p=>{const g=p.lessons.length,b=p.lessons.filter(x=>x.isDone).length,v=g?Math.round(b/g*100):0;return{...p,completedLessons:b,totalLessons:g,progress:v}});let u=0,h=0;c.forEach(p=>{u+=p.completedLessons,h+=p.totalLessons});const d=h>0?Math.round(u/h*100):0,f=p=>p?`${p} min`:"",m=p=>{a(g=>({...g,[p]:!g[p]}))};return n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs(ye,{className:"mb-6 overflow-hidden shadow-md border-0 bg-gradient-to-br from-blue-50 to-purple-50",children:[n.jsx(Je,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white pb-8 shadow-md",children:n.jsx(yt,{className:"tracking-wide",children:"Tin  ca bn"})}),n.jsx(De,{className:"pt-6",children:n.jsx(ue.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700 font-medium",children:"Tin  kha hc"}),n.jsxs("span",{className:"font-bold text-2xl text-blue-600",children:[d,"%"]})]}),n.jsx(yg,{value:d,className:"w-full h-3 rounded-md"}),n.jsxs("span",{className:"text-gray-600 text-sm block",children:[u," / ",h," bi hc  hon thnh"]})]})})})]}),n.jsxs(ye,{className:"overflow-hidden border shadow-md",children:[n.jsx(Je,{children:n.jsx(yt,{className:"text-lg font-semibold tracking-wide",children:"Ni dung kha hc"})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-6",children:c.map((p,g)=>{const b=r[p.sectionID];return n.jsxs("div",{className:"pb-4 border-b last:border-b-0",children:[n.jsxs("button",{onClick:()=>m(p.sectionID),className:"w-full flex justify-between items-start py-2 transition hover:bg-gray-50 rounded-md px-2",children:[n.jsxs("div",{className:"flex flex-col items-start flex-1 min-w-0",children:[n.jsxs("h3",{className:"text-base font-semibold text-gray-800 text-left w-full",children:[g+1,". ",p.title]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[p.totalLessons," bi hc"]}),n.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:[p.progress,"%  hon thnh"]})]}),n.jsx(ao,{className:`w-5 h-5 text-gray-600 transition-transform flex-shrink-0 ml-2 ${b?"rotate-180":""}`})]}),b&&n.jsx(ue.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"space-y-1 mt-3 pl-2 pr-2",children:p.lessons.map(v=>{var x,w;return n.jsxs("button",{onClick:()=>s(`/lesson/${v.lessonID}`,{state:{courseId:i.id}}),className:"w-full flex justify-between items-center py-2 px-2 rounded-lg transition hover:bg-gray-100",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[v.isDone?n.jsx(kt,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}):n.jsx(n.Fragment,{children:((x=v.lessonType)==null?void 0:x.toLowerCase())==="video"?n.jsx(M5,{className:"w-4 h-4 text-blue-600 mt-1 flex-shrink-0"}):((w=v.lessonType)==null?void 0:w.toLowerCase())==="quiz"?n.jsx(A5,{className:"w-4 h-4 text-purple-600 mt-1 flex-shrink-0"}):n.jsx(tt,{className:"w-4 h-4 text-blue-600 mt-1 flex-shrink-0"})}),n.jsx("span",{className:`text-sm text-left ${v.isDone?"text-green-700 font-medium":"text-gray-800"}`,children:v.title})]}),v.duration&&n.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:f(v.duration)})]},v.lessonID)})})]},p.sectionID)})})})]})]})};var M0="rovingFocusGroup.onEntryFocus",kee={bubbles:!1,cancelable:!0},Xh="RovingFocusGroup",[ib,BO,See]=Lg(Xh),[Cee,$u]=Jn(Xh,[See]),[Tee,Eee]=Cee(Xh),zO=y.forwardRef((e,t)=>n.jsx(ib.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(ib.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(_ee,{...e,ref:t})})}));zO.displayName=Xh;var _ee=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...d}=e,f=y.useRef(null),m=mt(t,f),p=Qh(i),[g,b]=$r({prop:o,defaultProp:l??null,onChange:c,caller:Xh}),[v,x]=y.useState(!1),w=xs(u),j=BO(s),N=y.useRef(!1),[k,S]=y.useState(0);return y.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(M0,w),()=>C.removeEventListener(M0,w)},[w]),n.jsx(Tee,{scope:s,orientation:r,dir:p,loop:a,currentTabStopId:g,onItemFocus:y.useCallback(C=>b(C),[b]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:y.useCallback(()=>S(C=>C-1),[]),children:n.jsx(qe.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{N.current=!0}),onFocus:Ie(e.onFocus,C=>{const E=!N.current;if(C.target===C.currentTarget&&E&&!v){const T=new CustomEvent(M0,kee);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const _=j().filter(I=>I.focusable),A=_.find(I=>I.active),D=_.find(I=>I.id===g),U=[A,D,..._].filter(Boolean).map(I=>I.ref.current);WO(U,h)}}N.current=!1}),onBlur:Ie(e.onBlur,()=>x(!1))})})}),qO="RovingFocusGroupItem",HO=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ir(),u=i||c,h=Eee(qO,s),d=h.currentTabStopId===u,f=BO(s),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:g}=h;return y.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),n.jsx(ib.ItemSlot,{scope:s,id:u,focusable:r,active:a,children:n.jsx(qe.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Ie(e.onMouseDown,b=>{r?h.onItemFocus(u):b.preventDefault()}),onFocus:Ie(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:Ie(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=Ree(b,h.orientation,h.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=f().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const j=w.indexOf(b.currentTarget);w=h.loop?Oee(w,j+1):w.slice(j+1)}setTimeout(()=>WO(w))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:g!=null}):o})})});HO.displayName=qO;var Aee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dee(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ree(e,t,s){const r=Dee(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Aee[r]}function WO(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function Oee(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var aN=zO,iN=HO,oN="Radio",[Pee,KO]=Jn(oN),[Iee,Mee]=Pee(oN),GO=y.forwardRef((e,t)=>{const{__scopeRadio:s,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...h}=e,[d,f]=y.useState(null),m=mt(t,b=>f(b)),p=y.useRef(!1),g=d?u||!!d.closest("form"):!0;return n.jsxs(Iee,{scope:s,checked:a,disabled:o,children:[n.jsx(qe.button,{type:"button",role:"radio","aria-checked":a,"data-state":XO(a),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:m,onClick:Ie(e.onClick,b=>{a||c==null||c(),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),g&&n.jsx(ZO,{control:d,bubbles:!p.current,name:r,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});GO.displayName=oN;var YO="RadioIndicator",QO=y.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:r,...a}=e,i=Mee(YO,s);return n.jsx(Is,{present:r||i.checked,children:n.jsx(qe.span,{"data-state":XO(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});QO.displayName=YO;var Lee="RadioBubbleInput",ZO=y.forwardRef(({__scopeRadio:e,control:t,checked:s,bubbles:r=!0,...a},i)=>{const o=y.useRef(null),l=mt(o,i),c=_g(s),u=Ag(t);return y.useEffect(()=>{const h=o.current;if(!h)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==s&&m){const p=new Event("click",{bubbles:r});m.call(h,s),h.dispatchEvent(p)}},[c,s,r]),n.jsx(qe.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ZO.displayName=Lee;function XO(e){return e?"checked":"unchecked"}var Fee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wg="RadioGroup",[$ee]=Jn(Wg,[$u,KO]),JO=$u(),eP=KO(),[Uee,Vee]=$ee(Wg),tP=y.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:d,...f}=e,m=JO(s),p=Qh(u),[g,b]=$r({prop:i,defaultProp:a??null,onChange:d,caller:Wg});return n.jsx(Uee,{scope:s,name:r,required:o,disabled:l,value:g,onValueChange:b,children:n.jsx(aN,{asChild:!0,...m,orientation:c,dir:p,loop:h,children:n.jsx(qe.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...f,ref:t})})})});tP.displayName=Wg;var nP="RadioGroupItem",sP=y.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:r,...a}=e,i=Vee(nP,s),o=i.disabled||r,l=JO(s),c=eP(s),u=y.useRef(null),h=mt(t,u),d=i.value===a.value,f=y.useRef(!1);return y.useEffect(()=>{const m=g=>{Fee.includes(g.key)&&(f.current=!0)},p=()=>f.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",p)}},[]),n.jsx(iN,{asChild:!0,...l,focusable:!o,active:d,children:n.jsx(GO,{disabled:o,required:i.required,checked:d,...c,...a,name:i.name,ref:h,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ie(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ie(a.onFocus,()=>{var m;f.current&&((m=u.current)==null||m.click())})})})});sP.displayName=nP;var Bee="RadioGroupIndicator",rP=y.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...r}=e,a=eP(s);return n.jsx(QO,{...a,...r,ref:t})});rP.displayName=Bee;var aP=tP,iP=sP,zee=rP;const oP=y.forwardRef(({className:e,...t},s)=>n.jsx(aP,{className:fe("grid gap-2",e),...t,ref:s}));oP.displayName=aP.displayName;const lP=y.forwardRef(({className:e,...t},s)=>n.jsx(iP,{ref:s,className:fe("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(zee,{className:"flex items-center justify-center",children:n.jsx(OR,{className:"h-3.5 w-3.5 fill-primary"})})}));lP.displayName=iP.displayName;const qee=qh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=y.forwardRef(({className:e,...t},s)=>n.jsx("label",{ref:s,className:fe(qee(),e),...t}));ve.displayName="Label";const Hee=({lesson:e,courseId:t})=>{var P,V,Y,J;const{toast:s}=jt(),[r,a]=y.useState([]),[i,o]=y.useState({}),[l,c]=y.useState(!0),[u,h]=y.useState(!1),[d,f]=y.useState(null),[m,p]=y.useState(!1),[g,b]=y.useState(0),[v,x]=y.useState(!1),[w,j]=y.useState(null),[N,k]=y.useState(!1),S={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},C=r[g],E=g===r.length-1,T=g===0,_=10,[A,D]=y.useState(0),R=Math.ceil(r.length/_),U=A*_,I=Math.min(U+_,r.length),L=r.slice(U,I);y.useEffect(()=>{(async()=>{var ie,de,G,X;try{c(!0);const le=await ee.get(`/student/courses/${t}/lessons/${e.id}/quiz`);((ie=le==null?void 0:le.data)==null?void 0:ie.code)===0&&le.data.result&&a(le.data.result);try{const Ne=await ee.get(`/student/courses/${t}`);if((G=(de=Ne==null?void 0:Ne.data)==null?void 0:de.result)!=null&&G.sectionProgress){const Re=Ne.data.result;for(const oe of Re.sectionProgress)for(const ae of oe.lessons)if(ae.lessonId===e.id&&ae.isDone){x(!0);break}}}catch(Ne){console.error("Failed to check completion status:",Ne)}try{const Ne=await ee.get(`/student/courses/${t}/lessons/${e.id}/quiz/result/latest`);if(((X=Ne==null?void 0:Ne.data)==null?void 0:X.code)===0&&Ne.data.result){const Re=Ne.data.result;j(Re);const oe=`quiz_result_${t}_${e.id}`;localStorage.setItem(oe,JSON.stringify(Re))}}catch(Ne){console.log("No previous quiz result found or API error:",Ne);const Re=`quiz_result_${t}_${e.id}`,oe=localStorage.getItem(Re);if(oe)try{const ae=JSON.parse(oe);j(ae)}catch(ae){console.error("Failed to parse saved quiz result:",ae)}}}catch{s({variant:"destructive",title:"Li",description:"Khng th ti cu hi quiz."})}finally{c(!1)}})()},[t,e.id,s]);const M=(te,ie,de)=>{o(G=>{const X=G[te]||[],le=X.includes(ie);return de?{...G,[te]:le?X.filter(Ne=>Ne!==ie):[...X,ie]}:{...G,[te]:le?[]:[ie]}})},$=()=>{g<r.length-1&&b(g+1)},F=()=>{g>0&&b(g-1)},O=te=>{b(te)},q=()=>{k(!0),o({}),f(null),p(!1),b(0),D(0)},B=()=>{k(!0),o({}),f(null),p(!1),b(0),D(0),s({title:"Lm li quiz",description:w?`im s trc : ${w.percentage}%. Bn c th lm li  ci thin im s.`:"Bn c th lm li bi quiz ny."})},z=async()=>{var ie;const te=r.filter(de=>!i[de.questionID]||i[de.questionID].length===0);if(te.length>0){s({variant:"destructive",title:"Cha hon thnh",description:`Bn cn ${te.length} cu hi cha tr li.`});return}try{h(!0);const de={answers:Object.entries(i).map(([X,le])=>({questionId:parseInt(X),selectedOptionIds:le}))},G=await ee.post(`/student/courses/${t}/lessons/${e.id}/quiz/submit`,de);if(((ie=G==null?void 0:G.data)==null?void 0:ie.code)===0&&G.data.result){const X=G.data.result;f(X),p(!0),b(0),x(!0);const le=`quiz_result_${t}_${e.id}`;localStorage.setItem(le,JSON.stringify(X)),j(X);const Ne=w?w.percentage<X.percentage?` Ci thin t ${w.percentage}%! `:w.percentage>X.percentage?` im trc: ${w.percentage}%`:" Gi nguyn im s!":"";s({title:" np bi! ",description:`Bn t ${X.percentage}%${Ne}`,className:"bg-green-600 text-white border-none"})}}catch{s({variant:"destructive",title:"Li",description:"Khng th np bi quiz."})}finally{h(!1)}},W=te=>te.options.filter(ie=>ie.isCorrect).length>1;return l?n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ye,{className:"p-12 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti quiz..."})]})}):r.length===0?n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ye,{className:"overflow-hidden shadow-xl border-0",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white",children:n.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.title})}),n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(at,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Cha c cu hi"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Quiz ny hin cha c cu hi no."}),n.jsx(H,{onClick:()=>window.history.back(),children:"Quay li"})]})]})}):!N&&w&&!m?n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ye,{className:"overflow-hidden shadow-xl border-0",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.title}),n.jsx("div",{className:"flex items-center gap-4 text-blue-100",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tt,{className:"w-5 h-5"}),n.jsxs("span",{children:[r.length," cu hi"]})]})})]}),n.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:n.jsx(id,{className:"w-12 h-12"})})]})}),n.jsxs("div",{className:"p-12",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(id,{className:"w-20 h-20 text-green-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bn  hon thnh quiz ny"}),n.jsx("p",{className:"text-gray-600",children:"Xem li kt qu ln trc hoc lm li  ci thin im s"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-8 mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Kt qu ln trc"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-md",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"im s"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[w.totalScore,"/",w.maxScore]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-md",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Phn trm"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[w.percentage,"%"]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-md",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ng"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.correctQuestions})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-md",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tng cu"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.totalQuestions})]})]})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:n.jsx(H,{onClick:B,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-6 text-lg",children:"Lm li bi quiz"})})]})]})}):!N&&!w&&!m?n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(ye,{className:"overflow-hidden shadow-xl border-0",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.title}),n.jsx("div",{className:"flex items-center gap-4 text-blue-100",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tt,{className:"w-5 h-5"}),n.jsxs("span",{children:[r.length," cu hi"]})]})})]}),n.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:n.jsx(id,{className:"w-12 h-12"})})]})}),n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(tt,{className:"w-20 h-20 text-blue-600 mx-auto mb-6"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Sn sng bt u quiz?"}),n.jsxs("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:["Quiz ny c ",r.length," cu hi. Hy chun b tinh thn v bt u th thch!"]}),n.jsx(H,{onClick:q,size:"lg",className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white px-8 py-6 text-lg",children:"Bt u lm quiz"})]})]})}):n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx(ye,{className:"mb-6 overflow-hidden shadow-xl border-0",children:n.jsx(ue.div,{initial:"initial",animate:"animate",variants:S,children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:e.title}),v&&n.jsxs(Pe,{className:"bg-green-500 text-white border-none",children:[n.jsx(jn,{className:"w-4 h-4 mr-1"})," hon thnh"]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tt,{className:"w-5 h-5"}),n.jsxs("span",{children:[r.length," cu hi"]})]}),!m&&n.jsxs("span",{className:"font-semibold",children:["Cu ",g+1," / ",r.length]})]})]}),n.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:n.jsx(id,{className:"w-12 h-12"})})]}),!m&&n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:n.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${(g+1)/r.length*100}%`}})})})]})})}),m&&d&&n.jsx(ye,{className:"mb-6 overflow-hidden shadow-xl border-0",children:n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 p-8",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx(id,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Kt qu ca bn"}),v&&n.jsx("p",{className:"text-sm text-gray-600",children:"Quiz ny  c nh du hon thnh"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-md",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"im s"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[d.totalScore,"/",d.maxScore]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-md",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Phn trm"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[d.percentage,"%"]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-md",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ng"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.correctQuestions})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 text-center shadow-md",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tng cu"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.totalQuestions})]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx(H,{onClick:B,variant:"outline",className:"flex items-center gap-2 border-2 border-blue-600 text-blue-600 hover:bg-blue-50 px-6 py-3",children:"Lm li bi quiz"})})]})}),!m&&n.jsxs(ye,{className:"mb-6 p-4 shadow-lg border-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-base font-semibold",children:"Tng quan cu hi"}),R>1&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>D(Math.max(0,A-1)),disabled:A===0,className:"p-1 rounded hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:n.jsx(qn,{className:"w-4 h-4"})}),n.jsxs("span",{className:"text-sm text-gray-600",children:[U+1,"-",I," / ",r.length]}),n.jsx("button",{onClick:()=>D(Math.min(R-1,A+1)),disabled:A===R-1,className:"p-1 rounded hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:n.jsx(Wt,{className:"w-4 h-4"})})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:L.map((te,ie)=>{var le;const de=U+ie,G=((le=i[te.questionID])==null?void 0:le.length)>0,X=de===g;return n.jsx("button",{onClick:()=>O(de),className:`w-10 h-10 rounded-lg text-sm font-semibold transition-all ${X?"bg-blue-600 text-white scale-110 shadow-lg":G?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:de+1},de)})})]}),!m&&C&&n.jsxs(ye,{className:"overflow-hidden shadow-lg border-0 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 p-6 border-b",children:n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsxs(Pe,{className:"bg-blue-600 text-white",children:["Cu ",g+1]}),W(C)&&n.jsx(Pe,{variant:"outline",className:"text-purple-600",children:"Nhiu p n"}),n.jsxs(Pe,{variant:"secondary",children:[C.score," im"]})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.questionText})]})})}),n.jsx("div",{className:"p-6",children:W(C)?n.jsx("div",{className:"space-y-3",children:C.options.map(te=>{var de;const ie=(de=i[C.questionID])==null?void 0:de.includes(te.optionID);return n.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer ${ie?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>M(C.questionID,te.optionID,!0),children:[n.jsx($l,{id:`option-${te.optionID}`,checked:ie,className:"mt-1"}),n.jsx(ve,{htmlFor:`option-${te.optionID}`,className:"flex-1 cursor-pointer",children:te.optionText})]},te.optionID)})}):n.jsx(oP,{value:((V=(P=i[C.questionID])==null?void 0:P[0])==null?void 0:V.toString())||"",children:n.jsx("div",{className:"space-y-3",children:C.options.map(te=>{var de;const ie=((de=i[C.questionID])==null?void 0:de[0])===te.optionID;return n.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer ${ie?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>M(C.questionID,te.optionID,!1),children:[n.jsx(lP,{value:te.optionID.toString(),id:`option-${te.optionID}`,className:"mt-1"}),n.jsx(ve,{htmlFor:`option-${te.optionID}`,className:"flex-1 cursor-pointer",children:te.optionText})]},te.optionID)})})})})]}),m&&d&&C&&n.jsxs(ye,{className:"overflow-hidden shadow-lg border-0 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 p-6 border-b",children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsxs(Pe,{className:"bg-blue-600 text-white",children:["Cu ",g+1]}),W(C)&&n.jsx(Pe,{variant:"outline",className:"text-purple-600",children:"Nhiu p n"}),n.jsxs(Pe,{variant:"secondary",children:[C.score," im"]})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.questionText})]}),n.jsx("div",{children:(Y=d.questions[g])!=null&&Y.isCorrect?n.jsx(jn,{className:"w-8 h-8 text-green-600"}):n.jsx(Lt,{className:"w-8 h-8 text-red-600"})})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"space-y-3",children:C.options.map(te=>{const ie=d.questions[g],de=ie==null?void 0:ie.selectedOptionIds.includes(te.optionID),G=ie==null?void 0:ie.correctOptionIds.includes(te.optionID);return n.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg border-2 ${G?"border-green-500 bg-green-50":de?"border-red-500 bg-red-50":"border-gray-200"}`,children:[n.jsx("div",{className:"flex-1",children:n.jsx("span",{className:"text-gray-900",children:te.optionText})}),G&&n.jsx(jn,{className:"w-5 h-5 text-green-600"}),de&&!G&&n.jsx(Lt,{className:"w-5 h-5 text-red-600"})]},te.optionID)})}),((J=d.questions[g])==null?void 0:J.explanation)&&n.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-100 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(at,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Gii thch"}),n.jsx("p",{className:"text-blue-800",children:d.questions[g].explanation})]})]})})]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs(H,{onClick:F,disabled:T,variant:"outline",className:"flex items-center gap-2",children:[n.jsx(qn,{className:"w-4 h-4"}),"Cu trc"]}),n.jsx("div",{className:"flex gap-2",children:m?!E&&n.jsxs(H,{onClick:$,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:["Cu tip",n.jsx(Wt,{className:"w-4 h-4"})]}):n.jsx(n.Fragment,{children:E?n.jsx(H,{onClick:z,disabled:u,className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",children:u?"ang np bi...":"Np bi"}):n.jsxs(H,{onClick:$,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:["Cu tip",n.jsx(Wt,{className:"w-4 h-4"})]})})})]})]})},Wee=e=>{var t;if(!e)return null;if(e.includes("embed"))return e;try{const s=new URL(e),r=s.searchParams.get("v")||((t=e.split("youtu.be/")[1])==null?void 0:t.split("?")[0]);if(!r)return e;const a=s.searchParams.get("t"),i=a?`?start=${parseInt(a.replace(/\D/g,""),10)}`:"";return`https://www.youtube.com/embed/${r}${i}`}catch{return e}},Kee=({videoURL:e,materials:t})=>{const s={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return n.jsxs(n.Fragment,{children:[n.jsx(ye,{className:"mb-4 overflow-hidden shadow-xl border-0",children:n.jsx(ue.div,{initial:"initial",animate:"animate",variants:s,children:n.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-900 via-gray-800 to-black relative group",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-600/20 to-transparent"}),n.jsx("iframe",{src:Wee(e)||"",className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})})}),n.jsx(ye,{className:"shadow-xl border-0",children:n.jsx(ue.div,{initial:"initial",animate:"animate",variants:s,transition:{delay:.1},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[n.jsx(Zt,{className:"w-6 h-6 text-blue-600"}),n.jsx("span",{children:"Ti liu bi hc"})]}),t!=null&&t.length?n.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map((r,a)=>n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:n.jsx(ye,{className:"p-5 hover:shadow-lg transition-all hover:scale-105 border-0 bg-gradient-to-br from-white to-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-3 rounded-xl shadow-lg",children:n.jsx(Zt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-900",children:r.title}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[n.jsx(Pe,{variant:"secondary",className:"text-xs",children:r.type}),n.jsx("span",{children:""}),n.jsx("span",{children:r.size})]})]})]}),n.jsx(H,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",asChild:!0,children:n.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:[n.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Xem file"]})})]})})},r.id))}):n.jsx("p",{className:"text-gray-600",children:"Khng c ti liu no."})]})})})]})};var Kg="Tabs",[Gee]=Jn(Kg,[$u]),cP=$u(),[Yee,lN]=Gee(Kg),uP=y.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Qh(l),[d,f]=$r({prop:r,onChange:a,defaultProp:i??"",caller:Kg});return n.jsx(Yee,{scope:s,baseId:Ir(),value:d,onValueChange:f,orientation:o,dir:h,activationMode:c,children:n.jsx(qe.div,{dir:h,"data-orientation":o,...u,ref:t})})});uP.displayName=Kg;var dP="TabsList",hP=y.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...a}=e,i=lN(dP,s),o=cP(s);return n.jsx(aN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:n.jsx(qe.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});hP.displayName=dP;var fP="TabsTrigger",mP=y.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...i}=e,o=lN(fP,s),l=cP(s),c=xP(o.baseId,r),u=yP(o.baseId,r),h=r===o.value;return n.jsx(iN,{asChild:!0,...l,focusable:!a,active:h,children:n.jsx(qe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ie(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:Ie(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:Ie(e.onFocus,()=>{const d=o.activationMode!=="manual";!h&&!a&&d&&o.onValueChange(r)})})})});mP.displayName=fP;var pP="TabsContent",gP=y.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:a,children:i,...o}=e,l=lN(pP,s),c=xP(l.baseId,r),u=yP(l.baseId,r),h=r===l.value,d=y.useRef(h);return y.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(Is,{present:a||h,children:({present:f})=>n.jsx(qe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:f&&i})})});gP.displayName=pP;function xP(e,t){return`${e}-trigger-${t}`}function yP(e,t){return`${e}-content-${t}`}var Qee=uP,vP=hP,bP=mP,wP=gP;const cN=Qee,Gg=y.forwardRef(({className:e,...t},s)=>n.jsx(vP,{ref:s,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Gg.displayName=vP.displayName;const Zi=y.forwardRef(({className:e,...t},s)=>n.jsx(bP,{ref:s,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Zi.displayName=bP.displayName;const fu=y.forwardRef(({className:e,...t},s)=>n.jsx(wP,{ref:s,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fu.displayName=wP.displayName;const Zee=({duration:e,content:t,transcript:s,materials:r})=>{const a={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return n.jsxs(n.Fragment,{children:[n.jsx(ye,{className:"mb-6 overflow-hidden shadow-md border-0",children:n.jsx(ue.div,{initial:"initial",animate:"animate",variants:a,children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-xl",children:n.jsx(tt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"text-white",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Bi c"}),n.jsxs("p",{className:"text-sm text-white/90",children:["Thi gian c c tnh: ",e," pht"]})]})]}),n.jsx("p",{className:"text-sm text-white/80 hidden md:block",children:"Khi bn c xong, nhn nt bn di."})]})})}),n.jsx(ye,{className:"shadow-lg border-0",children:n.jsx(ue.div,{initial:"initial",animate:"animate",variants:a,transition:{delay:.1},children:n.jsxs(cN,{defaultValue:"transcript",className:"w-full",children:[n.jsxs(Gg,{className:"grid w-full grid-cols-2 bg-white border-b p-0 h-auto rounded-none",children:[n.jsxs(Zi,{value:"transcript",className:`data-[state=active]:bg-white data-[state=active]:border-b-2 \r
                  data-[state=active]:border-blue-600 data-[state=active]:text-blue-600\r
                  rounded-none py-4 font-semibold`,children:[n.jsx(zk,{className:"w-4 h-4 mr-2"}),"Ni dung bi c"]}),n.jsxs(Zi,{value:"materials",className:`data-[state=active]:bg-white data-[state=active]:border-b-2 \r
                  data-[state=active]:border-blue-600 data-[state=active]:text-blue-600\r
                  rounded-none py-4 font-semibold`,children:[n.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Ti liu"]})]}),n.jsx(fu,{value:"materials",className:"p-8 bg-gray-50 min-h-[400px]",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(Zt,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"Ti liu bi hc"})]}),r!=null&&r.length?n.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.map((i,o)=>n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},children:n.jsx(ye,{className:"p-4 hover:shadow-md transition-all border border-gray-200 bg-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-100 p-2.5 rounded-lg",children:n.jsx(Zt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:i.title}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1",children:[n.jsx(Pe,{variant:"secondary",className:"text-xs",children:i.type}),n.jsx("span",{children:""}),n.jsx("span",{children:i.size})]})]})]}),n.jsx(H,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",asChild:!0,children:n.jsxs("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",children:[n.jsx(Ol,{className:"w-4 h-4 mr-1.5"}),"Xem"]})})]})})},i.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Khng c ti liu no."})]})]})}),n.jsx(fu,{value:"transcript",className:"p-8 bg-gradient-to-br from-gray-50 to-blue-50/30",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(ye,{className:"bg-white border-2 border-gray-200 shadow-lg rounded-xl overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-3",children:n.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[n.jsx(zk,{className:"w-5 h-5"}),"Ni dung bi hc"]})}),n.jsx("div",{className:"px-8 py-10 bg-white",children:n.jsx("div",{className:`prose prose-lg prose-slate max-w-none\r
                        prose-headings:text-gray-900 prose-headings:font-bold prose-headings:mb-4 prose-headings:mt-8\r
                        prose-h1:text-3xl prose-h1:border-b prose-h1:border-gray-200 prose-h1:pb-3\r
                        prose-h2:text-2xl prose-h3:text-xl\r
                        prose-p:text-gray-700 prose-p:leading-relaxed prose-p:my-4 prose-p:text-base\r
                        prose-ul:my-4 prose-ul:space-y-2 prose-ul:list-disc prose-ul:pl-6\r
                        prose-ol:my-4 prose-ol:space-y-2 prose-ol:list-decimal prose-ol:pl-6\r
                        prose-li:text-gray-700 prose-li:leading-relaxed prose-li:text-base\r
                        prose-strong:text-gray-900 prose-strong:font-semibold\r
                        prose-em:text-gray-600 prose-em:italic\r
                        prose-blockquote:border-l-4 prose-blockquote:border-blue-500 \r
                        prose-blockquote:bg-blue-50 prose-blockquote:pl-6 prose-blockquote:py-4\r
                        prose-blockquote:italic prose-blockquote:text-gray-700 prose-blockquote:my-6\r
                        prose-blockquote:rounded-r-lg prose-blockquote:shadow-sm\r
                        prose-code:bg-blue-100 prose-code:text-blue-800 prose-code:px-2 \r
                        prose-code:py-1 prose-code:rounded prose-code:text-sm prose-code:font-mono\r
                        prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-pre:p-6 \r
                        prose-pre:rounded-xl prose-pre:my-6 prose-pre:overflow-x-auto\r
                        prose-pre:border-2 prose-pre:border-gray-700\r
                        prose-a:text-blue-600 prose-a:no-underline hover:prose-a:text-blue-800 \r
                        prose-a:font-medium hover:prose-a:underline\r
                        prose-hr:border-gray-300 prose-hr:my-8\r
                        prose-table:border-collapse prose-table:w-full prose-table:border prose-table:border-gray-300\r
                        prose-th:bg-gray-100 prose-th:p-3 prose-th:text-left prose-th:font-semibold\r
                        prose-th:border prose-th:border-gray-300\r
                        prose-td:border prose-td:border-gray-300 prose-td:p-3\r
                        prose-img:rounded-lg prose-img:shadow-md prose-img:my-6`,dangerouslySetInnerHTML:{__html:t||s||'<p class="text-gray-500 text-center py-12">Khng c ni dung.</p>'}})})]}),n.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800 flex items-center gap-2",children:[n.jsx(tt,{className:"w-4 h-4"}),n.jsx("span",{children:" Mo: c k ni dung v ghi ch nhng im quan trng  ghi nh tt hn."})]})})]})})]})})})]})},uC=({lessonId:e,courseId:t,lessonType:s,isDoneInitial:r,children:a})=>{const{toast:i}=jt(),{courseIsDone:o}=Wn().state||{courseIsDone:!1},[l,c]=y.useState(!1),[u,h]=y.useState(r),[d,f]=y.useState(r),m=y.useRef(!1),p=y.useRef(0),g=y.useRef(null),b=s==null?void 0:s.trim().toLowerCase(),v=async()=>{var j,N;if(o){m.current=!0,h(!0),f(!0);return}try{const k=await ee.get(`/student/courses/${t}`);if((N=(j=k==null?void 0:k.data)==null?void 0:j.result)!=null&&N.sectionProgress){const S=k.data.result;for(const C of S.sectionProgress)for(const E of C.lessons)if(E.lessonId===e){h(!!E.isDone),f(!!E.isDone),m.current=!!E.isDone;return}}}catch(k){console.error("Failed to fetch lesson progress:",k)}h(!1),f(!1),m.current=!1,p.current=0};y.useEffect(()=>(v(),()=>{g.current&&(clearInterval(g.current),g.current=null)}),[e,t,o]),y.useEffect(()=>{if(g.current&&(clearInterval(g.current),g.current=null),!o&&!u&&!(b!=="video"&&b!=="reading"))return g.current=window.setInterval(()=>{p.current+=1,p.current>=10&&!d&&(f(!0),m.current||(m.current=!0,i({title:"Bi hc  m kha! ",description:"Bn c th nh du bi hc ny l  hon thnh.",className:"bg-green-600 text-white border-none"})))},1e3),()=>{g.current&&(clearInterval(g.current),g.current=null)}},[b,u,d,o,i]);const x=async()=>{try{const N=(await ee.get(`/student/courses/${t}`)).data.result;if(!(N!=null&&N.sectionProgress))return;for(const k of N.sectionProgress)for(const S of k.lessons)if(S.lessonId===e){h(!!S.isDone),f(!!S.isDone),m.current=!!S.isDone;return}}catch{}},w=async()=>{var j;if(!o)try{c(!0);const N={isDone:!0,watchedDuration:Number(p.current||0)},k=await ee.post(`/student/lessons/${e}/progress`,N);((j=k==null?void 0:k.data)==null?void 0:j.code)===0?(i({title:" hon thnh ",description:"Tin  ca bn  c lu.",className:"bg-green-600 text-white border-none"}),await v(),await x()):i({variant:"destructive",title:"Tht bi",description:"Khng th lu tin ."})}catch{i({variant:"destructive",title:"Li",description:"Khng th kt ni n my ch."})}finally{c(!1)}};return n.jsxs("div",{className:"lg:col-span-2",children:[a,n.jsx("div",{className:"flex justify-end mt-4 mb-8",children:n.jsx(H,{disabled:u||!d||l||o,onClick:w,className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white shadow-md disabled:opacity-40 rounded-full",children:u||o?" hon thnh":d?l?"ang lu...":"nh du hon thnh":"Xem  m kha"})})]})};function Xee(){var p;const{id:e}=wr(),t=Wn(),[s]=re.useState((p=t.state)!=null&&p.courseId?Number(t.state.courseId):null),[r,a]=re.useState(null),[i,o]=re.useState(""),[l,c]=re.useState(null),[u,h]=re.useState(!0),[d,f]=re.useState(null),m=(g,b)=>{var x;switch((x=g.lessonType)==null?void 0:x.trim().toLowerCase()){case"quiz":return n.jsx(Hee,{lesson:g,courseId:b});case"video":return n.jsx(uC,{lessonId:g.id,courseId:b,lessonType:g.lessonType,isDoneInitial:!!g.isDone,children:n.jsx(Kee,{videoURL:g.videoURL,materials:g.materials})});case"reading":return n.jsx(uC,{lessonId:g.id,courseId:b,lessonType:g.lessonType,isDoneInitial:!!g.isDone,children:n.jsx(Zee,{duration:g.duration,content:g.content??null,transcript:g.transcript,materials:g.materials})});default:return n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"text-center py-12 text-gray-600 bg-white rounded-lg shadow",children:[n.jsx("p",{className:"text-lg font-semibold mb-2",children:"Loi bi hc khng c h tr"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Loi: ",g.lessonType]})]})})}};return re.useEffect(()=>{(async()=>{if(e){if(!s){f("Thiu courseId. Vui lng quay li t trang kha hc.");return}try{h(!0);const v=(await ee.get(`/courses/detail/${s}`)).data.result;c(v),o(v.title);let x=null,w=null;for(const N of v.section){const k=N.lessons.findIndex(S=>S.lessonID.toString()===e);if(k!==-1){x=N.lessons[k],w=N.lessons[k+1]||null;break}}if(!x){f("Khng tm thy bi hc trong kha hc ny.");return}const j=x.resources.map(N=>({id:N.resourceID,title:N.resourceTitle,type:N.resourceType,size:N.size||"Unknown",url:N.resourceURL}));a({id:x.lessonID,title:x.title,week:x.orderIndex,duration:x.duration,lessonType:x.lessonType,description:x.content,objectives:x.objectives,materials:j,transcript:x.content,content:x.content,videoURL:x.videoURL||x.videoUrl||x.video||null,isDone:x.isDone,nextLesson:w?{id:w.lessonID,title:w.title,week:w.orderIndex}:null})}catch{f("Khng th ti bi hc.")}finally{h(!1)}}})()},[e,s]),u?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"ang ti..."}):d||!r||!s||!l?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Khng tm thy bi hc"}),n.jsx(H,{asChild:!0,children:n.jsx(_e,{to:se.HOME,children:"V trang ch"})})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[n.jsx(jee,{lesson:r,courseId:s,courseTitle:i}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6},children:[m(r,s),n.jsx(Nee,{lesson:r,course:{id:l.id}})]})})})]})}const Jee=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return n.jsx("section",{className:"bg-gradient-to-r from-green-600 to-blue-700 py-20",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"text-center text-white",initial:"initial",animate:"animate",variants:e,children:[n.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Practice Tests"}),n.jsx("p",{className:"text-xl text-green-100 mb-8 max-w-3xl mx-auto",children:"Prepare for your language certification exams with our comprehensive practice tests. Get real exam experience and detailed feedback."}),n.jsxs("div",{className:"flex justify-center space-x-8 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold",children:"50+"}),n.jsx("div",{className:"text-green-200",children:"Practice Tests"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold",children:"100K+"}),n.jsx("div",{className:"text-green-200",children:"Test Takers"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl font-bold",children:"95%"}),n.jsx("div",{className:"text-green-200",children:"Pass Rate"})]})]})]})})})},ete=({selectedLanguage:e,selectedLevel:t,onLanguageChange:s,onLevelChange:r,testCount:a})=>{const i={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},o=["All","English","Spanish","French","German","Chinese","Japanese"],l=["All","Beginner","Intermediate","Advanced"];return n.jsx("section",{className:"py-8 bg-white border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"flex flex-wrap items-center gap-6",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:i,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tt,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"font-medium text-gray-700",children:"Filters:"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Language:"}),n.jsx("select",{value:e,onChange:c=>s(c.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:o.map(c=>n.jsx("option",{value:c,children:c},c))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Level:"}),n.jsx("select",{value:t,onChange:c=>r(c.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:l.map(c=>n.jsx("option",{value:c,children:c},c))})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[a," tests available"]})]})})})},tte=({tests:e})=>{const t={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},s={animate:{transition:{staggerChildren:.1}}},r=i=>i===0?"Free":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),a=i=>{switch(i){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:s,children:e.map(i=>n.jsxs(ue.div,{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group cursor-pointer",variants:t,children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:i.image,alt:i.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),n.jsxs("div",{className:"absolute top-4 left-4 bg-white px-3 py-1 rounded-full text-sm font-medium",children:[i.flag," ",i.language]}),n.jsx("div",{className:`absolute top-4 right-4 px-2 py-1 rounded-full text-xs ${a(i.level)}`,children:i.level}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:n.jsx("button",{className:"bg-white bg-opacity-20 backdrop-blur-sm p-3 rounded-full",children:n.jsx(hh,{className:"w-6 h-6 text-white ml-1"})})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:i.title}),n.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:i.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(st,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"text-gray-600",children:i.duration})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(en,{className:"w-4 h-4 text-gray-500"}),n.jsxs("span",{className:"text-gray-600",children:[i.participants.toLocaleString()," taken"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(un,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"text-gray-600",children:i.rating})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(vo,{className:"w-4 h-4 text-green-500"}),n.jsxs("span",{className:"text-gray-600",children:[i.questions," questions"]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Features:"}),n.jsx("div",{className:"grid grid-cols-2 gap-1",children:i.features.slice(0,4).map((o,l)=>n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(kt,{className:"w-3 h-3 text-green-500"}),n.jsx("span",{className:"text-xs text-gray-600",children:o})]},l))})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-green-600 text-lg",children:r(i.price)}),i.price===0&&n.jsx("span",{className:"text-xs text-gray-500",children:"No registration required"})]}),n.jsxs("button",{className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center space-x-2",children:[n.jsx(hh,{className:"w-4 h-4"}),n.jsx("span",{children:"Start Test"})]})]})]})]},i.id))})})})},nte=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t={animate:{transition:{staggerChildren:.1}}};return n.jsx("section",{className:"py-16 bg-gradient-to-r from-green-500 to-blue-600",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16 text-center",children:n.jsxs(ue.div,{initial:"initial",whileInView:"animate",viewport:{once:!0},variants:t,children:[n.jsx(ue.h2,{className:"text-4xl font-bold text-white mb-6",variants:e,children:"Ready to Test Your Skills?"}),n.jsx(ue.p,{className:"text-xl text-green-100 mb-8",variants:e,children:"Take a free practice test and see where you stand"}),n.jsx(ue.button,{className:"bg-white text-green-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-100 transition-colors",variants:e,children:"Start Free Test"})]})})})},ste=()=>{const[e,t]=y.useState("All"),[s,r]=y.useState("All"),i=[{id:1,title:"IELTS Speaking Practice Test",language:"English",flag:"",level:"Intermediate",duration:"15 minutes",questions:25,participants:15420,rating:4.8,price:0,image:"https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Practice IELTS speaking test with real exam format and AI feedback",features:["Real exam format","AI feedback","Score prediction","Detailed analysis"]},{id:2,title:"DELE B2 Grammar Test",language:"Spanish",flag:"",level:"Advanced",duration:"30 minutes",questions:40,participants:8750,rating:4.7,price:125e3,image:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Comprehensive DELE B2 grammar practice with detailed explanations",features:["Official format","Instant results","Grammar explanations","Progress tracking"]},{id:3,title:"DELF B1 Listening Test",language:"French",flag:"",level:"Intermediate",duration:"25 minutes",questions:20,participants:6890,rating:4.9,price:15e4,image:"https://images.pexels.com/photos/3184360/pexels-photo-3184360.jpeg?auto=compress&cs=tinysrgb&w=800",description:"DELF B1 listening comprehension test with native speaker audio",features:["Native audio","Multiple attempts","Transcript provided","Score breakdown"]},{id:4,title:"TestDaF Reading Practice",language:"German",flag:"",level:"Advanced",duration:"45 minutes",questions:30,participants:4560,rating:4.6,price:175e3,image:"https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg?auto=compress&cs=tinysrgb&w=800",description:"TestDaF reading comprehension with academic texts and strategies",features:["Academic texts","Time management tips","Strategy guide","Performance analytics"]},{id:5,title:"HSK 4 Vocabulary Test",language:"Chinese",flag:"",level:"Intermediate",duration:"20 minutes",questions:50,participants:12340,rating:4.8,price:1e5,image:"https://images.pexels.com/photos/3184357/pexels-photo-3184357.jpeg?auto=compress&cs=tinysrgb&w=800",description:"HSK 4 vocabulary practice with pinyin and character recognition",features:["Character practice","Pinyin support","Spaced repetition","Memory techniques"]},{id:6,title:"JLPT N3 Grammar Mock Test",language:"Japanese",flag:"",level:"Intermediate",duration:"35 minutes",questions:35,participants:9870,rating:4.9,price:2e5,image:"https://images.pexels.com/photos/3861958/pexels-photo-3861958.jpeg?auto=compress&cs=tinysrgb&w=800",description:"JLPT N3 grammar patterns and usage with cultural context",features:["Grammar patterns","Cultural context","Example sentences","Study recommendations"]}].filter(o=>{const l=e==="All"||o.language===e,c=s==="All"||o.level===s;return l&&c});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(Jee,{}),n.jsx(ete,{selectedLanguage:e,selectedLevel:s,onLanguageChange:t,onLevelChange:r,testCount:i.length}),n.jsx(tte,{tests:i}),n.jsx(nte,{})]})},rte=()=>{const e=Qe(),t=()=>{const a=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");e(a?se.APPLY_TUTOR:`${se.SIGN_IN}?redirect=${encodeURIComponent(se.APPLY_TUTOR)}`)},s={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},r={animate:{transition:{staggerChildren:.1}}};return n.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-700 py-20",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"text-center text-white",initial:"initial",animate:"animate",variants:r,children:[n.jsx(ue.h1,{className:"text-5xl font-bold mb-6",variants:s,children:"Tr thnh gia s ngn ng"}),n.jsx(ue.p,{className:"text-xl mb-8 text-blue-100 max-w-3xl mx-auto",variants:s,children:"Chia s ngn ng m  ca bn vi hc vin trn ton th gii v kim tin t iu bn yu thch. Tham gia cng hng nghn gia s ang ging dy trn LinguaHub."}),n.jsx(ue.button,{className:"bg-white text-blue-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-100 transition-colors",variants:s,onClick:t,children:"ng k ngay"})]})})})},ate=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t={animate:{transition:{staggerChildren:.1}}},s=[{icon:$n,title:"Thu nhp hp dn",description:"T t mc gi ph hp vi trnh  v kinh nghim ca bn"},{icon:st,title:"Lch trnh linh hot",description:"T qun l lch dy, lm vic theo thi gian ph hp vi bn"},{icon:en,title:"Kt ni hc vin",description:"Tip cn hc vin c nhu cu hc tp thc s trn nn tng"},{icon:un,title:"Xy dng danh ting",description:"Pht trin h s ging dy vi nh gi v xp hng t hc vin"}];return n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:[n.jsxs(ue.div,{className:"text-center mb-12",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:e,children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ti sao dy hc vi LinguaHub?"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Tham gia cng ng v tn hng nhng li ch tuyt vi"})]}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:t,children:s.map((r,a)=>n.jsxs(ue.div,{className:"text-center p-6 rounded-xl border border-gray-200 hover:shadow-lg transition-shadow",variants:e,children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:n.jsx(r.icon,{className:"w-8 h-8 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),n.jsx("p",{className:"text-gray-600",children:r.description})]},a))})]})})},ite=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t=["Ngi bn ng ca ngn ng bn mun dy","Kinh nghim ging dy hoc chng ch (u tin)","Kt ni internet n nh v khng gian ging dy yn tnh","am m gip  ngi khc hc ngn ng","C th dy t nht 10 gi mi tun"];return n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs(ue.div,{initial:"initial",whileInView:"animate",viewport:{once:!0},variants:e,children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Yu cu"}),n.jsx("div",{className:"space-y-4",children:t.map((s,r)=>n.jsxs(ue.div,{className:"flex items-start space-x-3",variants:e,transition:{delay:r*.1},children:[n.jsx(kt,{className:"w-6 h-6 text-green-500 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-gray-700",children:s})]},r))})]}),n.jsx(ue.div,{initial:"initial",whileInView:"animate",viewport:{once:!0},variants:e,children:n.jsx("img",{src:"https://images.pexels.com/photos/3184287/pexels-photo-3184287.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Online teaching",className:"rounded-2xl shadow-lg"})})]})})})},ote=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t={animate:{transition:{staggerChildren:.1}}},s=[{step:"1",title:"ng k lm gia s",description:"in thng tin c nhn, kinh nghim v chuyn mn ca bn vo form ng k"},{step:"2",title:"Ch ph duyt",description:"Admin s xem xt h s ca bn v ph duyt trong vng 1-3 ngy lm vic"},{step:"3",title:"Bt u dy hc",description:"Sau khi c ph duyt, bn c th to lch dy v bt u nhn hc vin ngay"}];return n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:[n.jsxs(ue.div,{className:"text-center mb-12",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:e,children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Cch thc hot ng"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Bt u vi 3 bc n gin"})]}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:t,children:s.map((r,a)=>n.jsxs(ue.div,{className:"text-center relative",variants:e,children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-500 text-white rounded-full text-2xl font-bold mb-4",children:r.step}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),n.jsx("p",{className:"text-gray-600",children:r.description}),a<s.length-1&&n.jsx("div",{className:"hidden lg:block absolute top-8 left-full w-full h-0.5 bg-gray-200 -translate-x-1/2"})]},a))})]})})},lte=()=>{const e=Qe(),t=()=>{const a=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");e(a?se.APPLY_TUTOR:`${se.SIGN_IN}?redirect=${encodeURIComponent(se.APPLY_TUTOR)}`)},s={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},r={animate:{transition:{staggerChildren:.1}}};return n.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-500 to-purple-600",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16 text-center",children:n.jsxs(ue.div,{initial:"initial",whileInView:"animate",viewport:{once:!0},variants:r,children:[n.jsx(ue.h2,{className:"text-4xl font-bold text-white mb-6",variants:s,children:"Sn sng bt u ging dy?"}),n.jsx(ue.p,{className:"text-xl text-blue-100 mb-8",variants:s,children:"Tham gia cng ng ngi bn ng v bt u kim tin ngay hm nay"}),n.jsx(ue.div,{variants:s,children:n.jsx(ue.button,{className:"bg-white text-blue-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-100 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,children:"ng k tr thnh gia s"})})]})})})},cte=()=>n.jsxs("div",{className:"min-h-screen",children:[n.jsx(rte,{}),n.jsx(ate,{}),n.jsx(ite,{}),n.jsx(ote,{}),n.jsx(lte,{})]}),ute=({itemCount:e,onSearch:t})=>{const[s,r]=y.useState(""),a={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},i=()=>{t&&t(s.trim())},o=l=>{l.key==="Enter"&&i()};return n.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-700 py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"text-center text-white",initial:"initial",animate:"animate",variants:a,children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Danh sch yu thch"}),n.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Tt c cc kha hc yu thch ca bn  mt ni"}),n.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-10",children:[n.jsx(yo,{className:"w-6 h-6 fill-red-400 text-red-400"}),n.jsx("span",{className:"text-lg",children:e===0?"Cha c kha hc no c lu":`${e} kha hc  lu`})]}),n.jsx("div",{className:"max-w-3xl mx-auto",children:n.jsxs("div",{className:"flex items-center bg-white rounded-full shadow-xl overflow-hidden",children:[n.jsx("input",{type:"text",placeholder:"Tm kim kha hc  lu...",value:s,onChange:l=>r(l.target.value),onKeyDown:o,className:"flex-1 px-6 py-4 text-gray-900 text-base focus:outline-none"}),n.jsxs("button",{onClick:i,className:"bg-yellow-400 text-blue-900 px-8 py-4 hover:bg-yellow-500 transition-colors flex items-center justify-center font-semibold",children:[n.jsx(ci,{className:"w-5 h-5 mr-2"}),"Tm kim"]})]})})]})})})},dte=({wishlistItems:e,onRemoveItem:t})=>{const s={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},r={animate:{transition:{staggerChildren:.1}}},a=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i);return e.length===0?n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"text-center py-16",initial:"initial",animate:"animate",variants:s,children:[n.jsx(yo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Danh sch yu thch trng"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Bt u thm cc kha hc bn quan tm!"}),n.jsx(_e,{to:"/languages",className:"bg-blue-500 text-white px-8 py-3 rounded-full font-semibold hover:bg-blue-600 transition-colors",children:"Khm ph kha hc"})]})})}):n.jsx("section",{className:"py-16 bg-[#f8fafc]",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:r,children:e.map(i=>n.jsxs(ue.div,{variants:s,layout:!0,className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 group border border-blue-100 flex flex-col h-full",children:[n.jsxs(_e,{to:`/courses/${i.id}`,className:"block hover:no-underline",children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("img",{src:i.thumbnailURL,alt:i.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsx("span",{className:"bg-yellow-400 text-blue-900 text-xs px-2 py-1 rounded-full font-semibold",children:i.categoryName||"Uncategorized"})})]}),n.jsxs("div",{className:"p-6 flex flex-col",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1 group-hover:text-blue-600 transition-colors line-clamp-2 min-h-[56px]",children:i.title}),n.jsxs("p",{className:"text-gray-600 mb-3 text-sm truncate",children:["by ",i.tutorName]}),n.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 min-h-[40px] mb-3",children:i.description||"Khng c m t"}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-4 h-4"}),n.jsx("span",{children:i.learnerCount??0})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(un,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:i.avgRating!==null?i.avgRating.toFixed(1):"N/A"}),n.jsxs("span",{className:"text-xs opacity-70",children:["(",i.totalRatings??0,")"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(st,{className:"w-4 h-4"}),n.jsxs("span",{children:[i.duration??0," gi"]})]}),n.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded capitalize",children:i.language||"N/A"})]}),n.jsx("div",{className:"mt-auto pt-3 border-t",children:n.jsx("span",{className:"text-xl font-bold text-blue-600",children:a(i.price)})})]})]}),n.jsxs("div",{className:"border-t border-blue-100 bg-blue-50 px-6 py-4 rounded-b-xl flex justify-between items-center gap-3",children:[n.jsxs(_e,{to:`/courses/${i.id}`,className:"flex-1 flex items-center justify-center gap-1 bg-blue-600 text-white px-3 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",onClick:o=>o.stopPropagation(),children:[n.jsx($5,{className:"w-4 h-4"}),n.jsx("span",{children:"Xem chi tit"})]}),n.jsx("button",{onClick:o=>{o.preventDefault(),o.stopPropagation(),t(i.id)},className:"flex items-center gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 px-3 py-2 rounded-md text-sm font-medium transition-colors",title:"Xa khi danh sch yu thch",children:n.jsx(Ht,{className:"w-4 h-4"})})]})]},i.id))})})})},hte=({currentPage:e,totalPages:t,onPageChange:s})=>{const r={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};if(t<=0)return null;const a=()=>{const i=[];if(t<=5)for(let l=1;l<=t;l++)i.push(l);else if(e<=3){for(let l=1;l<=4;l++)i.push(l);i.push("..."),i.push(t)}else if(e>=t-2){i.push(1),i.push("...");for(let l=t-3;l<=t;l++)i.push(l)}else{i.push(1),i.push("...");for(let l=e-1;l<=e+1;l++)i.push(l);i.push("..."),i.push(t)}return i};return n.jsxs(ue.div,{className:"flex justify-center items-center space-x-2 py-8",initial:"initial",animate:"animate",variants:r,children:[n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e-1),disabled:e===1,children:n.jsx(qn,{className:"w-4 h-4"})}),a().map((i,o)=>n.jsx(re.Fragment,{children:i==="..."?n.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):n.jsx(H,{variant:e===i?"default":"outline",size:"sm",onClick:()=>s(i),children:i})},o)),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e+1),disabled:e===t,children:n.jsx(Wt,{className:"w-4 h-4"})})]})},fte=()=>{const{toast:e}=jt(),t=Qe(),[s,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(1),h=6;y.useEffect(()=>{(async()=>{if(l(!0),!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){e({variant:"destructive",title:"Bn cha ng nhp",description:"Vui lng ng nhp  xem danh sch yu thch."}),t(se.SIGN_IN);return}try{const v=await ee.get("/wishlist");if(Array.isArray(v.data.result)){const x=v.data.result.filter(w=>w.isPurchased===!1||w.isPurchased===null);r(x),i(x)}}catch{e({variant:"destructive",title:"Khng th ti danh sch yu thch",description:"Vui lng th li sau."}),t(se.SIGN_IN)}finally{l(!1)}})()},[t,e]);const d=async g=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){e({variant:"destructive",title:"Bn cha ng nhp",description:"Vui lng ng nhp  xa mc."}),t(se.SIGN_IN);return}try{await ee.delete(`/wishlist/${g}`),r(v=>v.filter(x=>x.id!==g)),i(v=>v.filter(x=>x.id!==g)),e({variant:"success",title:" xa khi danh sch yu thch"})}catch{e({variant:"destructive",title:"Xa tht bi",description:"Vui lng th li sau."})}},f=g=>{u(1),i(g?s.filter(b=>b.title.toLowerCase().includes(g.toLowerCase())):s)},m=Math.ceil(a.length/h),p=a.slice((c-1)*h,c*h);return o?n.jsx("div",{className:"min-h-screen flex justify-center items-center text-lg text-gray-500",children:"ang ti danh sch yu thch..."}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(ute,{itemCount:s.length,onSearch:f}),n.jsx(dte,{wishlistItems:p,onRemoveItem:d}),n.jsx(hte,{currentPage:c,totalPages:m,onPageChange:u})]})},mte=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center px-4",children:n.jsxs(ue.div,{className:"text-center max-w-md w-full",initial:"initial",animate:"animate",variants:e,children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-9xl font-bold text-blue-500 mb-4",children:"404"}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Khng tm thy trang"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Xin li, trang bn ang tm kim khng tn ti hoc  c di chuyn."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(H,{asChild:!0,className:"w-full",children:n.jsxs(_e,{to:"/",children:[n.jsx(tq,{className:"w-4 h-4 mr-2"}),"V trang ch"]})}),n.jsxs(H,{variant:"outline",className:"w-full",onClick:()=>window.history.back(),children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li"]})]})]})})},pte=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return n.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-700 py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"text-center text-white",initial:"initial",animate:"animate",variants:e,children:[n.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[n.jsx(ya,{className:"w-12 h-12"}),n.jsx(Zt,{className:"w-12 h-12"})]}),n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Chnh sch & iu khon"}),n.jsx("p",{className:"text-xl text-blue-100 mb-4",children:"Chnh sch bo mt v iu khon s dng dch v LinguaHub"}),n.jsxs("p",{className:"text-blue-200",children:["Cp nht ln cui: ",new Date().toLocaleDateString("vi-VN")]})]})})})},gte=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t={animate:{transition:{staggerChildren:.1}}},s=[{icon:ya,title:"Thng tin chng ti thu thp",content:["Thng tin c nhn: H tn, email, s in thoi, a ch","Thng tin ti khon: Tn ng nhp, mt khu (c m ha)","Thng tin hc tp: Tin  kha hc, lch hc, lch s t lch vi gia s","Thng tin thanh ton: c x l an ton qua PayOS","Thng tin ngn hng: Ch lu khi bn yu cu hon tin"]},{icon:gs,title:"Cch chng ti s dng thng tin",content:["Kt ni hc vin vi gia s ph hp","Qun l lch hc v bui hc 1-1","X l thanh ton, hon tin v giao dch","Gi thng bo v lch hc, kha hc v tin nhn","Ci thin cht lng dch v v tri nghim ngi dng"]},{icon:mr,title:"Bo mt thng tin",content:["M ha SSL/TLS cho tt c d liu truyn ti","Lu tr d liu trn server bo mt vi tng la","Kim sot truy cp nghim ngt cho nhn vin","Sao lu d liu nh k v an ton","Tun th cc tiu chun bo mt quc t"]},{icon:wl,title:"Quyn ca bn",content:["Truy cp v xem thng tin c nhn","Yu cu chnh sa hoc cp nht thng tin","Xa ti khon v d liu c nhn","T chi nhn email marketing","Khiu ni v vic x l d liu"]}];return n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-8 lg:px-16",children:[n.jsxs(ue.div,{className:"text-center mb-12",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:e,children:[n.jsx(ya,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Chnh sch Bo mt"}),n.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"Ti LinguaHub, chng ti hiu rng quyn ring t ca bn l v cng quan trng. Chnh sch bo mt ny gii thch cch chng ti thu thp, s dng, v bo v thng tin c nhn ca bn khi s dng dch v ca chng ti."})]}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:t,children:s.map((r,a)=>n.jsxs(ue.div,{className:"bg-card rounded-xl p-6 shadow-md",variants:e,children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(r.icon,{className:"w-5 h-5 text-blue-600"})}),n.jsx("h3",{className:"text-lg font-bold text-foreground",children:r.title})]}),n.jsx("ul",{className:"space-y-2",children:r.content.map((i,o)=>n.jsxs("li",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:i})]},o))})]},a))})]})})},xte=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t={animate:{transition:{staggerChildren:.1}}},s=[{icon:en,title:"iu khon s dng dch v",content:["Bn phi t 16 tui tr ln  s dng dch v","Ti khon phi c ng k vi thng tin chnh xc","Mi ngi ch c to mt ti khon duy nht","Bn chu trch nhim bo mt thng tin ng nhp","Khng c chia s ti khon vi ngi khc"]},{icon:Hn,title:"Thanh ton v hon tin",content:["Tt c thanh ton c x l qua cng thanh ton bo mt","Ph kha hc c tnh theo gi hoc gi hc","Hon tin trong vng 7 ngy nu cha bt u hc","Khng hon tin sau khi  tham gia 25% kha hc","Ph chuyn khon v thu do hc vin chu"]},{icon:ya,title:"Quyn v ngha v ca gio vin",content:["Gio vin phi c chng ch hoc kinh nghim ging dy","Cam kt cht lng bi ging v ng gi","Khng c chia s thng tin c nhn ca hc vin","Tun th quy tc ng x chuyn nghip","Bo co cc vn  k thut kp thi"]},{icon:ro,title:"Hnh vi b cm",content:["S dng ngn ng khng ph hp hoc xc phm","Chia s ni dung vi phm bn quyn","Quy ri hoc e da ngi dng khc","Spam hoc qung co khng c php","Hack hoc ph hoi h thng"]}];return n.jsx("section",{className:"py-16 bg-muted/50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-8 lg:px-16",children:[n.jsxs(ue.div,{className:"text-center mb-12",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:e,children:[n.jsx(Zt,{className:"w-16 h-16 text-purple-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"iu khon Dch v"}),n.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"Cho mng bn n vi LinguaHub! Bng vic s dng dch v ca chng ti, bn ng  tun th cc iu khon v iu kin c nu di y."})]}),n.jsx(ue.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:t,children:s.map((r,a)=>n.jsxs(ue.div,{className:"bg-white rounded-xl p-6 shadow-md",variants:e,children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:n.jsx(r.icon,{className:"w-5 h-5 text-purple-600"})}),n.jsx("h3",{className:"text-lg font-bold text-foreground",children:r.title})]}),n.jsx("ul",{className:"space-y-2",children:r.content.map((i,o)=>n.jsxs("li",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:i})]},o))})]},a))}),n.jsx(ue.div,{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 mb-8",initial:"initial",whileInView:"animate",viewport:{once:!0},variants:e,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ro,{className:"w-6 h-6 text-yellow-600 mt-1 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-yellow-800 mb-2",children:"Lu  quan trng"}),n.jsx("p",{className:"text-yellow-700 mb-3",children:"Vi phm iu khon dch v c th dn n vic tm kha hoc xa ti khon vnh vin. Chng ti c quyn thay i iu khon ny bt c lc no v s thng bo trc 30 ngy."}),n.jsx("p",{className:"text-yellow-700",children:"Nu bn khng ng  vi cc thay i, vui lng ngng s dng dch v."})]})]})})]})})},yte=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},t={animate:{transition:{staggerChildren:.1}}};return n.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-500 to-purple-600",children:n.jsx("div",{className:"max-w-4xl mx-auto px-8 lg:px-16 text-center",children:n.jsx(ue.div,{initial:"initial",whileInView:"animate",viewport:{once:!0},variants:t,children:n.jsxs(ue.div,{variants:e,children:[n.jsx(Gr,{className:"w-12 h-12 text-white mx-auto mb-4"}),n.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Cn h tr?"}),n.jsx("p",{className:"text-blue-100 mb-6",children:"Nu bn c cu hi v chnh sch hoc iu khon, i ng h tr ca chng ti lun sn sng gip ."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx("a",{href:"mailto:support@linguahub.com",className:"text-white hover:text-blue-200 font-medium transition-colors",children:"support@linguahub.com"}),n.jsx("span",{className:"text-blue-200 hidden sm:inline",children:"|"}),n.jsx("a",{href:"tel:+84123456789",className:"text-white hover:text-blue-200 font-medium transition-colors",children:"Hotline: +84 123 456 789"})]})]})})})})},vte=()=>n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(pte,{}),n.jsx(gte,{}),n.jsx(xte,{}),n.jsx(yte,{})]}),bte=()=>{const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs(ue.div,{className:"max-w-md w-full space-y-8",initial:"initial",animate:"animate",variants:e,children:[n.jsx("div",{className:"text-center",children:n.jsxs(_e,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-lg",children:n.jsx(Un,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:["Lingua",n.jsx("span",{className:"text-blue-500",children:"Hub"})]})]})}),n.jsxs(ue.div,{className:"bg-white rounded-2xl shadow-xl p-8 text-center",variants:e,transition:{delay:.1},children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:n.jsx(kt,{className:"w-8 h-8 text-green-500"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"t li mt khu hon tt!"}),n.jsx("p",{className:"text-gray-600",children:"Mt khu ca bn  c t li thnh cng. By gi bn c th ng nhp bng mt khu mi."})]}),n.jsx(H,{asChild:!0,className:"w-full",children:n.jsx(_e,{to:"/auth/signin",children:"ng nhp ngay"})})]})]})})},wte=()=>{const e=Qe();return y.useEffect(()=>{(async()=>{try{const s=new URLSearchParams(window.location.search),r=s.get("code"),a=s.get("error");if(a){console.error("Google OAuth error:",a),e("/auth/signin?error=oauth_failed");return}r?(console.log("Google OAuth code:",r),await new Promise(i=>setTimeout(i,2e3)),e("/")):e("/auth/signin")}catch(s){console.error("OAuth callback error:",s),e("/auth/signin?error=oauth_failed")}})()},[e]),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:n.jsxs(ue.div,{className:"text-center",initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-4 rounded-lg mb-6 inline-block",children:n.jsx(Un,{className:"w-12 h-12 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Completing Sign In..."}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Please wait while we process your Google authentication."}),n.jsx(co,{size:"lg"})]})})},jte=({language:e,onSearch:t})=>{const[s,r]=y.useState(""),a={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}},i=()=>{if(!s.trim()){t("");return}t(s)},o=l=>{l.key==="Enter"&&i()};return n.jsxs("section",{className:"relative bg-gradient-to-r from-blue-600 to-purple-700 overflow-hidden py-20",children:[n.jsx("img",{src:e.image,alt:e.name,className:"absolute inset-0 w-full h-full object-cover opacity-20"}),n.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-8 lg:px-16",children:n.jsxs(ue.div,{className:"text-white",initial:"initial",animate:"animate",variants:a,children:[n.jsx("div",{className:"mb-6",children:n.jsx(H,{variant:"ghost",asChild:!0,className:"text-white hover:bg-white/20",children:n.jsxs(_e,{to:se.LANGUAGES,children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li Ngn ng"]})})}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[n.jsx("span",{className:"text-6xl",children:e.flag}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-5xl font-bold",children:["Kha hc ",e.name]}),n.jsx("p",{className:"text-xl text-blue-100",children:"Hc vi gio vin bn ng"})]})]}),n.jsx("div",{className:"max-w-3xl mx-auto mt-10",children:n.jsxs("div",{className:"flex items-center bg-white rounded-full shadow-xl overflow-hidden",children:[n.jsx("input",{type:"text",placeholder:"Tm kim kha hc hoc gio vin...",value:s,onChange:l=>r(l.target.value),onKeyDown:o,className:"flex-1 px-6 py-4 text-gray-900 text-base focus:outline-none"}),n.jsx("button",{onClick:i,className:"bg-orange-500 text-white px-10 py-4 hover:bg-orange-600 transition-colors flex items-center justify-center",children:n.jsx(ci,{className:"w-6 h-6"})})]})})]})]})})]})},Nte=({selectedCategory:e,categories:t,selectedLevel:s,selectedRating:r,courseCount:a,maxPrice:i,priceRange:o,onPriceRangeChange:l,onCategoryChange:c,onLevelChange:u,onRatingChange:h,onResetFilters:d})=>n.jsx("section",{className:"py-6 bg-white border-b",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-8 lg:px-16",children:[n.jsxs("div",{className:`\r
                        flex flex-wrap lg:flex-nowrap\r
                        items-center gap-8\r
                    `,children:[n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[n.jsx(Pl,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"font-medium text-gray-700",children:"B lc:"})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Danh mc:"}),n.jsxs("select",{value:e,onChange:f=>c(f.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 bg-white",children:[n.jsx("option",{value:"All",children:"Tt c danh mc"}),t.map(f=>n.jsx("option",{value:f,children:f},f))]})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cp :"}),n.jsxs("select",{value:s,onChange:f=>u(f.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 bg-white",children:[n.jsx("option",{value:"All",children:"Tt c cp "}),n.jsx("option",{value:"BEGINNER",children:"C bn"}),n.jsx("option",{value:"INTERMEDIATE",children:"Trung cp"}),n.jsx("option",{value:"ADVANCED",children:"Nng cao"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"nh gi:"}),n.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(f=>{const m=r>=f;return n.jsx("button",{type:"button",onClick:()=>h(r===f?0:f),children:n.jsx(un,{className:`w-6 h-6 ${m?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},f)})})]}),n.jsxs("div",{className:"flex flex-col shrink-0",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Khong gi ()"}),n.jsxs("div",{className:"flex items-center gap-4 w-[260px] mt-1",children:[n.jsx("input",{type:"range",min:0,max:i,value:o[0],onChange:f=>l([Math.min(Number(f.target.value),o[1]),o[1]]),className:"w-full accent-blue-500"}),n.jsx("input",{type:"range",min:0,max:i,value:o[1],onChange:f=>l([o[0],Math.max(Number(f.target.value),o[0])]),className:"w-full accent-blue-500"})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[n.jsxs("span",{children:[o[0].toLocaleString()," "]}),n.jsxs("span",{children:[o[1].toLocaleString()," "]})]})]}),n.jsx("div",{className:"ml-auto shrink-0",children:n.jsxs("button",{onClick:d,className:"flex items-center gap-1 text-sm px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-100",children:[n.jsx(F5,{className:"w-4 h-4"}),"t li"]})})]}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["Tm thy ",a," kha hc"]})})]})}),kte=({courses:e,loading:t})=>{const s=Qe(),{toast:r}=jt(),[a,i]=y.useState({});y.useEffect(()=>{i(Object.fromEntries(e.map(h=>[h.id,h.isWishListed??!1])))},[e]);const o=async h=>{if(!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))){const m=encodeURIComponent(window.location.pathname);s(`${se.SIGN_IN}?redirect=${m}`),r({title:"Yu cu ng nhp",description:"Vui lng ng nhp.",variant:"destructive"});return}const f=a[h];try{f?await ee.delete(`/wishlist/${h}`):await ee.post(`/wishlist/${h}`),i(m=>({...m,[h]:!f}))}catch{r({title:"Li",description:"Khng th cp nht danh sch yu thch.",variant:"destructive"})}},l={initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.45}},c={animate:{transition:{staggerChildren:.08}}};if(t)return n.jsx("div",{className:"py-20 text-center text-lg font-medium",children:"ang ti kha hc..."});if(e.length===0)return n.jsxs("section",{className:"py-16 text-center",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Khng c kha hc"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Bn  mua tt c cc kha hc c sn."})]});const u=h=>new Date(h).toLocaleDateString("vi-VN");return n.jsx("section",{className:"py-16",children:n.jsx(ue.div,{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 px-8 lg:px-16",initial:"initial",animate:"animate",variants:c,children:e.map(h=>{var f;const d=a[h.id]??!1;return n.jsx(ue.div,{variants:l,children:n.jsx(_e,{to:`/courses/${h.id}`,className:"block h-full",children:n.jsxs(ye,{className:"overflow-hidden shadow-sm transition-all flex flex-col h-full rounded-xl border bg-white hover:shadow-lg",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:h.thumbnailURL,alt:h.title,className:"w-full h-48 object-cover"}),n.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[n.jsx(Pe,{className:"bg-primary text-primary-foreground",children:h.categoryName}),n.jsx(Pe,{className:"bg-white/80 backdrop-blur text-black border",children:h.level})]}),n.jsx("button",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white transition-all hover:scale-110",onClick:m=>{m.preventDefault(),m.stopPropagation(),o(h.id)},children:n.jsx(yo,{className:`w-5 h-5 transition-all ${d?"fill-red-500 text-red-500":"text-gray-600 hover:text-red-500 hover:fill-red-100"}`})})]}),n.jsxs(De,{className:"p-5 flex flex-col flex-grow",children:[n.jsxs("div",{className:"min-h-[60px] mb-2",children:[n.jsx("h3",{className:"font-semibold text-lg leading-tight line-clamp-2",children:h.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["By ",h.tutorName]})]}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[34px] mb-2",children:h.shortDescription||""}),n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2 text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(en,{className:"w-4 h-4"}),n.jsx("span",{children:h.learnerCount})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(un,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),n.jsx("span",{children:(f=h.avgRating)==null?void 0:f.toFixed(1)}),n.jsxs("span",{className:"text-xs opacity-70",children:["(",h.totalRatings,")"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(st,{className:"w-4 h-4"}),n.jsxs("span",{children:[h.duration," gi"]})]}),n.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:h.language})]}),n.jsxs("div",{className:"mt-auto pt-3 border-t flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-primary font-bold text-xl",children:[h.price.toLocaleString(),""]}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["To: ",u(h.createdAt)]})]}),n.jsx(H,{className:"min-w-[100px]",onClick:m=>{m.preventDefault(),m.stopPropagation(),s(`/courses/${h.id}`)},children:"Tham gia"})]})]})]})})},h.id)})})})},Ste=({currentPage:e,totalPages:t,onPageChange:s})=>{const r={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};if(t<=1)return null;const a=()=>{const i=[];if(t<=5)for(let l=1;l<=t;l++)i.push(l);else if(e<=3){for(let l=1;l<=4;l++)i.push(l);i.push("..."),i.push(t)}else if(e>=t-2){i.push(1),i.push("...");for(let l=t-3;l<=t;l++)i.push(l)}else{i.push(1),i.push("...");for(let l=e-1;l<=e+1;l++)i.push(l);i.push("..."),i.push(t)}return i};return n.jsxs(ue.div,{className:"flex justify-center items-center space-x-2 py-8",initial:"initial",animate:"animate",variants:r,children:[n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e-1),disabled:e===1,children:n.jsx(qn,{className:"w-4 h-4"})}),a().map((i,o)=>n.jsx(re.Fragment,{children:i==="..."?n.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):n.jsx(H,{variant:e===i?"default":"outline",size:"sm",onClick:()=>s(i),children:i})},o)),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e+1),disabled:e===t,children:n.jsx(Wt,{className:"w-4 h-4"})})]})},Cte=()=>{const{language:e}=wr(),[t,s]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(""),[l,c]=y.useState([]),[u,h]=y.useState("All"),[d,f]=y.useState("All"),[m,p]=y.useState(0),[g,b]=y.useState(1),[v,x]=y.useState([0,0]),[w,j]=y.useState(null),N=8;y.useEffect(()=>{e&&(async()=>{try{const D=((await ee.get("/languages/all")).data.result||[]).find(R=>{var U;return((U=R.nameEn)==null?void 0:U.toLowerCase())===(e==null?void 0:e.toLowerCase())});D&&j({name:D.nameVi||D.nameEn,flag:D.flag||"",image:D.thumbnailUrl||"https://images.pexels.com/photos/267669/pexels-photo-267669.jpeg"})}catch(_){console.error("Failed to fetch language info:",_)}})()},[e]),y.useEffect(()=>{(async()=>{try{a(!0);const _=await ee.get("/courses/public/approved");s(_.data.result??[])}catch(_){console.error("Failed to fetch courses:",_)}finally{a(!1)}})()},[]),y.useEffect(()=>{(async()=>{try{const _=await ee.get("/categories");c(_.data.map(A=>A.categoryName))}catch(_){console.error("Failed to fetch categories:",_)}})()},[]),y.useEffect(()=>{if(t.length>0){const T=Math.max(...t.map(_=>_.price));x([0,T])}},[t]);const k=()=>{h("All"),f("All"),p(0);const T=Math.max(...t.map(_=>_.price),0);x([0,T]),b(1)},S=t.filter(T=>{var M;const _=e?(M=T.language)==null?void 0:M.trim().toLowerCase().includes(e.toLowerCase()):!0,A=T.title.toLowerCase().includes(i.toLowerCase())||T.tutorName.toLowerCase().includes(i.toLowerCase()),D=u==="All"||T.categoryName===u,R=d==="All"||T.level===d,U=m===0||T.avgRating>=m,I=T.price>=v[0]&&T.price<=v[1],L=!T.isPurchased;return _&&A&&D&&R&&U&&I&&L}),C=Math.ceil(S.length/N),E=S.slice((g-1)*N,g*N);return w?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(jte,{language:w,onSearch:T=>{o(T),b(1),window.scrollTo({top:0,behavior:"smooth"})}}),n.jsx(Nte,{selectedCategory:u,categories:l,selectedLevel:d,selectedRating:m,courseCount:S.length,maxPrice:Math.max(...t.map(T=>T.price),0),priceRange:v,onPriceRangeChange:T=>{x(T),b(1)},onCategoryChange:T=>{h(T),b(1)},onLevelChange:T=>{f(T),b(1)},onRatingChange:T=>{p(T),b(1)},onResetFilters:k}),n.jsx(kte,{courses:E,loading:r}),n.jsx(Ste,{currentPage:g,totalPages:C,onPageChange:T=>{b(T),window.scrollTo({top:0,behavior:"smooth"})}})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("h2",{className:"text-2xl font-bold",children:"Khng tm thy ngn ng"})})},Tte=vr({email:wt().email("nh dng email khng hp l")}),Ete=()=>{const[e,t]=y.useState(!1),[s,r]=y.useState(null),a=Qe(),{register:i,handleSubmit:o,formState:{errors:l,isValid:c}}=Na({resolver:ka(Tte),mode:"onChange",defaultValues:{email:""}}),u=async h=>{t(!0),r(null);try{const d=await ee.post("/auth/forgot-password",{email:h.email});console.log(" OTP sent:",d.data),a(se.VERIFY_EMAIL_FORGOT_PASSWORD,{state:{email:h.email}}),localStorage.setItem("temp_forgot_password_email",h.email)}catch(d){console.error(" Error sending OTP:",d)}finally{t(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs(ue.div,{className:"max-w-md w-full space-y-8",initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"inline-flex items-center space-x-2 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-lg",children:n.jsx(Un,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:["Lingua",n.jsx("span",{className:"text-blue-500",children:"Hub"})]})]}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Qun mt khu?"}),n.jsx("p",{className:"text-gray-600",children:"Nhp email ca bn  nhn m t li"})]}),n.jsxs(ue.div,{className:"bg-white rounded-2xl shadow-xl p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[n.jsxs("form",{className:"space-y-6",onSubmit:o(u),children:[s&&n.jsx(bn,{message:s}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"a ch Email"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Gr,{className:"h-5 w-5 text-gray-400"})}),n.jsx(Ce,{id:"email",...i("email"),type:"email",required:!0,autoComplete:"email",className:"pl-10",placeholder:"Nhp a ch email ca bn","aria-invalid":l.email?"true":"false"})]}),l.email&&n.jsx(bn,{message:l.email.message})]}),n.jsx(H,{type:"submit",className:"w-full",disabled:e||!c,children:e?n.jsx(co,{size:"sm"}):"Gi lin kt t li"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs(_e,{to:se.SIGN_IN,className:"inline-flex items-center space-x-2 text-sm font-medium text-blue-600 hover:text-blue-500",children:[n.jsx(os,{className:"w-4 h-4"}),n.jsx("span",{children:"Quay li ng nhp"})]})})]})]})})},_te=vr({newPassword:wt().min(8,"Mt khu phi c t nht 8 k t"),confirmPassword:wt().min(1,"Vui lng xc nhn mt khu")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Mt khu khng khp",path:["confirmPassword"]}),Ate=()=>{var v,x;const[e,t]=y.useState(!1),[s,r]=y.useState(!1),[a,i]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState(null),h=Qe(),{register:d,handleSubmit:f,formState:{errors:m,isValid:p}}=Na({resolver:ka(_te),mode:"onChange"}),g=async w=>{var j,N;i(!0),u(null);try{const k=await ee.post("/auth/set-new-password",w);if(k.data.code!==0){u(k.data.message??"t li mt khu tht bi");return}l(!0),setTimeout(()=>h(se.SIGN_IN),2e3)}catch(k){k&&typeof k=="object"&&"response"in k?u(((N=(j=k.response)==null?void 0:j.data)==null?void 0:N.message)??null):k instanceof Error?u(k.message):u(" xy ra li")}},b={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return o?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs(ue.div,{className:"max-w-md w-full space-y-8",initial:"initial",animate:"animate",variants:b,children:[n.jsx("div",{className:"text-center",children:n.jsxs(_e,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-lg",children:n.jsx(Un,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:["Lingua",n.jsx("span",{className:"text-blue-500",children:"Hub"})]})]})}),n.jsx(ue.div,{className:"bg-white rounded-2xl shadow-xl p-8 text-center",variants:b,children:n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:n.jsx(kt,{className:"w-8 h-8 text-green-500"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Cp nht mt khu thnh cng!"}),n.jsx("p",{className:"text-gray-600",children:"ang chuyn hng n trang ng nhp..."})]})})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs(ue.div,{className:"max-w-md w-full space-y-8",initial:"initial",animate:"animate",variants:b,children:[n.jsxs("div",{className:"text-center",children:[n.jsxs(_e,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-lg",children:n.jsx(Un,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:["Lingua",n.jsx("span",{className:"text-blue-500",children:"Hub"})]})]}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"t li mt khu"}),n.jsx("p",{className:"text-gray-600",children:"Nhp v xc nhn mt khu mi ca bn bn di."})]}),n.jsx(ue.div,{className:"bg-white rounded-2xl shadow-xl p-8",variants:b,children:n.jsxs("form",{className:"space-y-6",onSubmit:f(g),children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu mi"}),n.jsxs("div",{className:"relative",children:[n.jsx(mr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx(Ce,{id:"newPassword",type:e?"text":"password",...d("newPassword"),placeholder:"Nhp mt khu mi",className:"pl-10 pr-10"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!e),children:e?n.jsx(Yi,{}):n.jsx(gs,{})})]}),((v=m.newPassword)==null?void 0:v.message)&&n.jsx(bn,{message:m.newPassword.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Xc nhn mt khu"}),n.jsxs("div",{className:"relative",children:[n.jsx(mr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx(Ce,{id:"confirmPassword",type:s?"text":"password",...d("confirmPassword"),placeholder:"Xc nhn mt khu mi",className:"pl-10 pr-10"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!s),children:s?n.jsx(Yi,{}):n.jsx(gs,{})})]}),((x=m.confirmPassword)==null?void 0:x.message)&&n.jsx(bn,{message:m.confirmPassword.message})]}),c&&n.jsx(bn,{message:c}),n.jsx(H,{type:"submit",className:"w-full",disabled:a||!p,children:a?n.jsx(co,{size:"sm"}):"Cp nht mt khu"})]})})]})})},Dte=vr({otpCode:wt().length(6,"M OTP phi c 6 ch s")}),Rte=()=>{const[e,t]=y.useState(!1),[s,r]=y.useState(!1),[a,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(null),[h,d]=y.useState(!1),[f,m]=y.useState(20),[p]=Cw(),g=Qe(),b=p.get("email"),v=b??localStorage.getItem("temp_verify_email")??"",{register:x,handleSubmit:w,formState:{errors:j}}=Na({resolver:ka(Dte)});y.useEffect(()=>{b&&localStorage.setItem("temp_verify_email",b);const C=setInterval(()=>{m(E=>E<=1?(d(!0),0):E-1)},1e3);return()=>clearInterval(C)},[]);const N=async C=>{var E,T;i(null),t(!0);try{await ee.post("/auth/verify",{otp:C.otpCode},{skipAuth:!0}),r(!0),localStorage.removeItem("temp_verify_email"),setTimeout(()=>g(`${se.SIGN_IN}?verified=true`),2e3)}catch(_){const A=typeof _=="object"&&_&&"response"in _&&((T=(E=_.response)==null?void 0:E.data)==null?void 0:T.message);i(typeof A=="string"?A:"Xc thc OTP tht bi.")}finally{t(!1)}},k=async()=>{var C,E;l(!0),u(null);try{const T=localStorage.getItem("temp_signup_data");if(!T){u("Khng tm thy d liu ng k. Vui lng ng k li.");return}const _=JSON.parse(T);await ee.post("/auth/register",_,{skipAuth:!0}),u("M OTP mi  c gi n email ca bn."),m(20),d(!1)}catch(T){const _=typeof T=="object"&&T&&"response"in T&&((E=(C=T.response)==null?void 0:C.data)==null?void 0:E.message);u(typeof _=="string"?_:"Gi li OTP tht bi.")}finally{l(!1)}},S={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:n.jsx(ue.div,{className:"max-w-md w-full space-y-8",...S,children:n.jsxs("div",{className:"text-center",children:[n.jsx(kt,{className:"w-20 h-20 text-green-500 mx-auto"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Email  c xc thc!"}),n.jsx("p",{className:"text-gray-600",children:"ang chuyn hng n trang ng nhp..."})]})})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:n.jsxs(ue.div,{className:"max-w-md w-full space-y-8",...S,children:[n.jsxs("div",{className:"text-center",children:[n.jsxs(_e,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[n.jsx(Un,{className:"w-8 h-8 text-white bg-gradient-to-r from-blue-500 to-purple-600 p-2 rounded-lg"}),n.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:["Lingua",n.jsx("span",{className:"text-blue-500",children:"Hub"})]})]}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Xc thc Email  hon tt ng k"}),n.jsxs("p",{className:"text-gray-600",children:["M OTP  c gi n ",n.jsx("strong",{children:v})]})]}),n.jsxs(ue.div,{className:"bg-white rounded-2xl shadow-xl p-8",...S,children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx(ya,{className:"w-14 h-14 text-blue-500"})}),n.jsxs("form",{onSubmit:w(N),className:"space-y-4",children:[n.jsx(Ce,{type:"text",maxLength:6,...x("otpCode",{setValueAs:C=>C.replace(/\D/g,"")}),className:"text-center text-2xl tracking-widest",placeholder:"000000",disabled:e}),j.otpCode&&n.jsx(bn,{message:j.otpCode.message}),a&&n.jsx(bn,{message:a}),n.jsx(H,{type:"submit",className:"w-full",disabled:e,children:e?n.jsx(co,{size:"sm"}):"Xc thc OTP"})]}),n.jsxs("div",{className:"mt-6 space-y-4 text-center",children:[n.jsx(H,{variant:"outline",className:"w-full",onClick:k,disabled:!h||o,children:o?n.jsx(co,{size:"sm"}):n.jsxs(n.Fragment,{children:[n.jsx(oo,{className:"w-4 h-4 mr-2"}),h?"Gi li m":`Gi li sau ${f}s`]})}),c&&n.jsx("p",{className:"text-sm text-green-700",children:c}),n.jsx(H,{asChild:!0,variant:"ghost",className:"w-full",children:n.jsx(_e,{to:se.SIGN_UP,children:"Quay li ng k"})})]})]})]})})};var ob=["Enter"," "],Ote=["ArrowDown","PageUp","Home"],jP=["ArrowUp","PageDown","End"],Pte=[...Ote,...jP],Ite={ltr:[...ob,"ArrowRight"],rtl:[...ob,"ArrowLeft"]},Mte={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Jh="Menu",[vh,Lte,Fte]=Lg(Jh),[Vl,NP]=Jn(Jh,[Fte,Lu,$u]),Yg=Lu(),kP=$u(),[$te,Bl]=Vl(Jh),[Ute,ef]=Vl(Jh),SP=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=Yg(t),[c,u]=y.useState(null),h=y.useRef(!1),d=xs(i),f=Qh(a);return y.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),n.jsx(eN,{...l,children:n.jsx($te,{scope:t,open:s,onOpenChange:d,content:c,onContentChange:u,children:n.jsx(Ute,{scope:t,onClose:y.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:f,modal:o,children:r})})})};SP.displayName=Jh;var Vte="MenuAnchor",uN=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=Yg(s);return n.jsx(Bg,{...a,...r,ref:t})});uN.displayName=Vte;var dN="MenuPortal",[Bte,CP]=Vl(dN,{forceMount:void 0}),TP=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:a}=e,i=Bl(dN,t);return n.jsx(Bte,{scope:t,forceMount:s,children:n.jsx(Is,{present:s||i.open,children:n.jsx(Pu,{asChild:!0,container:a,children:r})})})};TP.displayName=dN;var pr="MenuContent",[zte,hN]=Vl(pr),EP=y.forwardRef((e,t)=>{const s=CP(pr,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,i=Bl(pr,e.__scopeMenu),o=ef(pr,e.__scopeMenu);return n.jsx(vh.Provider,{scope:e.__scopeMenu,children:n.jsx(Is,{present:r||i.open,children:n.jsx(vh.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(qte,{...a,ref:t}):n.jsx(Hte,{...a,ref:t})})})})}),qte=y.forwardRef((e,t)=>{const s=Bl(pr,e.__scopeMenu),r=y.useRef(null),a=mt(t,r);return y.useEffect(()=>{const i=r.current;if(i)return Pg(i)},[]),n.jsx(fN,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),Hte=y.forwardRef((e,t)=>{const s=Bl(pr,e.__scopeMenu);return n.jsx(fN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Wte=lo("MenuContent.ScrollLock"),fN=y.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:f,onDismiss:m,disableOutsideScroll:p,...g}=e,b=Bl(pr,s),v=ef(pr,s),x=Yg(s),w=kP(s),j=Lte(s),[N,k]=y.useState(null),S=y.useRef(null),C=mt(t,S,b.onContentChange),E=y.useRef(0),T=y.useRef(""),_=y.useRef(0),A=y.useRef(null),D=y.useRef("right"),R=y.useRef(0),U=p?Yh:y.Fragment,I=p?{as:Wte,allowPinchZoom:!0}:void 0,L=$=>{var V,Y;const F=T.current+$,O=j().filter(J=>!J.disabled),q=document.activeElement,B=(V=O.find(J=>J.ref.current===q))==null?void 0:V.textValue,z=O.map(J=>J.textValue),W=rne(z,F,B),P=(Y=O.find(J=>J.textValue===W))==null?void 0:Y.ref.current;(function J(te){T.current=te,window.clearTimeout(E.current),te!==""&&(E.current=window.setTimeout(()=>J(""),1e3))})(F),P&&setTimeout(()=>P.focus())};y.useEffect(()=>()=>window.clearTimeout(E.current),[]),Rg();const M=y.useCallback($=>{var O,q;return D.current===((O=A.current)==null?void 0:O.side)&&ine($,(q=A.current)==null?void 0:q.area)},[]);return n.jsx(zte,{scope:s,searchRef:T,onItemEnter:y.useCallback($=>{M($)&&$.preventDefault()},[M]),onItemLeave:y.useCallback($=>{var F;M($)||((F=S.current)==null||F.focus(),k(null))},[M]),onTriggerLeave:y.useCallback($=>{M($)&&$.preventDefault()},[M]),pointerGraceTimerRef:_,onPointerGraceIntentChange:y.useCallback($=>{A.current=$},[]),children:n.jsx(U,{...I,children:n.jsx(Gh,{asChild:!0,trapped:a,onMountAutoFocus:Ie(i,$=>{var F;$.preventDefault(),(F=S.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Ou,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:f,onDismiss:m,children:n.jsx(aN,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:Ie(c,$=>{v.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(tN,{role:"menu","aria-orientation":"vertical","data-state":qP(b.open),"data-radix-menu-content":"",dir:v.dir,...x,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:Ie(g.onKeyDown,$=>{const O=$.target.closest("[data-radix-menu-content]")===$.currentTarget,q=$.ctrlKey||$.altKey||$.metaKey,B=$.key.length===1;O&&($.key==="Tab"&&$.preventDefault(),!q&&B&&L($.key));const z=S.current;if($.target!==z||!Pte.includes($.key))return;$.preventDefault();const P=j().filter(V=>!V.disabled).map(V=>V.ref.current);jP.includes($.key)&&P.reverse(),nne(P)}),onBlur:Ie(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(E.current),T.current="")}),onPointerMove:Ie(e.onPointerMove,bh($=>{const F=$.target,O=R.current!==$.clientX;if($.currentTarget.contains(F)&&O){const q=$.clientX>R.current?"right":"left";D.current=q,R.current=$.clientX}}))})})})})})})});EP.displayName=pr;var Kte="MenuGroup",mN=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(qe.div,{role:"group",...r,ref:t})});mN.displayName=Kte;var Gte="MenuLabel",_P=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(qe.div,{...r,ref:t})});_P.displayName=Gte;var Cp="MenuItem",dC="menu.itemSelect",Qg=y.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...a}=e,i=y.useRef(null),o=ef(Cp,e.__scopeMenu),l=hN(Cp,e.__scopeMenu),c=mt(t,i),u=y.useRef(!1),h=()=>{const d=i.current;if(!s&&d){const f=new CustomEvent(dC,{bubbles:!0,cancelable:!0});d.addEventListener(dC,m=>r==null?void 0:r(m),{once:!0}),wj(d,f),f.defaultPrevented?u.current=!1:o.onClose()}};return n.jsx(AP,{...a,ref:c,disabled:s,onClick:Ie(e.onClick,h),onPointerDown:d=>{var f;(f=e.onPointerDown)==null||f.call(e,d),u.current=!0},onPointerUp:Ie(e.onPointerUp,d=>{var f;u.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:Ie(e.onKeyDown,d=>{const f=l.searchRef.current!=="";s||f&&d.key===" "||ob.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Qg.displayName=Cp;var AP=y.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...i}=e,o=hN(Cp,s),l=kP(s),c=y.useRef(null),u=mt(t,c),[h,d]=y.useState(!1),[f,m]=y.useState("");return y.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[i.children]),n.jsx(vh.ItemSlot,{scope:s,disabled:r,textValue:a??f,children:n.jsx(iN,{asChild:!0,...l,focusable:!r,children:n.jsx(qe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Ie(e.onPointerMove,bh(p=>{r?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,bh(p=>o.onItemLeave(p))),onFocus:Ie(e.onFocus,()=>d(!0)),onBlur:Ie(e.onBlur,()=>d(!1))})})})}),Yte="MenuCheckboxItem",DP=y.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...a}=e;return n.jsx(MP,{scope:e.__scopeMenu,checked:s,children:n.jsx(Qg,{role:"menuitemcheckbox","aria-checked":Tp(s)?"mixed":s,...a,ref:t,"data-state":gN(s),onSelect:Ie(a.onSelect,()=>r==null?void 0:r(Tp(s)?!0:!s),{checkForDefaultPrevented:!1})})})});DP.displayName=Yte;var RP="MenuRadioGroup",[Qte,Zte]=Vl(RP,{value:void 0,onValueChange:()=>{}}),OP=y.forwardRef((e,t)=>{const{value:s,onValueChange:r,...a}=e,i=xs(r);return n.jsx(Qte,{scope:e.__scopeMenu,value:s,onValueChange:i,children:n.jsx(mN,{...a,ref:t})})});OP.displayName=RP;var PP="MenuRadioItem",IP=y.forwardRef((e,t)=>{const{value:s,...r}=e,a=Zte(PP,e.__scopeMenu),i=s===a.value;return n.jsx(MP,{scope:e.__scopeMenu,checked:i,children:n.jsx(Qg,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":gN(i),onSelect:Ie(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,s)},{checkForDefaultPrevented:!1})})})});IP.displayName=PP;var pN="MenuItemIndicator",[MP,Xte]=Vl(pN,{checked:!1}),LP=y.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...a}=e,i=Xte(pN,s);return n.jsx(Is,{present:r||Tp(i.checked)||i.checked===!0,children:n.jsx(qe.span,{...a,ref:t,"data-state":gN(i.checked)})})});LP.displayName=pN;var Jte="MenuSeparator",FP=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});FP.displayName=Jte;var ene="MenuArrow",$P=y.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=Yg(s);return n.jsx(nN,{...a,...r,ref:t})});$P.displayName=ene;var tne="MenuSub",[lve,UP]=Vl(tne),bd="MenuSubTrigger",VP=y.forwardRef((e,t)=>{const s=Bl(bd,e.__scopeMenu),r=ef(bd,e.__scopeMenu),a=UP(bd,e.__scopeMenu),i=hN(bd,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},h=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>h,[h]),y.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),n.jsx(uN,{asChild:!0,...u,children:n.jsx(AP,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":qP(s.open),...e,ref:gg(t,a.onTriggerChange),onClick:d=>{var f;(f=e.onClick)==null||f.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,bh(d=>{i.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:Ie(e.onPointerLeave,bh(d=>{var m,p;h();const f=(m=s.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(p=s.content)==null?void 0:p.dataset.side,b=g==="right",v=b?-5:5,x=f[b?"left":"right"],w=f[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,d=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&d.key===" "||Ite[r.dir].includes(d.key)&&(s.onOpenChange(!0),(m=s.content)==null||m.focus(),d.preventDefault())})})})});VP.displayName=bd;var BP="MenuSubContent",zP=y.forwardRef((e,t)=>{const s=CP(pr,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,i=Bl(pr,e.__scopeMenu),o=ef(pr,e.__scopeMenu),l=UP(BP,e.__scopeMenu),c=y.useRef(null),u=mt(t,c);return n.jsx(vh.Provider,{scope:e.__scopeMenu,children:n.jsx(Is,{present:r||i.open,children:n.jsx(vh.Slot,{scope:e.__scopeMenu,children:n.jsx(fN,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;o.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Ie(e.onKeyDown,h=>{var m;const d=h.currentTarget.contains(h.target),f=Mte[o.dir].includes(h.key);d&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),h.preventDefault())})})})})})});zP.displayName=BP;function qP(e){return e?"open":"closed"}function Tp(e){return e==="indeterminate"}function gN(e){return Tp(e)?"indeterminate":e?"checked":"unchecked"}function nne(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function sne(e,t){return e.map((s,r)=>e[(t+r)%e.length])}function rne(e,t,s){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=sne(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==s));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function ane(e,t){const{x:s,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,h=l.y,d=c.x,f=c.y;h>r!=f>r&&s<(d-u)*(r-h)/(f-h)+u&&(a=!a)}return a}function ine(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return ane(s,t)}function bh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var one=SP,lne=uN,cne=TP,une=EP,dne=mN,hne=_P,fne=Qg,mne=DP,pne=OP,gne=IP,xne=LP,yne=FP,vne=$P,bne=VP,wne=zP,Zg="DropdownMenu",[jne]=Jn(Zg,[NP]),bs=NP(),[Nne,HP]=jne(Zg),WP=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=bs(t),u=y.useRef(null),[h,d]=$r({prop:a,defaultProp:i??!1,onChange:o,caller:Zg});return n.jsx(Nne,{scope:t,triggerId:Ir(),triggerRef:u,contentId:Ir(),open:h,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:l,children:n.jsx(one,{...c,open:h,onOpenChange:d,dir:r,modal:l,children:s})})};WP.displayName=Zg;var KP="DropdownMenuTrigger",GP=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=e,i=HP(KP,s),o=bs(s);return n.jsx(lne,{asChild:!0,...o,children:n.jsx(qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:gg(t,i.triggerRef),onPointerDown:Ie(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ie(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});GP.displayName=KP;var kne="DropdownMenuPortal",YP=e=>{const{__scopeDropdownMenu:t,...s}=e,r=bs(t);return n.jsx(cne,{...r,...s})};YP.displayName=kne;var QP="DropdownMenuContent",ZP=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=HP(QP,s),i=bs(s),o=y.useRef(!1);return n.jsx(une,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!a.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZP.displayName=QP;var Sne="DropdownMenuGroup",Cne=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(dne,{...a,...r,ref:t})});Cne.displayName=Sne;var Tne="DropdownMenuLabel",XP=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(hne,{...a,...r,ref:t})});XP.displayName=Tne;var Ene="DropdownMenuItem",JP=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(fne,{...a,...r,ref:t})});JP.displayName=Ene;var _ne="DropdownMenuCheckboxItem",eI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(mne,{...a,...r,ref:t})});eI.displayName=_ne;var Ane="DropdownMenuRadioGroup",Dne=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(pne,{...a,...r,ref:t})});Dne.displayName=Ane;var Rne="DropdownMenuRadioItem",tI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(gne,{...a,...r,ref:t})});tI.displayName=Rne;var One="DropdownMenuItemIndicator",nI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(xne,{...a,...r,ref:t})});nI.displayName=One;var Pne="DropdownMenuSeparator",sI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(yne,{...a,...r,ref:t})});sI.displayName=Pne;var Ine="DropdownMenuArrow",Mne=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(vne,{...a,...r,ref:t})});Mne.displayName=Ine;var Lne="DropdownMenuSubTrigger",rI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(bne,{...a,...r,ref:t})});rI.displayName=Lne;var Fne="DropdownMenuSubContent",aI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=bs(s);return n.jsx(wne,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aI.displayName=Fne;var $ne=WP,Une=GP,Vne=YP,iI=ZP,oI=XP,lI=JP,cI=eI,uI=tI,dI=nI,hI=sI,fI=rI,mI=aI;const Fc=$ne,$c=Une,Bne=y.forwardRef(({className:e,inset:t,children:s,...r},a)=>n.jsxs(fI,{ref:a,className:fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,n.jsx(Wt,{className:"ml-auto h-4 w-4"})]}));Bne.displayName=fI.displayName;const zne=y.forwardRef(({className:e,...t},s)=>n.jsx(mI,{ref:s,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));zne.displayName=mI.displayName;const hl=y.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(Vne,{children:n.jsx(iI,{ref:r,sideOffset:t,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));hl.displayName=iI.displayName;const nn=y.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(lI,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));nn.displayName=lI.displayName;const qne=y.forwardRef(({className:e,children:t,checked:s,...r},a)=>n.jsxs(cI,{ref:a,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(dI,{children:n.jsx(vj,{className:"h-4 w-4"})})}),t]}));qne.displayName=cI.displayName;const Hne=y.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(uI,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(dI,{children:n.jsx(Yz,{className:"h-2 w-2 fill-current"})})}),t]}));Hne.displayName=uI.displayName;const Ep=y.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(oI,{ref:r,className:fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));Ep.displayName=oI.displayName;const Go=y.forwardRef(({className:e,...t},s)=>n.jsx(hI,{ref:s,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));Go.displayName=hI.displayName;const Wne=()=>{const[e,t]=y.useState([]),[s,r]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(""),[c,u]=y.useState("all"),[h,d]=y.useState("newest"),[f,m]=y.useState(""),[p,g]=y.useState(1),b=5,v=async()=>{var A,D;try{return((D=(A=(await ee.get("/users/myInfo")).data)==null?void 0:A.result)==null?void 0:D.userID)||null}catch{return null}};y.useEffect(()=>{(async()=>{try{const D=await v();if(!D)return;const[R,U]=await Promise.all([ee.get(`/api/payments/user/${D}`),ee.get("/courses/public/approved")]),I=[...R.data].sort((L,M)=>new Date(M.createdAt).getTime()-new Date(L.createdAt).getTime());t(I),r(U.data.result||[])}finally{i(!1)}})()},[]);const x=A=>new Intl.NumberFormat("vi-VN").format(A)+" ",w={PAID:n.jsx(Pe,{className:"bg-green-100 text-green-700 px-3 py-1",children:" thanh ton"}),EXPIRED:n.jsx(Pe,{className:"bg-orange-100 text-orange-700 px-3 py-1",children:"Ht hn"}),FAILED:n.jsx(Pe,{className:"bg-red-100 text-red-700 px-3 py-1",children:"Tht bi"})},j={PAID:n.jsx(kt,{className:"w-6 h-6 text-green-600"}),EXPIRED:n.jsx(st,{className:"w-6 h-6 text-orange-600"}),FAILED:n.jsx(Lt,{className:"w-6 h-6 text-red-600"})},N=A=>w[A.toUpperCase()]||n.jsx(Pe,{children:A}),k=A=>j[A.toUpperCase()]||n.jsx(st,{className:"w-6 h-6"}),S=A=>s.find(D=>D.id===A),C=e.filter(A=>{var L;const D=S(A.targetId),R=o.toLowerCase(),U=!A.paymentType.includes("Booking")&&((L=D==null?void 0:D.title)==null?void 0:L.toLowerCase().includes(R))||A.orderCode.toLowerCase().includes(R),I=c==="all"||A.status.toUpperCase()===c.toUpperCase();return U&&I}).sort((A,D)=>{if(f==="high-low")return D.amount-A.amount;if(f==="low-high")return A.amount-D.amount;const R=new Date(A.createdAt).getTime(),U=new Date(D.createdAt).getTime();return h==="newest"?U-R:R-U}),E=Math.ceil(C.length/b),T=C.slice((p-1)*b,p*b);y.useEffect(()=>{g(1)},[o,c,h,f]);const _={totalPaid:e.filter(A=>A.status==="PAID").length,totalAmount:e.filter(A=>A.status==="PAID").reduce((A,D)=>A+D.amount,0),expired:e.filter(A=>A.status==="EXPIRED").length,failed:e.filter(A=>A.status==="FAILED").length};return a?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("p",{className:"text-xl",children:"ang ti lch s thanh ton..."})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Lch s thanh ton"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{label:" thanh ton",value:_.totalPaid},{label:"Tng chi tiu",value:x(_.totalAmount)},{label:"Ht hn",value:_.expired},{label:"Tht bi",value:_.failed}].map(A=>n.jsx(ye,{className:"shadow-sm rounded-xl",children:n.jsxs(De,{className:"pt-6",children:[n.jsx("p",{className:"text-gray-600",children:A.label}),n.jsx("p",{className:"text-3xl font-bold",children:A.value})]})},A.label))}),n.jsxs(ye,{className:"mb-6 shadow-md rounded-xl",children:[n.jsx(Je,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(yt,{className:"text-lg font-semibold",children:"Giao dch"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ci,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),n.jsx(Ce,{placeholder:"Tm kim theo tn kha hc hoc m n hng...",className:"pl-12",value:o,onChange:A=>l(A.target.value)})]}),n.jsxs(Fc,{children:[n.jsx($c,{asChild:!0,children:n.jsxs(H,{variant:"outline",className:"gap-2",children:[n.jsx(Pl,{className:"w-4 h-4"}),c.toUpperCase()]})}),n.jsx(hl,{align:"end",children:["all","PAID","EXPIRED","FAILED"].map(A=>n.jsx(nn,{onClick:()=>u(A),children:A},A))})]}),n.jsxs(Fc,{children:[n.jsx($c,{asChild:!0,children:n.jsxs(H,{variant:"outline",className:"gap-2",children:[n.jsx(E5,{className:"w-4 h-4"}),"Gi"]})}),n.jsxs(hl,{children:[n.jsx(nn,{onClick:()=>m("high-low"),children:"Cao  Thp"}),n.jsx(nn,{onClick:()=>m("low-high"),children:"Thp  Cao"}),n.jsx(nn,{onClick:()=>m(""),children:"Mc nh"})]})]}),n.jsxs(Fc,{children:[n.jsx($c,{asChild:!0,children:n.jsxs(H,{variant:"outline",className:"gap-2",children:[n.jsx(st,{className:"w-4 h-4"}),"Ngy"]})}),n.jsxs(hl,{children:[n.jsx(nn,{onClick:()=>d("newest"),children:"Mi nht"}),n.jsx(nn,{onClick:()=>d("oldest"),children:"C nht"})]})]})]})]})}),n.jsxs(De,{className:"space-y-5",children:[T.map(A=>{const D=S(A.targetId),R=A.paymentType==="Booking";return n.jsxs("div",{className:"border rounded-xl p-6 bg-white shadow-sm hover:shadow-lg transition-all flex flex-col md:flex-row justify-between gap-5",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-xl flex items-center justify-center shadow-inner",children:k(A.status)}),n.jsxs("div",{className:"space-y-1",children:[R?n.jsxs("h3",{className:"font-bold text-lg text-blue-600 flex items-center gap-2",children:[n.jsx(zz,{className:"w-4 h-4"}),"t lch #",A.targetId]}):n.jsx("h3",{className:"font-bold text-lg text-gray-800",children:(D==null?void 0:D.title)||"Kha hc khng xc nh"}),n.jsxs("p",{className:"text-gray-600 text-sm flex gap-2 items-center",children:[n.jsx(ft,{className:"w-4 h-4"}),"To lc: ",new Date(A.createdAt).toLocaleString("vi-VN")]}),n.jsxs("p",{className:"text-gray-600 text-sm flex gap-2 items-center",children:[n.jsx(st,{className:"w-4 h-4"}),"Ht hn: ",new Date(A.expiresAt).toLocaleString("vi-VN")]}),!R&&n.jsxs("p",{className:"text-gray-600 text-sm",children:["Gia s: ",(D==null?void 0:D.tutorName)||"N/A"]}),!R&&n.jsxs("p",{className:"text-gray-600 text-sm",children:["M n hng: ",A.orderCode]}),n.jsx("div",{className:"mt-2",children:N(A.status)})]})]}),n.jsxs("div",{className:"text-right flex flex-col justify-between",children:[n.jsx("p",{className:"text-2xl font-extrabold text-blue-600",children:x(A.amount)}),n.jsx("div",{className:"flex justify-end gap-2 mt-3",children:!R&&n.jsx(H,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs(_e,{to:`/courses/${A.targetId}`,children:[n.jsx(Zt,{className:"mr-2 w-4 h-4"}),"Xem kha hc"]})})})]})]},A.paymentID)}),C.length===0&&n.jsxs("div",{className:"text-center py-14",children:[n.jsx(Hn,{className:"w-16 h-16 mx-auto text-gray-400"}),n.jsx("p",{className:"text-xl font-semibold mt-4 text-gray-600",children:"Khng tm thy giao dch"})]}),C.length>0&&n.jsxs("div",{className:"flex justify-center gap-3 pt-6",children:[n.jsx(H,{variant:"outline",disabled:p===1,onClick:()=>g(A=>A-1),children:"Trc"}),n.jsxs("span",{className:"px-4 py-2",children:["Trang ",p," / ",E]}),n.jsx(H,{variant:"outline",disabled:p===E,onClick:()=>g(A=>A+1),children:"Sau"})]})]})]})]})},L0=5,Kne=()=>{const[e,t]=y.useState("all"),[s,r]=y.useState(""),[a,i]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(1);y.useEffect(()=>{(async()=>{try{const g=await ee.get("/student/courses");i(g.data.result??[])}finally{l(!1)}})()},[]);const h=y.useMemo(()=>{let p=a;if(e==="in-progress"&&(p=p.filter(g=>!g.isCompleted)),e==="completed"&&(p=p.filter(g=>g.isCompleted)),s.trim()){const g=s.toLowerCase();p=p.filter(b=>b.courseTitle.toLowerCase().includes(g)||b.tutorName.toLowerCase().includes(g))}return p},[a,e,s]),d=Math.ceil(h.length/L0),f=h.slice((c-1)*L0,c*L0);y.useEffect(()=>{u(1)},[e,s]);const m={total:a.length,inProgress:a.filter(p=>!p.isCompleted).length,completed:a.filter(p=>p.isCompleted).length};return o?n.jsx("div",{className:"text-center py-20 text-lg font-medium",children:"ang ti..."}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:n.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Kha hc ca ti"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Theo di tin  hc tp v tip tc hnh trnh ca bn"}),n.jsx("div",{className:"mb-6",children:n.jsx(Ce,{placeholder:"Tm kim kha hc hoc gia s...",className:"max-w-md bg-white shadow-sm",value:s,onChange:p=>r(p.target.value)})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[n.jsx(ye,{children:n.jsx(De,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tng kha hc"}),n.jsx("p",{className:"text-3xl font-bold",children:m.total})]}),n.jsx(tt,{className:"w-10 h-10 text-blue-500"})]})})}),n.jsx(ye,{children:n.jsx(De,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"ang hc"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:m.inProgress})]}),n.jsx(st,{className:"w-10 h-10 text-orange-500"})]})})}),n.jsx(ye,{children:n.jsx(De,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:" hon thnh"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:m.completed})]}),n.jsx(Ss,{className:"w-10 h-10 text-green-500"})]})})})]}),n.jsxs(cN,{value:e,onValueChange:t,children:[n.jsxs(Gg,{className:"bg-white shadow-sm",children:[n.jsxs(Zi,{value:"all",children:["Tt c (",m.total,")"]}),n.jsxs(Zi,{value:"in-progress",children:["ang hc (",m.inProgress,")"]}),n.jsxs(Zi,{value:"completed",children:[" hon thnh (",m.completed,")"]})]}),n.jsxs(fu,{value:e,className:"mt-6 space-y-6",children:[f.map(p=>n.jsx(ye,{className:"overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 rounded-2xl border border-gray-100 bg-white",children:n.jsxs("div",{className:"flex flex-col lg:flex-row",children:[n.jsxs("div",{className:"relative lg:w-64 w-full",children:[n.jsx("img",{src:p.thumbnailURL,alt:p.courseTitle,className:"h-48 lg:h-full w-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-black/10 to-transparent"}),n.jsx(Pe,{className:"absolute top-3 left-3 bg-white/90 text-gray-900 shadow",children:p.language}),p.isCompleted&&n.jsxs(Pe,{className:"absolute top-3 right-3 bg-green-600 text-white shadow",children:[n.jsx(Ss,{className:"w-3 h-3 mr-1"})," Hon thnh"]})]}),n.jsxs("div",{className:"flex-1 p-6 space-y-5",children:[n.jsx("div",{className:"flex justify-between items-start",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:p.courseTitle}),n.jsxs("p",{className:"text-gray-600 flex items-center gap-2 mt-1",children:[n.jsx(tt,{className:"w-4 h-4"})," ",p.tutorName]})]})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[n.jsx("span",{children:"Tin "}),n.jsxs("span",{className:"font-semibold text-blue-700",children:[Math.round(p.progressPercent),"%"]})]}),n.jsx("div",{className:"h-3 w-full rounded-full bg-gray-200 overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full bg-blue-600 transition-all",style:{width:`${p.progressPercent}%`}})})]}),n.jsxs("p",{className:"text-gray-600 text-sm",children:[" ng k:"," ",new Date(p.enrolledAt).toLocaleDateString("vi-VN")]}),n.jsxs("div",{className:"flex gap-3",children:[p.isCompleted?n.jsx(H,{variant:"outline",asChild:!0,className:"flex-1 py-5 rounded-lg border-gray-300 hover:bg-gray-50",children:n.jsx(_e,{to:`/courses/${p.courseID}`,children:"Xem li kha hc"})}):n.jsx(H,{asChild:!0,className:"flex-1 py-5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:n.jsxs(_e,{to:`/courses/${p.courseID}`,children:[n.jsx(hh,{className:"w-4 h-4 mr-2"}),"Tip tc hc"]})}),n.jsx(H,{variant:"outline",className:"rounded-lg border-gray-300 hover:bg-gray-50",asChild:!0,children:n.jsx(_e,{to:`/courses/${p.courseID}`,children:n.jsx(Wt,{className:"w-5 h-5"})})})]})]})]})},p.courseID)),f.length===0&&n.jsx("div",{className:"text-center py-20 text-gray-600 text-lg",children:"Khng tm thy kha hc"})]})]}),n.jsxs("div",{className:"flex justify-center mt-10 gap-4",children:[n.jsx(H,{variant:"outline",disabled:c===1,onClick:()=>u(p=>Math.max(1,p-1)),className:"rounded-full px-6",children:"Trc"}),n.jsxs("div",{className:"px-5 py-2 bg-white shadow rounded-full text-gray-700 font-medium",children:["Trang ",c," / ",d]}),n.jsx(H,{variant:"outline",disabled:c===d,onClick:()=>u(p=>Math.min(d,p+1)),className:"rounded-full px-6",children:"Sau"})]})]})})},Gne=vr({username:wt().min(3,"Tn ng nhp phi c t nht 3 k t"),fullName:wt().min(2,"H v tn phi c t nht 2 k t"),email:wt().email("nh dng email khng hp l"),phone:wt().min(9,"S in thoi khng hp l"),dob:wt().optional(),country:wt().optional(),address:wt().optional(),bio:wt().optional()}),Yne=()=>{const{toast:e}=jt(),{refreshUser:t}=Rl(),[s,r]=y.useState(null),[a,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(null),[h,d]=y.useState(!1),[f,m]=y.useState("Male"),{register:p,handleSubmit:g,reset:b,formState:{errors:v}}=Na({resolver:ka(Gne)});y.useEffect(()=>{(async()=>{try{const S=(await ee.get("/users/myInfo")).data.result;r(S.userID),l(S.avatarURL),m(S.gender||"Male"),b({username:S.username,fullName:S.fullName,email:S.email,phone:S.phone,dob:S.dob,country:S.country,address:S.address,bio:S.bio})}catch(k){console.error(" Failed to fetch user info:",k)}})()},[b]);const x=async N=>{var k,S;if(s){d(!0);try{const C=["fullName","country","address","phone","bio","dob"],E={};C.forEach(A=>{N[A]!==void 0&&(E[A]=N[A])}),c&&(E.avatarURL=c);const _=(await ee.patch(`/users/${s}`,E)).data;b({username:_.username,fullName:_.fullName,email:_.email,phone:_.phone,dob:_.dob,country:_.country,address:_.address,bio:_.bio}),i(!1),u(null),l(_.avatarURL),await t(),e({title:"Thnh cng!",description:"Cp nht h s thnh cng!",variant:"default",duration:3e3})}catch(C){console.error(" Failed to update profile:",C);const E=((S=(k=C==null?void 0:C.response)==null?void 0:k.data)==null?void 0:S.message)||"Cp nht tht bi!";e({title:"Li",description:E,variant:"destructive"})}finally{d(!1)}}},w=async()=>{try{const k=(await ee.get("/users/myInfo")).data.result;b({username:k.username,fullName:k.fullName,email:k.email,phone:k.phone,dob:k.dob,country:k.country,address:k.address,bio:k.bio}),l(k.avatarURL),m(k.gender||"Male"),u(null)}catch(N){console.error("Failed to reset profile:",N)}i(!1)},j=async N=>{var T;const k=(T=N.target.files)==null?void 0:T[0];if(!k||!s)return;if(k.size>2*1024*1024){e({title:"Li",description:"Kch thc nh khng c vt qu 2MB!",variant:"destructive"});return}if(!k.type.startsWith("image/")){e({title:"Li",description:"Vui lng chn file nh!",variant:"destructive"});return}const S=new Image,C=document.createElement("canvas"),E=C.getContext("2d");S.onload=async()=>{let D=S.width,R=S.height;D>R?D>200&&(R*=200/D,D=200):R>200&&(D*=200/R,R=200),C.width=D,C.height=R,E==null||E.drawImage(S,0,0,D,R);const U=C.toDataURL("image/jpeg",.5);if(U.length>15e4){e({title:"Li",description:`nh vn qu ln (${Math.round(U.length/1024)}KB). Vui lng chn nh khc!`,variant:"destructive"});return}l(U),u(U),e({title:" chn nh",description:"Nhn 'Lu thay i'  cp nht nh i din",duration:2e3})},S.src=URL.createObjectURL(k)};return n.jsx(ye,{className:"p-8 shadow-lg",children:n.jsxs("form",{onSubmit:g(x),className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col items-center space-y-4 pb-8 border-b-2 border-gray-100",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:o||"https://placehold.co/200x200?text=No+Image",alt:"User avatar",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg ring-4 ring-blue-100 transition-all group-hover:ring-blue-200",onError:N=>{N.currentTarget.src="https://placehold.co/200x200?text=No+Image"}}),a&&n.jsxs("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-blue-600 p-3 rounded-full cursor-pointer hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl hover:scale-110",children:[n.jsx(Wz,{className:"w-5 h-5 text-white"}),n.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:j})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Thng tin c nhn"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a?"ang chnh sa h s":"Xem v qun l thng tin ca bn"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Pt,{className:"w-5 h-5 text-blue-600"}),"Thng tin ti khon"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[n.jsx(Pt,{className:"w-4 h-4 text-gray-500"}),"Tn ng nhp"]}),n.jsx(Ce,{...p("username"),disabled:!0,className:"bg-gray-100"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[n.jsx(Pt,{className:"w-4 h-4 text-gray-500"}),"H v tn ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{...p("fullName"),disabled:!a,className:a?"":"bg-gray-50"}),v.fullName&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[" ",v.fullName.message]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[n.jsx(Gr,{className:"w-4 h-4 text-gray-500"}),"Email"]}),n.jsx(Ce,{type:"email",...p("email"),disabled:!0,className:"bg-gray-100"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[n.jsx(Il,{className:"w-4 h-4 text-gray-500"}),"S in thoi"]}),n.jsx(Ce,{...p("phone"),disabled:!a,className:a?"":"bg-gray-50"}),v.phone&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[" ",v.phone.message]})]})]})]}),n.jsxs("div",{className:"bg-green-50 p-6 rounded-xl border border-green-100",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ft,{className:"w-5 h-5 text-green-600"}),"Thng tin c nhn"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[n.jsx(ft,{className:"w-4 h-4 text-gray-500"}),"Ngy sinh"]}),n.jsx(Ce,{type:"date",...p("dob"),disabled:!a,className:a?"":"bg-gray-50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[n.jsx(Pt,{className:"w-4 h-4 text-gray-500"}),"Gii tnh"]}),n.jsxs("select",{value:f,disabled:!0,className:"h-10 w-full rounded-md border border-gray-300 px-3 text-gray-700 bg-gray-100 cursor-not-allowed",children:[n.jsx("option",{value:"Male",children:"Nam"}),n.jsx("option",{value:"Female",children:"N"}),n.jsx("option",{value:"Other",children:"Khc"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[n.jsx(_u,{className:"w-4 h-4 text-gray-500"}),"Quc gia"]}),n.jsx(Ce,{...p("country"),disabled:!a,className:a?"":"bg-gray-50"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[n.jsx(Au,{className:"w-4 h-4 text-gray-500"}),"a ch"]}),n.jsx(Ce,{...p("address"),disabled:!a,className:a?"":"bg-gray-50",placeholder:"Nhp a ch ca bn"})]})]})]}),n.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Zt,{className:"w-5 h-5 text-purple-600"}),"Gii thiu bn thn"]}),n.jsx("div",{className:"space-y-2",children:n.jsx(It,{...p("bio"),disabled:!a,rows:5,className:a?"":"bg-gray-50",placeholder:"Vit vi dng gii thiu v bn thn..."})})]})]}),n.jsx("div",{className:"flex justify-end space-x-4 pt-6 border-t-2 border-gray-100",children:a?n.jsxs(n.Fragment,{children:[n.jsx(H,{type:"button",variant:"outline",onClick:w,className:"px-6 py-2 border-2 hover:bg-gray-50",children:"Hy b"}),n.jsx(H,{type:"submit",disabled:h,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:h?n.jsxs(n.Fragment,{children:[n.jsx(fh,{className:"animate-spin w-4 h-4 mr-2"}),"ang lu..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fh,{className:"w-4 h-4 mr-2"}),"Lu thay i"]})})]}):n.jsxs(H,{type:"button",onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 shadow-md hover:shadow-lg transition-all",children:[n.jsx(va,{className:"w-4 h-4 mr-2"}),"Chnh sa h s"]})})]})})},Qne=()=>n.jsx("div",{className:"bg-white border-b",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:n.jsx(Pt,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"H s ca ti"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Qun l thng tin c nhn ca bn"})]})]})})}),Zne=()=>{const e=Qe(),{toast:t}=jt();return y.useEffect(()=>{localStorage.getItem("access_token")||sessionStorage.getItem("access_token")||(t({variant:"destructive",title:"Bn cha ng nhp",description:"Vui lng ng nhp  truy cp h s ca bn."}),e(se.SIGN_IN))},[e,t]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(Qne,{}),n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:n.jsx(Yne,{})})]})},Xne=vr({oldPassword:wt().min(8,"Mt khu hin ti phi c t nht 8 k t"),newPassword:wt().min(8,"Mt khu mi phi c t nht 8 k t"),confirmPassword:wt()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Mt khu khng khp",path:["confirmPassword"]}),Jne=()=>{const{toast:e}=jt(),[t,s]=y.useState(!1),[r,a]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(!1),{register:u,handleSubmit:h,reset:d,watch:f,formState:{errors:m,isSubmitting:p}}=Na({resolver:ka(Xne),mode:"onChange"}),g=f("newPassword"),b=f("confirmPassword"),x=(j=>{if(!j)return{strength:0,label:"",color:""};const N=j.length;return N<8?{strength:0,label:"Qu ngn",color:"text-red-600 bg-red-100"}:N<12?{strength:1,label:" dng",color:"text-yellow-600 bg-yellow-100"}:N<16?{strength:2,label:"Tt",color:"text-green-600 bg-green-100"}:{strength:3,label:"Rt mnh",color:"text-green-700 bg-green-200"}})(g||""),w=async j=>{var N,k;try{await ee.post("/users/change-password",{oldPassword:j.oldPassword,newPassword:j.newPassword,confirmPassword:j.confirmPassword}),c(!0),d(),e({title:"Thnh cng!",description:"Mt khu ca bn  c thay i.",variant:"default"}),setTimeout(()=>c(!1),5e3)}catch(S){const C=((k=(N=S==null?void 0:S.response)==null?void 0:N.data)==null?void 0:k.message)||"i mt khu tht bi. Vui lng kim tra mt khu hin ti ca bn.";e({title:"Li",description:C,variant:"destructive"}),console.error("Error changing password:",S)}};return n.jsxs(ye,{className:"p-8 shadow-lg",children:[l&&n.jsxs("div",{className:"mb-6 p-5 bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-300 rounded-xl flex items-center space-x-3 shadow-md animate-in fade-in slide-in-from-top-2",children:[n.jsx(kt,{className:"w-6 h-6 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-900 font-semibold",children:"i mt khu thnh cng!"}),n.jsx("p",{className:"text-sm text-green-700",children:"Mt khu ca bn  c cp nht an ton."})]})]}),n.jsxs("form",{onSubmit:h(w),className:"space-y-8",children:[n.jsxs("div",{className:"bg-blue-50 p-5 rounded-xl border border-blue-200 flex items-start gap-3",children:[n.jsx(ya,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-blue-900",children:[n.jsx("p",{className:"font-semibold mb-1",children:"Bo mt ti khon"}),n.jsx("p",{className:"text-blue-700",children:"Mt khu phi c t nht 8 k t.  tng cng bo mt, nn s dng mt khu di hn (12-16 k t)."})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(mr,{className:"w-4 h-4 text-gray-600"}),"Mt khu hin ti ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{...u("oldPassword"),type:t?"text":"password",placeholder:"Nhp mt khu hin ti ca bn",className:"pr-12 h-12 text-base"}),n.jsx("button",{type:"button",onClick:()=>s(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 p-1 rounded-md hover:bg-gray-100 transition-colors",children:t?n.jsx(Yi,{className:"w-5 h-5"}):n.jsx(gs,{className:"w-5 h-5"})})]}),m.oldPassword&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(at,{className:"w-4 h-4"}),m.oldPassword.message]})]}),n.jsx("div",{className:"border-t-2 border-gray-100"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(mr,{className:"w-4 h-4 text-gray-600"}),"Mt khu mi ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{...u("newPassword"),type:r?"text":"password",placeholder:"Nhp mt khu mi",className:"pr-12 h-12 text-base"}),n.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 p-1 rounded-md hover:bg-gray-100 transition-colors",children:r?n.jsx(Yi,{className:"w-5 h-5"}):n.jsx(gs,{className:"w-5 h-5"})})]}),m.newPassword&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(at,{className:"w-4 h-4"}),m.newPassword.message]}),g&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs font-medium text-gray-600",children:" mnh mt khu:"}),n.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${x.color}`,children:x.label})]}),n.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full transition-all duration-300 ${x.strength===0?"bg-red-500":x.strength===1?"bg-yellow-500":x.strength===2?"bg-green-500":"bg-green-600"}`,style:{width:`${x.strength===0?25:x.strength/3*100}%`}})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Yu cu mt khu:"}),n.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:(g==null?void 0:g.length)>=8?"text-green-600 font-bold":"text-gray-400",children:(g==null?void 0:g.length)>=8?"":""}),n.jsxs("span",{className:(g==null?void 0:g.length)>=8?"text-green-700 font-medium":"",children:["t nht 8 k t ",g?`(${g.length}/8)`:""]})]})}),n.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:" Gi : Mt khu di hn s an ton hn (12-16 k t)"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(mr,{className:"w-4 h-4 text-gray-600"}),"Xc nhn mt khu ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{...u("confirmPassword"),type:i?"text":"password",placeholder:"Nhp li mt khu mi",className:`pr-12 h-12 text-base ${b&&b!==g?"border-red-500 focus:ring-red-500":b&&b===g?"border-green-500 focus:ring-green-500":""}`}),n.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 p-1 rounded-md hover:bg-gray-100 transition-colors",children:i?n.jsx(Yi,{className:"w-5 h-5"}):n.jsx(gs,{className:"w-5 h-5"})})]}),m.confirmPassword&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(at,{className:"w-4 h-4"}),m.confirmPassword.message]}),b&&b===g&&n.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[n.jsx(kt,{className:"w-4 h-4"}),"Mt khu khp!"]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t-2 border-gray-100",children:[n.jsx(H,{type:"button",variant:"outline",onClick:()=>d(),className:"px-6 py-2 border-2 hover:bg-gray-50",children:"t li"}),n.jsx(H,{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:p?n.jsxs(n.Fragment,{children:[n.jsx(fh,{className:"animate-spin w-4 h-4 mr-2"}),"ang lu..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fh,{className:"w-4 h-4 mr-2"}),"Lu mt khu mi"]})})]})]})]})},ese=()=>n.jsx("div",{className:"bg-white border-b",children:n.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:n.jsx(mr,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"i mt khu"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Cp nht mt khu  gi ti khon ca bn an ton."})]})]})})}),tse=()=>{const e=Qe(),{toast:t}=jt();return y.useEffect(()=>{localStorage.getItem("access_token")||sessionStorage.getItem("access_token")||(t({variant:"destructive",title:"Bn cha ng nhp",description:"Vui lng ng nhp  thay i mt khu."}),e(se.SIGN_IN))},[e,t]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(ese,{}),n.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:n.jsx(Jne,{})})]})},nse=vr({otpCode:wt().length(6,"M OTP phi c 6 ch s")}),sse=()=>{var N;const[e,t]=y.useState(!1),[s,r]=y.useState(null),[a,i]=y.useState(!1),[o,l]=y.useState(20),[c,u]=y.useState(!1),[h,d]=y.useState(null),[f]=Cw(),m=Qe(),p=f.get("email"),g=p??localStorage.getItem("temp_forgot_password_email")??"",{register:b,handleSubmit:v,formState:{errors:x}}=Na({resolver:ka(nse)});y.useEffect(()=>{if(p&&localStorage.setItem("temp_forgot_password_email",p),o>0){const k=setTimeout(()=>l(S=>S-1),1e3);return()=>clearTimeout(k)}else i(!0)},[o,p]);const w=async k=>{var S,C;t(!0),r(null);try{await ee.post("/auth/verify-reset-otp",{otp:k.otpCode},{skipAuth:!0}),localStorage.removeItem("temp_forgot_password_email"),setTimeout(()=>m(se.RESET_PASSWORD),0)}catch(E){r(((C=(S=E.response)==null?void 0:S.data)==null?void 0:C.message)??"M OTP khng hp l")}finally{t(!1)}},j=async()=>{r(null),d(null),u(!0);try{await ee.post("/auth/forgot-password",{email:g},{skipAuth:!0}),l(20),i(!1),d("M OTP mi  c gi n email ca bn.")}catch{d("Gi li OTP tht bi.")}finally{u(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:n.jsxs(ue.div,{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs(_e,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-lg",children:n.jsx(Un,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:["Lingua",n.jsx("span",{className:"text-blue-500",children:"Hub"})]})]}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Xc thc OTP"}),n.jsxs("p",{className:"text-gray-600",children:["Nhp m OTP  c gi n ",n.jsx("strong",{children:g})]})]}),n.jsxs(ue.div,{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx(ya,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),n.jsxs("form",{onSubmit:v(w),className:"space-y-4",children:[n.jsx(Ce,{type:"text",maxLength:6,...b("otpCode",{setValueAs:k=>k.replace(/\D/g,"")}),className:"text-center text-2xl tracking-widest",placeholder:"000000",disabled:e}),((N=x.otpCode)==null?void 0:N.message)&&n.jsx(bn,{message:x.otpCode.message}),s&&n.jsx(bn,{message:s}),n.jsx(H,{type:"submit",className:"w-full",disabled:e,children:e?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(co,{size:"sm"}),"ang xc thc..."]}):"Xc thc OTP"})]})]}),n.jsxs("div",{className:"space-y-4 text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Khng nhn c m?"}),n.jsx(H,{variant:"outline",className:"w-full",onClick:j,disabled:!a||c,children:c?n.jsx(co,{size:"sm"}):n.jsxs(n.Fragment,{children:[n.jsx(oo,{className:"w-4 h-4 mr-2"}),a?"Gi li OTP":`Gi li sau ${o}s`]})}),h&&n.jsx("p",{className:"text-sm text-green-700",children:h}),n.jsx(H,{asChild:!0,variant:"ghost",className:"w-full",children:n.jsx(_e,{to:se.FORGOT_PASSWORD,children:"Quay li Qun mt khu"})})]})]})]})})};function rse(){const e=navigator.language||navigator.userLanguage;return e&&e.toLowerCase().startsWith("vi")?"vi":"en"}function ase(){return rse()}const Hs={createCourse:async e=>{var a,i,o,l,c,u;const t={title:e.title,shortDescription:e.shortDescription,description:e.description,requirement:e.requirement,level:e.level,categoryID:e.categoryID,language:e.language,duration:e.duration,price:e.price,thumbnailURL:e.thumbnailURL||""},s=await ee.post("/tutor/courses",t),r=((i=(a=s==null?void 0:s.data)==null?void 0:a.result)==null?void 0:i.courseID)||((l=(o=s==null?void 0:s.data)==null?void 0:o.result)==null?void 0:l.id)||((c=s==null?void 0:s.data)==null?void 0:c.courseID)||((u=s==null?void 0:s.data)==null?void 0:u.id);if(!r)throw new Error("Invalid response from server");return{courseId:r.toString()}},addSection:async(e,t)=>{var i,o,l,c,u;const s={title:t.title,orderIndex:t.orderIndex};t.description&&(s.description=t.description);const r=await ee.post(`/tutor/courses/sections/${e}`,s),a=((o=(i=r==null?void 0:r.data)==null?void 0:i.result)==null?void 0:o.sectionID)||((c=(l=r==null?void 0:r.data)==null?void 0:l.result)==null?void 0:c.id)||((u=r==null?void 0:r.data)==null?void 0:u.id);if(!a)throw new Error("Invalid response");return{sectionId:a.toString()}},addLesson:async(e,t,s)=>{var o,l,c,u,h;const r={title:s.title,duration:s.duration,lessonType:s.lessonType,orderIndex:s.orderIndex};s.videoURL&&(r.videoURL=s.videoURL),s.content&&(r.content=s.content);const a=await ee.post(`/tutor/courses/${t}/lessons`,r),i=((l=(o=a==null?void 0:a.data)==null?void 0:o.result)==null?void 0:l.lessonID)||((u=(c=a==null?void 0:a.data)==null?void 0:c.result)==null?void 0:u.id)||((h=a==null?void 0:a.data)==null?void 0:h.id);if(!i)throw new Error("Invalid response");return{lessonId:i.toString()}},addLessonResource:async(e,t,s,r)=>{var l,c,u;const a={resourceType:r.resourceType,resourceTitle:r.resourceTitle,resourceURL:r.resourceURL},i=await ee.post(`/tutor/lessons/${s}/resources`,a),o=((c=(l=i==null?void 0:i.data)==null?void 0:l.result)==null?void 0:c.resourceID)||((u=i==null?void 0:i.data)==null?void 0:u.resourceID);if(!o)throw new Error("Invalid response");return{resourceId:o.toString()}},uploadThumbnail:async(e,t)=>{var a,i,o,l;const s=new FormData;s.append("file",e);const r=await ee.post(`/tutor/courses/${t}/thumbnail`,s,{headers:{"Content-Type":"multipart/form-data"}});return((i=(a=r==null?void 0:r.data)==null?void 0:a.result)==null?void 0:i.url)||((o=r==null?void 0:r.data)==null?void 0:o.url)||((l=r==null?void 0:r.data)==null?void 0:l.publicUrl)||""},submitCourse:async e=>{var r,a,i;const t=await ee.put(`/tutor/courses/${e}/submit`),s=((a=(r=t==null?void 0:t.data)==null?void 0:r.result)==null?void 0:a.status)||((i=t==null?void 0:t.data)==null?void 0:i.status);return s&&(s.toLowerCase()==="pending"||s.toLowerCase()==="draft")?{success:!0,status:s}:{success:!1,status:s||"unknown"}},updateResource:async(e,t)=>{var i,o,l;const s={resourceType:t.resourceType,resourceTitle:t.resourceTitle,resourceURL:t.resourceURL},r=await ee.put(`/tutor/resources/${e}`,s);return{resourceId:(((o=(i=r==null?void 0:r.data)==null?void 0:i.result)==null?void 0:o.resourceID)||((l=r==null?void 0:r.data)==null?void 0:l.resourceID)||e).toString()}},deleteResource:async e=>{await ee.delete(`/tutor/resources/${e}`)},addObjective:async(e,t)=>{var i,o,l,c,u,h;const s={objectiveText:t.objectiveText,orderIndex:t.orderIndex},r=await ee.post(`/courses/${e}/objectives`,s),a=((o=(i=r==null?void 0:r.data)==null?void 0:i.result)==null?void 0:o.id)||((c=(l=r==null?void 0:r.data)==null?void 0:l.result)==null?void 0:c.objectiveID)||((u=r==null?void 0:r.data)==null?void 0:u.id)||((h=r==null?void 0:r.data)==null?void 0:h.objectiveID);if(!a)throw new Error("Invalid response from server");return{objectiveId:a.toString()}},deleteObjective:async e=>{await ee.delete(`/course-objectives/${e}`)}},ise=async()=>{try{return(await ee.get("/categories")).data||[]}catch(e){return console.error("Failed to fetch categories:",e),[]}};function ose(e){return{English:"en",Vietnamese:"vi",Japanese:"ja",Chinese:"zh",Korean:"ko",French:"fr",Spanish:"es",German:"de",Russian:"ru"}[e]||"en"}function lse(e){return ase()==="vi"&&e.nameVi&&e.nameVi.trim()!==""?e.nameVi:e.nameEn}const cse=async()=>((await ee.get("/languages")).data.result||[]).filter(s=>s.isActive).map(s=>({id:s.id,name:s.nameEn,displayName:lse(s),code:ose(s.nameEn)})).sort((s,r)=>s.displayName.localeCompare(r.displayName)),hC=async e=>{var t;try{const s=await ee.get(`/tutor/courses/${e}`),r=((t=s.data)==null?void 0:t.result)||s.data;return{title:r.title,shortDescription:r.shortDescription,description:r.description,requirement:r.requirement,level:r.level,categoryID:r.categoryID,language:r.language,duration:r.duration,price:r.price,thumbnailURL:r.thumbnailURL}}catch(s){throw console.error("Failed to fetch course detail:",s),s}},use=async e=>{var t;try{const s=await ee.get(`/courses/${e}/objectives`);return((t=s.data)==null?void 0:t.result)||s.data||[]}catch(s){return console.error("Failed to fetch objectives:",s),[]}};function tf(){const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,i]=y.useState(null),o=async()=>{try{r(!0),i(null);const l=await cse();t(l)}catch(l){console.error("Failed to fetch languages:",l),i("Khng th ti danh sch ngn ng. Vui lng th li.")}finally{r(!1)}};return y.useEffect(()=>{o()},[]),{languages:e,isLoading:s,error:a,refetch:o}}function dse({data:e,onNext:t}){var E,T,_,A;const[s,r]=y.useState({title:e.title||"",shortDescription:e.shortDescription||"",description:e.description||"",requirement:e.requirement||"",level:e.level||"BEGINNER",categoryID:e.categoryID||1,language:e.language||"English",duration:e.duration||0,price:e.price||0,thumbnailURL:e.thumbnailURL||""}),[a,i]=y.useState({}),[o,l]=y.useState({}),[c,u]=y.useState(null),[h,d]=y.useState([]),[f,m]=y.useState(!0),{languages:p,isLoading:g,error:b,refetch:v}=tf();y.useEffect(()=>{(async()=>{try{m(!0);const R=await ise();d(R)}catch(R){console.error("Failed to fetch categories:",R),d([])}finally{m(!1)}})()},[]);const x=(D,R)=>{switch(D){case"title":return!R||typeof R!="string"?"Tiu  l bt buc":R.length<3?"Tiu  phi c t nht 3 k t":R.length>100?"Tiu  khng c vt qu 100 k t":void 0;case"shortDescription":return!R||typeof R!="string"?"M t ngn l bt buc":R.length<5?"M t ngn phi c t nht 5 k t":R.length>200?"M t ngn khng c vt qu 200 k t":void 0;case"description":return!R||typeof R!="string"?"M t l bt buc":R.length<5?"M t phi c t nht 5 k t":R.length>1e3?"M t khng c vt qu 1000 k t":void 0;case"requirement":return!R||typeof R!="string"?"Yu cu l bt buc":R.length<5?"Yu cu phi c t nht 5 k t":R.length>500?"Yu cu khng c vt qu 500 k t":void 0;case"level":return R?void 0:"Cp  l bt buc";case"categoryID":return R?void 0:"Danh mc l bt buc";case"language":return R?void 0:"Ngn ng l bt buc";case"duration":if(!R)return"Thi lng l bt buc";const U=Number(R);return isNaN(U)?"Thi lng phi l s":U<1||U>999?"Thi lng phi t 1 n 999 gi":void 0;case"price":if(R==null||R==="")return"Gi l bt buc";const I=Number(R);return isNaN(I)?"Gi phi l s":I<0?"Gi khng th m":I>999999999?"Gi khng c vt qu 999,999,999 VND":Number.isInteger(I)?void 0:"Gi phi l s nguyn";case"thumbnailURL":if(!R||typeof R!="string"||!R.trim())return"Vui lng nhp URL nh ba";try{const L=new URL(R);if(L.protocol!=="http:"&&L.protocol!=="https:")return"URL phi bt u bng http:// hoc https://";if(![".jpg",".jpeg",".png",".webp",".gif"].some(F=>R.toLowerCase().includes(F)))return"URL phi l nh hp l (JPG, PNG, WEBP, GIF)"}catch{return"URL khng hp l. Vui lng nhp URL y  (VD: https://example.com/image.jpg)"}return;default:return}},w=D=>{l(U=>({...U,[D]:!0}));const R=x(D,s[D]);i(U=>({...U,[D]:R}))},j=(D,R)=>{if(r(U=>({...U,[D]:D==="duration"||D==="price"?Number(R)||0:R})),o[D]){const U=x(D,R);i(I=>({...I,[D]:U}))}},N=D=>{if(r(U=>({...U,thumbnailURL:D||void 0})),!D.trim()){u(null),i(U=>({...U,thumbnailURL:void 0}));return}const R=x("thumbnailURL",D);R?(u(null),i(U=>({...U,thumbnailURL:R}))):(u(D),i(U=>({...U,thumbnailURL:void 0})))},k=()=>{r(D=>({...D,thumbnailURL:void 0})),u(null)},S=D=>{D.preventDefault();const R={},U={};["title","shortDescription","description","requirement","categoryID","language","level","duration","price","thumbnailURL"].forEach(I=>{R[I]=!0;const L=x(I,s[I]);L&&(U[I]=L)}),l(R),i(U),Object.keys(U).length===0&&t(s)},C=()=>{const R=["title","shortDescription","description","requirement","categoryID","language","level","duration","price","thumbnailURL"].every(I=>{const L=s[I];return typeof L=="string"?L.trim()!=="":typeof L=="number"?L>0:L!=null}),U=Object.values(a).some(I=>I!==void 0);return R&&!U};return n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"title",className:"text-sm font-medium",children:["Tiu  kha hc ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"title",value:s.title||"",onChange:D=>j("title",D.target.value),onBlur:()=>w("title"),placeholder:"VD: Ting Anh giao tip cho ngi mi bt u",className:a.title&&o.title?"border-red-500":""}),a.title&&o.title&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.title})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"shortDescription",className:"text-sm font-medium",children:["M t ngn ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"shortDescription",value:s.shortDescription||"",onChange:D=>j("shortDescription",D.target.value),onBlur:()=>w("shortDescription"),placeholder:"Tm tt ngn gn v kha hc (ti a 200 k t)",maxLength:200,className:a.shortDescription&&o.shortDescription?"border-red-500":""}),n.jsxs("div",{className:"flex justify-between mt-1",children:[a.shortDescription&&o.shortDescription?n.jsx("p",{className:"text-sm text-red-500",children:a.shortDescription}):n.jsx("span",{}),n.jsxs("p",{className:"text-sm text-gray-500",children:[((E=s.shortDescription)==null?void 0:E.length)||0,"/200"]})]})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"description",className:"text-sm font-medium",children:["M t chi tit ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"description",value:s.description||"",onChange:D=>j("description",D.target.value),onBlur:()=>w("description"),placeholder:"M t chi tit v kha hc ca bn...",rows:4,className:a.description&&o.description?"border-red-500":""}),n.jsxs("div",{className:"flex justify-between mt-1",children:[a.description&&o.description?n.jsx("p",{className:"text-sm text-red-500",children:a.description}):n.jsx("span",{}),n.jsxs("p",{className:"text-sm text-gray-500",children:[((T=s.description)==null?void 0:T.length)||0,"/1000"]})]})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"requirement",className:"text-sm font-medium",children:["Yu cu ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"requirement",value:s.requirement||"",onChange:D=>j("requirement",D.target.value),onBlur:()=>w("requirement"),placeholder:"Lit k cc yu cu  tham gia kha hc...",rows:4,className:a.requirement&&o.requirement?"border-red-500":""}),n.jsxs("div",{className:"flex justify-between mt-1",children:[a.requirement&&o.requirement?n.jsx("p",{className:"text-sm text-red-500",children:a.requirement}):n.jsx("span",{}),n.jsxs("p",{className:"text-sm text-gray-500",children:[((_=s.requirement)==null?void 0:_.length)||0,"/500"]})]})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"category",className:"text-sm font-medium",children:["Danh mc ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(on,{value:((A=s.categoryID)==null?void 0:A.toString())||"",onValueChange:D=>{j("categoryID",parseInt(D)),l(R=>({...R,categoryID:!0}))},disabled:f,children:[n.jsx(Gt,{className:a.categoryID&&o.categoryID?"border-red-500":"",children:n.jsx(ln,{placeholder:f?"ang ti...":"Chn danh mc"})}),n.jsx(Yt,{children:h.map(D=>n.jsx(We,{value:String(D.categoryId),children:D.categoryName},D.categoryId))})]}),a.categoryID&&o.categoryID&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.categoryID})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"level",className:"text-sm font-medium",children:["Cp  ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(on,{value:s.level||"BEGINNER",onValueChange:D=>{j("level",D),l(R=>({...R,level:!0}))},children:[n.jsx(Gt,{className:a.level&&o.level?"border-red-500":"",children:n.jsx(ln,{placeholder:"Chn cp "})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"BEGINNER",children:"C bn"}),n.jsx(We,{value:"INTERMEDIATE",children:"Trung cp"}),n.jsx(We,{value:"ADVANCED",children:"Nng cao"})]})]}),a.level&&o.level&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.level})]}),n.jsxs("div",{children:[n.jsxs(ve,{className:"text-sm font-medium",children:["Ngn ng ging dy ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(on,{value:s.language||"English",onValueChange:D=>{j("language",D),l(R=>({...R,language:!0}))},disabled:g||!!b,children:[n.jsx(Gt,{className:a.language&&o.language?"border-red-500":"",children:n.jsx(ln,{placeholder:g?"ang ti...":"Chn ngn ng"})}),n.jsx(Yt,{children:p.map(D=>n.jsx(We,{value:D.name,children:D.displayName},D.id))})]}),b&&n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("p",{className:"text-sm text-red-500 flex-1",children:b}),n.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:v,className:"flex items-center gap-1",children:[n.jsx(oo,{className:"w-3 h-3"}),"Th li"]})]}),a.language&&o.language&&!b&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.language})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"duration",className:"text-sm font-medium",children:["Thi lng (gi) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"duration",type:"number",min:"1",max:"999",value:s.duration||"",onChange:D=>j("duration",Number(D.target.value)),onBlur:()=>w("duration"),placeholder:"VD: 40",className:a.duration&&o.duration?"border-red-500":""}),a.duration&&o.duration&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.duration})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"price",className:"text-sm font-medium",children:["Gi (VND) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"price",type:"number",min:"0",max:"999999999",step:"1",value:s.price||"",onChange:D=>j("price",Number(D.target.value)),onBlur:()=>w("price"),placeholder:"VD: 1500000",className:a.price&&o.price?"border-red-500":""}),a.price&&o.price&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.price})]})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"thumbnailURL-url",className:"text-sm font-medium",children:["nh ba ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"thumbnailURL-url",type:"url",placeholder:"https://example.com/image.jpg",value:typeof s.thumbnailURL=="string"?s.thumbnailURL:"",onChange:D=>N(D.target.value),onBlur:()=>w("thumbnailURL"),className:a.thumbnailURL&&o.thumbnailURL?"border-red-500":""}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"nh dng h tr: JPG, PNG, WEBP, GIF"}),c&&n.jsxs("div",{className:"relative mt-3 rounded-lg overflow-hidden border border-gray-200",children:[n.jsx("img",{src:c,alt:"Xem trc nh ba",className:"w-full h-48 object-cover",onError:()=>{i(D=>({...D,thumbnailURL:"Khng th ti hnh nh t URL"}))}}),n.jsx("button",{type:"button",onClick:k,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:n.jsx(Ml,{className:"w-4 h-4"})})]}),a.thumbnailURL&&o.thumbnailURL&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:a.thumbnailURL})]})]}),n.jsx("div",{className:"flex justify-end pt-6",children:n.jsx(H,{type:"submit",disabled:!C(),children:"Tip theo"})})]})}function hse({objectives:e,onNext:t,onBack:s,onDeleteObjective:r}){const[a,i]=y.useState(e.length>0?e:[]),[o,l]=y.useState(""),[c,u]=y.useState({}),h=()=>{const p={};if(o.trim()?o.trim().length<5?p.objectiveText="Mc tiu phi c t nht 5 k t":o.trim().length>200&&(p.objectiveText="Mc tiu khng c vt qu 200 k t"):p.objectiveText="Ni dung mc tiu l bt buc",Object.keys(p).length>0){u(p);return}const g={objectiveText:o.trim(),orderIndex:a.length};i([...a,g]),l(""),u({})},d=(p,g)=>{const b=[...a];b[p].objectiveText=g,i(b)},f=async p=>{const g=a[p];if(r&&g.id)try{await r(g.id)}catch(x){console.error("Failed to delete objective:",x);return}const v=a.filter((x,w)=>w!==p).map((x,w)=>({...x,orderIndex:w}));i(v)},m=p=>{if(p.preventDefault(),a.length===0){u({objectives:"Vui lng thm t nht mt mc tiu"});return}t(a)};return n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Mc tiu kha hc"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Thm cc mc tiu hc tp cho kha hc ny. Hc vin s thy nhng mc tiu ny trc khi ng k."})]}),n.jsx(ye,{className:"p-6 bg-gray-50",children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"objective-input",className:"text-base font-semibold mb-2",children:["Thm mc tiu ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ce,{id:"objective-input",value:o,onChange:p=>{l(p.target.value),c.objectiveText&&u({})},onKeyPress:p=>{p.key==="Enter"&&(p.preventDefault(),h())},placeholder:"VD: Hiu ng php ting Anh c bn",maxLength:200,className:c.objectiveText?"border-red-500":""}),n.jsxs(H,{type:"button",onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsx(gn,{className:"w-4 h-4 mr-2"}),"Thm"]})]}),n.jsxs("div",{className:"flex justify-between mt-2",children:[c.objectiveText&&n.jsx("p",{className:"text-red-500 text-sm",children:c.objectiveText}),n.jsxs("p",{className:"text-xs text-gray-500 ml-auto",children:[o.length,"/200"]})]})]})})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Mc tiu (",a.length,")"]}),a.length===0?n.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[n.jsx("p",{className:"text-gray-500",children:"Cha c mc tiu no"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Thm mc tiu u tin  trn"})]}):n.jsx("div",{className:"space-y-2",children:a.map((p,g)=>n.jsxs(ye,{className:"p-4 flex items-start justify-between bg-white",children:[n.jsxs("div",{className:"flex-1 flex items-start gap-3",children:[n.jsxs("span",{className:"font-semibold text-blue-600 min-w-fit pt-3",children:[g+1,"."]}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ce,{value:p.objectiveText,onChange:b=>d(g,b.target.value),className:"text-gray-800",maxLength:200}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[p.objectiveText.length,"/200"]})]})]}),n.jsx("button",{type:"button",onClick:()=>f(g),className:"ml-2 p-2 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Xa mc tiu",children:n.jsx(Ht,{className:"w-5 h-5"})})]},g))}),c.objectives&&n.jsx("p",{className:"text-red-500 text-sm mt-2",children:c.objectives})]}),n.jsxs("div",{className:"flex justify-between pt-6 gap-4",children:[n.jsx(H,{type:"button",onClick:s,variant:"outline",className:"border-gray-300",children:"Quay li"}),n.jsx(H,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Tip theo"})]})]})}function fse(){this.__data__=[],this.size=0}var mse=fse;function pse(e,t){return e===t||e!==e&&t!==t}var pI=pse,gse=pI;function xse(e,t){for(var s=e.length;s--;)if(gse(e[s][0],t))return s;return-1}var Xg=xse,yse=Xg,vse=Array.prototype,bse=vse.splice;function wse(e){var t=this.__data__,s=yse(t,e);if(s<0)return!1;var r=t.length-1;return s==r?t.pop():bse.call(t,s,1),--this.size,!0}var jse=wse,Nse=Xg;function kse(e){var t=this.__data__,s=Nse(t,e);return s<0?void 0:t[s][1]}var Sse=kse,Cse=Xg;function Tse(e){return Cse(this.__data__,e)>-1}var Ese=Tse,_se=Xg;function Ase(e,t){var s=this.__data__,r=_se(s,e);return r<0?(++this.size,s.push([e,t])):s[r][1]=t,this}var Dse=Ase,Rse=mse,Ose=jse,Pse=Sse,Ise=Ese,Mse=Dse;function Uu(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}Uu.prototype.clear=Rse;Uu.prototype.delete=Ose;Uu.prototype.get=Pse;Uu.prototype.has=Ise;Uu.prototype.set=Mse;var Jg=Uu,Lse=Jg;function Fse(){this.__data__=new Lse,this.size=0}var $se=Fse;function Use(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}var Vse=Use;function Bse(e){return this.__data__.get(e)}var zse=Bse;function qse(e){return this.__data__.has(e)}var Hse=qse,Wse=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,gI=Wse,Kse=gI,Gse=typeof self=="object"&&self&&self.Object===Object&&self,Yse=Kse||Gse||Function("return this")(),ui=Yse,Qse=ui,Zse=Qse.Symbol,xN=Zse,fC=xN,xI=Object.prototype,Xse=xI.hasOwnProperty,Jse=xI.toString,cd=fC?fC.toStringTag:void 0;function ere(e){var t=Xse.call(e,cd),s=e[cd];try{e[cd]=void 0;var r=!0}catch{}var a=Jse.call(e);return r&&(t?e[cd]=s:delete e[cd]),a}var tre=ere,nre=Object.prototype,sre=nre.toString;function rre(e){return sre.call(e)}var are=rre,mC=xN,ire=tre,ore=are,lre="[object Null]",cre="[object Undefined]",pC=mC?mC.toStringTag:void 0;function ure(e){return e==null?e===void 0?cre:lre:pC&&pC in Object(e)?ire(e):ore(e)}var ex=ure;function dre(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var yI=dre,hre=ex,fre=yI,mre="[object AsyncFunction]",pre="[object Function]",gre="[object GeneratorFunction]",xre="[object Proxy]";function yre(e){if(!fre(e))return!1;var t=hre(e);return t==pre||t==gre||t==mre||t==xre}var vI=yre,vre=ui,bre=vre["__core-js_shared__"],wre=bre,F0=wre,gC=function(){var e=/[^.]+$/.exec(F0&&F0.keys&&F0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jre(e){return!!gC&&gC in e}var Nre=jre,kre=Function.prototype,Sre=kre.toString;function Cre(e){if(e!=null){try{return Sre.call(e)}catch{}try{return e+""}catch{}}return""}var bI=Cre,Tre=vI,Ere=Nre,_re=yI,Are=bI,Dre=/[\\^$.*+?()[\]{}|]/g,Rre=/^\[object .+?Constructor\]$/,Ore=Function.prototype,Pre=Object.prototype,Ire=Ore.toString,Mre=Pre.hasOwnProperty,Lre=RegExp("^"+Ire.call(Mre).replace(Dre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fre(e){if(!_re(e)||Ere(e))return!1;var t=Tre(e)?Lre:Rre;return t.test(Are(e))}var $re=Fre;function Ure(e,t){return e==null?void 0:e[t]}var Vre=Ure,Bre=$re,zre=Vre;function qre(e,t){var s=zre(e,t);return Bre(s)?s:void 0}var Vu=qre,Hre=Vu,Wre=ui,Kre=Hre(Wre,"Map"),yN=Kre,Gre=Vu,Yre=Gre(Object,"create"),tx=Yre,xC=tx;function Qre(){this.__data__=xC?xC(null):{},this.size=0}var Zre=Qre;function Xre(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Jre=Xre,eae=tx,tae="__lodash_hash_undefined__",nae=Object.prototype,sae=nae.hasOwnProperty;function rae(e){var t=this.__data__;if(eae){var s=t[e];return s===tae?void 0:s}return sae.call(t,e)?t[e]:void 0}var aae=rae,iae=tx,oae=Object.prototype,lae=oae.hasOwnProperty;function cae(e){var t=this.__data__;return iae?t[e]!==void 0:lae.call(t,e)}var uae=cae,dae=tx,hae="__lodash_hash_undefined__";function fae(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=dae&&t===void 0?hae:t,this}var mae=fae,pae=Zre,gae=Jre,xae=aae,yae=uae,vae=mae;function Bu(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}Bu.prototype.clear=pae;Bu.prototype.delete=gae;Bu.prototype.get=xae;Bu.prototype.has=yae;Bu.prototype.set=vae;var bae=Bu,yC=bae,wae=Jg,jae=yN;function Nae(){this.size=0,this.__data__={hash:new yC,map:new(jae||wae),string:new yC}}var kae=Nae;function Sae(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Cae=Sae,Tae=Cae;function Eae(e,t){var s=e.__data__;return Tae(t)?s[typeof t=="string"?"string":"hash"]:s.map}var nx=Eae,_ae=nx;function Aae(e){var t=_ae(this,e).delete(e);return this.size-=t?1:0,t}var Dae=Aae,Rae=nx;function Oae(e){return Rae(this,e).get(e)}var Pae=Oae,Iae=nx;function Mae(e){return Iae(this,e).has(e)}var Lae=Mae,Fae=nx;function $ae(e,t){var s=Fae(this,e),r=s.size;return s.set(e,t),this.size+=s.size==r?0:1,this}var Uae=$ae,Vae=kae,Bae=Dae,zae=Pae,qae=Lae,Hae=Uae;function zu(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}zu.prototype.clear=Vae;zu.prototype.delete=Bae;zu.prototype.get=zae;zu.prototype.has=qae;zu.prototype.set=Hae;var wI=zu,Wae=Jg,Kae=yN,Gae=wI,Yae=200;function Qae(e,t){var s=this.__data__;if(s instanceof Wae){var r=s.__data__;if(!Kae||r.length<Yae-1)return r.push([e,t]),this.size=++s.size,this;s=this.__data__=new Gae(r)}return s.set(e,t),this.size=s.size,this}var Zae=Qae,Xae=Jg,Jae=$se,eie=Vse,tie=zse,nie=Hse,sie=Zae;function qu(e){var t=this.__data__=new Xae(e);this.size=t.size}qu.prototype.clear=Jae;qu.prototype.delete=eie;qu.prototype.get=tie;qu.prototype.has=nie;qu.prototype.set=sie;var rie=qu,aie="__lodash_hash_undefined__";function iie(e){return this.__data__.set(e,aie),this}var oie=iie;function lie(e){return this.__data__.has(e)}var cie=lie,uie=wI,die=oie,hie=cie;function _p(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new uie;++t<s;)this.add(e[t])}_p.prototype.add=_p.prototype.push=die;_p.prototype.has=hie;var fie=_p;function mie(e,t){for(var s=-1,r=e==null?0:e.length;++s<r;)if(t(e[s],s,e))return!0;return!1}var pie=mie;function gie(e,t){return e.has(t)}var xie=gie,yie=fie,vie=pie,bie=xie,wie=1,jie=2;function Nie(e,t,s,r,a,i){var o=s&wie,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),h=i.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,m=s&jie?new yie:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var p=e[d],g=t[d];if(r)var b=o?r(g,p,d,t,e,i):r(p,g,d,e,t,i);if(b!==void 0){if(b)continue;f=!1;break}if(m){if(!vie(t,function(v,x){if(!bie(m,x)&&(p===v||a(p,v,s,r,i)))return m.push(x)})){f=!1;break}}else if(!(p===g||a(p,g,s,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var jI=Nie,kie=ui,Sie=kie.Uint8Array,Cie=Sie;function Tie(e){var t=-1,s=Array(e.size);return e.forEach(function(r,a){s[++t]=[a,r]}),s}var Eie=Tie;function _ie(e){var t=-1,s=Array(e.size);return e.forEach(function(r){s[++t]=r}),s}var Aie=_ie,vC=xN,bC=Cie,Die=pI,Rie=jI,Oie=Eie,Pie=Aie,Iie=1,Mie=2,Lie="[object Boolean]",Fie="[object Date]",$ie="[object Error]",Uie="[object Map]",Vie="[object Number]",Bie="[object RegExp]",zie="[object Set]",qie="[object String]",Hie="[object Symbol]",Wie="[object ArrayBuffer]",Kie="[object DataView]",wC=vC?vC.prototype:void 0,$0=wC?wC.valueOf:void 0;function Gie(e,t,s,r,a,i,o){switch(s){case Kie:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Wie:return!(e.byteLength!=t.byteLength||!i(new bC(e),new bC(t)));case Lie:case Fie:case Vie:return Die(+e,+t);case $ie:return e.name==t.name&&e.message==t.message;case Bie:case qie:return e==t+"";case Uie:var l=Oie;case zie:var c=r&Iie;if(l||(l=Pie),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=Mie,o.set(e,t);var h=Rie(l(e),l(t),r,a,i,o);return o.delete(e),h;case Hie:if($0)return $0.call(e)==$0.call(t)}return!1}var Yie=Gie;function Qie(e,t){for(var s=-1,r=t.length,a=e.length;++s<r;)e[a+s]=t[s];return e}var Zie=Qie,Xie=Array.isArray,vN=Xie,Jie=Zie,eoe=vN;function toe(e,t,s){var r=t(e);return eoe(e)?r:Jie(r,s(e))}var noe=toe;function soe(e,t){for(var s=-1,r=e==null?0:e.length,a=0,i=[];++s<r;){var o=e[s];t(o,s,e)&&(i[a++]=o)}return i}var roe=soe;function aoe(){return[]}var ioe=aoe,ooe=roe,loe=ioe,coe=Object.prototype,uoe=coe.propertyIsEnumerable,jC=Object.getOwnPropertySymbols,doe=jC?function(e){return e==null?[]:(e=Object(e),ooe(jC(e),function(t){return uoe.call(e,t)}))}:loe,hoe=doe;function foe(e,t){for(var s=-1,r=Array(e);++s<e;)r[s]=t(s);return r}var moe=foe;function poe(e){return e!=null&&typeof e=="object"}var sx=poe,goe=ex,xoe=sx,yoe="[object Arguments]";function voe(e){return xoe(e)&&goe(e)==yoe}var boe=voe,NC=boe,woe=sx,NI=Object.prototype,joe=NI.hasOwnProperty,Noe=NI.propertyIsEnumerable,koe=NC(function(){return arguments}())?NC:function(e){return woe(e)&&joe.call(e,"callee")&&!Noe.call(e,"callee")},Soe=koe,Ap={exports:{}};function Coe(){return!1}var Toe=Coe;Ap.exports;(function(e,t){var s=ui,r=Toe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?s.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(Ap,Ap.exports);var kI=Ap.exports,Eoe=9007199254740991,_oe=/^(?:0|[1-9]\d*)$/;function Aoe(e,t){var s=typeof e;return t=t??Eoe,!!t&&(s=="number"||s!="symbol"&&_oe.test(e))&&e>-1&&e%1==0&&e<t}var Doe=Aoe,Roe=9007199254740991;function Ooe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Roe}var SI=Ooe,Poe=ex,Ioe=SI,Moe=sx,Loe="[object Arguments]",Foe="[object Array]",$oe="[object Boolean]",Uoe="[object Date]",Voe="[object Error]",Boe="[object Function]",zoe="[object Map]",qoe="[object Number]",Hoe="[object Object]",Woe="[object RegExp]",Koe="[object Set]",Goe="[object String]",Yoe="[object WeakMap]",Qoe="[object ArrayBuffer]",Zoe="[object DataView]",Xoe="[object Float32Array]",Joe="[object Float64Array]",ele="[object Int8Array]",tle="[object Int16Array]",nle="[object Int32Array]",sle="[object Uint8Array]",rle="[object Uint8ClampedArray]",ale="[object Uint16Array]",ile="[object Uint32Array]",zt={};zt[Xoe]=zt[Joe]=zt[ele]=zt[tle]=zt[nle]=zt[sle]=zt[rle]=zt[ale]=zt[ile]=!0;zt[Loe]=zt[Foe]=zt[Qoe]=zt[$oe]=zt[Zoe]=zt[Uoe]=zt[Voe]=zt[Boe]=zt[zoe]=zt[qoe]=zt[Hoe]=zt[Woe]=zt[Koe]=zt[Goe]=zt[Yoe]=!1;function ole(e){return Moe(e)&&Ioe(e.length)&&!!zt[Poe(e)]}var lle=ole;function cle(e){return function(t){return e(t)}}var ule=cle,Dp={exports:{}};Dp.exports;(function(e,t){var s=gI,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&s.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Dp,Dp.exports);var dle=Dp.exports,hle=lle,fle=ule,kC=dle,SC=kC&&kC.isTypedArray,mle=SC?fle(SC):hle,CI=mle,ple=moe,gle=Soe,xle=vN,yle=kI,vle=Doe,ble=CI,wle=Object.prototype,jle=wle.hasOwnProperty;function Nle(e,t){var s=xle(e),r=!s&&gle(e),a=!s&&!r&&yle(e),i=!s&&!r&&!a&&ble(e),o=s||r||a||i,l=o?ple(e.length,String):[],c=l.length;for(var u in e)(t||jle.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vle(u,c)))&&l.push(u);return l}var kle=Nle,Sle=Object.prototype;function Cle(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||Sle;return e===s}var Tle=Cle;function Ele(e,t){return function(s){return e(t(s))}}var _le=Ele,Ale=_le,Dle=Ale(Object.keys,Object),Rle=Dle,Ole=Tle,Ple=Rle,Ile=Object.prototype,Mle=Ile.hasOwnProperty;function Lle(e){if(!Ole(e))return Ple(e);var t=[];for(var s in Object(e))Mle.call(e,s)&&s!="constructor"&&t.push(s);return t}var Fle=Lle,$le=vI,Ule=SI;function Vle(e){return e!=null&&Ule(e.length)&&!$le(e)}var Ble=Vle,zle=kle,qle=Fle,Hle=Ble;function Wle(e){return Hle(e)?zle(e):qle(e)}var Kle=Wle,Gle=noe,Yle=hoe,Qle=Kle;function Zle(e){return Gle(e,Qle,Yle)}var Xle=Zle,CC=Xle,Jle=1,ece=Object.prototype,tce=ece.hasOwnProperty;function nce(e,t,s,r,a,i){var o=s&Jle,l=CC(e),c=l.length,u=CC(t),h=u.length;if(c!=h&&!o)return!1;for(var d=c;d--;){var f=l[d];if(!(o?f in t:tce.call(t,f)))return!1}var m=i.get(e),p=i.get(t);if(m&&p)return m==t&&p==e;var g=!0;i.set(e,t),i.set(t,e);for(var b=o;++d<c;){f=l[d];var v=e[f],x=t[f];if(r)var w=o?r(x,v,f,t,e,i):r(v,x,f,e,t,i);if(!(w===void 0?v===x||a(v,x,s,r,i):w)){g=!1;break}b||(b=f=="constructor")}if(g&&!b){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(g=!1)}return i.delete(e),i.delete(t),g}var sce=nce,rce=Vu,ace=ui,ice=rce(ace,"DataView"),oce=ice,lce=Vu,cce=ui,uce=lce(cce,"Promise"),dce=uce,hce=Vu,fce=ui,mce=hce(fce,"Set"),pce=mce,gce=Vu,xce=ui,yce=gce(xce,"WeakMap"),vce=yce,lb=oce,cb=yN,ub=dce,db=pce,hb=vce,TI=ex,Hu=bI,TC="[object Map]",bce="[object Object]",EC="[object Promise]",_C="[object Set]",AC="[object WeakMap]",DC="[object DataView]",wce=Hu(lb),jce=Hu(cb),Nce=Hu(ub),kce=Hu(db),Sce=Hu(hb),Oo=TI;(lb&&Oo(new lb(new ArrayBuffer(1)))!=DC||cb&&Oo(new cb)!=TC||ub&&Oo(ub.resolve())!=EC||db&&Oo(new db)!=_C||hb&&Oo(new hb)!=AC)&&(Oo=function(e){var t=TI(e),s=t==bce?e.constructor:void 0,r=s?Hu(s):"";if(r)switch(r){case wce:return DC;case jce:return TC;case Nce:return EC;case kce:return _C;case Sce:return AC}return t});var Cce=Oo,U0=rie,Tce=jI,Ece=Yie,_ce=sce,RC=Cce,OC=vN,PC=kI,Ace=CI,Dce=1,IC="[object Arguments]",MC="[object Array]",Hf="[object Object]",Rce=Object.prototype,LC=Rce.hasOwnProperty;function Oce(e,t,s,r,a,i){var o=OC(e),l=OC(t),c=o?MC:RC(e),u=l?MC:RC(t);c=c==IC?Hf:c,u=u==IC?Hf:u;var h=c==Hf,d=u==Hf,f=c==u;if(f&&PC(e)){if(!PC(t))return!1;o=!0,h=!1}if(f&&!h)return i||(i=new U0),o||Ace(e)?Tce(e,t,s,r,a,i):Ece(e,t,c,s,r,a,i);if(!(s&Dce)){var m=h&&LC.call(e,"__wrapped__"),p=d&&LC.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,b=p?t.value():t;return i||(i=new U0),a(g,b,s,r,i)}}return f?(i||(i=new U0),_ce(e,t,s,r,a,i)):!1}var Pce=Oce,Ice=Pce,FC=sx;function EI(e,t,s,r,a){return e===t?!0:e==null||t==null||!FC(e)&&!FC(t)?e!==e&&t!==t:Ice(e,t,s,r,EI,a)}var Mce=EI,Lce=Mce;function Fce(e,t){return Lce(e,t)}var $ce=Fce,_I={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,a){e.exports=a()})(typeof self<"u"?self:Ln,function(){return function(s){var r={};function a(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return s[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=s,a.c=r,a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=109)}([function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(17),o=a(18),l=a(19),c=a(45),u=a(46),h=a(47),d=a(48),f=a(49),m=a(12),p=a(32),g=a(33),b=a(31),v=a(1),x={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:i.default,Format:o.default,Leaf:l.default,Embed:d.default,Scroll:c.default,Block:h.default,Inline:u.default,Text:f.default,Attributor:{Attribute:m.default,Class:p.default,Style:g.default,Store:b.default}};r.default=x},function(s,r,a){var i=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var w in x)x.hasOwnProperty(w)&&(v[w]=x[w])};return function(v,x){b(v,x);function w(){this.constructor=v}v.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(b){i(v,b);function v(x){var w=this;return x="[Parchment] "+x,w=b.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return v}(Error);r.ParchmentError=o;var l={},c={},u={},h={};r.DATA_KEY="__blot";var d;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function f(b,v){var x=p(b);if(x==null)throw new o("Unable to create "+b+" blot");var w=x,j=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:w.create(v);return new w(j,v)}r.create=f;function m(b,v){return v===void 0&&(v=!1),b==null?null:b[r.DATA_KEY]!=null?b[r.DATA_KEY].blot:v?m(b.parentNode,v):null}r.find=m;function p(b,v){v===void 0&&(v=d.ANY);var x;if(typeof b=="string")x=h[b]||l[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)x=h.text;else if(typeof b=="number")b&d.LEVEL&d.BLOCK?x=h.block:b&d.LEVEL&d.INLINE&&(x=h.inline);else if(b instanceof HTMLElement){var w=(b.getAttribute("class")||"").split(/\s+/);for(var j in w)if(x=c[w[j]],x)break;x=x||u[b.tagName]}return x==null?null:v&d.LEVEL&x.scope&&v&d.TYPE&x.scope?x:null}r.query=p;function g(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];if(b.length>1)return b.map(function(j){return g(j)});var x=b[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(h[x.blotName||x.attrName]=x,typeof x.keyName=="string")l[x.keyName]=x;else if(x.className!=null&&(c[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(j){return j.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(j){(u[j]==null||x.className==null)&&(u[j]=x)})}return x}r.register=g},function(s,r,a){var i=a(51),o=a(11),l=a(3),c=a(20),u="\0",h=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};h.prototype.insert=function(d,f){var m={};return d.length===0?this:(m.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(m.attributes=f),this.push(m))},h.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},h.prototype.retain=function(d,f){if(d<=0)return this;var m={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(m.attributes=f),this.push(m)},h.prototype.push=function(d){var f=this.ops.length,m=this.ops[f-1];if(d=l(!0,{},d),typeof m=="object"){if(typeof d.delete=="number"&&typeof m.delete=="number")return this.ops[f-1]={delete:m.delete+d.delete},this;if(typeof m.delete=="number"&&d.insert!=null&&(f-=1,m=this.ops[f-1],typeof m!="object"))return this.ops.unshift(d),this;if(o(d.attributes,m.attributes)){if(typeof d.insert=="string"&&typeof m.insert=="string")return this.ops[f-1]={insert:m.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof m.retain=="number")return this.ops[f-1]={retain:m.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},h.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},h.prototype.filter=function(d){return this.ops.filter(d)},h.prototype.forEach=function(d){this.ops.forEach(d)},h.prototype.map=function(d){return this.ops.map(d)},h.prototype.partition=function(d){var f=[],m=[];return this.forEach(function(p){var g=d(p)?f:m;g.push(p)}),[f,m]},h.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},h.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+c.length(f):f.delete?d-f.delete:d},0)},h.prototype.length=function(){return this.reduce(function(d,f){return d+c.length(f)},0)},h.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var m=[],p=c.iterator(this.ops),g=0;g<f&&p.hasNext();){var b;g<d?b=p.next(d-g):(b=p.next(f-g),m.push(b)),g+=c.length(b)}return new h(m)},h.prototype.compose=function(d){var f=c.iterator(this.ops),m=c.iterator(d.ops),p=[],g=m.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var b=g.retain;f.peekType()==="insert"&&f.peekLength()<=b;)b-=f.peekLength(),p.push(f.next());g.retain-b>0&&m.next(g.retain-b)}for(var v=new h(p);f.hasNext()||m.hasNext();)if(m.peekType()==="insert")v.push(m.next());else if(f.peekType()==="delete")v.push(f.next());else{var x=Math.min(f.peekLength(),m.peekLength()),w=f.next(x),j=m.next(x);if(typeof j.retain=="number"){var N={};typeof w.retain=="number"?N.retain=x:N.insert=w.insert;var k=c.attributes.compose(w.attributes,j.attributes,typeof w.retain=="number");if(k&&(N.attributes=k),v.push(N),!m.hasNext()&&o(v.ops[v.ops.length-1],N)){var S=new h(f.rest());return v.concat(S).chop()}}else typeof j.delete=="number"&&typeof w.retain=="number"&&v.push(j)}return v.chop()},h.prototype.concat=function(d){var f=new h(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},h.prototype.diff=function(d,f){if(this.ops===d.ops)return new h;var m=[this,d].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var j=x===d?"on":"with";throw new Error("diff() called "+j+" non-document")}).join("")}),p=new h,g=i(m[0],m[1],f),b=c.iterator(this.ops),v=c.iterator(d.ops);return g.forEach(function(x){for(var w=x[1].length;w>0;){var j=0;switch(x[0]){case i.INSERT:j=Math.min(v.peekLength(),w),p.push(v.next(j));break;case i.DELETE:j=Math.min(w,b.peekLength()),b.next(j),p.delete(j);break;case i.EQUAL:j=Math.min(b.peekLength(),v.peekLength(),w);var N=b.next(j),k=v.next(j);o(N.insert,k.insert)?p.retain(j,c.attributes.diff(N.attributes,k.attributes)):p.push(k).delete(j);break}w-=j}}),p.chop()},h.prototype.eachLine=function(d,f){f=f||`
`;for(var m=c.iterator(this.ops),p=new h,g=0;m.hasNext();){if(m.peekType()!=="insert")return;var b=m.peek(),v=c.length(b)-m.peekLength(),x=typeof b.insert=="string"?b.insert.indexOf(f,v)-v:-1;if(x<0)p.push(m.next());else if(x>0)p.push(m.next(x));else{if(d(p,m.next(1).attributes||{},g)===!1)return;g+=1,p=new h}}p.length()>0&&d(p,{},g)},h.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var m=c.iterator(this.ops),p=c.iterator(d.ops),g=new h;m.hasNext()||p.hasNext();)if(m.peekType()==="insert"&&(f||p.peekType()!=="insert"))g.retain(c.length(m.next()));else if(p.peekType()==="insert")g.push(p.next());else{var b=Math.min(m.peekLength(),p.peekLength()),v=m.next(b),x=p.next(b);if(v.delete)continue;x.delete?g.push(x):g.retain(b,c.attributes.transform(v.attributes,x.attributes,f))}return g.chop()},h.prototype.transformPosition=function(d,f){f=!!f;for(var m=c.iterator(this.ops),p=0;m.hasNext()&&p<=d;){var g=m.peekLength(),b=m.peekType();if(m.next(),b==="delete"){d-=Math.min(g,d-p);continue}else b==="insert"&&(p<d||!f)&&(d+=g);p+=g}return d},s.exports=h},function(s,r){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(m){return typeof Array.isArray=="function"?Array.isArray(m):i.call(m)==="[object Array]"},u=function(m){if(!m||i.call(m)!=="[object Object]")return!1;var p=a.call(m,"constructor"),g=m.constructor&&m.constructor.prototype&&a.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!p&&!g)return!1;var b;for(b in m);return typeof b>"u"||a.call(m,b)},h=function(m,p){o&&p.name==="__proto__"?o(m,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):m[p.name]=p.newValue},d=function(m,p){if(p==="__proto__")if(a.call(m,p)){if(l)return l(m,p).value}else return;return m[p]};s.exports=function f(){var m,p,g,b,v,x,w=arguments[0],j=1,N=arguments.length,k=!1;for(typeof w=="boolean"&&(k=w,w=arguments[1]||{},j=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});j<N;++j)if(m=arguments[j],m!=null)for(p in m)g=d(w,p),b=d(m,p),w!==b&&(k&&b&&(u(b)||(v=c(b)))?(v?(v=!1,x=g&&c(g)?g:[]):x=g&&u(g)?g:{},h(w,{name:p,newValue:f(k,x,b)})):typeof b<"u"&&h(w,{name:p,newValue:b}));return w}},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var i=function(){function _(A,D){for(var R=0;R<D.length;R++){var U=D[R];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,U.key,U)}}return function(A,D,R){return D&&_(A.prototype,D),R&&_(A,R),A}}(),o=function _(A,D,R){A===null&&(A=Function.prototype);var U=Object.getOwnPropertyDescriptor(A,D);if(U===void 0){var I=Object.getPrototypeOf(A);return I===null?void 0:_(I,D,R)}else{if("value"in U)return U.value;var L=U.get;return L===void 0?void 0:L.call(R)}},l=a(3),c=w(l),u=a(2),h=w(u),d=a(0),f=w(d),m=a(16),p=w(m),g=a(6),b=w(g),v=a(7),x=w(v);function w(_){return _&&_.__esModule?_:{default:_}}function j(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function N(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function k(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var S=1,C=function(_){k(A,_);function A(){return j(this,A),N(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"attach",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,U){var I=f.default.query(R,f.default.Scope.BLOCK_ATTRIBUTE);I!=null&&this.attributes.attribute(I,U)}},{key:"formatAt",value:function(R,U,I,L){this.format(I,L)}},{key:"insertAt",value:function(R,U,I){if(typeof U=="string"&&U.endsWith(`
`)){var L=f.default.create(E.blotName);this.parent.insertBefore(L,R===0?this:this.next),L.insertAt(0,U.slice(0,-1))}else o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,U,I)}}]),A}(f.default.Embed);C.scope=f.default.Scope.BLOCK_BLOT;var E=function(_){k(A,_);function A(D){j(this,A);var R=N(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D));return R.cache={},R}return i(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(R,U){return U.length()===0?R:R.insert(U.value(),T(U))},new h.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(R,U){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,R,U),this.cache={}}},{key:"formatAt",value:function(R,U,I,L){U<=0||(f.default.query(I,f.default.Scope.BLOCK)?R+U===this.length()&&this.format(I,L):o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,R,Math.min(U,this.length()-R-1),I,L),this.cache={})}},{key:"insertAt",value:function(R,U,I){if(I!=null)return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,U,I);if(U.length!==0){var L=U.split(`
`),M=L.shift();M.length>0&&(R<this.length()-1||this.children.tail==null?o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),M):this.children.tail.insertAt(this.children.tail.length(),M),this.cache={});var $=this;L.reduce(function(F,O){return $=$.split(F,!0),$.insertAt(0,O),O.length},R+M.length)}}},{key:"insertBefore",value:function(R,U){var I=this.children.head;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,R,U),I instanceof p.default&&I.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(R,U){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,R,U),this.cache={}}},{key:"optimize",value:function(R){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(R===0||R>=this.length()-S)){var I=this.clone();return R===0?(this.parent.insertBefore(I,this),this):(this.parent.insertBefore(I,this.next),I)}else{var L=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,R,U);return this.cache={},L}}}]),A}(f.default.Block);E.blotName="block",E.tagName="P",E.defaultChild="break",E.allowedChildren=[b.default,f.default.Embed,x.default];function T(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _==null||(typeof _.formats=="function"&&(A=(0,c.default)(A,_.formats())),_.parent==null||_.parent.blotName=="scroll"||_.parent.statics.scope!==_.statics.scope)?A:T(_.parent,A)}r.bubbleFormats=T,r.BlockEmbed=C,r.default=E},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},o=function(){function $(F,O){var q=[],B=!0,z=!1,W=void 0;try{for(var P=F[Symbol.iterator](),V;!(B=(V=P.next()).done)&&(q.push(V.value),!(O&&q.length===O));B=!0);}catch(Y){z=!0,W=Y}finally{try{!B&&P.return&&P.return()}finally{if(z)throw W}}return q}return function(F,O){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return $(F,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function $(F,O){for(var q=0;q<O.length;q++){var B=O[q];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,O,q){return O&&$(F.prototype,O),q&&$(F,q),F}}();a(50);var c=a(2),u=T(c),h=a(14),d=T(h),f=a(8),m=T(f),p=a(9),g=T(p),b=a(0),v=T(b),x=a(15),w=T(x),j=a(3),N=T(j),k=a(10),S=T(k),C=a(34),E=T(C);function T($){return $&&$.__esModule?$:{default:$}}function _($,F,O){return F in $?Object.defineProperty($,F,{value:O,enumerable:!0,configurable:!0,writable:!0}):$[F]=O,$}function A($,F){if(!($ instanceof F))throw new TypeError("Cannot call a class as a function")}var D=(0,S.default)("quill"),R=function(){l($,null,[{key:"debug",value:function(O){O===!0&&(O="log"),S.default.level(O)}},{key:"find",value:function(O){return O.__quill||v.default.find(O)}},{key:"import",value:function(O){return this.imports[O]==null&&D.error("Cannot import "+O+". Are you sure it was registered?"),this.imports[O]}},{key:"register",value:function(O,q){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof O!="string"){var W=O.attrName||O.blotName;typeof W=="string"?this.register("formats/"+W,O,q):Object.keys(O).forEach(function(P){B.register(P,O[P],q)})}else this.imports[O]!=null&&!z&&D.warn("Overwriting "+O+" with",q),this.imports[O]=q,(O.startsWith("blots/")||O.startsWith("formats/"))&&q.blotName!=="abstract"?v.default.register(q):O.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function $(F){var O=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,$),this.options=U(F,q),this.container=this.options.container,this.container==null)return D.error("Invalid Quill container",F);this.options.debug&&$.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(W){W===m.default.events.TEXT_CHANGE&&O.root.classList.toggle("ql-blank",O.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(W,P){var V=O.selection.lastRange,Y=V&&V.length===0?V.index:void 0;I.call(O,function(){return O.editor.update(null,P,Y)},W)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l($,[{key:"addContainer",value:function(O){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof O=="string"){var B=O;O=document.createElement("div"),O.classList.add(B)}return this.container.insertBefore(O,q),O}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(O,q,B){var z=this,W=L(O,q,B),P=o(W,4);return O=P[0],q=P[1],B=P[3],I.call(this,function(){return z.editor.deleteText(O,q)},B,O,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(O),this.container.classList.toggle("ql-disabled",!O)}},{key:"focus",value:function(){var O=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=O,this.scrollIntoView()}},{key:"format",value:function(O,q){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return I.call(this,function(){var W=B.getSelection(!0),P=new u.default;if(W==null)return P;if(v.default.query(O,v.default.Scope.BLOCK))P=B.editor.formatLine(W.index,W.length,_({},O,q));else{if(W.length===0)return B.selection.format(O,q),P;P=B.editor.formatText(W.index,W.length,_({},O,q))}return B.setSelection(W,m.default.sources.SILENT),P},z)}},{key:"formatLine",value:function(O,q,B,z,W){var P=this,V=void 0,Y=L(O,q,B,z,W),J=o(Y,4);return O=J[0],q=J[1],V=J[2],W=J[3],I.call(this,function(){return P.editor.formatLine(O,q,V)},W,O,0)}},{key:"formatText",value:function(O,q,B,z,W){var P=this,V=void 0,Y=L(O,q,B,z,W),J=o(Y,4);return O=J[0],q=J[1],V=J[2],W=J[3],I.call(this,function(){return P.editor.formatText(O,q,V)},W,O,0)}},{key:"getBounds",value:function(O){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof O=="number"?B=this.selection.getBounds(O,q):B=this.selection.getBounds(O.index,O.length);var z=this.container.getBoundingClientRect();return{bottom:B.bottom-z.top,height:B.height,left:B.left-z.left,right:B.right-z.left,top:B.top-z.top,width:B.width}}},{key:"getContents",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-O,B=L(O,q),z=o(B,2);return O=z[0],q=z[1],this.editor.getContents(O,q)}},{key:"getFormat",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof O=="number"?this.editor.getFormat(O,q):this.editor.getFormat(O.index,O.length)}},{key:"getIndex",value:function(O){return O.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(O){return this.scroll.leaf(O)}},{key:"getLine",value:function(O){return this.scroll.line(O)}},{key:"getLines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof O!="number"?this.scroll.lines(O.index,O.length):this.scroll.lines(O,q)}},{key:"getModule",value:function(O){return this.theme.modules[O]}},{key:"getSelection",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return O&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-O,B=L(O,q),z=o(B,2);return O=z[0],q=z[1],this.editor.getText(O,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(O,q,B){var z=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$.sources.API;return I.call(this,function(){return z.editor.insertEmbed(O,q,B)},W,O)}},{key:"insertText",value:function(O,q,B,z,W){var P=this,V=void 0,Y=L(O,0,B,z,W),J=o(Y,4);return O=J[0],V=J[2],W=J[3],I.call(this,function(){return P.editor.insertText(O,q,V)},W,O,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(O,q,B){this.clipboard.dangerouslyPasteHTML(O,q,B)}},{key:"removeFormat",value:function(O,q,B){var z=this,W=L(O,q,B),P=o(W,4);return O=P[0],q=P[1],B=P[3],I.call(this,function(){return z.editor.removeFormat(O,q)},B,O)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(O){var q=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return I.call(this,function(){O=new u.default(O);var z=q.getLength(),W=q.editor.deleteText(0,z),P=q.editor.applyDelta(O),V=P.ops[P.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),P.delete(1));var Y=W.compose(P);return Y},B)}},{key:"setSelection",value:function(O,q,B){if(O==null)this.selection.setRange(null,q||$.sources.API);else{var z=L(O,q,B),W=o(z,4);O=W[0],q=W[1],B=W[3],this.selection.setRange(new x.Range(O,q),B),B!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(O){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,B=new u.default().insert(O);return this.setContents(B,q)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,q=this.scroll.update(O);return this.selection.update(O),q}},{key:"updateContents",value:function(O){var q=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return I.call(this,function(){return O=new u.default(O),q.editor.applyDelta(O,B)},B,!0)}}]),$}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=m.default.events,R.sources=m.default.sources,R.version="1.3.7",R.imports={delta:u.default,parchment:v.default,"core/module":g.default,"core/theme":E.default};function U($,F){if(F=(0,N.default)(!0,{container:$,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===R.DEFAULTS.theme)F.theme=E.default;else if(F.theme=R.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var O=(0,N.default)(!0,{},F.theme.DEFAULTS);[O,F].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(W){z.modules[W]===!0&&(z.modules[W]={})})});var q=Object.keys(O.modules).concat(Object.keys(F.modules)),B=q.reduce(function(z,W){var P=R.import("modules/"+W);return P==null?D.error("Cannot load "+W+" module. Are you sure you registered it?"):z[W]=P.DEFAULTS||{},z},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,N.default)(!0,{},R.DEFAULTS,{modules:B},O,F),["bounds","container","scrollingContainer"].forEach(function(z){typeof F[z]=="string"&&(F[z]=document.querySelector(F[z]))}),F.modules=Object.keys(F.modules).reduce(function(z,W){return F.modules[W]&&(z[W]=F.modules[W]),z},{}),F}function I($,F,O,q){if(this.options.strict&&!this.isEnabled()&&F===m.default.sources.USER)return new u.default;var B=O==null?null:this.getSelection(),z=this.editor.delta,W=$();if(B!=null&&(O===!0&&(O=B.index),q==null?B=M(B,W,F):q!==0&&(B=M(B,O,q,F)),this.setSelection(B,m.default.sources.SILENT)),W.length()>0){var P,V=[m.default.events.TEXT_CHANGE,W,z,F];if((P=this.emitter).emit.apply(P,[m.default.events.EDITOR_CHANGE].concat(V)),F!==m.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,V)}}return W}function L($,F,O,q,B){var z={};return typeof $.index=="number"&&typeof $.length=="number"?typeof F!="number"?(B=q,q=O,O=F,F=$.length,$=$.index):(F=$.length,$=$.index):typeof F!="number"&&(B=q,q=O,O=F,F=0),(typeof O>"u"?"undefined":i(O))==="object"?(z=O,B=q):typeof O=="string"&&(q!=null?z[O]=q:B=O),B=B||m.default.sources.API,[$,F,z,B]}function M($,F,O,q){if($==null)return null;var B=void 0,z=void 0;if(F instanceof u.default){var W=[$.index,$.index+$.length].map(function(J){return F.transformPosition(J,q!==m.default.sources.USER)}),P=o(W,2);B=P[0],z=P[1]}else{var V=[$.index,$.index+$.length].map(function(J){return J<F||J===F&&q===m.default.sources.USER?J:O>=0?J+O:Math.max(F,J+O)}),Y=o(V,2);B=Y[0],z=Y[1]}return new x.Range(B,z-B)}r.expandConfig=U,r.overload=L,r.default=R},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(v,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),o=function b(v,x,w){v===null&&(v=Function.prototype);var j=Object.getOwnPropertyDescriptor(v,x);if(j===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:b(N,x,w)}else{if("value"in j)return j.value;var k=j.get;return k===void 0?void 0:k.call(w)}},l=a(7),c=d(l),u=a(0),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function f(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function m(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function p(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var g=function(b){p(v,b);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"formatAt",value:function(w,j,N,k){if(v.compare(this.statics.blotName,N)<0&&h.default.query(N,h.default.Scope.BLOT)){var S=this.isolate(w,j);k&&S.wrap(N,k)}else o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,w,j,N,k)}},{key:"optimize",value:function(w){if(o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,w),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var j=this.parent.isolate(this.offset(),this.length());this.moveChildren(j),j.wrap(this)}}}],[{key:"compare",value:function(w,j){var N=v.order.indexOf(w),k=v.order.indexOf(j);return N>=0||k>=0?N-k:w===j?0:w<j?-1:1}}]),v}(h.default.Inline);g.allowedChildren=[g,h.default.Embed,c.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),o=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function u(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function h(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var d=function(f){h(m,f);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default.Text);r.default=d},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function x(w,j){for(var N=0;N<j.length;N++){var k=j[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,j,N){return j&&x(w.prototype,j),N&&x(w,N),w}}(),o=function x(w,j,N){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,j);if(k===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:x(S,j,N)}else{if("value"in k)return k.value;var C=k.get;return C===void 0?void 0:C.call(N)}},l=a(54),c=d(l),u=a(10),h=d(u);function d(x){return x&&x.__esModule?x:{default:x}}function f(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function m(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function p(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var g=(0,h.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,j=Array(w),N=0;N<w;N++)j[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var S;(S=k.__quill.emitter).handleDOM.apply(S,j)}})})});var v=function(x){p(w,x);function w(){f(this,w);var j=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return j.listeners={},j.on("error",g.error),j}return i(w,[{key:"emit",value:function(){g.log.apply(g,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var k=arguments.length,S=Array(k>1?k-1:0),C=1;C<k;C++)S[C-1]=arguments[C];(this.listeners[N.type]||[]).forEach(function(E){var T=E.node,_=E.handler;(N.target===T||T.contains(N.target))&&_.apply(void 0,[N].concat(S))})}},{key:"listenDOM",value:function(N,k,S){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:k,handler:S})}}]),w}(c.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=c,this.options=u};o.DEFAULTS={},r.default=o},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function l(u){if(i.indexOf(u)<=i.indexOf(o)){for(var h,d=arguments.length,f=Array(d>1?d-1:0),m=1;m<d;m++)f[m-1]=arguments[m];(h=console)[u].apply(h,f)}}function c(u){return i.reduce(function(h,d){return h[d]=l.bind(console,d,u),h},{})}l.level=c.level=function(u){o=u},r.default=c},function(s,r,a){var i=Array.prototype.slice,o=a(52),l=a(53),c=s.exports=function(f,m,p){return p||(p={}),f===m?!0:f instanceof Date&&m instanceof Date?f.getTime()===m.getTime():!f||!m||typeof f!="object"&&typeof m!="object"?p.strict?f===m:f==m:d(f,m,p)};function u(f){return f==null}function h(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function d(f,m,p){var g,b;if(u(f)||u(m)||f.prototype!==m.prototype)return!1;if(l(f))return l(m)?(f=i.call(f),m=i.call(m),c(f,m,p)):!1;if(h(f)){if(!h(m)||f.length!==m.length)return!1;for(g=0;g<f.length;g++)if(f[g]!==m[g])return!1;return!0}try{var v=o(f),x=o(m)}catch{return!1}if(v.length!=x.length)return!1;for(v.sort(),x.sort(),g=v.length-1;g>=0;g--)if(v[g]!=x[g])return!1;for(g=v.length-1;g>=0;g--)if(b=v[g],!c(f[b],m[b],p))return!1;return typeof f==typeof m}},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),o=function(){function l(c,u,h){h===void 0&&(h={}),this.attrName=c,this.keyName=u;var d=i.Scope.TYPE&i.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&i.Scope.LEVEL|d:this.scope=i.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var h=i.query(c,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();r.default=o},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var i=function(){function C(E,T){var _=[],A=!0,D=!1,R=void 0;try{for(var U=E[Symbol.iterator](),I;!(A=(I=U.next()).done)&&(_.push(I.value),!(T&&_.length===T));A=!0);}catch(L){D=!0,R=L}finally{try{!A&&U.return&&U.return()}finally{if(D)throw R}}return _}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return C(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(E,T){for(var _=0;_<T.length;_++){var A=T[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,_){return T&&C(E.prototype,T),_&&C(E,_),E}}(),l=function C(E,T,_){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,T);if(A===void 0){var D=Object.getPrototypeOf(E);return D===null?void 0:C(D,T,_)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(_)}},c=a(2),u=x(c),h=a(0),d=x(h),f=a(4),m=x(f),p=a(6),g=x(p),b=a(7),v=x(b);function x(C){return C&&C.__esModule?C:{default:C}}function w(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function j(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function N(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var k=function(C){N(E,C);function E(){return w(this,E),j(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E}(g.default);k.blotName="code",k.tagName="CODE";var S=function(C){N(E,C);function E(){return w(this,E),j(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"delta",value:function(){var _=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(D,R){return D.insert(R).insert(`
`,_.formats())},new u.default)}},{key:"format",value:function(_,A){if(!(_===this.statics.blotName&&A)){var D=this.descendant(v.default,this.length()-1),R=i(D,1),U=R[0];U!=null&&U.deleteAt(U.length()-1,1),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,_,A)}}},{key:"formatAt",value:function(_,A,D,R){if(A!==0&&!(d.default.query(D,d.default.Scope.BLOCK)==null||D===this.statics.blotName&&R===this.statics.formats(this.domNode))){var U=this.newlineIndex(_);if(!(U<0||U>=_+A)){var I=this.newlineIndex(_,!0)+1,L=U-I+1,M=this.isolate(I,L),$=M.next;M.format(D,R),$ instanceof E&&$.formatAt(0,_-I+A-L,D,R)}}}},{key:"insertAt",value:function(_,A,D){if(D==null){var R=this.descendant(v.default,_),U=i(R,2),I=U[0],L=U[1];I.insertAt(L,A)}}},{key:"length",value:function(){var _=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?_:_+1}},{key:"newlineIndex",value:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,_).lastIndexOf(`
`);var D=this.domNode.textContent.slice(_).indexOf(`
`);return D>-1?_+D:-1}},{key:"optimize",value:function(_){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,_);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(_),A.moveChildren(this),A.remove())}},{key:"replace",value:function(_){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,_),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var D=d.default.find(A);D==null?A.parentNode.removeChild(A):D instanceof d.default.Embed?D.remove():D.unwrap()})}}],[{key:"create",value:function(_){var A=l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,_);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),E}(m.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=k,r.default=S},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},o=function(){function $(F,O){var q=[],B=!0,z=!1,W=void 0;try{for(var P=F[Symbol.iterator](),V;!(B=(V=P.next()).done)&&(q.push(V.value),!(O&&q.length===O));B=!0);}catch(Y){z=!0,W=Y}finally{try{!B&&P.return&&P.return()}finally{if(z)throw W}}return q}return function(F,O){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return $(F,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function $(F,O){for(var q=0;q<O.length;q++){var B=O[q];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,O,q){return O&&$(F.prototype,O),q&&$(F,q),F}}(),c=a(2),u=A(c),h=a(20),d=A(h),f=a(0),m=A(f),p=a(13),g=A(p),b=a(24),v=A(b),x=a(4),w=A(x),j=a(16),N=A(j),k=a(21),S=A(k),C=a(11),E=A(C),T=a(3),_=A(T);function A($){return $&&$.__esModule?$:{default:$}}function D($,F,O){return F in $?Object.defineProperty($,F,{value:O,enumerable:!0,configurable:!0,writable:!0}):$[F]=O,$}function R($,F){if(!($ instanceof F))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,I=function(){function $(F){R(this,$),this.scroll=F,this.delta=this.getDelta()}return l($,[{key:"applyDelta",value:function(O){var q=this,B=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),O=M(O),O.reduce(function(W,P){var V=P.retain||P.delete||P.insert.length||1,Y=P.attributes||{};if(P.insert!=null){if(typeof P.insert=="string"){var J=P.insert;J.endsWith(`
`)&&B&&(B=!1,J=J.slice(0,-1)),W>=z&&!J.endsWith(`
`)&&(B=!0),q.scroll.insertAt(W,J);var te=q.scroll.line(W),ie=o(te,2),de=ie[0],G=ie[1],X=(0,_.default)({},(0,x.bubbleFormats)(de));if(de instanceof w.default){var le=de.descendant(m.default.Leaf,G),Ne=o(le,1),Re=Ne[0];X=(0,_.default)(X,(0,x.bubbleFormats)(Re))}Y=d.default.attributes.diff(X,Y)||{}}else if(i(P.insert)==="object"){var oe=Object.keys(P.insert)[0];if(oe==null)return W;q.scroll.insertAt(W,oe,P.insert[oe])}z+=V}return Object.keys(Y).forEach(function(ae){q.scroll.formatAt(W,V,ae,Y[ae])}),W+V},0),O.reduce(function(W,P){return typeof P.delete=="number"?(q.scroll.deleteAt(W,P.delete),W):W+(P.retain||P.insert.length||1)},0),this.scroll.batchEnd(),this.update(O)}},{key:"deleteText",value:function(O,q){return this.scroll.deleteAt(O,q),this.update(new u.default().retain(O).delete(q))}},{key:"formatLine",value:function(O,q){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(W){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[W])){var P=B.scroll.lines(O,Math.max(q,1)),V=q;P.forEach(function(Y){var J=Y.length();if(!(Y instanceof g.default))Y.format(W,z[W]);else{var te=O-Y.offset(B.scroll),ie=Y.newlineIndex(te+V)-te+1;Y.formatAt(te,ie,W,z[W])}V-=J})}}),this.scroll.optimize(),this.update(new u.default().retain(O).retain(q,(0,S.default)(z)))}},{key:"formatText",value:function(O,q){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(W){B.scroll.formatAt(O,q,W,z[W])}),this.update(new u.default().retain(O).retain(q,(0,S.default)(z)))}},{key:"getContents",value:function(O,q){return this.delta.slice(O,O+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(O,q){return O.concat(q.delta())},new u.default)}},{key:"getFormat",value:function(O){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],z=[];q===0?this.scroll.path(O).forEach(function(P){var V=o(P,1),Y=V[0];Y instanceof w.default?B.push(Y):Y instanceof m.default.Leaf&&z.push(Y)}):(B=this.scroll.lines(O,q),z=this.scroll.descendants(m.default.Leaf,O,q));var W=[B,z].map(function(P){if(P.length===0)return{};for(var V=(0,x.bubbleFormats)(P.shift());Object.keys(V).length>0;){var Y=P.shift();if(Y==null)return V;V=L((0,x.bubbleFormats)(Y),V)}return V});return _.default.apply(_.default,W)}},{key:"getText",value:function(O,q){return this.getContents(O,q).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(O,q,B){return this.scroll.insertAt(O,q,B),this.update(new u.default().retain(O).insert(D({},q,B)))}},{key:"insertText",value:function(O,q){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(O,q),Object.keys(z).forEach(function(W){B.scroll.formatAt(O,q.length,W,z[W])}),this.update(new u.default().retain(O).insert(q,(0,S.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var O=this.scroll.children.head;return O.statics.blotName!==w.default.blotName||O.children.length>1?!1:O.children.head instanceof N.default}},{key:"removeFormat",value:function(O,q){var B=this.getText(O,q),z=this.scroll.line(O+q),W=o(z,2),P=W[0],V=W[1],Y=0,J=new u.default;P!=null&&(P instanceof g.default?Y=P.newlineIndex(V)-V+1:Y=P.length()-V,J=P.delta().slice(V,V+Y-1).insert(`
`));var te=this.getContents(O,q+Y),ie=te.diff(new u.default().insert(B).concat(J)),de=new u.default().retain(O).concat(ie);return this.applyDelta(de)}},{key:"update",value:function(O){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(U)&&m.default.find(q[0].target)){var W=m.default.find(q[0].target),P=(0,x.bubbleFormats)(W),V=W.offset(this.scroll),Y=q[0].oldValue.replace(v.default.CONTENTS,""),J=new u.default().insert(Y),te=new u.default().insert(W.value()),ie=new u.default().retain(V).concat(J.diff(te,B));O=ie.reduce(function(de,G){return G.insert?de.insert(G.insert,P):de.push(G)},new u.default),this.delta=z.compose(O)}else this.delta=this.getDelta(),(!O||!(0,E.default)(z.compose(O),this.delta))&&(O=z.diff(this.delta,B));return O}}]),$}();function L($,F){return Object.keys(F).reduce(function(O,q){return $[q]==null||(F[q]===$[q]?O[q]=F[q]:Array.isArray(F[q])?F[q].indexOf($[q])<0&&(O[q]=F[q].concat([$[q]])):O[q]=[F[q],$[q]]),O},{})}function M($){return $.reduce(function(F,O){if(O.insert===1){var q=(0,S.default)(O.attributes);return delete q.image,F.insert({image:O.attributes.image},q)}if(O.attributes!=null&&(O.attributes.list===!0||O.attributes.bullet===!0)&&(O=(0,S.default)(O),O.attributes.list?O.attributes.list="ordered":(O.attributes.list="bullet",delete O.attributes.bullet)),typeof O.insert=="string"){var B=O.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(B,O.attributes)}return F.push(O)},new u.default)}r.default=I},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var i=function(){function C(E,T){var _=[],A=!0,D=!1,R=void 0;try{for(var U=E[Symbol.iterator](),I;!(A=(I=U.next()).done)&&(_.push(I.value),!(T&&_.length===T));A=!0);}catch(L){D=!0,R=L}finally{try{!A&&U.return&&U.return()}finally{if(D)throw R}}return _}return function(E,T){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return C(E,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(E,T){for(var _=0;_<T.length;_++){var A=T[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,_){return T&&C(E.prototype,T),_&&C(E,_),E}}(),l=a(0),c=v(l),u=a(21),h=v(u),d=a(11),f=v(d),m=a(8),p=v(m),g=a(10),b=v(g);function v(C){return C&&C.__esModule?C:{default:C}}function x(C){if(Array.isArray(C)){for(var E=0,T=Array(C.length);E<C.length;E++)T[E]=C[E];return T}else return Array.from(C)}function w(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}var j=(0,b.default)("quill:selection"),N=function C(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,C),this.index=E,this.length=T},k=function(){function C(E,T){var _=this;w(this,C),this.emitter=T,this.scroll=E,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){_.mouseDown||setTimeout(_.update.bind(_,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(A,D){A===p.default.events.TEXT_CHANGE&&D.length()>0&&_.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(_.hasFocus()){var A=_.getNativeRange();A!=null&&A.start.node!==_.cursor.textNode&&_.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{_.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(A,D){if(D.range){var R=D.range,U=R.startNode,I=R.startOffset,L=R.endNode,M=R.endOffset;_.setNativeRange(U,I,L,M)}}),this.update(p.default.sources.SILENT)}return o(C,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var _=T.cursor.restore();if(!_)return;setTimeout(function(){T.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,_){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||c.default.query(T,c.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var D=c.default.find(A.start.node,!1);if(D==null)return;if(D instanceof c.default.Leaf){var R=D.split(A.start.offset);D.parent.insertBefore(this.cursor,R)}else D.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(T,_),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();T=Math.min(T,A-1),_=Math.min(T+_,A-1)-T;var D=void 0,R=this.scroll.leaf(T),U=i(R,2),I=U[0],L=U[1];if(I==null)return null;var M=I.position(L,!0),$=i(M,2);D=$[0],L=$[1];var F=document.createRange();if(_>0){F.setStart(D,L);var O=this.scroll.leaf(T+_),q=i(O,2);if(I=q[0],L=q[1],I==null)return null;var B=I.position(L,!0),z=i(B,2);return D=z[0],L=z[1],F.setEnd(D,L),F.getBoundingClientRect()}else{var W="left",P=void 0;return D instanceof Text?(L<D.data.length?(F.setStart(D,L),F.setEnd(D,L+1)):(F.setStart(D,L-1),F.setEnd(D,L),W="right"),P=F.getBoundingClientRect()):(P=I.domNode.getBoundingClientRect(),L>0&&(W="right")),{bottom:P.top+P.height,height:P.height,left:P[W],right:P[W],top:P.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var _=T.getRangeAt(0);if(_==null)return null;var A=this.normalizeNative(_);return j.info("getNativeRange",A),A}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var _=this.normalizedToRange(T);return[_,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var _=this,A=[[T.start.node,T.start.offset]];T.native.collapsed||A.push([T.end.node,T.end.offset]);var D=A.map(function(I){var L=i(I,2),M=L[0],$=L[1],F=c.default.find(M,!0),O=F.offset(_.scroll);return $===0?O:F instanceof c.default.Container?O+F.length():O+F.index(M,$)}),R=Math.min(Math.max.apply(Math,x(D)),this.scroll.length()-1),U=Math.min.apply(Math,[R].concat(x(D)));return new N(U,R-U)}},{key:"normalizeNative",value:function(T){if(!S(this.root,T.startContainer)||!T.collapsed&&!S(this.root,T.endContainer))return null;var _={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[_.start,_.end].forEach(function(A){for(var D=A.node,R=A.offset;!(D instanceof Text)&&D.childNodes.length>0;)if(D.childNodes.length>R)D=D.childNodes[R],R=0;else if(D.childNodes.length===R)D=D.lastChild,R=D instanceof Text?D.data.length:D.childNodes.length+1;else break;A.node=D,A.offset=R}),_}},{key:"rangeToNative",value:function(T){var _=this,A=T.collapsed?[T.index]:[T.index,T.index+T.length],D=[],R=this.scroll.length();return A.forEach(function(U,I){U=Math.min(R-1,U);var L=void 0,M=_.scroll.leaf(U),$=i(M,2),F=$[0],O=$[1],q=F.position(O,I!==0),B=i(q,2);L=B[0],O=B[1],D.push(L,O)}),D.length<2&&(D=D.concat(D)),D}},{key:"scrollIntoView",value:function(T){var _=this.lastRange;if(_!=null){var A=this.getBounds(_.index,_.length);if(A!=null){var D=this.scroll.length()-1,R=this.scroll.line(Math.min(_.index,D)),U=i(R,1),I=U[0],L=I;if(_.length>0){var M=this.scroll.line(Math.min(_.index+_.length,D)),$=i(M,1);L=$[0]}if(!(I==null||L==null)){var F=T.getBoundingClientRect();A.top<F.top?T.scrollTop-=F.top-A.top:A.bottom>F.bottom&&(T.scrollTop+=A.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(T,_){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(j.info("setNativeRange",T,_,A,D),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||A.parentNode==null))){var U=document.getSelection();if(U!=null)if(T!=null){this.hasFocus()||this.root.focus();var I=(this.getNativeRange()||{}).native;if(I==null||R||T!==I.startContainer||_!==I.startOffset||A!==I.endContainer||D!==I.endOffset){T.tagName=="BR"&&(_=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),A.tagName=="BR"&&(D=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var L=document.createRange();L.setStart(T,_),L.setEnd(A,D),U.removeAllRanges(),U.addRange(L)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof _=="string"&&(A=_,_=!1),j.info("setRange",T),T!=null){var D=this.rangeToNative(T);this.setNativeRange.apply(this,x(D).concat([_]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,_=this.lastRange,A=this.getRange(),D=i(A,2),R=D[0],U=D[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(_,this.lastRange)){var I;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var L=[p.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(_),T];if((I=this.emitter).emit.apply(I,[p.default.events.EDITOR_CHANGE].concat(L)),T!==p.default.sources.SILENT){var M;(M=this.emitter).emit.apply(M,L)}}}}]),C}();function S(C,E){try{E.parentNode}catch{return!1}return E instanceof Text&&(E=E.parentNode),C.contains(E)}r.Range=N,r.default=k},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(g,b){for(var v=0;v<b.length;v++){var x=b[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,v){return b&&p(g.prototype,b),v&&p(g,v),g}}(),o=function p(g,b,v){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,b);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,b,v)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(v)}},l=a(0),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){f(g,p);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"insertInto",value:function(v,x){v.children.length===0?o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,v,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(c.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(s,r,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var p in m)m.hasOwnProperty(p)&&(f[p]=m[p])};return function(f,m){d(f,m);function p(){this.constructor=f}f.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(44),l=a(30),c=a(1),u=function(d){i(f,d);function f(m){var p=d.call(this,m)||this;return p.build(),p}return f.prototype.appendChild=function(m){this.insertBefore(m)},f.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},f.prototype.build=function(){var m=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var g=h(p);m.insertBefore(g,m.children.head||void 0)}catch(b){if(b instanceof c.ParchmentError)return;throw b}})},f.prototype.deleteAt=function(m,p){if(m===0&&p===this.length())return this.remove();this.children.forEachAt(m,p,function(g,b,v){g.deleteAt(b,v)})},f.prototype.descendant=function(m,p){var g=this.children.find(p),b=g[0],v=g[1];return m.blotName==null&&m(b)||m.blotName!=null&&b instanceof m?[b,v]:b instanceof f?b.descendant(m,v):[null,-1]},f.prototype.descendants=function(m,p,g){p===void 0&&(p=0),g===void 0&&(g=Number.MAX_VALUE);var b=[],v=g;return this.children.forEachAt(p,g,function(x,w,j){(m.blotName==null&&m(x)||m.blotName!=null&&x instanceof m)&&b.push(x),x instanceof f&&(b=b.concat(x.descendants(m,w,v))),v-=j}),b},f.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),d.prototype.detach.call(this)},f.prototype.formatAt=function(m,p,g,b){this.children.forEachAt(m,p,function(v,x,w){v.formatAt(x,w,g,b)})},f.prototype.insertAt=function(m,p,g){var b=this.children.find(m),v=b[0],x=b[1];if(v)v.insertAt(x,p,g);else{var w=g==null?c.create("text",p):c.create(p,g);this.appendChild(w)}},f.prototype.insertBefore=function(m,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return m instanceof g}))throw new c.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,p)},f.prototype.length=function(){return this.children.reduce(function(m,p){return m+p.length()},0)},f.prototype.moveChildren=function(m,p){this.children.forEach(function(g){m.insertBefore(g,p)})},f.prototype.optimize=function(m){if(d.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var p=c.create(this.statics.defaultChild);this.appendChild(p),p.optimize(m)}else this.remove()},f.prototype.path=function(m,p){p===void 0&&(p=!1);var g=this.children.find(m,p),b=g[0],v=g[1],x=[[this,m]];return b instanceof f?x.concat(b.path(v,p)):(b!=null&&x.push([b,v]),x)},f.prototype.removeChild=function(m){this.children.remove(m)},f.prototype.replace=function(m){m instanceof f&&m.moveChildren(this),d.prototype.replace.call(this,m)},f.prototype.split=function(m,p){if(p===void 0&&(p=!1),!p){if(m===0)return this;if(m===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(m,this.length(),function(b,v,x){b=b.split(v,p),g.appendChild(b)}),g},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(m,p){var g=this,b=[],v=[];m.forEach(function(x){x.target===g.domNode&&x.type==="childList"&&(b.push.apply(b,x.addedNodes),v.push.apply(v,x.removedNodes))}),v.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=c.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===g.domNode)&&w.detach()}}),b.filter(function(x){return x.parentNode==g.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=c.find(x.nextSibling));var j=h(x);(j.next!=w||j.next==null)&&(j.parent!=null&&j.parent.removeChild(g),g.insertBefore(j,w||void 0))})},f}(l.default);function h(d){var f=c.find(d);if(f==null)try{f=c.create(d)}catch{f=c.create(c.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(p){f.domNode.appendChild(p)}),d.parentNode&&d.parentNode.replaceChild(f.domNode,d),f.attach()}return f}r.default=u},function(s,r,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var p in m)m.hasOwnProperty(p)&&(f[p]=m[p])};return function(f,m){d(f,m);function p(){this.constructor=f}f.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(12),l=a(31),c=a(17),u=a(1),h=function(d){i(f,d);function f(m){var p=d.call(this,m)||this;return p.attributes=new l.default(p.domNode),p}return f.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},f.prototype.format=function(m,p){var g=u.query(m);g instanceof o.default?this.attributes.attribute(g,p):p&&g!=null&&(m!==this.statics.blotName||this.formats()[m]!==p)&&this.replaceWith(m,p)},f.prototype.formats=function(){var m=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(m[this.statics.blotName]=p),m},f.prototype.replaceWith=function(m,p){var g=d.prototype.replaceWith.call(this,m,p);return this.attributes.copy(g),g},f.prototype.update=function(m,p){var g=this;d.prototype.update.call(this,m,p),m.some(function(b){return b.target===g.domNode&&b.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(m,p){var g=d.prototype.wrap.call(this,m,p);return g instanceof f&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},f}(c.default);r.default=h},function(s,r,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(30),l=a(1),c=function(u){i(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(d){return!0},h.prototype.index=function(d,f){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},h.prototype.position=function(d,f){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(m+=1),[this.parent.domNode,m]},h.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},h.scope=l.Scope.INLINE_BLOT,h}(o.default);r.default=c},function(s,r,a){var i=a(11),o=a(3),l={attributes:{compose:function(u,h,d){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=o(!0,{},h);d||(f=Object.keys(f).reduce(function(p,g){return f[g]!=null&&(p[g]=f[g]),p},{}));for(var m in u)u[m]!==void 0&&h[m]===void 0&&(f[m]=u[m]);return Object.keys(f).length>0?f:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=Object.keys(u).concat(Object.keys(h)).reduce(function(f,m){return i(u[m],h[m])||(f[m]=h[m]===void 0?null:h[m]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,h,d){if(typeof u!="object")return h;if(typeof h=="object"){if(!d)return h;var f=Object.keys(h).reduce(function(m,p){return u[p]===void 0&&(m[p]=h[p]),m},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var d=this.offset,f=l.length(h);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var m={};return h.attributes&&(m.attributes=h.attributes),typeof h.retain=="number"?m.retain=u:typeof h.insert=="string"?m.insert=h.insert.substr(d,u):m.insert=h.insert,m}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=h,[d].concat(f)}else return[]},s.exports=l},function(s,r){var a=function(){function i(g,b){return b!=null&&g instanceof b}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(g,b,v,x,w){typeof b=="object"&&(v=b.depth,x=b.prototype,w=b.includeNonEnumerable,b=b.circular);var j=[],N=[],k=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof v>"u"&&(v=1/0);function S(C,E){if(C===null)return null;if(E===0)return C;var T,_;if(typeof C!="object")return C;if(i(C,o))T=new o;else if(i(C,l))T=new l;else if(i(C,c))T=new c(function(F,O){C.then(function(q){F(S(q,E-1))},function(q){O(S(q,E-1))})});else if(u.__isArray(C))T=[];else if(u.__isRegExp(C))T=new RegExp(C.source,p(C)),C.lastIndex&&(T.lastIndex=C.lastIndex);else if(u.__isDate(C))T=new Date(C.getTime());else{if(k&&Buffer.isBuffer(C))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(C.length):T=new Buffer(C.length),C.copy(T),T;i(C,Error)?T=Object.create(C):typeof x>"u"?(_=Object.getPrototypeOf(C),T=Object.create(_)):(T=Object.create(x),_=x)}if(b){var A=j.indexOf(C);if(A!=-1)return N[A];j.push(C),N.push(T)}i(C,o)&&C.forEach(function(F,O){var q=S(O,E-1),B=S(F,E-1);T.set(q,B)}),i(C,l)&&C.forEach(function(F){var O=S(F,E-1);T.add(O)});for(var D in C){var R;_&&(R=Object.getOwnPropertyDescriptor(_,D)),!(R&&R.set==null)&&(T[D]=S(C[D],E-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(C),D=0;D<U.length;D++){var I=U[D],L=Object.getOwnPropertyDescriptor(C,I);L&&!L.enumerable&&!w||(T[I]=S(C[I],E-1),L.enumerable||Object.defineProperty(T,I,{enumerable:!1}))}if(w)for(var M=Object.getOwnPropertyNames(C),D=0;D<M.length;D++){var $=M[D],L=Object.getOwnPropertyDescriptor(C,$);L&&L.enumerable||(T[$]=S(C[$],E-1),Object.defineProperty(T,$,{enumerable:!1}))}return T}return S(g,v)}u.clonePrototype=function(b){if(b===null)return null;var v=function(){};return v.prototype=b,new v};function h(g){return Object.prototype.toString.call(g)}u.__objToStr=h;function d(g){return typeof g=="object"&&h(g)==="[object Date]"}u.__isDate=d;function f(g){return typeof g=="object"&&h(g)==="[object Array]"}u.__isArray=f;function m(g){return typeof g=="object"&&h(g)==="[object RegExp]"}u.__isRegExp=m;function p(g){var b="";return g.global&&(b+="g"),g.ignoreCase&&(b+="i"),g.multiline&&(b+="m"),b}return u.__getRegExpFlags=p,u}();typeof s=="object"&&s.exports&&(s.exports=a)},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function T(_,A){var D=[],R=!0,U=!1,I=void 0;try{for(var L=_[Symbol.iterator](),M;!(R=(M=L.next()).done)&&(D.push(M.value),!(A&&D.length===A));R=!0);}catch($){U=!0,I=$}finally{try{!R&&L.return&&L.return()}finally{if(U)throw I}}return D}return function(_,A){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return T(_,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(_,A){for(var D=0;D<A.length;D++){var R=A[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,A,D){return A&&T(_.prototype,A),D&&T(_,D),_}}(),l=function T(_,A,D){_===null&&(_=Function.prototype);var R=Object.getOwnPropertyDescriptor(_,A);if(R===void 0){var U=Object.getPrototypeOf(_);return U===null?void 0:T(U,A,D)}else{if("value"in R)return R.value;var I=R.get;return I===void 0?void 0:I.call(D)}},c=a(0),u=j(c),h=a(8),d=j(h),f=a(4),m=j(f),p=a(16),g=j(p),b=a(13),v=j(b),x=a(25),w=j(x);function j(T){return T&&T.__esModule?T:{default:T}}function N(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function k(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function S(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}function C(T){return T instanceof m.default||T instanceof f.BlockEmbed}var E=function(T){S(_,T);function _(A,D){N(this,_);var R=k(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A));return R.emitter=D.emitter,Array.isArray(D.whitelist)&&(R.whitelist=D.whitelist.reduce(function(U,I){return U[I]=!0,U},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return o(_,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(D,R){var U=this.line(D),I=i(U,2),L=I[0],M=I[1],$=this.line(D+R),F=i($,1),O=F[0];if(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,D,R),O!=null&&L!==O&&M>0){if(L instanceof f.BlockEmbed||O instanceof f.BlockEmbed){this.optimize();return}if(L instanceof v.default){var q=L.newlineIndex(L.length(),!0);if(q>-1&&(L=L.split(q+1),L===O)){this.optimize();return}}else if(O instanceof v.default){var B=O.newlineIndex(0);B>-1&&O.split(B+1)}var z=O.children.head instanceof g.default?null:O.children.head;L.moveChildren(O,z),L.remove()}this.optimize()}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",D)}},{key:"formatAt",value:function(D,R,U,I){this.whitelist!=null&&!this.whitelist[U]||(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,D,R,U,I),this.optimize())}},{key:"insertAt",value:function(D,R,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[R])){if(D>=this.length())if(U==null||u.default.query(R,u.default.Scope.BLOCK)==null){var I=u.default.create(this.statics.defaultChild);this.appendChild(I),U==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),I.insertAt(0,R,U)}else{var L=u.default.create(R,U);this.appendChild(L)}else l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,D,R,U);this.optimize()}}},{key:"insertBefore",value:function(D,R){if(D.statics.scope===u.default.Scope.INLINE_BLOT){var U=u.default.create(this.statics.defaultChild);U.appendChild(D),D=U}l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,D,R)}},{key:"leaf",value:function(D){return this.path(D).pop()||[null,-1]}},{key:"line",value:function(D){return D===this.length()?this.line(D-1):this.descendant(C,D)}},{key:"lines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function I(L,M,$){var F=[],O=$;return L.children.forEachAt(M,$,function(q,B,z){C(q)?F.push(q):q instanceof u.default.Container&&(F=F.concat(I(q,B,O))),O-=z}),F};return U(this,D,R)}},{key:"optimize",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,D,R),D.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,D,R))}},{key:"path",value:function(D){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,D).slice(1)}},{key:"update",value:function(D){if(this.batch!==!0){var R=d.default.sources.USER;typeof D=="string"&&(R=D),Array.isArray(D)||(D=this.observer.takeRecords()),D.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,R,D),l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"update",this).call(this,D.concat([])),D.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,R,D)}}}]),_}(u.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[m.default,f.BlockEmbed,w.default],r.default=E},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},o=function(){function P(V,Y){var J=[],te=!0,ie=!1,de=void 0;try{for(var G=V[Symbol.iterator](),X;!(te=(X=G.next()).done)&&(J.push(X.value),!(Y&&J.length===Y));te=!0);}catch(le){ie=!0,de=le}finally{try{!te&&G.return&&G.return()}finally{if(ie)throw de}}return J}return function(V,Y){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return P(V,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function P(V,Y){for(var J=0;J<Y.length;J++){var te=Y[J];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(V,te.key,te)}}return function(V,Y,J){return Y&&P(V.prototype,Y),J&&P(V,J),V}}(),c=a(21),u=T(c),h=a(11),d=T(h),f=a(3),m=T(f),p=a(2),g=T(p),b=a(20),v=T(b),x=a(0),w=T(x),j=a(5),N=T(j),k=a(10),S=T(k),C=a(9),E=T(C);function T(P){return P&&P.__esModule?P:{default:P}}function _(P,V,Y){return V in P?Object.defineProperty(P,V,{value:Y,enumerable:!0,configurable:!0,writable:!0}):P[V]=Y,P}function A(P,V){if(!(P instanceof V))throw new TypeError("Cannot call a class as a function")}function D(P,V){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:P}function R(P,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);P.prototype=Object.create(V&&V.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(P,V):P.__proto__=V)}var U=(0,S.default)("quill:keyboard"),I=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",L=function(P){R(V,P),l(V,null,[{key:"match",value:function(J,te){return te=W(te),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ie){return!!te[ie]!==J[ie]&&te[ie]!==null})?!1:te.key===(J.which||J.keyCode)}}]);function V(Y,J){A(this,V);var te=D(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,Y,J));return te.bindings={},Object.keys(te.options.bindings).forEach(function(ie){ie==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||te.options.bindings[ie]&&te.addBinding(te.options.bindings[ie])}),te.addBinding({key:V.keys.ENTER,shiftKey:null},q),te.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(te.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},$),te.addBinding({key:V.keys.DELETE},{collapsed:!0},F)):(te.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},$),te.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),te.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},O),te.addBinding({key:V.keys.DELETE},{collapsed:!1},O),te.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},$),te.listen(),te}return l(V,[{key:"addBinding",value:function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},de=W(J);if(de==null||de.key==null)return U.warn("Attempted to add invalid keyboard binding",de);typeof te=="function"&&(te={handler:te}),typeof ie=="function"&&(ie={handler:ie}),de=(0,m.default)(de,te,ie),this.bindings[de.key]=this.bindings[de.key]||[],this.bindings[de.key].push(de)}},{key:"listen",value:function(){var J=this;this.quill.root.addEventListener("keydown",function(te){if(!te.defaultPrevented){var ie=te.which||te.keyCode,de=(J.bindings[ie]||[]).filter(function(Ct){return V.match(te,Ct)});if(de.length!==0){var G=J.quill.getSelection();if(!(G==null||!J.quill.hasFocus())){var X=J.quill.getLine(G.index),le=o(X,2),Ne=le[0],Re=le[1],oe=J.quill.getLeaf(G.index),ae=o(oe,2),K=ae[0],Z=ae[1],Q=G.length===0?[K,Z]:J.quill.getLeaf(G.index+G.length),pe=o(Q,2),me=pe[0],ce=pe[1],Se=K instanceof w.default.Text?K.value().slice(0,Z):"",He=me instanceof w.default.Text?me.value().slice(ce):"",Ve={collapsed:G.length===0,empty:G.length===0&&Ne.length()<=1,format:J.quill.getFormat(G),offset:Re,prefix:Se,suffix:He},xn=de.some(function(Ct){if(Ct.collapsed!=null&&Ct.collapsed!==Ve.collapsed||Ct.empty!=null&&Ct.empty!==Ve.empty||Ct.offset!=null&&Ct.offset!==Ve.offset)return!1;if(Array.isArray(Ct.format)){if(Ct.format.every(function(Ot){return Ve.format[Ot]==null}))return!1}else if(i(Ct.format)==="object"&&!Object.keys(Ct.format).every(function(Ot){return Ct.format[Ot]===!0?Ve.format[Ot]!=null:Ct.format[Ot]===!1?Ve.format[Ot]==null:(0,d.default)(Ct.format[Ot],Ve.format[Ot])}))return!1;return Ct.prefix!=null&&!Ct.prefix.test(Ve.prefix)||Ct.suffix!=null&&!Ct.suffix.test(Ve.suffix)?!1:Ct.handler.call(J,G,Ve)!==!0});xn&&te.preventDefault()}}}})}}]),V}(E.default);L.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},L.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:L.keys.TAB,format:["blockquote","indent","list"],handler:function(V,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:L.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:L.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,Y){Y.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:L.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,N.default.sources.USER)}},tab:{key:L.keys.TAB,handler:function(V){this.quill.history.cutoff();var Y=new g.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(Y,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,N.default.sources.SILENT)}},"list empty enter":{key:L.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,Y){this.quill.format("list",!1,N.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:L.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var Y=this.quill.getLine(V.index),J=o(Y,2),te=J[0],ie=J[1],de=(0,m.default)({},te.formats(),{list:"checked"}),G=new g.default().retain(V.index).insert(`
`,de).retain(te.length()-ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(G,N.default.sources.USER),this.quill.setSelection(V.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:L.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,Y){var J=this.quill.getLine(V.index),te=o(J,2),ie=te[0],de=te[1],G=new g.default().retain(V.index).insert(`
`,Y.format).retain(ie.length()-de-1).retain(1,{header:null});this.quill.updateContents(G,N.default.sources.USER),this.quill.setSelection(V.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,Y){var J=Y.prefix.length,te=this.quill.getLine(V.index),ie=o(te,2),de=ie[0],G=ie[1];if(G>J)return!0;var X=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":X="unchecked";break;case"[x]":X="checked";break;case"-":case"*":X="bullet";break;default:X="ordered"}this.quill.insertText(V.index," ",N.default.sources.USER),this.quill.history.cutoff();var le=new g.default().retain(V.index-G).delete(J+1).retain(de.length()-2-G).retain(1,{list:X});this.quill.updateContents(le,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-J,N.default.sources.SILENT)}},"code exit":{key:L.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var Y=this.quill.getLine(V.index),J=o(Y,2),te=J[0],ie=J[1],de=new g.default().retain(V.index+te.length()-ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(de,N.default.sources.USER)}},"embed left":M(L.keys.LEFT,!1),"embed left shift":M(L.keys.LEFT,!0),"embed right":M(L.keys.RIGHT,!1),"embed right shift":M(L.keys.RIGHT,!0)}};function M(P,V){var Y,J=P===L.keys.LEFT?"prefix":"suffix";return Y={key:P,shiftKey:V,altKey:null},_(Y,J,/^$/),_(Y,"handler",function(ie){var de=ie.index;P===L.keys.RIGHT&&(de+=ie.length+1);var G=this.quill.getLeaf(de),X=o(G,1),le=X[0];return le instanceof w.default.Embed?(P===L.keys.LEFT?V?this.quill.setSelection(ie.index-1,ie.length+1,N.default.sources.USER):this.quill.setSelection(ie.index-1,N.default.sources.USER):V?this.quill.setSelection(ie.index,ie.length+1,N.default.sources.USER):this.quill.setSelection(ie.index+ie.length+1,N.default.sources.USER),!1):!0}),Y}function $(P,V){if(!(P.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(P.index),J=o(Y,1),te=J[0],ie={};if(V.offset===0){var de=this.quill.getLine(P.index-1),G=o(de,1),X=G[0];if(X!=null&&X.length()>1){var le=te.formats(),Ne=this.quill.getFormat(P.index-1,1);ie=v.default.attributes.diff(le,Ne)||{}}}var Re=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(P.index-Re,Re,N.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(P.index-Re,Re,ie,N.default.sources.USER),this.quill.focus()}}function F(P,V){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(P.index>=this.quill.getLength()-Y)){var J={},te=0,ie=this.quill.getLine(P.index),de=o(ie,1),G=de[0];if(V.offset>=G.length()-1){var X=this.quill.getLine(P.index+1),le=o(X,1),Ne=le[0];if(Ne){var Re=G.formats(),oe=this.quill.getFormat(P.index,1);J=v.default.attributes.diff(Re,oe)||{},te=Ne.length()}}this.quill.deleteText(P.index,Y,N.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(P.index+te-1,Y,J,N.default.sources.USER)}}function O(P){var V=this.quill.getLines(P),Y={};if(V.length>1){var J=V[0].formats(),te=V[V.length-1].formats();Y=v.default.attributes.diff(te,J)||{}}this.quill.deleteText(P,N.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(P.index,1,Y,N.default.sources.USER),this.quill.setSelection(P.index,N.default.sources.SILENT),this.quill.focus()}function q(P,V){var Y=this;P.length>0&&this.quill.scroll.deleteAt(P.index,P.length);var J=Object.keys(V.format).reduce(function(te,ie){return w.default.query(ie,w.default.Scope.BLOCK)&&!Array.isArray(V.format[ie])&&(te[ie]=V.format[ie]),te},{});this.quill.insertText(P.index,`
`,J,N.default.sources.USER),this.quill.setSelection(P.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(te){J[te]==null&&(Array.isArray(V.format[te])||te!=="link"&&Y.quill.format(te,V.format[te],N.default.sources.USER))})}function B(P){return{key:L.keys.TAB,shiftKey:!P,format:{"code-block":!0},handler:function(Y){var J=w.default.query("code-block"),te=Y.index,ie=Y.length,de=this.quill.scroll.descendant(J,te),G=o(de,2),X=G[0],le=G[1];if(X!=null){var Ne=this.quill.getIndex(X),Re=X.newlineIndex(le,!0)+1,oe=X.newlineIndex(Ne+le+ie),ae=X.domNode.textContent.slice(Re,oe).split(`
`);le=0,ae.forEach(function(K,Z){P?(X.insertAt(Re+le,J.TAB),le+=J.TAB.length,Z===0?te+=J.TAB.length:ie+=J.TAB.length):K.startsWith(J.TAB)&&(X.deleteAt(Re+le,J.TAB.length),le-=J.TAB.length,Z===0?te-=J.TAB.length:ie-=J.TAB.length),le+=K.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(te,ie,N.default.sources.SILENT)}}}}function z(P){return{key:P[0].toUpperCase(),shortKey:!0,handler:function(Y,J){this.quill.format(P,!J.format[P],N.default.sources.USER)}}}function W(P){if(typeof P=="string"||typeof P=="number")return W({key:P});if((typeof P>"u"?"undefined":i(P))==="object"&&(P=(0,u.default)(P,!1)),typeof P.key=="string")if(L.keys[P.key.toUpperCase()]!=null)P.key=L.keys[P.key.toUpperCase()];else if(P.key.length===1)P.key=P.key.toUpperCase().charCodeAt(0);else return null;return P.shortKey&&(P[I]=P.shortKey,delete P.shortKey),P}r.default=L,r.SHORTKEY=I},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function v(x,w){var j=[],N=!0,k=!1,S=void 0;try{for(var C=x[Symbol.iterator](),E;!(N=(E=C.next()).done)&&(j.push(E.value),!(w&&j.length===w));N=!0);}catch(T){k=!0,S=T}finally{try{!N&&C.return&&C.return()}finally{if(k)throw S}}return j}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return v(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function v(x,w,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,w);if(N===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:v(k,w,j)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(j)}},l=function(){function v(x,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,w,j){return w&&v(x.prototype,w),j&&v(x,j),x}}(),c=a(0),u=f(c),h=a(7),d=f(h);function f(v){return v&&v.__esModule?v:{default:v}}function m(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function p(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function g(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var b=function(v){g(x,v),l(x,null,[{key:"value",value:function(){}}]);function x(w,j){m(this,x);var N=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return N.selection=j,N.textNode=document.createTextNode(x.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return l(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(j,N){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,j,N);for(var k=this,S=0;k!=null&&k.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=x.CONTENTS.length,k.optimize(),k.formatAt(S,x.CONTENTS.length,j,N),this._length=0)}},{key:"index",value:function(j,N){return j===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,j,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var j=this.textNode,N=this.selection.getNativeRange(),k=void 0,S=void 0,C=void 0;if(N!=null&&N.start.node===j&&N.end.node===j){var E=[j,N.start.offset,N.end.offset];k=E[0],S=E[1],C=E[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var T=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof d.default?(k=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=x.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var _=[S,C].map(function(D){return Math.max(0,Math.min(k.data.length,D-1))}),A=i(_,2);return S=A[0],C=A[1],{startNode:k,startOffset:S,endNode:k,endOffset:C}}}}},{key:"update",value:function(j,N){var k=this;if(j.some(function(C){return C.type==="characterData"&&C.target===k.textNode})){var S=this.restore();S&&(N.range=S)}}},{key:"value",value:function(){return""}}]),x}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",r.default=b},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),o=u(i),l=a(4),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){f(g,p);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default.Container);m.allowedChildren=[c.default,l.BlockEmbed,m],r.default=m},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var i=function(){function b(v,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),o=function b(v,x,w){v===null&&(v=Function.prototype);var j=Object.getOwnPropertyDescriptor(v,x);if(j===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:b(N,x,w)}else{if("value"in j)return j.value;var k=j.get;return k===void 0?void 0:k.call(w)}},l=a(0),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function h(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function d(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function f(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var m=function(b){f(v,b);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"value",value:function(w){var j=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w);return j.startsWith("rgb(")?(j=j.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+j.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):j}}]),v}(c.default.Attributor.Style),p=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),g=new m("color","color",{scope:c.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=p,r.ColorStyle=g},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var i=function(){function g(b,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,v,x){return v&&g(b.prototype,v),x&&g(b,x),b}}(),o=function g(b,v,x){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,v);if(w===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:g(j,v,x)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(x)}},l=a(6),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function d(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function f(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var m=function(g){f(b,g);function b(){return h(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return p(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),b}(c.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(g,b){var v=document.createElement("a");v.href=g;var x=v.href.slice(0,v.href.indexOf(":"));return b.indexOf(x)>-1}r.default=m,r.sanitize=p},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(v,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),l=a(23),c=d(l),u=a(107),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function f(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}var m=0;function p(b,v){b.setAttribute(v,b.getAttribute(v)!=="true")}var g=function(){function b(v){var x=this;f(this,b),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case c.default.keys.ENTER:x.togglePicker();break;case c.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,j=document.createElement("span");return j.tabIndex="0",j.setAttribute("role","button"),j.classList.add("ql-picker-item"),x.hasAttribute("value")&&j.setAttribute("data-value",x.getAttribute("value")),x.textContent&&j.setAttribute("data-label",x.textContent),j.addEventListener("click",function(){w.selectItem(j,!0)}),j.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:w.selectItem(j,!0),N.preventDefault();break;case c.default.keys.ESCAPE:w.escape(),N.preventDefault();break}}),j}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=h.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(j){var N=x.buildItem(j);w.appendChild(N),j.selected===!0&&x.selectItem(N)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=this.container.querySelector(".ql-selected");if(x!==j&&(j!=null&&j.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var j=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",j)}}]),b}();r.default=g},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),o=U(i),l=a(5),c=U(l),u=a(4),h=U(u),d=a(16),f=U(d),m=a(25),p=U(m),g=a(24),b=U(g),v=a(35),x=U(v),w=a(6),j=U(w),N=a(22),k=U(N),S=a(7),C=U(S),E=a(55),T=U(E),_=a(42),A=U(_),D=a(23),R=U(D);function U(I){return I&&I.__esModule?I:{default:I}}c.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":p.default,"blots/cursor":b.default,"blots/embed":x.default,"blots/inline":j.default,"blots/scroll":k.default,"blots/text":C.default,"modules/clipboard":T.default,"modules/history":A.default,"modules/keyboard":R.default}),o.default.register(h.default,f.default,b.default,j.default,k.default,C.default),r.default=c.default},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),o=function(){function l(c){this.domNode=c,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return i.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(c,u){var h=this.isolate(c,u);h.remove()},l.prototype.formatAt=function(c,u,h,d){var f=this.isolate(c,u);if(i.query(h,i.Scope.BLOT)!=null&&d)f.wrap(h,d);else if(i.query(h,i.Scope.ATTRIBUTE)!=null){var m=i.create(this.statics.scope);f.wrap(m),m.format(h,d)}},l.prototype.insertAt=function(c,u,h){var d=h==null?i.create("text",u):i.create(u,h),f=this.split(c);this.parent.insertBefore(d,f)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;c.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=h)&&c.domNode.insertBefore(this.domNode,h),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var h=this.split(c);return h.split(u),h},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var h=typeof c=="string"?i.create(c,u):c;return h.replace(this),h},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var h=typeof c=="string"?i.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},l.blotName="abstract",l}();r.default=o},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(12),o=a(32),l=a(33),c=a(1),u=function(){function h(d){this.attributes={},this.domNode=d,this.build()}return h.prototype.attribute=function(d,f){f?d.add(this.domNode,f)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},h.prototype.build=function(){var d=this;this.attributes={};var f=i.default.keys(this.domNode),m=o.default.keys(this.domNode),p=l.default.keys(this.domNode);f.concat(m).concat(p).forEach(function(g){var b=c.query(g,c.Scope.ATTRIBUTE);b instanceof i.default&&(d.attributes[b.attrName]=b)})},h.prototype.copy=function(d){var f=this;Object.keys(this.attributes).forEach(function(m){var p=f.attributes[m].value(f.domNode);d.format(m,p)})},h.prototype.move=function(d){var f=this;this.copy(d),Object.keys(this.attributes).forEach(function(m){f.attributes[m].remove(f.domNode)}),this.attributes={}},h.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(f,m){return f[m]=d.attributes[m].value(d.domNode),f},{})},h}();r.default=u},function(s,r,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(12);function l(u,h){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(f){return f.indexOf(h+"-")===0})}var c=function(u){i(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(this.remove(d),d.classList.add(this.keyName+"-"+f),!0):!1},h.prototype.remove=function(d){var f=l(d,this.keyName);f.forEach(function(m){d.classList.remove(m)}),d.classList.length===0&&d.removeAttribute("class")},h.prototype.value=function(d){var f=l(d,this.keyName)[0]||"",m=f.slice(this.keyName.length+1);return this.canAdd(d,m)?m:""},h}(o.default);r.default=c},function(s,r,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(12);function l(u){var h=u.split("-"),d=h.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return h[0]+d}var c=function(u){i(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(f){var m=f.split(":");return m[0].trim()})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(d.style[l(this.keyName)]=f,!0):!1},h.prototype.remove=function(d){d.style[l(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},h.prototype.value=function(d){var f=d.style[l(this.keyName)];return this.canAdd(d,f)?f:""},h}(o.default);r.default=c},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,h){o(this,c),this.quill=u,this.options=h,this.modules={}}return i(c,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(d){h.modules[d]==null&&h.addModule(d)})}},{key:"addModule",value:function(h){var d=this.quill.constructor.import("modules/"+h);return this.modules[h]=new d(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},r.default=l},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function v(x,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,w,j){return w&&v(x.prototype,w),j&&v(x,j),x}}(),o=function v(x,w,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,w);if(N===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:v(k,w,j)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(j)}},l=a(0),c=d(l),u=a(7),h=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function m(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function p(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var g="\uFEFF",b=function(v){p(x,v);function x(w){f(this,x);var j=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return j.contentNode=document.createElement("span"),j.contentNode.setAttribute("contenteditable",!1),[].slice.call(j.domNode.childNodes).forEach(function(N){j.contentNode.appendChild(N)}),j.leftGuard=document.createTextNode(g),j.rightGuard=document.createTextNode(g),j.domNode.appendChild(j.leftGuard),j.domNode.appendChild(j.contentNode),j.domNode.appendChild(j.rightGuard),j}return i(x,[{key:"index",value:function(j,N){return j===this.leftGuard?0:j===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,j,N)}},{key:"restore",value:function(j){var N=void 0,k=void 0,S=j.data.split(g).join("");if(j===this.leftGuard)if(this.prev instanceof h.default){var C=this.prev.length();this.prev.insertAt(C,S),N={startNode:this.prev.domNode,startOffset:C+S.length}}else k=document.createTextNode(S),this.parent.insertBefore(c.default.create(k),this),N={startNode:k,startOffset:S.length};else j===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,S),N={startNode:this.next.domNode,startOffset:S.length}):(k=document.createTextNode(S),this.parent.insertBefore(c.default.create(k),this.next),N={startNode:k,startOffset:S.length}));return j.data=g,N}},{key:"update",value:function(j,N){var k=this;j.forEach(function(S){if(S.type==="characterData"&&(S.target===k.leftGuard||S.target===k.rightGuard)){var C=k.restore(S.target);C&&(N.range=C)}})}}]),x}(c.default.Embed);r.default=b},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var i=a(0),o=l(i);function l(f){return f&&f.__esModule?f:{default:f}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",c),h=new o.default.Attributor.Class("align","ql-align",c),d=new o.default.Attributor.Style("align","text-align",c);r.AlignAttribute=u,r.AlignClass=h,r.AlignStyle=d},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var i=a(0),o=c(i),l=a(26);function c(d){return d&&d.__esModule?d:{default:d}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),h=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=h},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var i=a(0),o=l(i);function l(f){return f&&f.__esModule?f:{default:f}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",c),h=new o.default.Attributor.Class("direction","ql-direction",c),d=new o.default.Attributor.Style("direction","direction",c);r.DirectionAttribute=u,r.DirectionClass=h,r.DirectionStyle=d},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var i=function(){function v(x,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,w,j){return w&&v(x.prototype,w),j&&v(x,j),x}}(),o=function v(x,w,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,w);if(N===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:v(k,w,j)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(j)}},l=a(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function d(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function f(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var m={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new c.default.Attributor.Class("font","ql-font",m),g=function(v){f(x,v);function x(){return h(this,x),d(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"value",value:function(j){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,j).replace(/["']/g,"")}}]),x}(c.default.Attributor.Style),b=new g("font","font-family",m);r.FontStyle=b,r.FontClass=p},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var i=a(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=c,r.SizeStyle=u},function(s,r,a){s.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var i=function(){function w(j,N){for(var k=0;k<N.length;k++){var S=N[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,S.key,S)}}return function(j,N,k){return N&&w(j.prototype,N),k&&w(j,k),j}}(),o=a(0),l=f(o),c=a(5),u=f(c),h=a(9),d=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function m(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function p(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function g(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var b=function(w){g(j,w);function j(N,k){m(this,j);var S=p(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,N,k));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(C,E,T,_){C!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||_===u.default.sources.USER?S.record(E,T):S.transform(E))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return i(j,[{key:"change",value:function(k,S){if(this.stack[k].length!==0){var C=this.stack[k].pop();this.stack[S].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[k],u.default.sources.USER),this.ignoreChange=!1;var E=x(C[k]);this.quill.setSelection(E)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,S){if(k.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(S),E=Date.now();if(this.lastRecorded+this.options.delay>E&&this.stack.undo.length>0){var T=this.stack.undo.pop();C=C.compose(T.undo),k=T.redo.compose(k)}else this.lastRecorded=E;this.stack.undo.push({redo:k,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),j}(d.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(w){var j=w.ops[w.ops.length-1];return j==null?!1:j.insert!=null?typeof j.insert=="string"&&j.insert.endsWith(`
`):j.attributes!=null?Object.keys(j.attributes).some(function(N){return l.default.query(N,l.default.Scope.BLOCK)!=null}):!1}function x(w){var j=w.reduce(function(k,S){return k+=S.delete||0,k},0),N=w.length()-j;return v(w)&&(N-=1),N}r.default=b,r.getLastChangeIndex=x},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var i=function(){function q(B,z){for(var W=0;W<z.length;W++){var P=z[W];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(B,P.key,P)}}return function(B,z,W){return z&&q(B.prototype,z),W&&q(B,W),B}}(),o=function q(B,z,W){B===null&&(B=Function.prototype);var P=Object.getOwnPropertyDescriptor(B,z);if(P===void 0){var V=Object.getPrototypeOf(B);return V===null?void 0:q(V,z,W)}else{if("value"in P)return P.value;var Y=P.get;return Y===void 0?void 0:Y.call(W)}},l=a(3),c=E(l),u=a(2),h=E(u),d=a(8),f=E(d),m=a(23),p=E(m),g=a(34),b=E(g),v=a(59),x=E(v),w=a(60),j=E(w),N=a(28),k=E(N),S=a(61),C=E(S);function E(q){return q&&q.__esModule?q:{default:q}}function T(q,B){if(!(q instanceof B))throw new TypeError("Cannot call a class as a function")}function _(q,B){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:q}function A(q,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);q.prototype=Object.create(B&&B.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(q,B):q.__proto__=B)}var D=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],I=["1","2","3",!1],L=["small",!1,"large","huge"],M=function(q){A(B,q);function B(z,W){T(this,B);var P=_(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,W)),V=function Y(J){if(!document.body.contains(z.root))return document.body.removeEventListener("click",Y);P.tooltip!=null&&!P.tooltip.root.contains(J.target)&&document.activeElement!==P.tooltip.textbox&&!P.quill.hasFocus()&&P.tooltip.hide(),P.pickers!=null&&P.pickers.forEach(function(te){te.container.contains(J.target)||te.close()})};return z.emitter.listenDOM("click",document.body,V),P}return i(B,[{key:"addModule",value:function(W){var P=o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(P),P}},{key:"buildButtons",value:function(W,P){W.forEach(function(V){var Y=V.getAttribute("class")||"";Y.split(/\s+/).forEach(function(J){if(J.startsWith("ql-")&&(J=J.slice(3),P[J]!=null))if(J==="direction")V.innerHTML=P[J][""]+P[J].rtl;else if(typeof P[J]=="string")V.innerHTML=P[J];else{var te=V.value||"";te!=null&&P[J][te]&&(V.innerHTML=P[J][te])}})})}},{key:"buildPickers",value:function(W,P){var V=this;this.pickers=W.map(function(J){if(J.classList.contains("ql-align"))return J.querySelector("option")==null&&O(J,D),new j.default(J,P.align);if(J.classList.contains("ql-background")||J.classList.contains("ql-color")){var te=J.classList.contains("ql-background")?"background":"color";return J.querySelector("option")==null&&O(J,R,te==="background"?"#ffffff":"#000000"),new x.default(J,P[te])}else return J.querySelector("option")==null&&(J.classList.contains("ql-font")?O(J,U):J.classList.contains("ql-header")?O(J,I):J.classList.contains("ql-size")&&O(J,L)),new k.default(J)});var Y=function(){V.pickers.forEach(function(te){te.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,Y)}}]),B}(b.default);M.DEFAULTS=(0,c.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var W=new FileReader;W.onload=function(P){var V=B.quill.getSelection(!0);B.quill.updateContents(new h.default().retain(V.index).delete(V.length).insert({image:P.target.result}),f.default.sources.USER),B.quill.setSelection(V.index+1,f.default.sources.SILENT),z.value=""},W.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var $=function(q){A(B,q);function B(z,W){T(this,B);var P=_(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,W));return P.textbox=P.root.querySelector('input[type="text"]'),P.listen(),P}return i(B,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(P){p.default.match(P,"enter")?(W.save(),P.preventDefault()):p.default.match(P,"escape")&&(W.cancel(),P.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),P!=null?this.textbox.value=P:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var P=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,f.default.sources.USER)),this.quill.root.scrollTop=P;break}case"video":W=F(W);case"formula":{if(!W)break;var V=this.quill.getSelection(!0);if(V!=null){var Y=V.index+V.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),W,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",f.default.sources.USER),this.quill.setSelection(Y+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(C.default);function F(q){var B=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":q}function O(q,B){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(W){var P=document.createElement("option");W===z?P.setAttribute("selected","selected"):P.setAttribute("value",W),q.appendChild(P)})}r.BaseTooltip=$,r.default=M},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,h=this.iterator();u=h();){var d=u.length();if(l<d||c&&l===d&&(u.next==null||u.next.length()!==0))return[u,l];l-=d}return[null,0]},o.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},o.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var h=this.find(l),d=h[0],f=h[1],m,p=l-f,g=this.iterator(d);(m=g())&&p<l+c;){var b=m.length();l>p?u(m,l-p,Math.min(c,p+b-l)):u(m,0,Math.min(b,l+c-p)),p+=b}},o.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},o.prototype.reduce=function(l,c){for(var u,h=this.iterator();u=h();)c=l(c,u);return c},o}();r.default=i},function(s,r,a){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var p in m)m.hasOwnProperty(p)&&(f[p]=m[p])};return function(f,m){d(f,m);function p(){this.constructor=f}f.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(17),l=a(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(d){i(f,d);function f(m){var p=d.call(this,m)||this;return p.scroll=p,p.observer=new MutationObserver(function(g){p.update(g)}),p.observer.observe(p.domNode,c),p.attach(),p}return f.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(m,p){this.update(),m===0&&p===this.length()?this.children.forEach(function(g){g.remove()}):d.prototype.deleteAt.call(this,m,p)},f.prototype.formatAt=function(m,p,g,b){this.update(),d.prototype.formatAt.call(this,m,p,g,b)},f.prototype.insertAt=function(m,p,g){this.update(),d.prototype.insertAt.call(this,m,p,g)},f.prototype.optimize=function(m,p){var g=this;m===void 0&&(m=[]),p===void 0&&(p={}),d.prototype.optimize.call(this,p);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)m.push(b.pop());for(var v=function(N,k){k===void 0&&(k=!0),!(N==null||N===g)&&N.domNode.parentNode!=null&&(N.domNode[l.DATA_KEY].mutations==null&&(N.domNode[l.DATA_KEY].mutations=[]),k&&v(N.parent))},x=function(N){N.domNode[l.DATA_KEY]==null||N.domNode[l.DATA_KEY].mutations==null||(N instanceof o.default&&N.children.forEach(x),N.optimize(p))},w=m,j=0;w.length>0;j+=1){if(j>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(N){var k=l.find(N.target,!0);k!=null&&(k.domNode===N.target&&(N.type==="childList"?(v(l.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(S){var C=l.find(S,!1);v(C,!1),C instanceof o.default&&C.children.forEach(function(E){v(E,!1)})})):N.type==="attributes"&&v(k.prev)),v(k))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),b=w.slice();b.length>0;)m.push(b.pop())}},f.prototype.update=function(m,p){var g=this;p===void 0&&(p={}),m=m||this.observer.takeRecords(),m.map(function(b){var v=l.find(b.target,!0);return v==null?null:v.domNode[l.DATA_KEY].mutations==null?(v.domNode[l.DATA_KEY].mutations=[b],v):(v.domNode[l.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===g||b.domNode[l.DATA_KEY]==null||b.update(b.domNode[l.DATA_KEY].mutations||[],p)}),this.domNode[l.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,p),this.optimize(m,p)},f.blotName="scroll",f.defaultChild="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="DIV",f}(o.default);r.default=h},function(s,r,a){var i=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m])};return function(d,f){h(d,f);function m(){this.constructor=d}d.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(18),l=a(1);function c(h,d){if(Object.keys(h).length!==Object.keys(d).length)return!1;for(var f in h)if(h[f]!==d[f])return!1;return!0}var u=function(h){i(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.formats=function(f){if(f.tagName!==d.tagName)return h.formats.call(this,f)},d.prototype.format=function(f,m){var p=this;f===this.statics.blotName&&!m?(this.children.forEach(function(g){g instanceof o.default||(g=g.wrap(d.blotName,!0)),p.attributes.copy(g)}),this.unwrap()):h.prototype.format.call(this,f,m)},d.prototype.formatAt=function(f,m,p,g){if(this.formats()[p]!=null||l.query(p,l.Scope.ATTRIBUTE)){var b=this.isolate(f,m);b.format(p,g)}else h.prototype.formatAt.call(this,f,m,p,g)},d.prototype.optimize=function(f){h.prototype.optimize.call(this,f);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var p=this.next;p instanceof d&&p.prev===this&&c(m,p.formats())&&(p.moveChildren(this),p.remove())},d.blotName="inline",d.scope=l.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);r.default=u},function(s,r,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(18),l=a(1),c=function(u){i(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(d){var f=l.query(h.blotName).tagName;if(d.tagName!==f)return u.formats.call(this,d)},h.prototype.format=function(d,f){l.query(d,l.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!f?this.replaceWith(h.blotName):u.prototype.format.call(this,d,f))},h.prototype.formatAt=function(d,f,m,p){l.query(m,l.Scope.BLOCK)!=null?this.format(m,p):u.prototype.formatAt.call(this,d,f,m,p)},h.prototype.insertAt=function(d,f,m){if(m==null||l.query(f,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,f,m);else{var p=this.split(d),g=l.create(f,m);p.parent.insertBefore(g,p)}},h.prototype.update=function(d,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,f)},h.blotName="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="P",h}(o.default);r.default=c},function(s,r,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var d in h)h.hasOwnProperty(d)&&(u[d]=h[d])};return function(u,h){c(u,h);function d(){this.constructor=u}u.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(19),l=function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,d){c.prototype.formatAt.call(this,0,this.length(),h,d)},u.prototype.formatAt=function(h,d,f,m){h===0&&d===this.length()?this.format(f,m):c.prototype.formatAt.call(this,h,d,f,m)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);r.default=l},function(s,r,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=a(19),l=a(1),c=function(u){i(h,u);function h(d){var f=u.call(this,d)||this;return f.text=f.statics.value(f.domNode),f}return h.create=function(d){return document.createTextNode(d)},h.value=function(d){var f=d.data;return f.normalize&&(f=f.normalize()),f},h.prototype.deleteAt=function(d,f){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+f)},h.prototype.index=function(d,f){return this.domNode===d?f:-1},h.prototype.insertAt=function(d,f,m){m==null?(this.text=this.text.slice(0,d)+f+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,f,m)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(d,f){return[this.domNode,d]},h.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var m=l.create(this.domNode.splitText(d));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},h.prototype.update=function(d,f){var m=this;d.some(function(p){return p.type==="characterData"&&p.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=l.Scope.INLINE_BLOT,h}(o.default);r.default=c},function(s,r,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var h=u.indexOf(l,c);return h!==-1&&h===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,d=arguments[1],f,m=0;m<h;m++)if(f=u[m],c.call(d,f,m,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,r){var a=-1,i=1,o=0;function l(j,N,k){if(j==N)return j?[[o,j]]:[];(k<0||j.length<k)&&(k=null);var S=d(j,N),C=j.substring(0,S);j=j.substring(S),N=N.substring(S),S=f(j,N);var E=j.substring(j.length-S);j=j.substring(0,j.length-S),N=N.substring(0,N.length-S);var T=c(j,N);return C&&T.unshift([o,C]),E&&T.push([o,E]),p(T),k!=null&&(T=v(T,k)),T=x(T),T}function c(j,N){var k;if(!j)return[[i,N]];if(!N)return[[a,j]];var S=j.length>N.length?j:N,C=j.length>N.length?N:j,E=S.indexOf(C);if(E!=-1)return k=[[i,S.substring(0,E)],[o,C],[i,S.substring(E+C.length)]],j.length>N.length&&(k[0][0]=k[2][0]=a),k;if(C.length==1)return[[a,j],[i,N]];var T=m(j,N);if(T){var _=T[0],A=T[1],D=T[2],R=T[3],U=T[4],I=l(_,D),L=l(A,R);return I.concat([[o,U]],L)}return u(j,N)}function u(j,N){for(var k=j.length,S=N.length,C=Math.ceil((k+S)/2),E=C,T=2*C,_=new Array(T),A=new Array(T),D=0;D<T;D++)_[D]=-1,A[D]=-1;_[E+1]=0,A[E+1]=0;for(var R=k-S,U=R%2!=0,I=0,L=0,M=0,$=0,F=0;F<C;F++){for(var O=-F+I;O<=F-L;O+=2){var q=E+O,B;O==-F||O!=F&&_[q-1]<_[q+1]?B=_[q+1]:B=_[q-1]+1;for(var z=B-O;B<k&&z<S&&j.charAt(B)==N.charAt(z);)B++,z++;if(_[q]=B,B>k)L+=2;else if(z>S)I+=2;else if(U){var W=E+R-O;if(W>=0&&W<T&&A[W]!=-1){var P=k-A[W];if(B>=P)return h(j,N,B,z)}}}for(var V=-F+M;V<=F-$;V+=2){var W=E+V,P;V==-F||V!=F&&A[W-1]<A[W+1]?P=A[W+1]:P=A[W-1]+1;for(var Y=P-V;P<k&&Y<S&&j.charAt(k-P-1)==N.charAt(S-Y-1);)P++,Y++;if(A[W]=P,P>k)$+=2;else if(Y>S)M+=2;else if(!U){var q=E+R-V;if(q>=0&&q<T&&_[q]!=-1){var B=_[q],z=E+B-q;if(P=k-P,B>=P)return h(j,N,B,z)}}}}return[[a,j],[i,N]]}function h(j,N,k,S){var C=j.substring(0,k),E=N.substring(0,S),T=j.substring(k),_=N.substring(S),A=l(C,E),D=l(T,_);return A.concat(D)}function d(j,N){if(!j||!N||j.charAt(0)!=N.charAt(0))return 0;for(var k=0,S=Math.min(j.length,N.length),C=S,E=0;k<C;)j.substring(E,C)==N.substring(E,C)?(k=C,E=k):S=C,C=Math.floor((S-k)/2+k);return C}function f(j,N){if(!j||!N||j.charAt(j.length-1)!=N.charAt(N.length-1))return 0;for(var k=0,S=Math.min(j.length,N.length),C=S,E=0;k<C;)j.substring(j.length-C,j.length-E)==N.substring(N.length-C,N.length-E)?(k=C,E=k):S=C,C=Math.floor((S-k)/2+k);return C}function m(j,N){var k=j.length>N.length?j:N,S=j.length>N.length?N:j;if(k.length<4||S.length*2<k.length)return null;function C(L,M,$){for(var F=L.substring($,$+Math.floor(L.length/4)),O=-1,q="",B,z,W,P;(O=M.indexOf(F,O+1))!=-1;){var V=d(L.substring($),M.substring(O)),Y=f(L.substring(0,$),M.substring(0,O));q.length<Y+V&&(q=M.substring(O-Y,O)+M.substring(O,O+V),B=L.substring(0,$-Y),z=L.substring($+V),W=M.substring(0,O-Y),P=M.substring(O+V))}return q.length*2>=L.length?[B,z,W,P,q]:null}var E=C(k,S,Math.ceil(k.length/4)),T=C(k,S,Math.ceil(k.length/2)),_;if(!E&&!T)return null;T?E?_=E[4].length>T[4].length?E:T:_=T:_=E;var A,D,R,U;j.length>N.length?(A=_[0],D=_[1],R=_[2],U=_[3]):(R=_[0],U=_[1],A=_[2],D=_[3]);var I=_[4];return[A,D,R,U,I]}function p(j){j.push([o,""]);for(var N=0,k=0,S=0,C="",E="",T;N<j.length;)switch(j[N][0]){case i:S++,E+=j[N][1],N++;break;case a:k++,C+=j[N][1],N++;break;case o:k+S>1?(k!==0&&S!==0&&(T=d(E,C),T!==0&&(N-k-S>0&&j[N-k-S-1][0]==o?j[N-k-S-1][1]+=E.substring(0,T):(j.splice(0,0,[o,E.substring(0,T)]),N++),E=E.substring(T),C=C.substring(T)),T=f(E,C),T!==0&&(j[N][1]=E.substring(E.length-T)+j[N][1],E=E.substring(0,E.length-T),C=C.substring(0,C.length-T))),k===0?j.splice(N-S,k+S,[i,E]):S===0?j.splice(N-k,k+S,[a,C]):j.splice(N-k-S,k+S,[a,C],[i,E]),N=N-k-S+(k?1:0)+(S?1:0)+1):N!==0&&j[N-1][0]==o?(j[N-1][1]+=j[N][1],j.splice(N,1)):N++,S=0,k=0,C="",E="";break}j[j.length-1][1]===""&&j.pop();var _=!1;for(N=1;N<j.length-1;)j[N-1][0]==o&&j[N+1][0]==o&&(j[N][1].substring(j[N][1].length-j[N-1][1].length)==j[N-1][1]?(j[N][1]=j[N-1][1]+j[N][1].substring(0,j[N][1].length-j[N-1][1].length),j[N+1][1]=j[N-1][1]+j[N+1][1],j.splice(N-1,1),_=!0):j[N][1].substring(0,j[N+1][1].length)==j[N+1][1]&&(j[N-1][1]+=j[N+1][1],j[N][1]=j[N][1].substring(j[N+1][1].length)+j[N+1][1],j.splice(N+1,1),_=!0)),N++;_&&p(j)}var g=l;g.INSERT=i,g.DELETE=a,g.EQUAL=o,s.exports=g;function b(j,N){if(N===0)return[o,j];for(var k=0,S=0;S<j.length;S++){var C=j[S];if(C[0]===a||C[0]===o){var E=k+C[1].length;if(N===E)return[S+1,j];if(N<E){j=j.slice();var T=N-k,_=[C[0],C[1].slice(0,T)],A=[C[0],C[1].slice(T)];return j.splice(S,1,_,A),[S+1,j]}else k=E}}throw new Error("cursor_pos is out of bounds!")}function v(j,N){var k=b(j,N),S=k[1],C=k[0],E=S[C],T=S[C+1];if(E==null)return j;if(E[0]!==o)return j;if(T!=null&&E[1]+T[1]===T[1]+E[1])return S.splice(C,2,T,E),w(S,C,2);if(T!=null&&T[1].indexOf(E[1])===0){S.splice(C,2,[T[0],E[1]],[0,E[1]]);var _=T[1].slice(E[1].length);return _.length>0&&S.splice(C+2,0,[T[0],_]),w(S,C,3)}else return j}function x(j){for(var N=!1,k=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},S=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},C=2;C<j.length;C+=1)j[C-2][0]===o&&S(j[C-2][1])&&j[C-1][0]===a&&k(j[C-1][1])&&j[C][0]===i&&k(j[C][1])&&(N=!0,j[C-1][1]=j[C-2][1].slice(-1)+j[C-1][1],j[C][1]=j[C-2][1].slice(-1)+j[C][1],j[C-2][1]=j[C-2][1].slice(0,-1));if(!N)return j;for(var E=[],C=0;C<j.length;C+=1)j[C][1].length>0&&E.push(j[C]);return E}function w(j,N,k){for(var S=N+k-1;S>=0&&S>=N-1;S--)if(S+1<j.length){var C=j[S],E=j[S+1];C[0]===E[1]&&j.splice(S,2,[C[0],C[1]+E[1]])}return j}},function(s,r){r=s.exports=typeof Object.keys=="function"?Object.keys:a,r.shim=a;function a(i){var o=[];for(var l in i)o.push(l);return o}},function(s,r){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=s.exports=a?i:o,r.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}r.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(s,r){var a=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function l(u,h,d){this.fn=u,this.context=h,this.once=d||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],d,f;if(this._eventsCount===0)return h;for(f in d=this._events)a.call(d,f)&&h.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},c.prototype.listeners=function(h,d){var f=i?i+h:h,m=this._events[f];if(d)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,b=new Array(g);p<g;p++)b[p]=m[p].fn;return b},c.prototype.emit=function(h,d,f,m,p,g){var b=i?i+h:h;if(!this._events[b])return!1;var v=this._events[b],x=arguments.length,w,j;if(v.fn){switch(v.once&&this.removeListener(h,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,p),!0;case 6:return v.fn.call(v.context,d,f,m,p,g),!0}for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];v.fn.apply(v.context,w)}else{var N=v.length,k;for(j=0;j<N;j++)switch(v[j].once&&this.removeListener(h,v[j].fn,void 0,!0),x){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,f);break;case 4:v[j].fn.call(v[j].context,d,f,m);break;default:if(!w)for(k=1,w=new Array(x-1);k<x;k++)w[k-1]=arguments[k];v[j].fn.apply(v[j].context,w)}}return!0},c.prototype.on=function(h,d,f){var m=new l(d,f||this),p=i?i+h:h;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},c.prototype.once=function(h,d,f){var m=new l(d,f||this,!0),p=i?i+h:h;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],m]:this._events[p].push(m):(this._events[p]=m,this._eventsCount++),this},c.prototype.removeListener=function(h,d,f,m){var p=i?i+h:h;if(!this._events[p])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var g=this._events[p];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var b=0,v=[],x=g.length;b<x;b++)(g[b].fn!==d||m&&!g[b].once||f&&g[b].context!==f)&&v.push(g[b]);v.length?this._events[p]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},c.prototype.removeAllListeners=function(h){var d;return h?(d=i?i+h:h,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=i,c.EventEmitter=c,typeof s<"u"&&(s.exports=c)},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},o=function(){function oe(ae,K){var Z=[],Q=!0,pe=!1,me=void 0;try{for(var ce=ae[Symbol.iterator](),Se;!(Q=(Se=ce.next()).done)&&(Z.push(Se.value),!(K&&Z.length===K));Q=!0);}catch(He){pe=!0,me=He}finally{try{!Q&&ce.return&&ce.return()}finally{if(pe)throw me}}return Z}return function(ae,K){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return oe(ae,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function oe(ae,K){for(var Z=0;Z<K.length;Z++){var Q=K[Z];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ae,Q.key,Q)}}return function(ae,K,Z){return K&&oe(ae.prototype,K),Z&&oe(ae,Z),ae}}(),c=a(3),u=A(c),h=a(2),d=A(h),f=a(0),m=A(f),p=a(5),g=A(p),b=a(10),v=A(b),x=a(9),w=A(x),j=a(36),N=a(37),k=a(13),S=A(k),C=a(26),E=a(38),T=a(39),_=a(40);function A(oe){return oe&&oe.__esModule?oe:{default:oe}}function D(oe,ae,K){return ae in oe?Object.defineProperty(oe,ae,{value:K,enumerable:!0,configurable:!0,writable:!0}):oe[ae]=K,oe}function R(oe,ae){if(!(oe instanceof ae))throw new TypeError("Cannot call a class as a function")}function U(oe,ae){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:oe}function I(oe,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);oe.prototype=Object.create(ae&&ae.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ae):oe.__proto__=ae)}var L=(0,v.default)("quill:clipboard"),M="__ql-matcher",$=[[Node.TEXT_NODE,Re],[Node.TEXT_NODE,X],["br",ie],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,Ne],["li",G],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",de]],F=[j.AlignAttribute,E.DirectionAttribute].reduce(function(oe,ae){return oe[ae.keyName]=ae,oe},{}),O=[j.AlignStyle,N.BackgroundStyle,C.ColorStyle,E.DirectionStyle,T.FontStyle,_.SizeStyle].reduce(function(oe,ae){return oe[ae.keyName]=ae,oe},{}),q=function(oe){I(ae,oe);function ae(K,Z){R(this,ae);var Q=U(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,K,Z));return Q.quill.root.addEventListener("paste",Q.onPaste.bind(Q)),Q.container=Q.quill.addContainer("ql-clipboard"),Q.container.setAttribute("contenteditable",!0),Q.container.setAttribute("tabindex",-1),Q.matchers=[],$.concat(Q.options.matchers).forEach(function(pe){var me=o(pe,2),ce=me[0],Se=me[1];!Z.matchVisual&&Se===le||Q.addMatcher(ce,Se)}),Q}return l(ae,[{key:"addMatcher",value:function(Z,Q){this.matchers.push([Z,Q])}},{key:"convert",value:function(Z){if(typeof Z=="string")return this.container.innerHTML=Z.replace(/\>\r?\n +\</g,"><"),this.convert();var Q=this.quill.getFormat(this.quill.selection.savedRange.index);if(Q[S.default.blotName]){var pe=this.container.innerText;return this.container.innerHTML="",new d.default().insert(pe,D({},S.default.blotName,Q[S.default.blotName]))}var me=this.prepareMatching(),ce=o(me,2),Se=ce[0],He=ce[1],Ve=V(this.container,Se,He);return W(Ve,`
`)&&Ve.ops[Ve.ops.length-1].attributes==null&&(Ve=Ve.compose(new d.default().retain(Ve.length()-1).delete(1))),L.log("convert",this.container.innerHTML,Ve),this.container.innerHTML="",Ve}},{key:"dangerouslyPasteHTML",value:function(Z,Q){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof Z=="string")this.quill.setContents(this.convert(Z),Q),this.quill.setSelection(0,g.default.sources.SILENT);else{var me=this.convert(Q);this.quill.updateContents(new d.default().retain(Z).concat(me),pe),this.quill.setSelection(Z+me.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(Z){var Q=this;if(!(Z.defaultPrevented||!this.quill.isEnabled())){var pe=this.quill.getSelection(),me=new d.default().retain(pe.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){me=me.concat(Q.convert()).delete(pe.length),Q.quill.updateContents(me,g.default.sources.USER),Q.quill.setSelection(me.length()-pe.length,g.default.sources.SILENT),Q.quill.scrollingContainer.scrollTop=ce,Q.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Z=this,Q=[],pe=[];return this.matchers.forEach(function(me){var ce=o(me,2),Se=ce[0],He=ce[1];switch(Se){case Node.TEXT_NODE:pe.push(He);break;case Node.ELEMENT_NODE:Q.push(He);break;default:[].forEach.call(Z.container.querySelectorAll(Se),function(Ve){Ve[M]=Ve[M]||[],Ve[M].push(He)});break}}),[Q,pe]}}]),ae}(w.default);q.DEFAULTS={matchers:[],matchVisual:!0};function B(oe,ae,K){return(typeof ae>"u"?"undefined":i(ae))==="object"?Object.keys(ae).reduce(function(Z,Q){return B(Z,Q,ae[Q])},oe):oe.reduce(function(Z,Q){return Q.attributes&&Q.attributes[ae]?Z.push(Q):Z.insert(Q.insert,(0,u.default)({},D({},ae,K),Q.attributes))},new d.default)}function z(oe){if(oe.nodeType!==Node.ELEMENT_NODE)return{};var ae="__ql-computed-style";return oe[ae]||(oe[ae]=window.getComputedStyle(oe))}function W(oe,ae){for(var K="",Z=oe.ops.length-1;Z>=0&&K.length<ae.length;--Z){var Q=oe.ops[Z];if(typeof Q.insert!="string")break;K=Q.insert+K}return K.slice(-1*ae.length)===ae}function P(oe){if(oe.childNodes.length===0)return!1;var ae=z(oe);return["block","list-item"].indexOf(ae.display)>-1}function V(oe,ae,K){return oe.nodeType===oe.TEXT_NODE?K.reduce(function(Z,Q){return Q(oe,Z)},new d.default):oe.nodeType===oe.ELEMENT_NODE?[].reduce.call(oe.childNodes||[],function(Z,Q){var pe=V(Q,ae,K);return Q.nodeType===oe.ELEMENT_NODE&&(pe=ae.reduce(function(me,ce){return ce(Q,me)},pe),pe=(Q[M]||[]).reduce(function(me,ce){return ce(Q,me)},pe)),Z.concat(pe)},new d.default):new d.default}function Y(oe,ae,K){return B(K,oe,!0)}function J(oe,ae){var K=m.default.Attributor.Attribute.keys(oe),Z=m.default.Attributor.Class.keys(oe),Q=m.default.Attributor.Style.keys(oe),pe={};return K.concat(Z).concat(Q).forEach(function(me){var ce=m.default.query(me,m.default.Scope.ATTRIBUTE);ce!=null&&(pe[ce.attrName]=ce.value(oe),pe[ce.attrName])||(ce=F[me],ce!=null&&(ce.attrName===me||ce.keyName===me)&&(pe[ce.attrName]=ce.value(oe)||void 0),ce=O[me],ce!=null&&(ce.attrName===me||ce.keyName===me)&&(ce=O[me],pe[ce.attrName]=ce.value(oe)||void 0))}),Object.keys(pe).length>0&&(ae=B(ae,pe)),ae}function te(oe,ae){var K=m.default.query(oe);if(K==null)return ae;if(K.prototype instanceof m.default.Embed){var Z={},Q=K.value(oe);Q!=null&&(Z[K.blotName]=Q,ae=new d.default().insert(Z,K.formats(oe)))}else typeof K.formats=="function"&&(ae=B(ae,K.blotName,K.formats(oe)));return ae}function ie(oe,ae){return W(ae,`
`)||ae.insert(`
`),ae}function de(){return new d.default}function G(oe,ae){var K=m.default.query(oe);if(K==null||K.blotName!=="list-item"||!W(ae,`
`))return ae;for(var Z=-1,Q=oe.parentNode;!Q.classList.contains("ql-clipboard");)(m.default.query(Q)||{}).blotName==="list"&&(Z+=1),Q=Q.parentNode;return Z<=0?ae:ae.compose(new d.default().retain(ae.length()-1).retain(1,{indent:Z}))}function X(oe,ae){return W(ae,`
`)||(P(oe)||ae.length()>0&&oe.nextSibling&&P(oe.nextSibling))&&ae.insert(`
`),ae}function le(oe,ae){if(P(oe)&&oe.nextElementSibling!=null&&!W(ae,`

`)){var K=oe.offsetHeight+parseFloat(z(oe).marginTop)+parseFloat(z(oe).marginBottom);oe.nextElementSibling.offsetTop>oe.offsetTop+K*1.5&&ae.insert(`
`)}return ae}function Ne(oe,ae){var K={},Z=oe.style||{};return Z.fontStyle&&z(oe).fontStyle==="italic"&&(K.italic=!0),Z.fontWeight&&(z(oe).fontWeight.startsWith("bold")||parseInt(z(oe).fontWeight)>=700)&&(K.bold=!0),Object.keys(K).length>0&&(ae=B(ae,K)),parseFloat(Z.textIndent||0)>0&&(ae=new d.default().insert("	").concat(ae)),ae}function Re(oe,ae){var K=oe.data;if(oe.parentNode.tagName==="O:P")return ae.insert(K.trim());if(K.trim().length===0&&oe.parentNode.classList.contains("ql-clipboard"))return ae;if(!z(oe.parentNode).whiteSpace.startsWith("pre")){var Z=function(pe,me){return me=me.replace(/[^\u00a0]/g,""),me.length<1&&pe?" ":me};K=K.replace(/\r\n/g," ").replace(/\n/g," "),K=K.replace(/\s\s+/g,Z.bind(Z,!0)),(oe.previousSibling==null&&P(oe.parentNode)||oe.previousSibling!=null&&P(oe.previousSibling))&&(K=K.replace(/^\s+/,Z.bind(Z,!1))),(oe.nextSibling==null&&P(oe.parentNode)||oe.nextSibling!=null&&P(oe.nextSibling))&&(K=K.replace(/\s+$/,Z.bind(Z,!1)))}return ae.insert(K)}r.default=q,r.matchAttributor=J,r.matchBlot=te,r.matchNewline=X,r.matchSpacing=le,r.matchText=Re},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(g,b){for(var v=0;v<b.length;v++){var x=b[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,v){return b&&p(g.prototype,b),v&&p(g,v),g}}(),o=function p(g,b,v){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,b);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,b,v)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(v)}},l=a(6),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){f(g,p);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"optimize",value:function(v){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(c.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var i=function(){function _(A,D){var R=[],U=!0,I=!1,L=void 0;try{for(var M=A[Symbol.iterator](),$;!(U=($=M.next()).done)&&(R.push($.value),!(D&&R.length===D));U=!0);}catch(F){I=!0,L=F}finally{try{!U&&M.return&&M.return()}finally{if(I)throw L}}return R}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return _(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function _(A,D){for(var R=0;R<D.length;R++){var U=D[R];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,U.key,U)}}return function(A,D,R){return D&&_(A.prototype,D),R&&_(A,R),A}}(),l=a(2),c=v(l),u=a(0),h=v(u),d=a(5),f=v(d),m=a(10),p=v(m),g=a(9),b=v(g);function v(_){return _&&_.__esModule?_:{default:_}}function x(_,A,D){return A in _?Object.defineProperty(_,A,{value:D,enumerable:!0,configurable:!0,writable:!0}):_[A]=D,_}function w(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function j(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function N(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var k=(0,p.default)("quill:toolbar"),S=function(_){N(A,_);function A(D,R){w(this,A);var U=j(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,R));if(Array.isArray(U.options.container)){var I=document.createElement("div");E(I,U.options.container),D.container.parentNode.insertBefore(I,D.container),U.container=I}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var L;return L=k.error("Container required for toolbar",U.options),j(U,L)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(M){U.addHandler(M,U.options.handlers[M])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(M){U.attach(M)}),U.quill.on(f.default.events.EDITOR_CHANGE,function(M,$){M===f.default.events.SELECTION_CHANGE&&U.update($)}),U.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var M=U.quill.selection.getRange(),$=i(M,1),F=$[0];U.update(F)}),U}return o(A,[{key:"addHandler",value:function(R,U){this.handlers[R]=U}},{key:"attach",value:function(R){var U=this,I=[].find.call(R.classList,function(M){return M.indexOf("ql-")===0});if(I){if(I=I.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[I]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[I]==null){k.warn("ignoring attaching to disabled format",I,R);return}if(h.default.query(I)==null){k.warn("ignoring attaching to nonexistent format",I,R);return}}var L=R.tagName==="SELECT"?"change":"click";R.addEventListener(L,function(M){var $=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var F=R.options[R.selectedIndex];F.hasAttribute("selected")?$=!1:$=F.value||!1}else R.classList.contains("ql-active")?$=!1:$=R.value||!R.hasAttribute("value"),M.preventDefault();U.quill.focus();var O=U.quill.selection.getRange(),q=i(O,1),B=q[0];if(U.handlers[I]!=null)U.handlers[I].call(U,$);else if(h.default.query(I).prototype instanceof h.default.Embed){if($=prompt("Enter "+I),!$)return;U.quill.updateContents(new c.default().retain(B.index).delete(B.length).insert(x({},I,$)),f.default.sources.USER)}else U.quill.format(I,$,f.default.sources.USER);U.update(B)}),this.controls.push([I,R])}}},{key:"update",value:function(R){var U=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(I){var L=i(I,2),M=L[0],$=L[1];if($.tagName==="SELECT"){var F=void 0;if(R==null)F=null;else if(U[M]==null)F=$.querySelector("option[selected]");else if(!Array.isArray(U[M])){var O=U[M];typeof O=="string"&&(O=O.replace(/\"/g,'\\"')),F=$.querySelector('option[value="'+O+'"]')}F==null?($.value="",$.selectedIndex=-1):F.selected=!0}else if(R==null)$.classList.remove("ql-active");else if($.hasAttribute("value")){var q=U[M]===$.getAttribute("value")||U[M]!=null&&U[M].toString()===$.getAttribute("value")||U[M]==null&&!$.getAttribute("value");$.classList.toggle("ql-active",q)}else $.classList.toggle("ql-active",U[M]!=null)})}}]),A}(b.default);S.DEFAULTS={};function C(_,A,D){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+A),D!=null&&(R.value=D),_.appendChild(R)}function E(_,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(D){var R=document.createElement("span");R.classList.add("ql-formats"),D.forEach(function(U){if(typeof U=="string")C(R,U);else{var I=Object.keys(U)[0],L=U[I];Array.isArray(L)?T(R,I,L):C(R,I,L)}}),_.appendChild(R)})}function T(_,A,D){var R=document.createElement("select");R.classList.add("ql-"+A),D.forEach(function(U){var I=document.createElement("option");U!==!1?I.setAttribute("value",U):I.setAttribute("selected","selected"),R.appendChild(I)}),_.appendChild(R)}S.DEFAULTS={container:null,handlers:{clean:function(){var A=this,D=this.quill.getSelection();if(D!=null)if(D.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function(U){h.default.query(U,h.default.Scope.INLINE)!=null&&A.quill.format(U,!1)})}else this.quill.removeFormat(D,f.default.sources.USER)},direction:function(A){var D=this.quill.getFormat().align;A==="rtl"&&D==null?this.quill.format("align","right",f.default.sources.USER):!A&&D==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",A,f.default.sources.USER)},indent:function(A){var D=this.quill.getSelection(),R=this.quill.getFormat(D),U=parseInt(R.indent||0);if(A==="+1"||A==="-1"){var I=A==="+1"?1:-1;R.direction==="rtl"&&(I*=-1),this.quill.format("indent",U+I,f.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,f.default.sources.USER)},list:function(A){var D=this.quill.getSelection(),R=this.quill.getFormat(D);A==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",A,f.default.sources.USER)}}},r.default=S,r.addControls=E},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(g,b){for(var v=0;v<b.length;v++){var x=b[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,v){return b&&p(g.prototype,b),v&&p(g,v),g}}(),o=function p(g,b,v){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,b);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,b,v)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(v)}},l=a(28),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){f(g,p);function g(b,v){h(this,g);var x=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b));return x.label.innerHTML=v,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return i(g,[{key:"buildItem",value:function(v){var x=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,v);return x.style.backgroundColor=v.getAttribute("value")||"",x}},{key:"selectItem",value:function(v,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,x);var w=this.label.querySelector(".ql-color-label"),j=v&&v.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=j:w.style.fill=j)}}]),g}(c.default);r.default=m},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(g,b){for(var v=0;v<b.length;v++){var x=b[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,v){return b&&p(g.prototype,b),v&&p(g,v),g}}(),o=function p(g,b,v){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,b);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,b,v)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(v)}},l=a(28),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){f(g,p);function g(b,v){h(this,g);var x=d(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=v[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return i(g,[{key:"selectItem",value:function(v,x){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,v,x),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),g}(c.default);r.default=m},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,h){var d=this;o(this,c),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return i(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var d=h.left+h.width/2-this.root.offsetWidth/2,f=h.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),g=0;if(p.right>m.right&&(g=m.right-p.right,this.root.style.left=d+g+"px"),p.left<m.left&&(g=m.left-p.left,this.root.style.left=d+g+"px"),p.bottom>m.bottom){var b=p.bottom-p.top,v=h.bottom-h.top+b;this.root.style.top=f-v+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();r.default=l},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function T(_,A){var D=[],R=!0,U=!1,I=void 0;try{for(var L=_[Symbol.iterator](),M;!(R=(M=L.next()).done)&&(D.push(M.value),!(A&&D.length===A));R=!0);}catch($){U=!0,I=$}finally{try{!R&&L.return&&L.return()}finally{if(U)throw I}}return D}return function(_,A){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return T(_,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function T(_,A,D){_===null&&(_=Function.prototype);var R=Object.getOwnPropertyDescriptor(_,A);if(R===void 0){var U=Object.getPrototypeOf(_);return U===null?void 0:T(U,A,D)}else{if("value"in R)return R.value;var I=R.get;return I===void 0?void 0:I.call(D)}},l=function(){function T(_,A){for(var D=0;D<A.length;D++){var R=A[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,A,D){return A&&T(_.prototype,A),D&&T(_,D),_}}(),c=a(3),u=w(c),h=a(8),d=w(h),f=a(43),m=w(f),p=a(27),g=w(p),b=a(15),v=a(41),x=w(v);function w(T){return T&&T.__esModule?T:{default:T}}function j(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function N(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function k(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(T){k(_,T);function _(A,D){j(this,_),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=S);var R=N(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,D));return R.quill.container.classList.add("ql-snow"),R}return l(_,[{key:"extendToolbar",value:function(D){D.container.classList.add("ql-snow"),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),x.default),this.tooltip=new E(this.quill,this.options.bounds),D.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,U){D.handlers.link.call(D,!U.format.link)})}}]),_}(m.default);C.DEFAULTS=(0,u.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){if(_){var A=this.quill.getSelection();if(A==null||A.length==0)return;var D=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(D)&&D.indexOf("mailto:")!==0&&(D="mailto:"+D);var R=this.quill.theme.tooltip;R.edit("link",D)}else this.quill.format("link",!1)}}}}});var E=function(T){k(_,T);function _(A,D){j(this,_);var R=N(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,D));return R.preview=R.root.querySelector("a.ql-preview"),R}return l(_,[{key:"listen",value:function(){var D=this;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){D.root.classList.contains("ql-editing")?D.save():D.edit("link",D.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(D.linkRange!=null){var U=D.linkRange;D.restoreFocus(),D.quill.formatText(U,"link",!1,d.default.sources.USER),delete D.linkRange}R.preventDefault(),D.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(R,U,I){if(R!=null){if(R.length===0&&I===d.default.sources.USER){var L=D.quill.scroll.descendant(g.default,R.index),M=i(L,2),$=M[0],F=M[1];if($!=null){D.linkRange=new b.Range(R.index-F,$.length());var O=g.default.formats($.domNode);D.preview.textContent=O,D.preview.setAttribute("href",O),D.show(),D.position(D.quill.getBounds(D.linkRange));return}}else delete D.linkRange;D.hide()}})}},{key:"show",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),_}(f.BaseTooltip);E.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=C},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(29),o=Q(i),l=a(36),c=a(38),u=a(64),h=a(65),d=Q(h),f=a(66),m=Q(f),p=a(67),g=Q(p),b=a(37),v=a(26),x=a(39),w=a(40),j=a(56),N=Q(j),k=a(68),S=Q(k),C=a(27),E=Q(C),T=a(69),_=Q(T),A=a(70),D=Q(A),R=a(71),U=Q(R),I=a(72),L=Q(I),M=a(73),$=Q(M),F=a(13),O=Q(F),q=a(74),B=Q(q),z=a(75),W=Q(z),P=a(57),V=Q(P),Y=a(41),J=Q(Y),te=a(28),ie=Q(te),de=a(59),G=Q(de),X=a(60),le=Q(X),Ne=a(61),Re=Q(Ne),oe=a(108),ae=Q(oe),K=a(62),Z=Q(K);function Q(pe){return pe&&pe.__esModule?pe:{default:pe}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":d.default,"formats/code-block":O.default,"formats/header":m.default,"formats/list":g.default,"formats/bold":N.default,"formats/code":F.Code,"formats/italic":S.default,"formats/link":E.default,"formats/script":_.default,"formats/strike":D.default,"formats/underline":U.default,"formats/image":L.default,"formats/video":$.default,"formats/list/item":p.ListItem,"modules/formula":B.default,"modules/syntax":W.default,"modules/toolbar":V.default,"themes/bubble":ae.default,"themes/snow":Z.default,"ui/icons":J.default,"ui/picker":ie.default,"ui/icon-picker":le.default,"ui/color-picker":G.default,"ui/tooltip":Re.default},!0),r.default=o.default},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var i=function(){function g(b,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,v,x){return v&&g(b.prototype,v),x&&g(b,x),b}}(),o=function g(b,v,x){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,v);if(w===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:g(j,v,x)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(x)}},l=a(0),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function d(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function f(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var m=function(g){f(b,g);function b(){return h(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return i(b,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var j=this.value(x)||0;w=w==="+1"?j+1:j-1}return w===0?(this.remove(x),!0):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,x,w)||o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,x))||void 0}}]),b}(c.default.Attributor.Class),p=new m("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(4),o=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function u(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function h(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var d=function(f){h(m,f);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function m(p,g){for(var b=0;b<g.length;b++){var v=g[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,g,b){return g&&m(p.prototype,g),b&&m(p,b),p}}(),o=a(4),l=c(o);function c(m){return m&&m.__esModule?m:{default:m}}function u(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function h(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function d(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var f=function(m){d(p,m);function p(){return u(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return i(p,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),p}(l.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var i=function(){function j(N,k){for(var S=0;S<k.length;S++){var C=k[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,k,S){return k&&j(N.prototype,k),S&&j(N,S),N}}(),o=function j(N,k,S){N===null&&(N=Function.prototype);var C=Object.getOwnPropertyDescriptor(N,k);if(C===void 0){var E=Object.getPrototypeOf(N);return E===null?void 0:j(E,k,S)}else{if("value"in C)return C.value;var T=C.get;return T===void 0?void 0:T.call(S)}},l=a(0),c=m(l),u=a(4),h=m(u),d=a(25),f=m(d);function m(j){return j&&j.__esModule?j:{default:j}}function p(j,N,k){return N in j?Object.defineProperty(j,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):j[N]=k,j}function g(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function b(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function v(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var x=function(j){v(N,j);function N(){return g(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,[{key:"format",value:function(S,C){S===w.blotName&&!C?this.replaceWith(c.default.create(this.statics.scope)):o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,S,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,C){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,C),this):(this.parent.unwrap(),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,S,C))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,S)}}]),N}(h.default);x.blotName="list-item",x.tagName="LI";var w=function(j){v(N,j),i(N,null,[{key:"create",value:function(S){var C=S==="ordered"?"OL":"UL",E=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,C);return(S==="checked"||S==="unchecked")&&E.setAttribute("data-checked",S==="checked"),E}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(k){g(this,N);var S=b(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k)),C=function(T){if(T.target.parentNode===k){var _=S.statics.formats(k),A=c.default.find(T.target);_==="checked"?A.format("list","unchecked"):_==="unchecked"&&A.format("list","checked")}};return k.addEventListener("touchstart",C),k.addEventListener("mousedown",C),S}return i(N,[{key:"format",value:function(S,C){this.children.length>0&&this.children.tail.format(S,C)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,C){if(S instanceof x)o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,S,C);else{var E=C==null?this.length():C.offset(this),T=this.split(E);T.parent.insertBefore(S,T)}}},{key:"optimize",value:function(S){o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,S);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var C=c.default.create(this.statics.defaultChild);S.moveChildren(C),this.appendChild(C)}o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,S)}}]),N}(f.default);w.blotName="list",w.scope=c.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],r.ListItem=x,r.default=w},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(56),o=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function u(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function h(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var d=function(f){h(m,f);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function p(g,b){for(var v=0;v<b.length;v++){var x=b[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,b,v){return b&&p(g.prototype,b),v&&p(g,v),g}}(),o=function p(g,b,v){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,b);if(x===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,b,v)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(v)}},l=a(6),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m=function(p){f(g,p);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),g}(c.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),o=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function u(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function h(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var d=function(f){h(m,f);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="strike",d.tagName="S",r.default=d},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),o=l(i);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function u(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:f}function h(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}var d=function(f){h(m,f);function m(){return c(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(o.default);d.blotName="underline",d.tagName="U",r.default=d},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(v,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),o=function b(v,x,w){v===null&&(v=Function.prototype);var j=Object.getOwnPropertyDescriptor(v,x);if(j===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:b(N,x,w)}else{if("value"in j)return j.value;var k=j.get;return k===void 0?void 0:k.call(w)}},l=a(0),c=h(l),u=a(27);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function f(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function m(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var p=["alt","height","width"],g=function(b){m(v,b);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"format",value:function(w,j){p.indexOf(w)>-1?j?this.domNode.setAttribute(w,j):this.domNode.removeAttribute(w):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,j)}}],[{key:"create",value:function(w){var j=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return typeof w=="string"&&j.setAttribute("src",this.sanitize(w)),j}},{key:"formats",value:function(w){return p.reduce(function(j,N){return w.hasAttribute(N)&&(j[N]=w.getAttribute(N)),j},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(c.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function b(v,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),o=function b(v,x,w){v===null&&(v=Function.prototype);var j=Object.getOwnPropertyDescriptor(v,x);if(j===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:b(N,x,w)}else{if("value"in j)return j.value;var k=j.get;return k===void 0?void 0:k.call(w)}},l=a(4),c=a(27),u=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function f(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function m(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var p=["height","width"],g=function(b){m(v,b);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"format",value:function(w,j){p.indexOf(w)>-1?j?this.domNode.setAttribute(w,j):this.domNode.removeAttribute(w):o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,j)}}],[{key:"create",value:function(w){var j=o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return j.setAttribute("frameborder","0"),j.setAttribute("allowfullscreen",!0),j.setAttribute("src",this.sanitize(w)),j}},{key:"formats",value:function(w){return p.reduce(function(j,N){return w.hasAttribute(N)&&(j[N]=w.getAttribute(N)),j},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),v}(l.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var i=function(){function w(j,N){for(var k=0;k<N.length;k++){var S=N[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,S.key,S)}}return function(j,N,k){return N&&w(j.prototype,N),k&&w(j,k),j}}(),o=function w(j,N,k){j===null&&(j=Function.prototype);var S=Object.getOwnPropertyDescriptor(j,N);if(S===void 0){var C=Object.getPrototypeOf(j);return C===null?void 0:w(C,N,k)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(k)}},l=a(35),c=m(l),u=a(5),h=m(u),d=a(9),f=m(d);function m(w){return w&&w.__esModule?w:{default:w}}function p(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function g(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function b(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var v=function(w){b(j,w);function j(){return p(this,j),g(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,null,[{key:"create",value:function(k){var S=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",k)),S}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),j}(c.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var x=function(w){b(j,w),i(j,null,[{key:"register",value:function(){h.default.register(v,!0)}}]);function j(){p(this,j);var N=g(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return j}(f.default);r.FormulaBlot=v,r.default=x},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var i=function(){function k(S,C){for(var E=0;E<C.length;E++){var T=C[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,C,E){return C&&k(S.prototype,C),E&&k(S,E),S}}(),o=function k(S,C,E){S===null&&(S=Function.prototype);var T=Object.getOwnPropertyDescriptor(S,C);if(T===void 0){var _=Object.getPrototypeOf(S);return _===null?void 0:k(_,C,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},l=a(0),c=g(l),u=a(5),h=g(u),d=a(9),f=g(d),m=a(13),p=g(m);function g(k){return k&&k.__esModule?k:{default:k}}function b(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function v(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function x(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var w=function(k){x(S,k);function S(){return b(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return i(S,[{key:"replaceWith",value:function(E){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,E)}},{key:"highlight",value:function(E){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=E(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),S}(p.default);w.className="ql-syntax";var j=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),N=function(k){x(S,k),i(S,null,[{key:"register",value:function(){h.default.register(j,!0),h.default.register(w,!0)}}]);function S(C,E){b(this,S);var T=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,C,E));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var _=null;return T.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(_),_=setTimeout(function(){T.highlight(),_=null},T.options.interval)}),T.highlight(),T}return i(S,[{key:"highlight",value:function(){var E=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(_){_.highlight(E.options.highlight)}),this.quill.update(h.default.sources.SILENT),T!=null&&this.quill.setSelection(T,h.default.sources.SILENT)}}}]),S}(f.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var S=window.hljs.highlightAuto(k);return S.value}}(),interval:1e3},r.CodeBlock=w,r.CodeToken=j,r.default=N},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,r){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,r){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,r){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,r){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var i=function S(C,E,T){C===null&&(C=Function.prototype);var _=Object.getOwnPropertyDescriptor(C,E);if(_===void 0){var A=Object.getPrototypeOf(C);return A===null?void 0:S(A,E,T)}else{if("value"in _)return _.value;var D=_.get;return D===void 0?void 0:D.call(T)}},o=function(){function S(C,E){for(var T=0;T<E.length;T++){var _=E[T];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(C,_.key,_)}}return function(C,E,T){return E&&S(C.prototype,E),T&&S(C,T),C}}(),l=a(3),c=b(l),u=a(8),h=b(u),d=a(43),f=b(d),m=a(15),p=a(41),g=b(p);function b(S){return S&&S.__esModule?S:{default:S}}function v(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function x(S,C){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:S}function w(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(S,C):S.__proto__=C)}var j=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(S){w(C,S);function C(E,T){v(this,C),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=j);var _=x(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,E,T));return _.quill.container.classList.add("ql-bubble"),_}return o(C,[{key:"extendToolbar",value:function(T){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),g.default)}}]),C}(f.default);N.DEFAULTS=(0,c.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(S){w(C,S);function C(E,T){v(this,C);var _=x(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,E,T));return _.quill.on(h.default.events.EDITOR_CHANGE,function(A,D,R,U){if(A===h.default.events.SELECTION_CHANGE)if(D!=null&&D.length>0&&U===h.default.sources.USER){_.show(),_.root.style.left="0px",_.root.style.width="",_.root.style.width=_.root.offsetWidth+"px";var I=_.quill.getLines(D.index,D.length);if(I.length===1)_.position(_.quill.getBounds(D));else{var L=I[I.length-1],M=_.quill.getIndex(L),$=Math.min(L.length()-1,D.index+D.length-M),F=_.quill.getBounds(new m.Range(M,$));_.position(F)}}else document.activeElement!==_.textbox&&_.quill.hasFocus()&&_.hide()}),_}return o(C,[{key:"listen",value:function(){var T=this;i(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var _=T.quill.getSelection();_!=null&&T.position(T.quill.getBounds(_))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var _=i(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,T),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",_===0)return _;A.style.marginLeft=-1*_-A.offsetWidth/2+"px"}}]),C}(d.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=N},function(s,r,a){s.exports=a(63)}]).default})})(_I);var Uce=_I.exports,Vce=Ln&&Ln.__extends||function(){var e=function(t,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i])},e(t,s)};return function(t,s){e(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}}(),Rp=Ln&&Ln.__assign||function(){return Rp=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Rp.apply(this,arguments)},Bce=Ln&&Ln.__spreadArrays||function(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<s;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)r[a]=i[o];return r},rx=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ea=rx(y),zce=rx(go),ud=rx($ce),$C=rx(Uce),qce=function(e){Vce(t,e);function t(s){var r=e.call(this,s)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(i,o,l,c){var u,h,d,f;i==="text-change"?(h=(u=r).onEditorChangeText)===null||h===void 0||h.call(u,r.editor.root.innerHTML,o,c,r.unprivilegedEditor):i==="selection-change"&&((f=(d=r).onEditorChangeSelection)===null||f===void 0||f.call(d,o,c,r.unprivilegedEditor))};var a=r.isControlled()?s.value:s.defaultValue;return r.value=a??"",r}return t.prototype.validateProps=function(s){var r;if(ea.default.Children.count(s.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ea.default.Children.count(s.children)){var a=ea.default.Children.only(s.children);if(((r=a)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&s.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(s,r){var a=this,i;if(this.validateProps(s),!this.editor||this.state.generation!==r.generation)return!0;if("value"in s){var o=this.getEditorContents(),l=(i=s.value,i??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return s.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,s.readOnly),Bce(this.cleanProps,this.dirtyProps).some(function(c){return!ud.default(s[c],a.props[c])})},t.prototype.shouldComponentRegenerate=function(s){var r=this;return this.dirtyProps.some(function(a){return!ud.default(s[a],r.props[a])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(s,r){var a=this;if(this.editor&&this.shouldComponentRegenerate(s)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var l=this.regenerationSnapshot,i=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(i),UC(function(){return a.setEditorSelection(u,c)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(s,r){var a=new $C.default(s,r);return r.tabIndex!=null&&this.setEditorTabIndex(a,r.tabIndex),this.hookEditor(a),a},t.prototype.hookEditor=function(s){this.unprivilegedEditor=this.makeUnprivilegedEditor(s),s.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(s){s.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(s){return s&&s.ops},t.prototype.isEqualValue=function(s,r){return this.isDelta(s)&&this.isDelta(r)?ud.default(s.ops,r.ops):ud.default(s,r)},t.prototype.setEditorContents=function(s,r){var a=this;this.value=r;var i=this.getEditorSelection();typeof r=="string"?s.setContents(s.clipboard.convert(r)):s.setContents(r),UC(function(){return a.setEditorSelection(s,i)})},t.prototype.setEditorSelection=function(s,r){if(this.selection=r,r){var a=s.getLength();r.index=Math.max(0,Math.min(r.index,a-1)),r.length=Math.max(0,Math.min(r.length,a-1-r.index)),s.setSelection(r)}},t.prototype.setEditorTabIndex=function(s,r){var a,i;!((i=(a=s)===null||a===void 0?void 0:a.scroll)===null||i===void 0)&&i.domNode&&(s.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(s,r){r?s.disable():s.enable()},t.prototype.makeUnprivilegedEditor=function(s){var r=s;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var s=zce.default.findDOMNode(this.editingArea);if(!s)throw new Error("Cannot find element for editing area");if(s.nodeType===3)throw new Error("Editing area cannot be a text node");return s},t.prototype.renderEditingArea=function(){var s=this,r=this.props,a=r.children,i=r.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(c){s.editingArea=c}};return ea.default.Children.count(a)?ea.default.cloneElement(ea.default.Children.only(a),l):i?ea.default.createElement("pre",Rp({},l)):ea.default.createElement("div",Rp({},l))},t.prototype.render=function(){var s;return ea.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(s=this.props.className,s??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(s,r,a,i){var o,l;if(this.editor){var c=this.isDelta(this.value)?i.getContents():i.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=c,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,s,r,a,i))}},t.prototype.onEditorChangeSelection=function(s,r,a){var i,o,l,c,u,h;if(this.editor){var d=this.getEditorSelection(),f=!d&&s,m=d&&!s;ud.default(s,d)||(this.selection=s,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,s,r,a),f?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,s,r,a):m&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,d,r,a)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=$C.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(ea.default.Component);function UC(e){Promise.resolve().then(e)}var Hce=qce;const Wce=Nb(Hce),Op=({value:e,onChange:t,placeholder:s="Enter lesson content...",disabled:r=!1,className:a=""})=>{const i=y.useMemo(()=>({toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link","image","video"],[{color:[]},{background:[]}],[{align:[]}],["blockquote","code-block"],["clean"]]}),[]),o=["header","bold","italic","underline","strike","list","bullet","indent","link","image","video","color","background","align","blockquote","code-block"];return n.jsxs("div",{className:`rich-text-editor ${a}`,children:[n.jsx(Wce,{theme:"snow",value:e,onChange:t,modules:i,formats:o,placeholder:s,readOnly:r,className:r?"opacity-50 cursor-not-allowed":""}),n.jsx("style",{jsx:!0,global:!0,children:`
        .rich-text-editor .quill {
          background: white;
          border-radius: 0.5rem;
        }
        .rich-text-editor .ql-container {
          min-height: 300px;
          font-size: 16px;
          border-bottom-left-radius: 0.5rem;
          border-bottom-right-radius: 0.5rem;
        }
        .rich-text-editor .ql-toolbar {
          border-top-left-radius: 0.5rem;
          border-top-right-radius: 0.5rem;
          background: #f8f9fa;
        }
        .rich-text-editor .ql-editor {
          min-height: 300px;
        }
        .rich-text-editor .ql-editor.ql-blank::before {
          font-style: normal;
          color: #9ca3af;
        }
      `})]})};var AI="AlertDialog",[Kce]=Jn(AI,[mR]),di=mR(),DI=e=>{const{__scopeAlertDialog:t,...s}=e,r=di(t);return n.jsx(AR,{...r,...s,modal:!0})};DI.displayName=AI;var Gce="AlertDialogTrigger",RI=y.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=di(s);return n.jsx(DR,{...a,...r,ref:t})});RI.displayName=Gce;var Yce="AlertDialogPortal",OI=e=>{const{__scopeAlertDialog:t,...s}=e,r=di(t);return n.jsx(RR,{...r,...s})};OI.displayName=Yce;var Qce="AlertDialogOverlay",PI=y.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=di(s);return n.jsx(Bj,{...a,...r,ref:t})});PI.displayName=Qce;var Uc="AlertDialogContent",[Zce,Xce]=Kce(Uc),Jce=bq("AlertDialogContent"),II=y.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:r,...a}=e,i=di(s),o=y.useRef(null),l=mt(t,o),c=y.useRef(null);return n.jsx(ZZ,{contentName:Uc,titleName:MI,docsSlug:"alert-dialog",children:n.jsx(Zce,{scope:s,cancelRef:c,children:n.jsxs(zj,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ie(a.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[n.jsx(Jce,{children:r}),n.jsx(tue,{contentRef:o})]})})})});II.displayName=Uc;var MI="AlertDialogTitle",LI=y.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=di(s);return n.jsx(qj,{...a,...r,ref:t})});LI.displayName=MI;var FI="AlertDialogDescription",$I=y.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=di(s);return n.jsx(Hj,{...a,...r,ref:t})});$I.displayName=FI;var eue="AlertDialogAction",UI=y.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,a=di(s);return n.jsx(Mg,{...a,...r,ref:t})});UI.displayName=eue;var VI="AlertDialogCancel",BI=y.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,{cancelRef:a}=Xce(VI,s),i=di(s),o=mt(t,a);return n.jsx(Mg,{...i,...r,ref:o})});BI.displayName=VI;var tue=({contentRef:e})=>{const t=`\`${Uc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Uc}\` by passing a \`${FI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Uc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nue=DI,sue=RI,rue=OI,zI=PI,qI=II,HI=UI,WI=BI,KI=LI,GI=$I;const wa=nue,VC=sue,aue=rue,YI=y.forwardRef(({className:e,...t},s)=>n.jsx(zI,{className:fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));YI.displayName=zI.displayName;const Br=y.forwardRef(({className:e,...t},s)=>n.jsxs(aue,{children:[n.jsx(YI,{}),n.jsx(qI,{ref:s,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Br.displayName=qI.displayName;const El=({className:e,...t})=>n.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",e),...t});El.displayName="AlertDialogHeader";const _l=({className:e,...t})=>n.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_l.displayName="AlertDialogFooter";const zr=y.forwardRef(({className:e,...t},s)=>n.jsx(KI,{ref:s,className:fe("text-lg font-semibold",e),...t}));zr.displayName=KI.displayName;const qr=y.forwardRef(({className:e,...t},s)=>n.jsx(GI,{ref:s,className:fe("text-sm text-muted-foreground",e),...t}));qr.displayName=GI.displayName;const Hr=y.forwardRef(({className:e,...t},s)=>n.jsx(HI,{ref:s,className:fe(mh(),e),...t}));Hr.displayName=HI.displayName;const ja=y.forwardRef(({className:e,...t},s)=>n.jsx(WI,{ref:s,className:fe(mh({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ja.displayName=WI.displayName;const bN=e=>{if(!e||e.trim()==="")return!0;try{const t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},iue=e=>{if(!e||e.trim()==="")return!0;if(!bN(e))return!1;try{const s=new URL(e).hostname.toLowerCase();return s==="www.youtube.com"||s==="youtube.com"||s==="youtu.be"||s==="m.youtube.com"}catch{return!1}},Ti=(e,t=!1)=>!e||e.trim()===""?t?"URL video l bt buc":"":bN(e)?iue(e)?"":"URL video phi l link YouTube hp l (youtube.com hoc youtu.be)":"URL video phi l URL hp l bt u bng http:// hoc https://",Ei=(e,t=!1)=>!e||e.trim()===""?t?"URL ti nguyn l bt buc":"":bN(e)?"":"URL ti nguyn phi l URL hp l bt u bng http:// hoc https://",Bs={createLiveQuestion:async(e,t)=>{var i,o,l;const s={questionText:t.questionText,orderIndex:t.orderIndex,explanation:t.explanation,score:t.score,options:t.options},r=await ee.post(`/tutor/quiz/lessons/${e}/questions`,s),a=((o=(i=r==null?void 0:r.data)==null?void 0:i.result)==null?void 0:o.questionID)||((l=r==null?void 0:r.data)==null?void 0:l.questionID);if(!a)throw new Error("Invalid response from server");return{questionId:a.toString()}},getLiveQuestions:async e=>{var s,r;const t=await ee.get(`/tutor/quiz/lessons/${e}`);return((r=(s=t==null?void 0:t.data)==null?void 0:s.result)==null?void 0:r.questions)||[]},updateLiveQuestion:async(e,t)=>{var i,o,l;const s={questionText:t.questionText,orderIndex:t.orderIndex,explanation:t.explanation,score:t.score,options:t.options},r=await ee.put(`/tutor/quiz/questions/${e}`,s);return{questionId:(((o=(i=r==null?void 0:r.data)==null?void 0:i.result)==null?void 0:o.questionID)||((l=r==null?void 0:r.data)==null?void 0:l.questionID)||e).toString()}},deleteLiveQuestion:async e=>{await ee.delete(`/tutor/quiz/questions/${e}`)},createDraftQuestion:async(e,t)=>{var i,o,l;const s={questionText:t.questionText,orderIndex:t.orderIndex,explanation:t.explanation,score:t.score,options:t.options},r=await ee.post(`/tutor/quiz/draft-lessons/${e}/questions`,s),a=((o=(i=r==null?void 0:r.data)==null?void 0:i.result)==null?void 0:o.questionDraftID)||((l=r==null?void 0:r.data)==null?void 0:l.questionDraftID);if(!a)throw new Error("Invalid response from server");return{questionDraftId:a.toString()}},getDraftQuestions:async e=>{var s,r;const t=await ee.get(`/tutor/quiz/draft-lessons/${e}`);return((r=(s=t==null?void 0:t.data)==null?void 0:s.result)==null?void 0:r.questions)||[]},updateDraftQuestion:async(e,t)=>{var i,o,l;const s={questionText:t.questionText,orderIndex:t.orderIndex,explanation:t.explanation,score:t.score,options:t.options},r=await ee.put(`/tutor/quiz/draft-questions/${e}`,s);return{questionDraftId:(((o=(i=r==null?void 0:r.data)==null?void 0:i.result)==null?void 0:o.questionDraftID)||((l=r==null?void 0:r.data)==null?void 0:l.questionDraftID)||e).toString()}},deleteDraftQuestion:async e=>{await ee.delete(`/tutor/quiz/draft-questions/${e}`)},createQuestion:async(e,t,s)=>s?{questionId:(await Bs.createDraftQuestion(e,t)).questionDraftId}:Bs.createLiveQuestion(e,t),getQuestions:async(e,t)=>t?Bs.getDraftQuestions(e):Bs.getLiveQuestions(e),updateQuestion:async(e,t,s)=>s?{questionId:(await Bs.updateDraftQuestion(e,t)).questionDraftId}:Bs.updateLiveQuestion(e,t),deleteQuestion:async(e,t)=>t?Bs.deleteDraftQuestion(e):Bs.deleteLiveQuestion(e)};function oue(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Array(12).fill(0);let fb=1;class lue{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:r,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:fb++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],re.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(uue(u)&&!u.ok){i=!1;const d=typeof s.error=="function"?await s.error(`HTTP error! status: ${u.status}`):s.error,f=typeof s.description=="function"?await s.description(`HTTP error! status: ${u.status}`):s.description,p=typeof d=="object"&&!re.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...p})}else if(u instanceof Error){i=!1;const d=typeof s.error=="function"?await s.error(u):s.error,f=typeof s.description=="function"?await s.description(u):s.description,p=typeof d=="object"&&!re.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...p})}else if(s.success!==void 0){i=!1;const d=typeof s.success=="function"?await s.success(u):s.success,f=typeof s.description=="function"?await s.description(u):s.description,p=typeof d=="object"&&!re.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:f,...p})}}).catch(async u=>{if(o=["reject",u],s.error!==void 0){i=!1;const h=typeof s.error=="function"?await s.error(u):s.error,d=typeof s.description=="function"?await s.description(u):s.description,m=typeof h=="object"&&!re.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...m})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),s.finally==null||s.finally.call(s)}),c=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,s)=>{const r=(s==null?void 0:s.id)||fb++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const rr=new lue,cue=(e,t)=>{const s=(t==null?void 0:t.id)||fb++;return rr.addToast({title:e,...t,id:s}),s},uue=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",due=cue,hue=()=>rr.toasts,fue=()=>rr.getActiveToasts(),xt=Object.assign(due,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:hue,getToasts:fue});oue("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function mue({open:e,lessonId:t,isDraft:s,onClose:r,onSuccess:a,initialOrderIndex:i=0}){const[o,l]=y.useState(!1),[c,u]=y.useState({questionText:"",explanation:"",score:1,orderIndex:i,options:[{optionText:"",isCorrect:!1,orderIndex:0},{optionText:"",isCorrect:!1,orderIndex:1}]}),[h,d]=y.useState({});y.useEffect(()=>{u(x=>({...x,orderIndex:i}))},[i]),y.useEffect(()=>{e||(u({questionText:"",explanation:"",score:1,orderIndex:i,options:[{optionText:"",isCorrect:!1,orderIndex:0},{optionText:"",isCorrect:!1,orderIndex:1}]}),d({}))},[e,i]);const f=()=>{const x={};c.questionText.trim()?c.questionText.trim().length<10?x.questionText="Cu hi phi c t nht 10 k t":c.questionText.length>500&&(x.questionText="Cu hi khng c vt qu 500 k t"):x.questionText="Vui lng nhp cu hi",c.explanation.trim()?c.explanation.trim().length<10?x.explanation="Gii thch phi c t nht 10 k t":c.explanation.length>1e3&&(x.explanation="Gii thch khng c vt qu 1000 k t"):x.explanation="Vui lng nhp gii thch",c.score<1?x.score="im s phi ln hn 0":c.score>100&&(x.score="im s khng c vt qu 100"),c.orderIndex<0&&(x.orderIndex="Th t phi l s khng m"),c.options.length<2?x.options="Phi c t nht 2 la chn":c.options.length>6&&(x.options="Khng c c qu 6 la chn");const w={};return c.options.forEach((N,k)=>{N.optionText.trim()?N.optionText.length>200&&(w[k]="Ni dung khng c vt qu 200 k t"):w[k]="Vui lng nhp ni dung la chn"}),Object.keys(w).length>0&&(x.optionTexts=w),c.options.some(N=>N.isCorrect)||(x.options="Phi c t nht mt la chn ng"),d(x),Object.keys(x).length===0},m=()=>{if(c.options.length>=6){xt.error("Khng th thm qu 6 la chn");return}u({...c,options:[...c.options,{optionText:"",isCorrect:!1,orderIndex:c.options.length}]})},p=x=>{if(c.options.length<=2){xt.error("Phi c t nht 2 la chn");return}const j=c.options.filter((N,k)=>k!==x).map((N,k)=>({...N,orderIndex:k}));u({...c,options:j})},g=(x,w,j)=>{const N=[...c.options];N[x]={...N[x],[w]:j},u({...c,options:N})},b=async x=>{var w,j;if(f()){l(!0);try{await Bs.createQuestion(t,c,s),xt.success("To cu hi thnh cng"),x?(u({questionText:"",explanation:"",score:1,orderIndex:c.orderIndex+1,options:[{optionText:"",isCorrect:!1,orderIndex:0},{optionText:"",isCorrect:!1,orderIndex:1}]}),d({})):r(),a()}catch(N){console.error("Error creating question:",N),xt.error(((j=(w=N==null?void 0:N.response)==null?void 0:w.data)==null?void 0:j.message)||"Khng th to cu hi")}finally{l(!1)}}},v=()=>c.questionText.trim().length>=10&&c.questionText.length<=500&&c.explanation.trim().length>=10&&c.explanation.length<=1e3&&c.score>=1&&c.score<=100&&c.orderIndex>=0&&c.options.length>=2&&c.options.length<=6&&c.options.every(x=>x.optionText.trim().length>0&&x.optionText.length<=200)&&c.options.some(x=>x.isCorrect);return n.jsx(ht,{open:e,onOpenChange:r,children:n.jsxs(lt,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ct,{children:n.jsx(ut,{children:"To cu hi mi"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"question-text",children:["Cu hi ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"question-text",value:c.questionText,onChange:x=>{u({...c,questionText:x.target.value}),h.questionText&&d({...h,questionText:void 0})},onBlur:()=>{const x=c.questionText.trim();x?x.length<10?d({...h,questionText:"Cu hi phi c t nht 10 k t"}):c.questionText.length>500&&d({...h,questionText:"Cu hi khng c vt qu 500 k t"}):d({...h,questionText:"Vui lng nhp cu hi"})},placeholder:"Nhp cu hi (10-500 k t)",rows:3,className:h.questionText?"border-red-500":""}),h.questionText&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.questionText}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.questionText.length,"/500 k t"]})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"explanation",children:["Gii thch ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"explanation",value:c.explanation,onChange:x=>{u({...c,explanation:x.target.value}),h.explanation&&d({...h,explanation:void 0})},onBlur:()=>{const x=c.explanation.trim();x?x.length<10?d({...h,explanation:"Gii thch phi c t nht 10 k t"}):c.explanation.length>1e3&&d({...h,explanation:"Gii thch khng c vt qu 1000 k t"}):d({...h,explanation:"Vui lng nhp gii thch"})},placeholder:"Nhp gii thch cho cu tr li (10-1000 k t)",rows:3,className:h.explanation?"border-red-500":""}),h.explanation&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.explanation}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.explanation.length,"/1000 k t"]})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"score",children:["im s ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"score",type:"number",min:"1",max:"100",value:c.score,onChange:x=>u({...c,score:parseInt(x.target.value)||1}),className:h.score?"border-red-500":""}),h.score&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.score}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"im s cho cu hi ny (1-100)"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs(ve,{children:["Cc la chn ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(H,{type:"button",size:"sm",variant:"outline",onClick:m,disabled:c.options.length>=6,className:"gap-2",children:[n.jsx(gn,{className:"w-3 h-3"}),"Thm la chn"]})]}),h.options&&n.jsx("p",{className:"text-sm text-red-600 mb-2",children:h.options}),n.jsx("div",{className:"space-y-3",children:c.options.map((x,w)=>{var j,N;return n.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[w+1,"."]}),n.jsx(Ce,{value:x.optionText,onChange:k=>g(w,"optionText",k.target.value),placeholder:"Nhp ni dung la chn",className:(j=h.optionTexts)!=null&&j[w]?"border-red-500":""})]}),((N=h.optionTexts)==null?void 0:N[w])&&n.jsx("p",{className:"text-sm text-red-600 ml-6",children:h.optionTexts[w]}),n.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[n.jsx($l,{id:`option-correct-${w}`,checked:x.isCorrect,onCheckedChange:k=>g(w,"isCorrect",k)}),n.jsx(ve,{htmlFor:`option-correct-${w}`,className:"text-sm cursor-pointer",children:"p n ng"})]})]}),n.jsx(H,{type:"button",size:"sm",variant:"ghost",onClick:()=>p(w),disabled:c.options.length<=2,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:n.jsx(Ht,{className:"w-4 h-4"})})]},w)})}),h.options&&n.jsx("p",{className:"text-sm text-red-600 mt-2",children:h.options}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Phi c t 2-6 la chn v t nht mt la chn ng"})]})]}),n.jsxs(Nt,{className:"gap-2",children:[n.jsx(H,{variant:"outline",onClick:r,disabled:o,children:"Hy"}),n.jsx(H,{onClick:()=>b(!0),disabled:!v()||o,className:"gap-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin"}),"ang lu..."]}):"Lu v to tip"}),n.jsx(H,{onClick:()=>b(!1),disabled:!v()||o,className:"gap-2 bg-green-600 hover:bg-green-700",children:o?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin"}),"ang lu..."]}):"Lu v ng"})]})]})})}function QI({open:e,question:t,isDraft:s,onClose:r,onSuccess:a}){const[i,o]=y.useState(!1),[l,c]=y.useState({questionText:"",explanation:"",score:1,orderIndex:0,options:[]}),[u,h]=y.useState({});y.useEffect(()=>{t&&(c({questionText:t.questionText,explanation:t.explanation,score:t.score,orderIndex:t.orderIndex,options:t.options.map(v=>({optionText:v.optionText,isCorrect:v.isCorrect,orderIndex:v.orderIndex}))}),h({}))},[t]);const d=()=>{const v={};l.questionText.trim()?l.questionText.trim().length<10?v.questionText="Cu hi phi c t nht 10 k t":l.questionText.length>500&&(v.questionText="Cu hi khng c vt qu 500 k t"):v.questionText="Vui lng nhp cu hi",l.explanation.trim()?l.explanation.trim().length<10?v.explanation="Gii thch phi c t nht 10 k t":l.explanation.length>1e3&&(v.explanation="Gii thch khng c vt qu 1000 k t"):v.explanation="Vui lng nhp gii thch",l.score<1?v.score="im s phi ln hn 0":l.score>100&&(v.score="im s khng c vt qu 100"),l.orderIndex<0&&(v.orderIndex="Th t phi l s khng m"),l.options.length<2?v.options="Phi c t nht 2 la chn":l.options.length>6&&(v.options="Khng c c qu 6 la chn");const x={};return l.options.forEach((j,N)=>{j.optionText.trim()?j.optionText.length>200&&(x[N]="Ni dung khng c vt qu 200 k t"):x[N]="Vui lng nhp ni dung la chn"}),Object.keys(x).length>0&&(v.optionTexts=x),l.options.some(j=>j.isCorrect)||(v.options="Phi c t nht mt la chn ng"),h(v),Object.keys(v).length===0},f=()=>{if(l.options.length>=6){xt.error("Khng th thm qu 6 la chn");return}c({...l,options:[...l.options,{optionText:"",isCorrect:!1,orderIndex:l.options.length}]})},m=v=>{if(l.options.length<=2){xt.error("Phi c t nht 2 la chn");return}const w=l.options.filter((j,N)=>N!==v).map((j,N)=>({...j,orderIndex:N}));c({...l,options:w})},p=(v,x,w)=>{const j=[...l.options];j[v]={...j[v],[x]:w},c({...l,options:j})},g=async()=>{var v,x;if(d()){o(!0);try{await Bs.updateQuestion(t.questionID.toString(),l,s),xt.success("Cp nht cu hi thnh cng"),r(),a()}catch(w){console.error("Error updating question:",w),xt.error(((x=(v=w==null?void 0:w.response)==null?void 0:v.data)==null?void 0:x.message)||"Khng th cp nht cu hi")}finally{o(!1)}}},b=()=>l.questionText.trim().length>=10&&l.questionText.length<=500&&l.explanation.trim().length>=10&&l.explanation.length<=1e3&&l.score>=1&&l.score<=100&&l.orderIndex>=0&&l.options.length>=2&&l.options.length<=6&&l.options.every(v=>v.optionText.trim().length>0&&v.optionText.length<=200)&&l.options.some(v=>v.isCorrect);return n.jsx(ht,{open:e,onOpenChange:r,children:n.jsxs(lt,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ct,{children:n.jsx(ut,{children:"Chnh sa cu hi"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"question-text",children:["Cu hi ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"question-text",value:l.questionText,onChange:v=>{c({...l,questionText:v.target.value}),u.questionText&&h({...u,questionText:void 0})},onBlur:()=>{const v=l.questionText.trim();v?v.length<10?h({...u,questionText:"Cu hi phi c t nht 10 k t"}):l.questionText.length>500&&h({...u,questionText:"Cu hi khng c vt qu 500 k t"}):h({...u,questionText:"Vui lng nhp cu hi"})},placeholder:"Nhp cu hi (10-500 k t)",rows:3,className:u.questionText?"border-red-500":""}),u.questionText&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.questionText}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.questionText.length,"/500 k t"]})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"explanation",children:["Gii thch ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"explanation",value:l.explanation,onChange:v=>{c({...l,explanation:v.target.value}),u.explanation&&h({...u,explanation:void 0})},onBlur:()=>{const v=l.explanation.trim();v?v.length<10?h({...u,explanation:"Gii thch phi c t nht 10 k t"}):l.explanation.length>1e3&&h({...u,explanation:"Gii thch khng c vt qu 1000 k t"}):h({...u,explanation:"Vui lng nhp gii thch"})},placeholder:"Nhp gii thch cho cu tr li (10-1000 k t)",rows:3,className:u.explanation?"border-red-500":""}),u.explanation&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.explanation}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.explanation.length,"/1000 k t"]})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"score",children:["im s ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"score",type:"number",min:"1",max:"100",value:l.score,onChange:v=>c({...l,score:parseInt(v.target.value)||1}),className:u.score?"border-red-500":""}),u.score&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.score}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"im s cho cu hi ny (1-100)"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs(ve,{children:["Cc la chn ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(H,{type:"button",size:"sm",variant:"outline",onClick:f,disabled:l.options.length>=6,className:"gap-2",children:[n.jsx(gn,{className:"w-3 h-3"}),"Thm la chn"]})]}),u.options&&n.jsx("p",{className:"text-sm text-red-600 mb-2",children:u.options}),n.jsx("div",{className:"space-y-3",children:l.options.map((v,x)=>{var w,j;return n.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[x+1,"."]}),n.jsx(Ce,{value:v.optionText,onChange:N=>p(x,"optionText",N.target.value),placeholder:"Nhp ni dung la chn",className:(w=u.optionTexts)!=null&&w[x]?"border-red-500":""})]}),((j=u.optionTexts)==null?void 0:j[x])&&n.jsx("p",{className:"text-sm text-red-600 ml-6",children:u.optionTexts[x]}),n.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[n.jsx($l,{id:`option-correct-${x}`,checked:v.isCorrect,onCheckedChange:N=>p(x,"isCorrect",N)}),n.jsx(ve,{htmlFor:`option-correct-${x}`,className:"text-sm cursor-pointer",children:"p n ng"})]})]}),n.jsx(H,{type:"button",size:"sm",variant:"ghost",onClick:()=>m(x),disabled:l.options.length<=2,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:n.jsx(Ht,{className:"w-4 h-4"})})]},x)})}),u.options&&n.jsx("p",{className:"text-sm text-red-600 mt-2",children:u.options}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Phi c t 2-6 la chn v t nht mt la chn ng"})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:r,disabled:i,children:"Hy"}),n.jsx(H,{onClick:g,disabled:!b()||i,className:"gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin"}),"ang lu..."]}):"Lu"})]})]})})}function ZI({open:e,questionId:t,isDraft:s,onClose:r,onSuccess:a}){const[i,o]=y.useState(!1),l=async()=>{var c,u;o(!0);try{await Bs.deleteQuestion(t,s),xt.success("Xa cu hi thnh cng"),r(),a()}catch(h){console.error("Error deleting question:",h),xt.error(((u=(c=h==null?void 0:h.response)==null?void 0:c.data)==null?void 0:u.message)||"Khng th xa cu hi")}finally{o(!1)}};return n.jsx(wa,{open:e,onOpenChange:r,children:n.jsxs(Br,{children:[n.jsx(zr,{children:"Xc nhn xa"}),n.jsx(qr,{children:"Bn c chc mun xa cu hi ny? Tt c cc la chn s b xa."}),n.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[n.jsx(ja,{disabled:i,children:"Hy"}),n.jsx(Hr,{onClick:l,disabled:i,className:"bg-red-600 hover:bg-red-700",children:i?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin mr-2"}),"ang xa..."]}):"Xa"})]})]})})}function pue({lessonId:e,isDraft:t,readOnly:s=!1,onQuestionsChange:r,initialQuestions:a}){const[i,o]=y.useState(a||[]),[l,c]=y.useState(!1),[u,h]=y.useState(!!a),[d,f]=y.useState(null),[m,p]=y.useState(null),g=async()=>{if(e){c(!0);try{const j=[...await Bs.getQuestions(e,t)].sort((N,k)=>N.orderIndex-k.orderIndex);o(j),r==null||r(j),h(!0)}catch(w){console.error("Error fetching questions:",w)}finally{c(!1)}}};y.useEffect(()=>{!u&&!a&&g()},[e,t,u,a]);const b=()=>{f(null),g()},v=()=>{p(null),g()},x=(w,j)=>w.length<=j?w:w.substring(0,j)+"...";return l?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(et,{className:"w-6 h-6 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"ang ti cu hi..."})]}):i.length===0?s?n.jsx("div",{className:"text-center py-4 text-gray-500 text-sm italic",children:"Cha c cu hi no"}):null:n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-2",children:i.map((w,j)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border border-gray-200 hover:bg-gray-100 transition",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700 flex-shrink-0",children:[j+1,"."]}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x(w.questionText,100)}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["im: ",w.score]}),n.jsxs("span",{className:"text-xs text-gray-500",children:[w.options.length," la chn"]})]})]})]}),!s&&n.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[n.jsx(H,{size:"sm",variant:"ghost",onClick:()=>f(w),className:"h-8 w-8 p-0",children:n.jsx(Ha,{className:"w-3 h-3"})}),n.jsx(H,{size:"sm",variant:"ghost",onClick:()=>p(w.questionID.toString()),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:n.jsx(Ht,{className:"w-3 h-3"})})]})]},w.questionID))}),d&&n.jsx(QI,{open:!!d,question:d,isDraft:t,onClose:()=>f(null),onSuccess:b}),m&&n.jsx(ZI,{open:!!m,questionId:m,isDraft:t,onClose:()=>p(null),onSuccess:v})]})}function gue({open:e,question:t,initialOrderIndex:s=0,onClose:r,onSave:a,onSaveAndContinue:i}){const{toast:o}=jt(),l=!!t,[c,u]=y.useState({questionText:"",explanation:"",score:10,orderIndex:s}),[h,d]=y.useState([{optionText:"",isCorrect:!1,orderIndex:0},{optionText:"",isCorrect:!1,orderIndex:1}]),[f,m]=y.useState({});y.useEffect(()=>{e&&(t?(u({questionText:t.questionText,explanation:t.explanation,score:t.score,orderIndex:t.orderIndex}),d(t.options)):(u({questionText:"",explanation:"",score:10,orderIndex:s}),d([{optionText:"",isCorrect:!1,orderIndex:0},{optionText:"",isCorrect:!1,orderIndex:1}])),m({}))},[e,t,s]);const p=()=>{const w={};c.questionText.trim()?c.questionText.length<10?w.questionText="Cu hi phi c t nht 10 k t":c.questionText.length>500&&(w.questionText="Cu hi khng c vt qu 500 k t"):w.questionText="Cu hi khng c  trng",c.explanation.trim()?c.explanation.length<10?w.explanation="Gii thch phi c t nht 10 k t":c.explanation.length>1e3&&(w.explanation="Gii thch khng c vt qu 1000 k t"):w.explanation="Gii thch khng c  trng",(c.score<1||c.score>100)&&(w.score="im phi t 1 n 100"),c.orderIndex<0&&(w.orderIndex="Th t phi >= 0");const j=h.filter(k=>k.optionText.trim());return j.length<2?w.options="Phi c t nht 2 la chn":j.length>6&&(w.options="Khng c vt qu 6 la chn"),j.some(k=>k.isCorrect)||(w.correctOption="Phi c t nht 1 p n ng"),m(w),Object.keys(w).length===0},g=(w=!1)=>{if(!p()){o({title:"Li xc thc",description:"Vui lng kim tra li thng tin",variant:"destructive"});return}const j=h.filter(k=>k.optionText.trim()).map((k,S)=>({...k,orderIndex:S})),N={...c,options:j};w&&i?(i(N),u({questionText:"",explanation:"",score:10,orderIndex:c.orderIndex+1}),d([{optionText:"",isCorrect:!1,orderIndex:0},{optionText:"",isCorrect:!1,orderIndex:1}]),m({})):(a(N),r())},b=()=>{h.length<6&&d([...h,{optionText:"",isCorrect:!1,orderIndex:h.length}])},v=w=>{h.length>2&&d(h.filter((j,N)=>N!==w))},x=(w,j,N)=>{const k=[...h];k[w]={...k[w],[j]:N},d(k)};return n.jsx(ht,{open:e,onOpenChange:r,children:n.jsxs(lt,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ct,{children:n.jsx(ut,{children:l?"Chnh sa cu hi":"To cu hi mi"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"questionText",children:["Cu hi ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"questionText",value:c.questionText,onChange:w=>u({...c,questionText:w.target.value}),placeholder:"Nhp cu hi (10-500 k t)",rows:3,className:f.questionText?"border-red-500":""}),f.questionText&&n.jsx("p",{className:"text-sm text-red-500",children:f.questionText})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"explanation",children:["Gii thch ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"explanation",value:c.explanation,onChange:w=>u({...c,explanation:w.target.value}),placeholder:"Nhp gii thch cho cu tr li (10-1000 k t)",rows:3,className:f.explanation?"border-red-500":""}),f.explanation&&n.jsx("p",{className:"text-sm text-red-500",children:f.explanation})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"score",children:["im ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"score",type:"number",min:"1",max:"100",value:c.score,onChange:w=>u({...c,score:parseInt(w.target.value)||0}),className:f.score?"border-red-500":""}),f.score&&n.jsx("p",{className:"text-sm text-red-500",children:f.score}),n.jsx("p",{className:"text-xs text-gray-500",children:"im s cho cu hi ny (1-100)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ve,{children:["La chn ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:b,disabled:h.length>=6,children:[n.jsx(gn,{className:"h-4 w-4 mr-1"}),"Thm la chn"]})]}),f.options&&n.jsx("p",{className:"text-sm text-red-500",children:f.options}),f.correctOption&&n.jsx("p",{className:"text-sm text-red-500",children:f.correctOption}),n.jsx("div",{className:"space-y-3",children:h.map((w,j)=>n.jsxs("div",{className:"flex items-start gap-2 p-3 border rounded-lg bg-gray-50",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[j+1,"."]}),n.jsx(Ce,{value:w.optionText,onChange:N=>x(j,"optionText",N.target.value),placeholder:"Nhp ni dung la chn"})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[n.jsx($l,{id:`option-correct-${j}`,checked:w.isCorrect,onCheckedChange:N=>x(j,"isCorrect",N)}),n.jsx(ve,{htmlFor:`option-correct-${j}`,className:"text-sm cursor-pointer",children:"p n ng"})]})]}),n.jsx(H,{type:"button",size:"sm",variant:"ghost",onClick:()=>v(j),disabled:h.length<=2,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:n.jsx(Ht,{className:"w-4 h-4"})})]},j))})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:r,children:"Hy"}),!l&&i&&n.jsx(H,{onClick:()=>g(!0),className:"bg-green-600 hover:bg-green-700",children:"Lu v to tip"}),n.jsx(H,{onClick:()=>g(!1),children:l?"Lu":"Lu v ng"})]})]})})}function xue({sections:e,onSectionsChange:t,onSave:s,onBack:r,isSubmitting:a}){var _a,Aa,Da;const[i,o]=y.useState(e),[l,c]=y.useState(new Set([0])),[u,h]=y.useState(new Map);y.useEffect(()=>{t(i)},[i,t]),y.useEffect(()=>{o(e)},[e]);const[d,f]=y.useState(!1),[m,p]=y.useState({title:"",description:""}),[g,b]=y.useState(null),[v,x]=y.useState(null),[w,j]=y.useState(null),[N,k]=y.useState({title:"",duration:0,lessonType:"Video",videoURL:"",content:""}),[S,C]=y.useState(null),[E,T]=y.useState(null),[_,A]=y.useState(null),[D,R]=y.useState({resourceType:"PDF",resourceTitle:"",resourceURL:""}),[U,I]=y.useState(null),[L,M]=y.useState(null),[$,F]=y.useState(""),[O,q]=y.useState(""),[B,z]=y.useState(""),[W,P]=y.useState(""),[V,Y]=y.useState(null),[J,te]=y.useState(null),[ie,de]=y.useState(null),[G,X]=y.useState(null),[le,Ne]=y.useState(null),Re=be=>{const xe=new Set(l);xe.has(be)?xe.delete(be):xe.add(be),c(xe)},oe=(be,xe)=>{const Me=`${be}-${xe}`,ke=new Map(u);ke.has(Me)?ke.delete(Me):ke.set(Me,!0),h(ke)},ae=()=>{if(!m.title.trim())return;const be={title:m.title,description:m.description,orderIndex:i.length,lessons:[]};o([...i,be]),f(!1),p({title:"",description:""}),c(new Set([...l,i.length]))},K=be=>{const xe=i[be];b(be),x({title:xe.title,description:xe.description||""})},Z=()=>{if(g===null||!(v!=null&&v.title.trim()))return;const be=[...i];be[g]={...be[g],title:v.title,description:v.description},o(be),b(null),x(null)},Q=be=>{const xe=i.filter((Me,ke)=>ke!==be);o(xe.map((Me,ke)=>({...Me,orderIndex:ke})))},pe=()=>{if(w===null||!N.title.trim()||N.duration<=0)return;const be={title:N.title,duration:N.duration,lessonType:N.lessonType,videoURL:N.videoURL,content:N.content,orderIndex:i[w].lessons.length,resources:[]},xe=[...i];xe[w].lessons=[...xe[w].lessons,be],o(xe),j(null),k({title:"",duration:0,lessonType:"Video",videoURL:"",content:""}),F("")},me=(be,xe)=>{const Me=i[be].lessons[xe];C(`${be}-${xe}`),T({title:Me.title,duration:Me.duration,lessonType:Me.lessonType||"Video",videoURL:Me.videoURL||"",content:Me.content||""}),Me.lessonType==="Video"?q(Ti(Me.videoURL||"",!0)):q("")},ce=()=>{if(!S||!(E!=null&&E.title.trim())||E.duration<=0)return;const[be,xe]=S.split("-").map(Number),Me=[...i];Me[be].lessons[xe]={...Me[be].lessons[xe],...E},o(Me),C(null),T(null),q("")},Se=(be,xe)=>{const Me=[...i];Me[be].lessons=Me[be].lessons.filter((ke,Ke)=>Ke!==xe).map((ke,Ke)=>({...ke,orderIndex:Ke})),o(Me)},He=()=>{if(!_||!D.resourceTitle.trim())return;const[be,xe]=_.split("-").map(Number),Me={resourceType:D.resourceType,resourceTitle:D.resourceTitle,resourceURL:D.resourceURL},ke=[...i];ke[be].lessons[xe].resources=[...ke[be].lessons[xe].resources||[],Me],o(ke),A(null),R({resourceType:"PDF",resourceTitle:"",resourceURL:""}),z("")},Ve=(be,xe,Me)=>{const ke=i[be].lessons[xe].resources[Me];I(`${be}-${xe}-${Me}`),M({resourceType:ke.resourceType,resourceTitle:ke.resourceTitle,resourceURL:ke.resourceURL}),P(Ei(ke.resourceURL,!0))},xn=()=>{if(!U||!(L!=null&&L.resourceTitle.trim()))return;const[be,xe,Me]=U.split("-").map(Number),ke=[...i];ke[be].lessons[xe].resources[Me]={...ke[be].lessons[xe].resources[Me],...L},o(ke),I(null),M(null),P("")},Ct=(be,xe,Me)=>{const ke=[...i];ke[be].lessons[xe].resources=ke[be].lessons[xe].resources.filter((Ke,Rn)=>Rn!==Me),o(ke)},Ot=be=>{if(!ie)return;const[xe,Me]=ie.split("-").map(Number),ke=[...i];ke[xe].lessons[Me].questions=[...ke[xe].lessons[Me].questions||[],be],o(ke)},Ea=be=>{if(!G)return;const[xe,Me,ke]=G.split("-").map(Number),Ke=[...i];Ke[xe].lessons[Me].questions[ke]=be,o(Ke),X(null),Ne(null)},tr=(be,xe,Me)=>{const ke=[...i];ke[be].lessons[xe].questions=ke[be].lessons[xe].questions.filter((Ke,Rn)=>Rn!==Me),o(ke)},Dn=()=>{V&&(V.type==="section"?Q(V.sectionIndex):V.type==="lesson"?Se(V.sectionIndex,V.lessonIndex):V.type==="resource"?Ct(V.sectionIndex,V.lessonIndex,V.resourceIndex):V.type==="question"&&tr(V.sectionIndex,V.lessonIndex,V.questionIndex),Y(null))},Qr=()=>{if(i.length===0){te({title:"Thiu thng tin",message:"Vui lng thm t nht mt chng"});return}if(!i.some(xe=>xe.lessons.length>0)){te({title:"Thiu thng tin",message:"Vui lng thm t nht mt bi hc"});return}s(i)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ni dung kha hc"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc chng, bi hc v ti nguyn cho kha hc ca bn"})]}),n.jsxs(H,{onClick:()=>f(!0),className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[n.jsx(gn,{className:"w-4 h-4"}),"Thm chng"]})]}),n.jsx("div",{className:"space-y-4",children:i&&i.length>0?i.map((be,xe)=>{var Me;return n.jsxs(ye,{className:"overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border-b cursor-pointer hover:bg-gray-100 transition",onClick:()=>Re(xe),children:[n.jsx(dp,{className:"w-5 h-5 text-gray-400"}),l.has(xe)?n.jsx(uu,{className:"w-5 h-5 text-blue-600"}):n.jsx(ao,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 truncate",children:["Chng ",xe+1,": ",be.title]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((Me=be.lessons)==null?void 0:Me.length)||0," bi hc"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{variant:"ghost",onClick:ke=>{ke.stopPropagation(),K(xe)},children:n.jsx(Ha,{className:"w-4 h-4"})}),n.jsx(H,{variant:"ghost",onClick:ke=>{ke.stopPropagation(),Y({type:"section",sectionIndex:xe})},className:"text-red-500 hover:text-red-700",children:n.jsx(Ht,{className:"w-4 h-4"})})]})]}),l.has(xe)&&n.jsxs(De,{className:"p-0",children:[n.jsx("div",{className:"divide-y",children:be.lessons&&be.lessons.length>0?be.lessons.map((ke,Ke)=>{var Rn,pt;return n.jsxs("div",{className:"p-4 hover:bg-gray-50 transition",children:[n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>oe(xe,Ke),children:[n.jsx(dp,{className:"w-4 h-4 text-gray-400"}),u.get(`${xe}-${Ke}`)?n.jsx(uu,{className:"w-4 h-4 text-gray-600"}):n.jsx(ao,{className:"w-4 h-4 text-gray-600"}),n.jsx(Zt,{className:"w-4 h-4 text-blue-600"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:ke.title}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ke.duration," pht  ",ke.lessonType]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{variant:"ghost",onClick:On=>{On.stopPropagation(),me(xe,Ke)},children:n.jsx(Ha,{className:"w-4 h-4"})}),n.jsx(H,{variant:"ghost",onClick:On=>{On.stopPropagation(),Y({type:"lesson",sectionIndex:xe,lessonIndex:Ke})},className:"text-red-500 hover:text-red-700",children:n.jsx(Ht,{className:"w-4 h-4"})})]})]}),u.get(`${xe}-${Ke}`)&&n.jsxs("div",{className:"mt-4 space-y-3 pl-7 border-l-2 border-gray-200",children:[ke.lessonType!=="Quiz"&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsxs("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:["Ti nguyn (",((Rn=ke.resources)==null?void 0:Rn.length)||0,")"]})}),ke.resources&&ke.resources.length>0&&n.jsx("div",{className:"space-y-2 mb-2",children:ke.resources.map((On,$s)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx(Zt,{className:"w-4 h-4 text-orange-500 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:On.resourceTitle}),n.jsx("p",{className:"text-xs text-gray-500",children:On.resourceType})]})]}),n.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[n.jsx(H,{size:"sm",variant:"ghost",onClick:()=>Ve(xe,Ke,$s),className:"h-8 w-8 p-0",children:n.jsx(Ha,{className:"w-3 h-3"})}),n.jsx(H,{size:"sm",variant:"ghost",onClick:()=>Y({type:"resource",sectionIndex:xe,lessonIndex:Ke,resourceIndex:$s}),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:n.jsx(Ht,{className:"w-3 h-3"})})]})]},$s))}),n.jsxs(H,{size:"sm",variant:"outline",onClick:()=>A(`${xe}-${Ke}`),className:"w-full gap-2 border-dashed",children:[n.jsx(gn,{className:"w-3 h-3"}),"Thm ti nguyn"]})]}),ke.lessonType==="Quiz"&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsxs("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:["Cu hi (",((pt=ke.questions)==null?void 0:pt.length)||0,")"]})}),ke.questions&&ke.questions.length>0&&n.jsx("div",{className:"space-y-2 mb-2",children:ke.questions.sort((On,$s)=>On.orderIndex-$s.orderIndex).map((On,$s)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx(Zt,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:On.questionText.length>80?On.questionText.substring(0,80)+"...":On.questionText}),n.jsxs("p",{className:"text-xs text-gray-500",children:["im: ",On.score,"  ",On.options.length," la chn"]})]})]}),n.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[n.jsx(H,{size:"sm",variant:"ghost",onClick:()=>{X(`${xe}-${Ke}-${$s}`),Ne(On)},className:"h-8 w-8 p-0",children:n.jsx(Ha,{className:"w-3 h-3"})}),n.jsx(H,{size:"sm",variant:"ghost",onClick:()=>Y({type:"question",sectionIndex:xe,lessonIndex:Ke,questionIndex:$s}),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:n.jsx(Ht,{className:"w-3 h-3"})})]})]},$s))}),n.jsxs(H,{size:"sm",variant:"outline",onClick:()=>de(`${xe}-${Ke}`),className:"w-full gap-2 border-dashed",children:[n.jsx(gn,{className:"w-3 h-3"}),"To cu hi"]})]})]})]},Ke)}):n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Chng ny cha c bi hc no"})}),n.jsx("div",{className:"p-4 border-t bg-gray-50",children:n.jsxs(H,{size:"sm",variant:"outline",onClick:()=>j(xe),className:"w-full gap-2",children:[n.jsx(gn,{className:"w-4 h-4"}),"Thm bi hc"]})})]})]},xe)}):n.jsx(ye,{className:"p-8 text-center text-gray-500",children:n.jsx("p",{children:"Kha hc cha c chng no"})})}),n.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[n.jsx(H,{variant:"outline",onClick:r,disabled:a,children:"Quay li"}),n.jsx(H,{onClick:Qr,disabled:a,className:"gap-2 bg-green-600 hover:bg-green-700",children:a?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin"}),"ang gi..."]}):n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4"}),"Gi"]})})]})]}),n.jsx(ht,{open:d,onOpenChange:f,children:n.jsxs(lt,{className:"sm:max-w-2xl",children:[n.jsx(ct,{children:n.jsx(ut,{children:"To chng mi"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-section-title",children:"Tn chng"}),n.jsx(Ce,{id:"new-section-title",value:m.title,onChange:be=>p({...m,title:be.target.value}),placeholder:"VD: Gii thiu v ng php"})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-section-description",children:"M t chng"}),n.jsx(It,{id:"new-section-description",value:m.description,onChange:be=>p({...m,description:be.target.value}),rows:3,placeholder:"M t ngn gn v ni dung chng ny..."})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>f(!1),children:"Hy"}),n.jsx(H,{onClick:ae,disabled:!m.title.trim(),children:"To"})]})]})}),n.jsx(ht,{open:g!==null,onOpenChange:be=>{be||(b(null),x(null))},children:n.jsxs(lt,{className:"sm:max-w-2xl",children:[n.jsx(ct,{children:n.jsx(ut,{children:"Chnh sa chng"})}),v&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"section-title",children:"Tiu  chng"}),n.jsx(Ce,{id:"section-title",value:v.title,onChange:be=>x({...v,title:be.target.value})})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"section-description",children:"M t chng"}),n.jsx(It,{id:"section-description",value:v.description,onChange:be=>x({...v,description:be.target.value}),rows:3})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{b(null),x(null)},children:"Hy"}),n.jsx(H,{onClick:Z,disabled:!(v!=null&&v.title.trim()),children:"Lu"})]})]})}),n.jsx(ht,{open:w!==null,onOpenChange:be=>{be||(j(null),F(""))},children:n.jsxs(lt,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ct,{children:n.jsx(ut,{children:"To bi hc mi"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-title",children:"Tn bi hc"}),n.jsx(Ce,{id:"new-lesson-title",value:N.title,onChange:be=>k({...N,title:be.target.value}),placeholder:"VD: Gii thiu v ng php c bn"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-duration",children:"Thi lng (pht)"}),n.jsx(Ce,{id:"new-lesson-duration",type:"number",min:"1",value:N.duration,onChange:be=>k({...N,duration:parseInt(be.target.value)||0})})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-type",children:"Loi bi hc"}),n.jsxs(on,{value:N.lessonType,onValueChange:be=>{k({...N,lessonType:be}),(be==="Reading"||be==="Quiz")&&F("")},children:[n.jsx(Gt,{children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"Video",children:"Video"}),n.jsx(We,{value:"Reading",children:"c"}),n.jsx(We,{value:"Quiz",children:"Quiz"})]})]})]})]}),N.lessonType==="Video"&&n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-video",children:"URL Video"}),n.jsx(Ce,{id:"new-lesson-video",value:N.videoURL,onChange:be=>{const xe=be.target.value;k({...N,videoURL:xe}),xe.trim()?F(Ti(xe,!1)):F("")},placeholder:"https://www.youtube.com/watch?v=...",className:$?"border-red-500":""}),$&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:$})]}),N.lessonType==="Reading"&&n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-content",children:"Ni dung bi hc"}),n.jsx(Op,{value:N.content,onChange:be=>k({...N,content:be}),placeholder:"Nhp ni dung bi hc ti y..."})]}),N.lessonType==="Quiz"&&n.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:n.jsx("p",{className:"text-sm text-blue-800",children:"Sau khi to bi hc Quiz, bn c th thm cu hi."})})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{j(null),F("")},children:"Hy"}),n.jsx(H,{onClick:pe,disabled:!N.title.trim()||N.duration<=0||N.lessonType==="Video"&&!!$||N.lessonType==="Reading"&&!((_a=N.content)!=null&&_a.trim()),children:"To"})]})]})}),n.jsx(ht,{open:S!==null,onOpenChange:be=>{be||(C(null),T(null),q(""))},children:n.jsxs(lt,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ct,{children:n.jsx(ut,{children:"Chnh sa bi hc"})}),E&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-title",children:"Tiu  bi hc"}),n.jsx(Ce,{id:"lesson-title",value:E.title,onChange:be=>T({...E,title:be.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-duration",children:"Thi lng (pht)"}),n.jsx(Ce,{id:"lesson-duration",type:"number",min:"1",value:E.duration,onChange:be=>T({...E,duration:parseInt(be.target.value)||0})})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-type",children:"Loi bi hc"}),n.jsxs(on,{value:E.lessonType,disabled:!0,children:[n.jsx(Gt,{disabled:!0,children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"Video",children:"Video"}),n.jsx(We,{value:"Reading",children:"c"})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Khng th thay i loi bi hc sau khi to"})]})]}),E.lessonType==="Video"&&n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-video",children:"URL Video"}),n.jsx(Ce,{id:"lesson-video",value:E.videoURL,onChange:be=>{const xe=be.target.value;T({...E,videoURL:xe}),q(Ti(xe,!0))},placeholder:"https://www.youtube.com/watch?v=...",className:O?"border-red-500":""}),O&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:O})]}),E.lessonType==="Reading"&&n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-content",children:"Ni dung bi hc"}),n.jsx(Op,{value:E.content,onChange:be=>T({...E,content:be}),placeholder:"Nhp ni dung bi hc ti y..."})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{C(null),T(null),q("")},children:"Hy"}),n.jsx(H,{onClick:ce,disabled:!(E!=null&&E.title.trim())||((E==null?void 0:E.duration)||0)<=0||(E==null?void 0:E.lessonType)==="Video"&&(!!O||!((Aa=E==null?void 0:E.videoURL)!=null&&Aa.trim()))||(E==null?void 0:E.lessonType)==="Reading"&&!((Da=E==null?void 0:E.content)!=null&&Da.trim()),children:"Lu"})]})]})}),n.jsx(ht,{open:_!==null,onOpenChange:be=>{be||(A(null),z(""))},children:n.jsxs(lt,{className:"sm:max-w-xl",children:[n.jsx(ct,{children:n.jsx(ut,{children:"To ti nguyn mi"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-resource-type",children:"Loi ti nguyn"}),n.jsxs(on,{value:D.resourceType,onValueChange:be=>R({...D,resourceType:be}),children:[n.jsx(Gt,{children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"PDF",children:"PDF"}),n.jsx(We,{value:"ExternalLink",children:"Lin kt ngoi"})]})]})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-resource-title",children:"Tn ti nguyn"}),n.jsx(Ce,{id:"new-resource-title",value:D.resourceTitle,onChange:be=>R({...D,resourceTitle:be.target.value}),placeholder:"VD: Hng dn ng php"})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-resource-url",children:"URL ti nguyn"}),n.jsx(Ce,{id:"new-resource-url",value:D.resourceURL,onChange:be=>{const xe=be.target.value;R({...D,resourceURL:xe}),z(Ei(xe,!0))},placeholder:"https://example.com/resource",className:B?"border-red-500":""}),B&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:B})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{A(null),z("")},children:"Hy"}),n.jsx(H,{onClick:He,disabled:!D.resourceTitle.trim()||!D.resourceURL.trim()||!!B,children:"To"})]})]})}),n.jsx(ht,{open:U!==null,onOpenChange:be=>{be||(I(null),M(null),P(""))},children:n.jsxs(lt,{className:"sm:max-w-xl",children:[n.jsx(ct,{children:n.jsx(ut,{children:"Chnh sa ti nguyn"})}),L&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"resource-type",children:"Loi ti nguyn"}),n.jsxs(on,{value:L.resourceType,onValueChange:be=>M({...L,resourceType:be}),children:[n.jsx(Gt,{children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"PDF",children:"PDF"}),n.jsx(We,{value:"ExternalLink",children:"Lin kt ngoi"})]})]})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"resource-title",children:"Tn ti nguyn"}),n.jsx(Ce,{id:"resource-title",value:L.resourceTitle,onChange:be=>M({...L,resourceTitle:be.target.value})})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"resource-url",children:"URL ti nguyn"}),n.jsx(Ce,{id:"resource-url",value:L.resourceURL,onChange:be=>{const xe=be.target.value;M({...L,resourceURL:xe}),P(Ei(xe,!0))},placeholder:"https://example.com/resource",className:W?"border-red-500":""}),W&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:W})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{I(null),M(null),P("")},children:"Hy"}),n.jsx(H,{onClick:xn,disabled:!(L!=null&&L.resourceTitle.trim())||!(L!=null&&L.resourceURL.trim())||!!W,children:"Lu"})]})]})}),n.jsx(wa,{open:V!==null,onOpenChange:be=>{be||Y(null)},children:n.jsxs(Br,{children:[n.jsx(zr,{children:"Xc nhn xa"}),n.jsxs(qr,{children:[(V==null?void 0:V.type)==="section"&&"Bn c chc mun xa chng ny? Tt c bi hc trong chng s b xa.",(V==null?void 0:V.type)==="lesson"&&"Bn c chc mun xa bi hc ny? Tt c ti nguyn s b xa.",(V==null?void 0:V.type)==="resource"&&"Bn c chc mun xa ti nguyn ny?"]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[n.jsx(ja,{children:"Hy"}),n.jsx(Hr,{onClick:Dn,className:"bg-red-600 hover:bg-red-700",children:"Xa"})]})]})}),n.jsx(wa,{open:J!==null,onOpenChange:be=>{be||te(null)},children:n.jsxs(Br,{children:[n.jsx(zr,{children:J==null?void 0:J.title}),n.jsx(qr,{children:J==null?void 0:J.message}),n.jsx("div",{className:"flex justify-end gap-3 mt-4",children:n.jsx(Hr,{onClick:()=>te(null),className:"bg-blue-600 hover:bg-blue-700",children:"OK"})})]})}),n.jsx(gue,{open:ie!==null||G!==null,question:le,initialOrderIndex:ie?(()=>{var Me,ke,Ke;const[be,xe]=ie.split("-").map(Number);return((Ke=(ke=(Me=i[be])==null?void 0:Me.lessons[xe])==null?void 0:ke.questions)==null?void 0:Ke.length)||0})():0,onClose:()=>{de(null),X(null),Ne(null)},onSave:be=>{G?Ea(be):Ot(be),de(null),X(null),Ne(null)},onSaveAndContinue:G?void 0:be=>{Ot(be)}})]})}const dd="createCourseProgress";function yue(){const e=Qe(),{toast:t}=jt(),r=(()=>{try{const C=sessionStorage.getItem(dd);if(C){const E=JSON.parse(C);return{currentStep:E.currentStep||1,courseId:E.courseId||"",courseData:E.courseData||{},objectives:E.objectives||[],sections:E.sections||[]}}}catch(C){console.error("Error loading saved progress:",C)}return{currentStep:1,courseId:"",courseData:{},objectives:[],sections:[]}})(),a=r.courseId!=="",[i,o]=y.useState(r.currentStep),[l,c]=y.useState(r.courseId),[u,h]=y.useState(r.courseData),[d,f]=y.useState(r.objectives),[m,p]=y.useState(r.sections),[g,b]=y.useState(!1),[v,x]=y.useState(!1);y.useEffect(()=>{(async()=>{var E,T;if(a&&l)try{await hC(l),t({title:"Tin trnh  c khi phc",description:"Bn c th tip tc t ni  dng li.",duration:3e3})}catch(_){(((E=_==null?void 0:_.response)==null?void 0:E.status)===404||(T=_==null?void 0:_.message)!=null&&T.includes("404"))&&(sessionStorage.removeItem(dd),c(""),o(1),h({}),f([]),p([]),t({variant:"destructive",title:"Kha hc khng tn ti",description:"Kha hc  b xa. Vui lng to kha hc mi.",duration:5e3}))}})()},[]);const w=C=>{try{return new URL(C),!0}catch{return!1}};y.useEffect(()=>{if(l){const C={currentStep:i,courseId:l,courseData:u,objectives:d,sections:m};sessionStorage.setItem(dd,JSON.stringify(C))}},[i,l,u,d,m]),y.useEffect(()=>{(async()=>{if(l){x(!0);try{if(i===1){const E=await hC(l);h(E)}if(i===2){const T=(await use(l)).map(_=>{var A,D;return{id:((A=_.objectiveID)==null?void 0:A.toString())||((D=_.id)==null?void 0:D.toString()),objectiveText:_.objectiveText,orderIndex:_.orderIndex}});f(T)}}catch(E){console.error("Error fetching step data:",E),t({variant:"destructive",title:"Li",description:"Khng th ti d liu. Vui lng th li."})}finally{x(!1)}}})()},[i,l]);const j=async C=>{try{if(l){h(C),o(2);return}const{courseId:E}=await Hs.createCourse(C);c(E),h(C),o(2)}catch(E){t({variant:"destructive",title:"Li",description:E instanceof Error?E.message:"Khng th to kha hc"})}},N=async C=>{try{const E=[];for(const T of C)if(T.id)E.push(T);else{const _=await Hs.addObjective(l,{objectiveText:T.objectiveText,orderIndex:T.orderIndex});E.push({...T,id:_.objectiveId})}f(E),o(3)}catch(E){t({variant:"destructive",title:"Li",description:E instanceof Error?E.message:"Khng th lu mc tiu hc tp"})}},k=()=>{o(1)},S=async C=>{var E,T,_,A,D,R,U;p(C);try{for(const L of C){if(!((E=L.title)!=null&&E.trim())){t({variant:"destructive",title:"Li",description:"Tiu  chng l bt buc"});return}if(L.lessons.length===0){t({variant:"destructive",title:"Li",description:`Chng "${L.title}" phi c t nht mt bi hc`});return}for(const M of L.lessons){if(!((T=M.title)!=null&&T.trim())){t({variant:"destructive",title:"Li",description:"Tiu  bi hc l bt buc"});return}if(M.resources&&M.resources.length>0)for(const $ of M.resources){if(!((_=$.resourceTitle)!=null&&_.trim())){t({variant:"destructive",title:"Li",description:"Tiu  ti nguyn l bt buc"});return}if(!((A=$.resourceURL)!=null&&A.trim())){t({variant:"destructive",title:"Li",description:"URL ti nguyn l bt buc"});return}if(!w($.resourceURL)){t({variant:"destructive",title:"Li",description:`URL ti nguyn khng hp l: "${$.resourceURL}". Phi bt u bng http:// hoc https://`});return}}}}t({title:"ang x l...",description:"ang to ni dung kha hc...",duration:2e3});for(const L of C){let M="";try{M=(await Hs.addSection(l,{courseID:parseInt(l),title:L.title,description:L.description,orderIndex:L.orderIndex})).sectionId}catch($){throw new Error(`Khng th to chng "${L.title}": ${$ instanceof Error?$.message:"Li khng xc nh"}`)}for(const $ of L.lessons){let F="";try{F=(await Hs.addLesson(l,M,{title:$.title,duration:$.duration,lessonType:$.lessonType||"Video",videoURL:$.videoURL,content:$.content,orderIndex:$.orderIndex})).lessonId}catch(O){throw new Error(`Khng th to bi hc "${$.title}": ${O instanceof Error?O.message:"Li khng xc nh"}`)}if($.resources&&$.resources.length>0)for(const O of $.resources)try{await Hs.addLessonResource(l,M,F,{resourceType:O.resourceType,resourceTitle:O.resourceTitle,resourceURL:O.resourceURL})}catch(q){throw new Error(`Khng th thm ti nguyn "${O.resourceTitle}": ${q instanceof Error?q.message:"Li khng xc nh"}`)}if($.lessonType==="Quiz"&&$.questions&&$.questions.length>0)for(const O of $.questions)try{await Bs.createLiveQuestion(F,{questionText:O.questionText,orderIndex:O.orderIndex,explanation:O.explanation,score:O.score,options:O.options})}catch(q){throw new Error(`Khng th thm cu hi "${O.questionText.substring(0,50)}...": ${q instanceof Error?q.message:"Li khng xc nh"}`)}}}t({title:"Thnh cng!",description:"Ni dung kha hc  c lu! ang gi kha hc...",duration:2e3});const I=await Hs.submitCourse(l);if(I.success&&(I.status.toLowerCase()==="pending"||I.status.toLowerCase()==="draft"))sessionStorage.removeItem(dd),b(!0);else throw new Error(`Gi tht bi: Trng thi khng hp l ${I.status}`)}catch(I){((D=I==null?void 0:I.response)==null?void 0:D.status)===404||(R=I==null?void 0:I.message)!=null&&R.includes("404")||(U=I==null?void 0:I.message)!=null&&U.includes("khng tm thy")?(sessionStorage.removeItem(dd),t({variant:"destructive",title:"Kha hc khng tn ti",description:"Kha hc  b xa. Vui lng to kha hc mi.",duration:5e3}),o(1),c(""),h({}),f([]),p([])):t({variant:"destructive",title:"Li",description:I instanceof Error?I.message:"Khng th lu ni dung kha hc"})}};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs(H,{variant:"outline",onClick:()=>e(se.TUTOR_COURSES),className:"mb-4 gap-2",children:[n.jsx(os,{className:"w-4 h-4"}),"Quay li danh sch kha hc"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"To kha hc mi"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Chia s kin thc ca bn bng cch to mt kha hc hp dn"})]}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center w-full max-w-2xl",children:[n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${i===1?"bg-blue-500 text-white":"bg-green-500 text-white"}`,children:i>1?n.jsx(jn,{className:"w-6 h-6"}):"1"}),n.jsx("span",{className:"mt-2 text-sm font-medium text-center",children:"Thng tin"})]}),n.jsx("div",{className:`h-1 flex-1 mx-4 ${i>1?"bg-green-500":"bg-gray-300"}`}),n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${i===2?"bg-blue-500 text-white":i>2?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:i>2?n.jsx(jn,{className:"w-6 h-6"}):"2"}),n.jsx("span",{className:"mt-2 text-sm font-medium text-center",children:"Mc tiu"})]}),n.jsx("div",{className:`h-1 flex-1 mx-4 ${i>2?"bg-green-500":"bg-gray-300"}`}),n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${i===3?"bg-blue-500 text-white":i>3?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:"3"}),n.jsx("span",{className:"mt-2 text-sm font-medium text-center",children:"Ni dung"})]})]})})}),n.jsxs(ye,{children:[n.jsx(Je,{}),n.jsx(De,{children:v?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"ang ti d liu..."})]})}):n.jsxs(n.Fragment,{children:[i===1&&n.jsx(dse,{data:u,onNext:j}),i===2&&n.jsx(hse,{objectives:d,onNext:N,onBack:k,onDeleteObjective:async C=>{await Hs.deleteObjective(C)}}),i===3&&n.jsx(xue,{sections:m,onSectionsChange:p,onSave:S,onBack:()=>o(2),isSubmitting:!1})]})})]}),n.jsx(ht,{open:g,onOpenChange:b,children:n.jsxs(lt,{className:"sm:max-w-md border-0 shadow-lg",children:[n.jsxs(ct,{className:"text-center space-y-3",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-50 rounded-full flex items-center justify-center shadow-md",children:n.jsx(jn,{className:"w-8 h-8 text-blue-600"})})}),n.jsx(ut,{className:"text-2xl font-bold text-gray-900",children:" To kha hc thnh cng!"}),n.jsx(Zn,{className:"text-base text-gray-600",children:"Kha hc ca bn ang ch qun tr vin ph duyt."})]}),n.jsxs("div",{className:"space-y-3 py-4",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tn kha hc"}),n.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:u.title})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Trng thi"}),n.jsx("p",{className:"font-semibold text-blue-600",children:"ang ch duyt"})]})]}),n.jsx(Nt,{className:"flex gap-3 mt-6",children:n.jsx(H,{onClick:()=>e(se.TUTOR_COURSES),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"OK"})})]})})]})})}const vue="modulepreload",bue=function(e){return"/"+e},BC={},No=function(t,s,r){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(s.map(c=>{if(c=bue(c),c in BC)return;BC[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":vue,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Ld={getPendingCourses:async(e=1,t=10,s)=>{var r,a,i,o;try{const l=await ee.get("/admin/courses/by-status",{params:{status:"Pending"}});let u=(((r=l==null?void 0:l.data)==null?void 0:r.result)||[]).map(p=>({id:p.id,title:p.title,shortDescription:p.shortDescription||"",description:p.description||"",requirement:p.requirement||"",level:p.level||"BEGINNER",categoryID:0,categoryName:p.categoryName||"Unknown",language:p.language||"English",duration:p.duration||0,price:p.price||0,thumbnailURL:p.thumbnailURL||"",status:"Pending",tutorID:0,tutorName:p.tutorName,tutorEmail:p.tutorEmail,createdAt:p.createdAt||new Date().toISOString(),updatedAt:p.updatedAt||new Date().toISOString(),isDraft:!1}));if(s!=null&&s.search){const p=s.search.toLowerCase();u=u.filter(g=>{var b;return g.title.toLowerCase().includes(p)||((b=g.tutorName)==null?void 0:b.toLowerCase().includes(p))})}s!=null&&s.categoryID&&(u=u.filter(p=>p.categoryID===s.categoryID)),u.sort((p,g)=>new Date(g.createdAt).getTime()-new Date(p.createdAt).getTime());const h=u.length,d=Math.ceil(h/t),f=(e-1)*t;return{data:u.slice(f,f+t),total:h,page:e,limit:t,totalPages:d}}catch(l){throw console.error(" Error fetching pending courses:",l),((a=l==null?void 0:l.response)==null?void 0:a.status)===403?new Error("You do not have permission to view pending courses"):l!=null&&l.response?new Error(((o=(i=l==null?void 0:l.response)==null?void 0:i.data)==null?void 0:o.message)||l.message||"Failed to fetch pending courses"):new Error("Network error: Unable to fetch pending courses")}},getCourseDetail:async(e,t=!1)=>{var s,r,a,i,o;try{const l=t?`/admin/courses/drafts/${e}/detail`:`/admin/courses/${e}/detail`,c=await ee.get(l),u=((s=c==null?void 0:c.data)==null?void 0:s.result)||(c==null?void 0:c.data)||{},h=(u.objectives||[]).map((d,f)=>({objectiveID:f+1,objectiveText:d,orderIndex:f}));return{id:u.id||e,title:u.title,shortDescription:u.shortDescription||"",description:u.description||"",requirement:u.requirement||"",level:u.level||"BEGINNER",categoryID:0,categoryName:u.categoryName,language:u.language||"English",duration:u.duration||0,price:u.price||0,thumbnailURL:u.thumbnailURL||"",status:u.status||"Pending",tutorID:0,tutorName:u.tutorName,tutorEmail:u.tutorEmail,createdAt:u.createdAt||new Date().toISOString(),updatedAt:u.updatedAt||new Date().toISOString(),section:u.section||u.sections||[],objectives:h,adminNotes:u.adminReviewNote,adminReviewNote:u.adminReviewNote,rejectionReason:u.adminReviewNote,isDraft:u.draft||t,totalRatings:u.totalRatings??0,avgRating:u.avgRating??0,learnerCount:u.learnerCount??0}}catch(l){throw console.error(" Error fetching course detail:",l),((r=l==null?void 0:l.response)==null?void 0:r.status)===404?new Error("Course not found or has been already processed"):((a=l==null?void 0:l.response)==null?void 0:a.status)===403?new Error("You do not have permission to view this course"):l!=null&&l.response?new Error(((o=(i=l==null?void 0:l.response)==null?void 0:i.data)==null?void 0:o.message)||l.message||"Failed to fetch course details"):new Error("Network error: Unable to fetch course details")}},approveCourse:async(e,t=!1,s)=>{var r,a,i,o,l;try{const c=t?`/admin/courses/drafts/${e}/approve`:`/admin/courses/${e}/approve`,u=s?{note:s}:{};return await ee.post(c,u),{success:!0,message:"Course approved successfully"}}catch(c){throw console.error(" Error approving course:",c),((r=c==null?void 0:c.response)==null?void 0:r.status)===404?new Error("Course not found or has already been processed"):((a=c==null?void 0:c.response)==null?void 0:a.status)===403?new Error("You do not have permission to approve this course"):((i=c==null?void 0:c.response)==null?void 0:i.status)===409?new Error("Course has already been approved or rejected"):c!=null&&c.response?new Error(((l=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:l.message)||c.message||"Failed to approve course"):new Error("Network error: Unable to approve course")}},rejectCourse:async(e,t=!1,s)=>{var r,a,i,o,l;try{const c=t?`/admin/courses/drafts/${e}/reject`:`/admin/courses/${e}/reject`;return await ee.post(c,{note:s}),{success:!0,message:"Course rejected successfully"}}catch(c){throw console.error(" Error rejecting course:",c),((r=c==null?void 0:c.response)==null?void 0:r.status)===404?new Error("Course not found or has already been processed"):((a=c==null?void 0:c.response)==null?void 0:a.status)===403?new Error("You do not have permission to reject this course"):((i=c==null?void 0:c.response)==null?void 0:i.status)===409?new Error("Course has already been approved or rejected"):c!=null&&c.response?new Error(((l=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:l.message)||c.message||"Failed to reject course"):new Error("Network error: Unable to reject course")}},getDraftChanges:async e=>{var t,s,r,a,i;try{const o=await ee.get(`/admin/courses/drafts/${e}/changes`),l=((t=o==null?void 0:o.data)==null?void 0:t.result)||(o==null?void 0:o.data)||{};return{courseId:l.courseId||0,draftId:l.draftId||e,courseChanges:l.courseChanges||[],objectives:l.objectives||[],sections:l.sections||[],lessons:l.lessons||[],resources:l.resources||[]}}catch(o){throw console.error(" Error fetching draft changes:",o),((s=o==null?void 0:o.response)==null?void 0:s.status)===404?new Error("Draft not found or has been already processed"):((r=o==null?void 0:o.response)==null?void 0:r.status)===403?new Error("You do not have permission to view this draft"):o!=null&&o.response?new Error(((i=(a=o==null?void 0:o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"Failed to fetch draft changes"):new Error("Network error: Unable to fetch draft changes")}}};function wN({course:e,onClick:t,showDraftBadge:s=!0,showPendingBadge:r=!0,buttonText:a,variant:i="approval",languages:o=[]}){const l=Qe(),c=m=>{if(!m)return"English";const p=o.find(g=>g.name===m);return(p==null?void 0:p.displayName)||m},u=m=>({BEGINNER:"C bn",INTERMEDIATE:"Trung cp",ADVANCED:"Nng cao"})[(m==null?void 0:m.toUpperCase())||"BEGINNER"]||m||"C bn",h=()=>{if(t)t();else{const m=e.isDraft?"?isDraft=true":"";l(Ih.adminCourseApprovalDetail(e.id)+m)}},d=m=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(m),f=m=>new Date(m).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric"});return n.jsxs(ye,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 border-blue-100 group flex flex-col h-full",children:[n.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100 flex-shrink-0",children:[e.thumbnailURL?n.jsx("img",{src:e.thumbnailURL,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx("span",{className:"text-6xl",children:""})}),n.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[e.status==="Pending"&&r&&n.jsx(Pe,{className:"bg-yellow-500 text-white font-semibold shadow-md",children:"Ch duyt"}),e.status==="Pending Review"&&r&&n.jsx(Pe,{className:"bg-orange-500 text-white font-semibold shadow-md",children:"Ch xem xt"}),e.status==="Ch xem xt"&&r&&n.jsx(Pe,{className:"bg-orange-500 text-white font-semibold shadow-md",children:"Ch xem xt"}),e.status==="Approved"&&n.jsx(Pe,{className:"bg-green-500 text-white font-semibold shadow-md",children:" duyt"}),e.status==="Rejected"&&n.jsx(Pe,{className:"bg-red-500 text-white font-semibold shadow-md",children:"T chi"}),(e.status==="DRAFT"||e.status==="Draft")&&n.jsx(Pe,{className:"bg-gray-500 text-white font-semibold shadow-md",children:"Nhp"}),e.status==="DISABLED"&&n.jsx(Pe,{className:"bg-gray-400 text-white font-semibold shadow-md",children:"V hiu"})]})]}),n.jsxs(De,{className:"p-5 flex flex-col flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-600 transition-colors leading-tight",children:e.title}),n.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-3 border-b border-gray-100",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center flex-shrink-0",children:n.jsx(Pt,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Ging vin"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:e.tutorName||`Tutor #${e.tutorID}`})]})]}),n.jsxs("div",{className:"flex gap-2 mb-3 flex-wrap",children:[n.jsx(Pe,{variant:"outline",className:"text-xs",children:e.categoryName||"No Category"}),n.jsx(Pe,{variant:"outline",className:"text-xs",children:u(e.level)}),n.jsx(Pe,{variant:"outline",className:"text-xs",children:c(e.language)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mb-4 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[n.jsx(st,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"}),n.jsxs("span",{className:"font-medium",children:[e.duration," gi"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[n.jsx($n,{className:"w-3.5 h-3.5 text-green-500 flex-shrink-0"}),n.jsx("span",{className:"font-semibold text-blue-600 truncate",children:d(e.price)})]}),n.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 col-span-2",children:[n.jsx(ft,{className:"w-3.5 h-3.5 flex-shrink-0"}),n.jsx("span",{children:f(e.createdAt)})]})]}),n.jsx("div",{className:"flex-1"}),n.jsxs(H,{onClick:h,className:"w-full gap-2 mt-auto",size:"sm",children:[n.jsx(gs,{className:"w-4 h-4"}),a||(i==="approval"?"Xem chi tit & Duyt":"Xem chi tit")]})]})]})}function jN({currentPage:e,totalPages:t,total:s,limit:r,isLoading:a,onPageChange:i}){const o=(e-1)*r+1,l=Math.min(e*r,s),c=()=>{const u=[];if(t<=5)for(let d=1;d<=t;d++)u.push(d);else if(e<=3){for(let d=1;d<=4;d++)u.push(d);u.push("..."),u.push(t)}else if(e>=t-2){u.push(1),u.push("...");for(let d=t-3;d<=t;d++)u.push(d)}else u.push(1),u.push("..."),u.push(e-1),u.push(e),u.push(e+1),u.push("..."),u.push(t);return u};return t<=1?null:n.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg border border-gray-200 p-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("span",{className:"font-medium text-gray-900",children:[o,"-",l]})," ","ca"," ",n.jsx("span",{className:"font-medium text-gray-900",children:s})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(H,{variant:"outline",size:"sm",onClick:()=>i(e-1),disabled:e===1||a,children:n.jsx(qn,{className:"w-4 h-4"})}),c().map((u,h)=>typeof u=="number"?n.jsx(H,{variant:e===u?"default":"outline",size:"sm",onClick:()=>i(u),disabled:a,className:"min-w-[36px] h-9",children:u},h):n.jsx("span",{className:"px-2 text-gray-400 text-sm",children:u},h)),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>i(e+1),disabled:e===t||a,children:n.jsx(Wt,{className:"w-4 h-4"})})]})]})}function wue({lesson:e}){const t=e.quizQuestions||[];return t.length===0?n.jsx("div",{className:"text-center py-4 text-gray-500 text-sm italic",children:"Cha c cu hi no"}):n.jsx("div",{className:"space-y-2",children:t.map((s,r)=>n.jsx("div",{className:"flex items-center justify-between p-3 bg-white rounded border border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700 flex-shrink-0",children:[r+1,"."]}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.questionText}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["im: ",s.score]}),n.jsxs("span",{className:"text-xs text-gray-500",children:[s.options.length," la chn"]})]})]})]})},s.questionID))})}function jue({course:e}){var l,c;const[t,s]=y.useState(new Set([0])),[r,a]=y.useState(new Map),i=u=>{const h=new Set(t);h.has(u)?h.delete(u):h.add(u),s(h)},o=(u,h)=>{const d=`${u}-${h}`,f=new Map(r);f.has(d)?f.delete(d):f.set(d,!0),a(f)};return n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(tt,{className:"w-5 h-5"}),"Ni dung kha hc (",((l=e.section)==null?void 0:l.length)||0," chng)"]}),n.jsxs("div",{className:"space-y-3",children:[(c=e.section)==null?void 0:c.map((u,h)=>{var d,f;return n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 cursor-pointer hover:from-blue-100 hover:to-indigo-100 transition-colors",onClick:()=>i(h),children:[t.has(h)?n.jsx(uu,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):n.jsx(ao,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 text-lg",children:["Chng ",h+1,": ",u.title]}),u.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[((d=u.lessons)==null?void 0:d.length)||0," bi hc"]})]})]}),t.has(h)&&n.jsx("div",{className:"divide-y divide-gray-200",children:(f=u.lessons)==null?void 0:f.map((m,p)=>n.jsxs("div",{className:"bg-white",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>o(h,p),children:[r.get(`${h}-${p}`)?n.jsx(uu,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}):n.jsx(ao,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),m.lessonType==="Video"?n.jsx(Za,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):m.lessonType==="Quiz"?n.jsx(eq,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}):n.jsx(Zt,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:["Bi ",p+1,": ",m.title]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-1",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(st,{className:"w-3 h-3"}),m.duration," pht"]}),n.jsx(Pe,{variant:"outline",className:"text-xs",children:m.lessonType})]})]})]}),r.get(`${h}-${p}`)&&n.jsx("div",{className:"px-4 pb-4 space-y-4 bg-gray-50 border-t border-gray-200",children:m.lessonType==="Quiz"?n.jsxs("div",{className:"pt-4",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-2",children:"Cu hi"}),n.jsx(wue,{lesson:m})]}):n.jsxs(n.Fragment,{children:[m.content&&n.jsxs("div",{className:"pt-4",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-2",children:"Ni dung bi hc"}),n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:m.content})]}),m.videoURL&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-2",children:"Video"}),n.jsxs("a",{href:m.videoURL,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 hover:underline bg-white p-3 rounded-lg border border-blue-200",children:[n.jsx(Ol,{className:"w-4 h-4"}),n.jsx("span",{className:"flex-1 truncate",children:m.videoURL})]})]}),m.resources&&m.resources.length>0&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-2",children:["Ti liu (",m.resources.length,")"]}),n.jsx("div",{className:"space-y-2",children:m.resources.map(g=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:[n.jsx(Zt,{className:"w-4 h-4 text-orange-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:g.resourceTitle}),n.jsxs("a",{href:g.resourceURL,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1 truncate",children:[n.jsx(dh,{className:"w-3 h-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:g.resourceURL})]})]}),n.jsx(Pe,{variant:"outline",className:"text-xs flex-shrink-0",children:g.resourceType})]},g.resourceID))})]}),!m.content&&!m.videoURL&&(!m.resources||m.resources.length===0)&&n.jsx("div",{className:"pt-4 text-center",children:n.jsx("p",{className:"text-sm text-gray-500 italic",children:"Bi hc cha c ni dung chi tit"})})]})})]},m.lessonID))})]},u.sectionID)}),(!e.section||e.section.length===0)&&n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(tt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Kha hc cha c ni dung"})]})]})]})}var Nue="Separator",zC="horizontal",kue=["horizontal","vertical"],XI=y.forwardRef((e,t)=>{const{decorative:s,orientation:r=zC,...a}=e,i=Sue(r)?r:zC,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(qe.div,{"data-orientation":i,...l,...a,ref:t})});XI.displayName=Nue;function Sue(e){return kue.includes(e)}var JI=XI;const Yo=y.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},a)=>n.jsx(JI,{ref:a,decorative:s,orientation:t,className:fe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Yo.displayName=JI.displayName;const Cue=qh("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Mr=y.forwardRef(({className:e,variant:t,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:fe(Cue({variant:t}),e),...s}));Mr.displayName="Alert";const Pp=y.forwardRef(({className:e,...t},s)=>n.jsx("h5",{ref:s,className:fe("mb-1 font-medium leading-none tracking-tight",e),...t}));Pp.displayName="AlertTitle";const Lr=y.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fe("text-sm [&_p]:leading-relaxed",e),...t}));Lr.displayName="AlertDescription";function e6({field:e,oldValue:t,newValue:s}){const r=a=>{if(!a||a==="null"||a==="undefined")return n.jsx("span",{className:"text-gray-400 italic",children:"(empty)"});if(!isNaN(Number(a))&&a.trim()!==""){const i=Number(a);return i>=1e3?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i):a}if(/^\d{4}-\d{2}-\d{2}/.test(a))try{const i=new Date(a);if(!isNaN(i.getTime()))return i.toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{}return a.startsWith("http://")||a.startsWith("https://")?n.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all",children:a}):a==="true"||a==="false"?n.jsx(Pe,{variant:a==="true"?"default":"secondary",className:"text-xs",children:a}):a};return n.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[n.jsx("div",{className:"flex items-center gap-2 mb-3",children:n.jsx(Pe,{variant:"outline",className:"text-xs",children:e})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-red-50 p-3 rounded border border-red-200",children:[n.jsx("p",{className:"text-xs text-red-600 font-medium mb-1",children:"Old Value"}),n.jsx("p",{className:"text-sm text-gray-900 break-words",children:r(t)})]}),n.jsxs("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[n.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"New Value"}),n.jsx("p",{className:"text-sm text-gray-900 break-words",children:r(s)})]})]})]})}function Tue({changeType:e,className:t=""}){switch(e){case"ADDED":return n.jsxs(Pe,{className:`bg-green-100 text-green-800 border-green-300 gap-1 font-semibold ${t}`,"aria-label":"Added change",children:[n.jsx(gn,{className:"w-3 h-3","aria-hidden":"true"}),"ADDED"]});case"MODIFIED":return n.jsxs(Pe,{className:`bg-blue-100 text-blue-800 border-blue-300 gap-1 font-semibold ${t}`,"aria-label":"Modified change",children:[n.jsx(va,{className:"w-3 h-3","aria-hidden":"true"}),"MODIFIED"]});case"DELETED":return n.jsxs(Pe,{className:`bg-red-100 text-red-800 border-red-300 gap-1 font-semibold ${t}`,"aria-label":"Deleted change",children:[n.jsx(iq,{className:"w-3 h-3","aria-hidden":"true"}),"DELETED"]})}}const Wf=({title:e,changeType:t,fieldChanges:s,warning:r,icon:a})=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a,n.jsx("h5",{className:"font-semibold text-gray-900",children:e})]}),n.jsx(Tue,{changeType:t})]}),r&&n.jsxs(Mr,{className:"mb-3 bg-yellow-50 border-yellow-300",children:[n.jsx(ro,{className:"h-4 w-4 text-yellow-600"}),n.jsx(Lr,{className:"text-yellow-800 text-sm",children:"Thay i ny yu cu t li tin  hc vin"})]}),s&&s.length>0&&n.jsx("div",{className:"space-y-3",children:s.map((i,o)=>n.jsx(e6,{field:i.field,oldValue:i.oldValue,newValue:i.newValue},o))})]});function Eue({open:e,draftID:t,onClose:s}){const[r,a]=y.useState(null),[i,o]=y.useState(!1),[l,c]=y.useState(null);y.useEffect(()=>{e&&t&&u()},[e,t]);const u=async()=>{var d,f;o(!0),c(null);try{const m=await Ld.getDraftChanges(t);a(m)}catch(m){console.error("Error fetching changes:",m),((d=m==null?void 0:m.response)==null?void 0:d.status)===404?c("Khng tm thy thng tin thay i. Kha hc c th  b xa hoc  c x l."):((f=m==null?void 0:m.response)==null?void 0:f.status)===403?c("Bn khng c quyn xem thng tin thay i ny."):m!=null&&m.response?c(m.message||"Khng th ti thng tin thay i"):c("Li kt ni mng. Vui lng kim tra kt ni internet ca bn.")}finally{o(!1)}},h=r&&(r.courseChanges.length>0||r.objectives.length>0||r.sections.length>0||r.lessons.length>0||r.resources.length>0);return n.jsx(ht,{open:e,onOpenChange:s,children:n.jsxs(lt,{className:"max-w-4xl max-h-[85vh] overflow-hidden flex flex-col",children:[n.jsxs(ct,{children:[n.jsx(ut,{className:"text-2xl font-bold text-gray-900",children:"Thay i kha hc"}),n.jsx(Zn,{children:"Xem xt tt c cc thay i c thc hin cho kha hc ny"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[i&&n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(et,{className:"w-8 h-8 animate-spin text-blue-500"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"ang ti thay i..."})]}),l&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Mr,{className:"bg-red-50 border-red-300",children:[n.jsx(at,{className:"h-4 w-4 text-red-600"}),n.jsx(Lr,{className:"text-red-800",children:l})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{onClick:u,size:"sm",variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",children:"Th li"}),n.jsx(H,{onClick:s,size:"sm",variant:"ghost",className:"text-gray-700 hover:bg-gray-100",children:"ng"})]})]}),!i&&!l&&r&&n.jsxs("div",{className:"space-y-6",children:[r.courseChanges.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Zt,{className:"w-5 h-5 text-blue-500"}),"Thng tin kha hc"]}),n.jsx("div",{className:"space-y-3",children:r.courseChanges.map((d,f)=>n.jsx(e6,{field:d.field,oldValue:d.oldValue,newValue:d.newValue},f))})]}),r.objectives.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Yo,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(du,{className:"w-5 h-5 text-green-500"}),"Mc tiu hc tp (",r.objectives.length,")"]}),n.jsx("div",{className:"space-y-3",children:r.objectives.map((d,f)=>n.jsx(Wf,{title:`Mc tiu #${d.draftObjectiveId||f+1}`,changeType:d.changeType,fieldChanges:d.fieldChanges,icon:n.jsx(du,{className:"w-4 h-4 text-green-500"})},f))})]})]}),r.sections.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Yo,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(tt,{className:"w-5 h-5 text-purple-500"}),"Ni dung kha hc (",r.sections.length," chng)"]}),n.jsx("div",{className:"space-y-3",children:r.sections.map((d,f)=>n.jsx(Wf,{title:d.title||`Chng #${d.draftSectionId||f+1}`,changeType:d.changeType,fieldChanges:d.fieldChanges,icon:n.jsx(tt,{className:"w-4 h-4 text-purple-500"})},f))})]})]}),r.lessons.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Yo,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Za,{className:"w-5 h-5 text-blue-500"}),"Bi hc (",r.lessons.length,")"]}),n.jsx("div",{className:"space-y-3",children:r.lessons.map((d,f)=>n.jsx(Wf,{title:`${d.title||`Bi hc #${d.draftLessonId||f+1}`} (${d.lessonType})`,changeType:d.changeType,fieldChanges:d.fieldChanges,warning:d.resetUserProgressRequired,icon:n.jsx(Za,{className:"w-4 h-4 text-blue-500"})},f))})]})]}),r.resources.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Yo,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(dh,{className:"w-5 h-5 text-orange-500"}),"Ti nguyn (",r.resources.length,")"]}),n.jsx("div",{className:"space-y-3",children:r.resources.map((d,f)=>n.jsx(Wf,{title:d.resourceTitle||`Ti nguyn #${d.draftResourceId||f+1}`,changeType:d.changeType,fieldChanges:d.fieldChanges,icon:n.jsx(dh,{className:"w-4 h-4 text-orange-500"})},f))})]})]}),!h&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(at,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c thay i"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Khng pht hin thay i no trong kha hc ny"})]})]})]})]})})}const Xe={spacing:{cardPadding:"p-6",compactCardPadding:"px-4 py-3",gridGap:"gap-4",headingPaddingY:"py-6 sm:py-10",headingPaddingX:"px-4",statCardPadding:"px-4 sm:px-6 py-4",statGridGap:"gap-4 sm:gap-6"},borderRadius:{card:"rounded-xl",compactCard:"rounded-lg",input:"rounded-lg",icon:"rounded-lg"},colors:{headingGradient:{default:{from:"from-blue-600",via:"via-blue-600",to:"to-blue-500"}},cardBg:"bg-white",cardBorder:"border border-gray-100",statCardHover:"hover:shadow-lg",compactCardBg:"bg-white/15",compactCardBorder:"border border-white/20",backdropBlur:"backdrop-blur-sm",backdropBlurMd:"backdrop-blur-md",iconBgOpacity:"bg-opacity-10",headingIconBg:"bg-white/20"},typography:{pageTitle:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white",pageDescription:"text-blue-100 text-base sm:text-lg",statLabel:"text-sm text-muted-foreground mb-1",statValue:"text-2xl font-bold",compactStatLabel:"text-xs font-medium text-blue-100",compactStatValue:"text-xl font-bold text-white"},responsive:{statGrid:{default:{mobile:"grid-cols-1",tablet:"md:grid-cols-2",desktop:"lg:grid-cols-4"},compact:{mobile:"grid-cols-2",tablet:"md:grid-cols-3",desktop:"lg:grid-cols-6"},heading:{mobile:"grid-cols-1",tablet:"sm:grid-cols-2",desktop:"lg:grid-cols-3"}},maxWidth:"max-w-7xl mx-auto"},icons:{default:{size:"w-6 h-6",containerPadding:"p-3"},compact:{size:"w-5 h-5",containerPadding:"p-2"},heading:{size:"w-8 h-8 sm:w-10 sm:h-10",containerPadding:"p-2 sm:p-3"}},filters:{container:"flex gap-3 flex-wrap",searchMinWidth:"min-w-[250px]",searchPaddingLeft:"pl-10",searchIconPosition:"absolute left-3 top-1/2 transform -translate-y-1/2",searchIconSize:"w-4 h-4 text-gray-400",selectWidth:"w-48"},transitions:{default:"transition-all"}},Ip=({stats:e,variant:t="default",columns:s})=>{const r=()=>{if(s){const i=s.mobile?`grid-cols-${s.mobile}`:"",o=s.tablet?`md:grid-cols-${s.tablet}`:"",l=s.desktop?`lg:grid-cols-${s.desktop}`:"";return fe("grid",i,o,l,Xe.spacing.gridGap)}const a=t==="compact"?Xe.responsive.statGrid.compact:Xe.responsive.statGrid.default;return fe("grid",a.mobile,a.tablet,a.desktop,Xe.spacing.gridGap)};return n.jsx("div",{className:r(),children:e.map((a,i)=>{const o=a.icon;return n.jsx("div",{className:fe(t==="default"?[Xe.colors.cardBg,Xe.borderRadius.card,"shadow-sm",Xe.colors.cardBorder,Xe.spacing.cardPadding,Xe.colors.statCardHover,Xe.transitions.default]:[Xe.colors.compactCardBg,Xe.colors.backdropBlurMd,Xe.borderRadius.compactCard,Xe.spacing.compactCardPadding,Xe.colors.compactCardBorder]),role:"article","aria-label":a.ariaLabel||`${a.label}: ${a.value}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:fe(Xe.borderRadius.icon,t==="default"?Xe.icons.default.containerPadding:Xe.icons.compact.containerPadding,Xe.colors.iconBgOpacity,a.bgColor||a.iconColor),style:{backgroundColor:a.bgColor||`${a.iconColor}1A`},children:n.jsx(o,{className:fe(t==="default"?Xe.icons.default.size:Xe.icons.compact.size),style:{color:a.iconColor},"aria-hidden":"true"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:fe(t==="default"?Xe.typography.statLabel:Xe.typography.compactStatLabel),children:a.label}),n.jsx("p",{className:fe(t==="default"?Xe.typography.statValue:Xe.typography.compactStatValue,"truncate"),children:a.value})]})]})},`${a.label}-${i}`)})})},_ue=(e,t)=>{const[s,r]=y.useState(e);return y.useEffect(()=>{const a=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(a)}},[e,t]),s},Ca=({filters:e,layout:t="horizontal"})=>n.jsx("div",{className:fe(Xe.filters.container,t==="vertical"&&"flex-col"),role:"search","aria-label":"Filters",children:e.map(s=>n.jsx(Aue,{filter:s},s.id))}),Aue=({filter:e})=>e.type==="search"?n.jsx(Due,{filter:e}):e.type==="select"?n.jsx(Rue,{filter:e}):null,Due=({filter:e})=>{const[t,s]=y.useState(e.value),r=_ue(t,300),a=y.useRef(!0);y.useEffect(()=>{s(e.value)},[e.value]),y.useEffect(()=>{if(a.current){a.current=!1;return}e.onChange(r)},[r]);const i=y.useCallback(l=>{s(l.target.value)},[]),o=e.icon||ci;return n.jsxs("div",{className:fe("relative flex-1",Xe.filters.searchMinWidth),children:[n.jsx(o,{className:fe(Xe.filters.searchIconPosition,Xe.filters.searchIconSize),"aria-hidden":"true"}),n.jsx(Ce,{type:"text",placeholder:e.placeholder,value:t,onChange:i,className:fe(Xe.filters.searchPaddingLeft,Xe.borderRadius.input),"aria-label":e.placeholder})]})},Rue=({filter:e})=>{var r;const t=y.useCallback(a=>{e.onChange(a)},[e]),s=e.icon;return n.jsx("div",{className:fe(e.width||Xe.filters.selectWidth),children:n.jsxs(on,{value:e.value,onValueChange:t,children:[n.jsxs(Gt,{className:fe(Xe.borderRadius.input),"aria-label":e.placeholder,children:[s&&n.jsx(s,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),n.jsx(ln,{placeholder:e.placeholder})]}),n.jsx(Yt,{children:(r=e.options)==null?void 0:r.map(a=>n.jsx(We,{value:a.value,children:a.label},a.value))})]})})},es=({title:e,description:t,icon:s,iconBgColor:r,gradientFrom:a,gradientVia:i,gradientTo:o,statistics:l,actionButtons:c,children:u})=>{const h=()=>{if(a&&i&&o)return fe("bg-gradient-to-r",a,i,o);const d=Xe.colors.headingGradient.default;return fe("bg-gradient-to-r",d.from,d.via,d.to)};return n.jsx("header",{className:fe(h(),Xe.spacing.headingPaddingY,Xe.spacing.headingPaddingX),role:"banner",children:n.jsxs("div",{className:Xe.responsive.maxWidth,children:[n.jsxs("div",{className:"flex items-center justify-between gap-3 sm:gap-4 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[n.jsx("div",{className:fe(Xe.icons.heading.size,Xe.colors.headingIconBg,Xe.borderRadius.icon,Xe.icons.heading.containerPadding,"flex items-center justify-center"),style:r?{backgroundColor:r}:void 0,"aria-hidden":"true",children:n.jsx(s,{className:"w-full h-full text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h1",{className:Xe.typography.pageTitle,children:e}),t&&n.jsx("p",{className:fe(Xe.typography.pageDescription,"mt-1"),children:t})]})]}),c&&n.jsx("div",{className:"flex-shrink-0",children:c})]}),l&&l.length>0&&n.jsx("div",{className:fe("grid",Xe.responsive.statGrid.heading.mobile,Xe.responsive.statGrid.heading.tablet,Xe.responsive.statGrid.heading.desktop,Xe.spacing.statGridGap,"mt-6"),role:"region","aria-label":"Statistics",children:l.map((d,f)=>n.jsxs("div",{className:fe(Xe.colors.compactCardBg,Xe.colors.backdropBlur,Xe.borderRadius.card,Xe.spacing.statCardPadding,Xe.colors.compactCardBorder,"hover:bg-white/20",Xe.transitions.default),role:"article","aria-label":d.ariaLabel||`${d.label}: ${d.value}`,children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-100 mb-1",children:d.label}),n.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white truncate",children:d.value})]},`${d.label}-${f}`))}),u&&n.jsx("div",{className:"mt-6",children:u})]})})};function Oue(){const e=Qe(),[t,s]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(null),[l,c]=y.useState(1),[u]=y.useState(9),[h,d]=y.useState(1),[f,m]=y.useState(0),[p,g]=y.useState(0),[b,v]=y.useState(""),[x,w]=y.useState("all"),j=async(S=1)=>{try{a(!0),o(null);const C={};b.trim()&&(C.search=b),x&&x!=="all"&&(C.categoryID=parseInt(x));const E=await Ld.getPendingCourses(S,u,C);s(E.data),d(E.totalPages),m(E.total),c(S)}catch(C){o(C.message||"Khng th ti danh sch kha hc"),s([])}finally{a(!1)}},N=async()=>{var S;try{const E=await(await No(async()=>{const{default:_}=await Promise.resolve().then(()=>K4);return{default:_}},[])).default.get("/admin/courses/drafts",{params:{status:"PENDING_REVIEW"}}),T=((S=E==null?void 0:E.data)==null?void 0:S.result)||[];g(T.length)}catch{g(0)}};y.useEffect(()=>{j(1),N()},[b,x]);const k=[{id:"search",type:"search",placeholder:"Tm theo tn kha hc hoc ging vin...",value:b,onChange:v},{id:"category",type:"select",placeholder:"Danh mc",value:x,onChange:w,options:[{value:"all",label:"Tt c"}]}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(es,{title:"Ph duyt kha hc",description:"Qun l v duyt kha hc t ging vin",icon:tt,gradientFrom:"from-purple-600",gradientVia:"via-purple-600",gradientTo:"to-purple-500",statistics:[{label:"Ch duyt",value:f}]}),p>0&&n.jsx("div",{className:"bg-gradient-to-r from-amber-50/80 via-orange-50/80 to-amber-50/80 border-b border-amber-200/50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3.5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-100 to-orange-100 rounded-lg flex items-center justify-center border border-amber-200/50",children:n.jsx(at,{className:"w-5 h-5 text-amber-600"})}),n.jsx("span",{className:"absolute -top-0.5 -right-0.5 flex h-2 w-2",children:n.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-amber-500"})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-amber-900 font-semibold text-sm flex items-center gap-2",children:["C ",p," kha hc ang ch xem xt cp nht"]}),n.jsx("p",{className:"text-amber-700/80 text-xs",children:"Vui lng xem xt sm  khng nh hng n hc vin"})]})]}),n.jsxs(H,{onClick:()=>e(se.ADMIN_COURSE_APPROVAL_DRAFTS),className:"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-medium shadow-sm hover:shadow-md transition-all px-4 py-2 text-sm",children:[n.jsx(D5,{className:"w-4 h-4 mr-1.5"}),"Xem ngay"]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:n.jsx(Ca,{filters:k})}),i&&n.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(at,{className:"w-4 h-4 text-red-600"}),n.jsx("p",{className:"text-sm text-red-700",children:i})]}),n.jsx("button",{onClick:()=>o(null),className:"text-red-600 hover:text-red-800",children:""})]}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-10 h-10 animate-spin text-purple-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"ang ti kha hc..."})]})}):t.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(jn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c kha hc Pending"}),n.jsx("p",{className:"text-gray-500 text-sm",children:b||x!=="all"?"Khng tm thy kha hc ph hp":"Tt c kha hc  c xem xt"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 mb-6",children:t.map(S=>n.jsx(wN,{course:S},S.id))}),n.jsx(jN,{currentPage:l,totalPages:h,total:f,limit:u,isLoading:r,onPageChange:j})]})]})]})}const Pue=e=>({BEGINNER:"C bn",INTERMEDIATE:"Trung cp",ADVANCED:"Nng cao"})[(e==null?void 0:e.toUpperCase())||"BEGINNER"]||e||"C bn";function NN({course:e,loading:t,backUrl:s,backLabel:r="Quay li danh sch",hideTutorInfo:a=!1,adminActionsSlot:i,headerActionsSlot:o,variant:l="admin"}){var g,b,v;const c=Qe(),{languages:u}=tf(),h=x=>{if(!x)return"N/A";const w=u.find(j=>j.name===x);return(w==null?void 0:w.displayName)||x},d=l==="tutor"?"from-blue-600 via-purple-600 to-purple-500":"from-purple-600 via-purple-600 to-purple-500",f=l==="tutor"?"border-blue-600":"border-purple-600",m=l==="tutor"?"bg-blue-600 hover:bg-blue-700":"bg-purple-600 hover:bg-purple-700";if(t)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${f} mx-auto`}),n.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti..."})]})});if(!e)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 text-lg",children:"Khng tm thy kha hc"}),n.jsx("button",{onClick:()=>c(s),className:`mt-4 px-4 py-2 text-white rounded-lg ${m}`,children:r})]})});const p=x=>{const w=x==null?void 0:x.toUpperCase(),j={PENDING:{label:"Ch duyt",className:"bg-yellow-100 text-yellow-800"},APPROVED:{label:" duyt",className:"bg-green-100 text-green-800"},REJECTED:{label:"T chi",className:"bg-red-100 text-red-800"},DRAFT:{label:"Nhp",className:"bg-gray-100 text-gray-800"},DISABLED:{label:"V hiu",className:"bg-gray-100 text-gray-600"}},N=j[w||"DRAFT"]||j.DRAFT;return n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N.className}`,children:N.label})};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:`bg-gradient-to-r ${d} shadow-lg`,children:n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("button",{onClick:()=>c(s),className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-white font-medium mb-4 transition-colors border border-white/30",children:[n.jsx(os,{className:"w-5 h-5"}),r]}),n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n.jsx("h1",{className:"text-3xl font-bold text-white truncate",children:e.title}),p(e.status)]}),o&&n.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:o})]})]})}),n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:i?"grid grid-cols-1 lg:grid-cols-3 gap-8":"",children:[n.jsxs("div",{className:i?"lg:col-span-2 space-y-6":"space-y-6",children:[(((g=e.status)==null?void 0:g.toUpperCase())==="REJECTED"||((b=e.status)==null?void 0:b.toLowerCase())==="rejected")&&n.jsxs("div",{className:"rounded-lg shadow-sm p-6 bg-red-50 border border-red-200",children:[n.jsx("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:n.jsx("span",{className:"text-red-700",children:" L do t chi"})}),n.jsx("p",{className:"text-sm whitespace-pre-wrap text-red-800",children:e.adminReviewNote||e.adminNotes||"Admin cha cung cp l do c th"})]}),e.thumbnailURL&&n.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:n.jsx("img",{src:e.thumbnailURL,alt:e.title,className:"w-full h-96 object-cover"})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",children:[n.jsxs("div",{className:"flex gap-2 mb-6 flex-wrap",children:[n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:Pue(e.level)}),n.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium",children:e.categoryName||"N/A"}),n.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium",children:h(e.language)})]}),n.jsxs("div",{className:`grid grid-cols-2 ${a?"md:grid-cols-4":"md:grid-cols-6"} gap-4 mb-6`,children:[!a&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[n.jsx(en,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Ging vin"})]}),n.jsx("p",{className:"font-semibold text-gray-900 text-sm truncate",children:e.tutorName||"N/A"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-1",children:[n.jsx(st,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Thi lng"})]}),n.jsxs("p",{className:"font-semibold text-gray-900",children:[e.duration||0,"h"]})]}),n.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-1",children:[n.jsx(un,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"nh gi"})]}),n.jsx("p",{className:"font-semibold text-gray-900",children:e.avgRating!==void 0?`${e.avgRating.toFixed(1)} `:"N/A"}),e.totalRatings!==void 0&&n.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["(",e.totalRatings," nh gi)"]})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 mb-1",children:[n.jsx($n,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Gi"})]}),n.jsxs("p",{className:"font-semibold text-gray-900 text-sm",children:[(v=e.price)==null?void 0:v.toLocaleString()," "]})]}),e.learnerCount!==void 0&&n.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 mb-1",children:[n.jsx(en,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Hc vin"})]}),n.jsx("p",{className:"font-semibold text-gray-900",children:e.learnerCount.toLocaleString()})]}),!a&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[n.jsx(ft,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Ngy to"})]}),n.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.createdAt?new Date(e.createdAt).toLocaleDateString("vi-VN"):"N/A"})]})]}),n.jsx("div",{className:"border-t border-gray-200 my-6"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"M t chi tit"}),n.jsx("p",{className:"text-gray-600 whitespace-pre-wrap leading-relaxed",children:e.description})]}),n.jsx("div",{className:"border-t border-gray-200 my-6"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"M t ngn"}),n.jsx("p",{className:"text-gray-700",children:e.shortDescription})]}),e.requirement&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-t border-gray-200 my-6"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Yu cu"}),n.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:e.requirement})]})]})]}),e.objectives&&e.objectives.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Mc tiu hc tp (",e.objectives.length,")"]}),n.jsx("ul",{className:"space-y-3",children:e.objectives.map(x=>n.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[n.jsx("span",{className:"text-green-500 flex-shrink-0 mt-0.5",children:""}),n.jsx("span",{children:x.objectiveText})]},x.objectiveID))})]}),e.section&&e.section.length>0?n.jsx(jue,{course:e}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Ni dung kha hc"}),n.jsx("p",{className:"text-gray-500",children:"Cha c ni dung"})]})]}),i&&n.jsx("div",{className:"lg:col-span-1",children:i})]})})]})}function t6({courseId:e,isDraft:t,additionalActions:s}={}){const{courseId:r}=wr(),a=e||r,i=Qe(),{toast:o}=jt(),[l,c]=y.useState(null),[u,h]=y.useState(!0),[d,f]=y.useState(!1),[m,p]=y.useState(null),[g,b]=y.useState(""),[v,x]=y.useState(!1),[w,j]=y.useState(!1),[N,k]=y.useState(!1),[S,C]=y.useState(!1),[E,T]=y.useState("approve");y.useEffect(()=>{(async()=>{var M,$;if(a)try{h(!0),p(null);const F=new URLSearchParams(window.location.search).get("isDraft")==="true",O=t!==void 0?t:F,q=await Ld.getCourseDetail(parseInt(a),O);c(q)}catch(F){((M=F==null?void 0:F.response)==null?void 0:M.status)===404?p("Khng tm thy kha hc ny. C th kha hc  b xa hoc  c x l."):(($=F==null?void 0:F.response)==null?void 0:$.status)===403?(p("Bn khng c quyn truy cp kha hc ny."),setTimeout(()=>i(se.ADMIN_DASHBOARD),2e3)):F!=null&&F.response?p(F.message||"Khng th ti chi tit kha hc"):p("Li kt ni mng. Vui lng kim tra kt ni internet ca bn.")}finally{h(!1)}})()},[a,t]);const _=()=>{k(!0)},A=async()=>{if(l)try{f(!0),k(!1),await Ld.approveCourse(l.id,l.isDraft||!1),T("approve"),j(!0)}catch(L){o({variant:"destructive",title:"Li",description:L.message||"Khng th ph duyt kha hc"})}finally{f(!1)}},D=()=>{if(!g.trim()){o({variant:"destructive",title:"Li",description:"Vui lng nhp l do t chi"});return}C(!0)},R=async()=>{if(l)try{f(!0),C(!1),await Ld.rejectCourse(l.id,l.isDraft||!1,g),T("reject"),j(!0)}catch(L){o({variant:"destructive",title:"Li",description:L.message||"Khng th t chi kha hc"})}finally{f(!1)}};y.useEffect(()=>{m&&o({variant:"destructive",title:"Li",description:m})},[m,o]);const U=l!=null&&l.isDraft?"/admin/course-approval/drafts":"/admin/course-approval",I=n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hnh ng Admin"}),s&&n.jsx("div",{className:"mb-4",children:s}),v?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"rejectionReason",className:"text-sm font-semibold text-red-600",children:"L do t chi *"}),n.jsx(It,{id:"rejectionReason",value:g,onChange:L=>b(L.target.value),placeholder:"Nhp l do t chi (bt buc)...",rows:5,className:"mt-2 border-red-300 focus:border-red-500"})]}),n.jsx(H,{onClick:()=>{x(!1),b("")},variant:"outline",className:"w-full",disabled:d,children:"Hy"}),n.jsxs(H,{onClick:D,disabled:d||!g.trim(),variant:"destructive",className:"w-full gap-2",size:"lg",children:[d?n.jsx(et,{className:"w-4 h-4 animate-spin"}):n.jsx(Lt,{className:"w-4 h-4"}),"Xc nhn t chi"]})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsxs(H,{onClick:_,disabled:d,className:"w-full bg-green-600 hover:bg-green-700 gap-2",size:"lg",children:[d?n.jsx(et,{className:"w-4 h-4 animate-spin"}):n.jsx(jn,{className:"w-4 h-4"}),"Ph duyt kha hc"]}),n.jsxs(H,{onClick:()=>x(!0),disabled:d,variant:"destructive",className:"w-full gap-2",size:"lg",children:[n.jsx(Lt,{className:"w-4 h-4"}),"T chi kha hc"]})]})]});return n.jsxs(n.Fragment,{children:[n.jsx(NN,{course:l,loading:u,backUrl:U,backLabel:"Quay li danh sch",hideTutorInfo:!1,adminActionsSlot:!u&&l?I:void 0}),n.jsx(ht,{open:N,onOpenChange:k,children:n.jsxs(lt,{className:"sm:max-w-md",children:[n.jsxs(ct,{children:[n.jsxs(ut,{className:"flex items-center gap-2 text-green-700",children:[n.jsx(jn,{className:"w-5 h-5"}),"Xc nhn ph duyt"]}),n.jsx(Zn,{children:"Bn c chc chn mun ph duyt kha hc ny khng?"})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 my-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Kha hc"}),n.jsx("p",{className:"font-semibold text-gray-900",children:l==null?void 0:l.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" Ging vin"}),n.jsx("p",{className:"font-semibold text-gray-900",children:(l==null?void 0:l.tutorName)||`Tutor #${l==null?void 0:l.tutorID}`})]}),n.jsxs(Nt,{className:"flex gap-2 sm:gap-2",children:[n.jsx(H,{variant:"outline",onClick:()=>k(!1),disabled:d,className:"flex-1",children:"Hy"}),n.jsxs(H,{onClick:A,disabled:d,className:"flex-1 bg-green-600 hover:bg-green-700 gap-2",children:[d?n.jsx(et,{className:"w-4 h-4 animate-spin"}):n.jsx(jn,{className:"w-4 h-4"}),"Xc nhn ph duyt"]})]})]})}),n.jsx(ht,{open:S,onOpenChange:C,children:n.jsxs(lt,{className:"sm:max-w-md",children:[n.jsxs(ct,{children:[n.jsxs(ut,{className:"flex items-center gap-2 text-red-700",children:[n.jsx(Lt,{className:"w-5 h-5"}),"Xc nhn t chi"]}),n.jsx(Zn,{children:"Bn c chc chn mun t chi kha hc ny khng?"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 my-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Kha hc"}),n.jsx("p",{className:"font-semibold text-gray-900",children:l==null?void 0:l.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" Ging vin"}),n.jsx("p",{className:"font-semibold text-gray-900",children:(l==null?void 0:l.tutorName)||`Tutor #${l==null?void 0:l.tutorID}`})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"L do t chi:"}),n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:g})]}),n.jsxs(Nt,{className:"flex gap-2 sm:gap-2",children:[n.jsx(H,{variant:"outline",onClick:()=>C(!1),disabled:d,className:"flex-1",children:"Hy"}),n.jsxs(H,{onClick:R,disabled:d,variant:"destructive",className:"flex-1 gap-2",children:[d?n.jsx(et,{className:"w-4 h-4 animate-spin"}):n.jsx(Lt,{className:"w-4 h-4"}),"Xc nhn t chi"]})]})]})}),n.jsx(ht,{open:w,onOpenChange:j,children:n.jsxs(lt,{className:"sm:max-w-md border-0 shadow-lg",children:[n.jsxs(ct,{className:"text-center space-y-3",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center shadow-md ${E==="approve"?"bg-gradient-to-br from-green-100 to-green-50":"bg-gradient-to-br from-red-100 to-red-50"}`,children:E==="approve"?n.jsx(jn,{className:"w-8 h-8 text-green-600"}):n.jsx(Lt,{className:"w-8 h-8 text-red-600"})})}),n.jsx(ut,{className:"text-2xl font-bold text-gray-900",children:E==="approve"?" Kha hc  c ph duyt!":" Kha hc  b t chi"}),n.jsx(Zn,{className:"text-base text-gray-600",children:E==="approve"?"Kha hc  c ph duyt v s hin th cho hc vin.":"Kha hc  b t chi. Ging vin s nhn c thng bo."})]}),n.jsxs("div",{className:"space-y-3 py-4",children:[n.jsxs("div",{className:`p-4 rounded-lg border ${E==="approve"?"bg-gradient-to-r from-green-50 to-green-100 border-green-200":"bg-gradient-to-r from-red-50 to-red-100 border-red-200"}`,children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Tn kha hc"}),n.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:l==null?void 0:l.title})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${E==="approve"?"bg-gradient-to-r from-green-50 to-green-100 border-green-200":"bg-gradient-to-r from-red-50 to-red-100 border-red-200"}`,children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Ging vin"}),n.jsx("p",{className:"font-semibold text-gray-900",children:(l==null?void 0:l.tutorName)||`Tutor #${l==null?void 0:l.tutorID}`})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${E==="approve"?"bg-gradient-to-r from-green-50 to-green-100 border-green-200":"bg-gradient-to-r from-red-50 to-red-100 border-red-200"}`,children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Trng thi"}),n.jsx("p",{className:`font-semibold ${E==="approve"?"text-green-600":"text-red-600"}`,children:E==="approve"?" ph duyt":" t chi"})]})]}),n.jsx(Nt,{className:"flex gap-3 mt-6",children:n.jsx(H,{onClick:()=>{j(!1),i(U)},className:`flex-1 font-semibold ${E==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white`,children:"Quay li danh sch"})})]})})]})}function Iue(){const e=Qe(),[t,s]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(null),[l,c]=y.useState(1),[u]=y.useState(9),[h,d]=y.useState(1),[f,m]=y.useState(0),[p,g]=y.useState(""),[b,v]=y.useState("all"),x=async(N=1)=>{var k,S,C,E,T;try{a(!0),o(null);const _=await ee.get("/admin/courses/drafts",{params:{status:"PENDING_REVIEW"}});let D=(((k=_==null?void 0:_.data)==null?void 0:k.result)||[]).map(M=>({id:M.draftID,title:M.title,shortDescription:M.shortDescription||"",description:M.description||"",requirement:M.requirement||"",level:M.level||"BEGINNER",categoryID:0,categoryName:M.categoryName||"Unknown",language:M.language||"English",duration:M.duration||0,price:M.price||0,thumbnailURL:M.thumbnailURL||"",status:"Pending Review",tutorID:0,tutorName:M.tutorName,tutorEmail:M.tutorEmail,createdAt:M.createdAt||new Date().toISOString(),updatedAt:M.updatedAt||new Date().toISOString(),isDraft:!0}));if(p.trim()){const M=p.toLowerCase();D=D.filter($=>{var F;return $.title.toLowerCase().includes(M)||((F=$.tutorName)==null?void 0:F.toLowerCase().includes(M))})}b&&b!=="all"&&(D=D.filter(M=>M.categoryID===parseInt(b))),D.sort((M,$)=>new Date($.createdAt).getTime()-new Date(M.createdAt).getTime());const R=D.length,U=Math.ceil(R/u),I=(N-1)*u,L=D.slice(I,I+u);s(L),d(U),m(R),c(N)}catch(_){((S=_==null?void 0:_.response)==null?void 0:S.status)===403?(o("Bn khng c quyn truy cp trang ny"),setTimeout(()=>e(se.ADMIN_DASHBOARD),2e3)):((C=_==null?void 0:_.response)==null?void 0:C.status)===404?o("Khng tm thy danh sch kha hc cp nht"):_!=null&&_.response?o(((T=(E=_==null?void 0:_.response)==null?void 0:E.data)==null?void 0:T.message)||_.message||"Khng th ti danh sch kha hc cp nht"):o("Li kt ni mng. Vui lng kim tra kt ni internet ca bn"),s([]),d(1),m(0)}finally{a(!1)}};y.useEffect(()=>{x(1)},[p,b]);const w=N=>{e(Ih.adminCourseApprovalDraftDetail(N))},j=[{id:"search",type:"search",placeholder:"Tm theo tn kha hc hoc ging vin...",value:p,onChange:g},{id:"category",type:"select",placeholder:"Danh mc",value:b,onChange:v,options:[{value:"all",label:"Tt c"}]}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:n.jsxs(H,{onClick:()=>e(se.ADMIN_COURSE_APPROVAL),variant:"ghost",size:"sm",children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li"]})})}),n.jsx(es,{title:"Ph duyt cp nht kha hc",description:"Xem xt cc bn cp nht t ging vin",icon:D5,gradientFrom:"from-purple-600",gradientVia:"via-purple-600",gradientTo:"to-purple-500",statistics:[{label:"Ch xem xt",value:f}]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:n.jsx(Ca,{filters:j})}),i&&n.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-start gap-3 justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(at,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-semibold text-red-800 mb-1",children:"Li ti d liu"}),n.jsx("p",{className:"text-sm text-red-700",children:i})]})]}),n.jsx("button",{onClick:()=>o(null),className:"text-red-600 hover:text-red-800 flex-shrink-0","aria-label":"ng thng bo li",children:""})]}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[n.jsx(H,{onClick:()=>x(l),size:"sm",variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",children:"Th li"}),n.jsx(H,{onClick:()=>e(se.ADMIN_COURSE_APPROVAL),size:"sm",variant:"ghost",className:"text-red-700 hover:bg-red-100",children:"Quay li trang chnh"})]})]}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-10 h-10 animate-spin text-purple-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"ang ti kha hc cp nht..."})]})}):t.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(jn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c kha hc cp nht no ang ch xem xt"}),n.jsx("p",{className:"text-gray-500 text-sm",children:p||b!=="all"?"Khng tm thy kha hc ph hp":"Tt c bn cp nht  c xem xt"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 mb-6",children:t.map(N=>n.jsx(wN,{course:N,onClick:()=>w(N.id)},N.id))}),n.jsx(jN,{currentPage:l,totalPages:h,total:f,limit:u,isLoading:r,onPageChange:x})]})]})]})}function Mue(){const{draftId:e}=wr(),t=Qe(),[s,r]=y.useState(!1);if(!e)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("span",{className:"text-3xl",children:""})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ID khng hp l"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Khng th xc nh kha hc. Vui lng quay li danh sch v th li."}),n.jsx(H,{onClick:()=>t(se.ADMIN_COURSE_APPROVAL_DRAFTS),className:"bg-purple-600 hover:bg-purple-700",children:"Quay li danh sch"})]})});const a=()=>{r(!0)},i=()=>{r(!1)},o=n.jsxs(H,{onClick:a,variant:"outline",className:"w-full gap-2 border-purple-300 text-purple-700 hover:bg-purple-50",children:[n.jsx(Jz,{className:"w-4 h-4"}),"Xem thay i"]});return n.jsxs(n.Fragment,{children:[n.jsx(t6,{courseId:e,isDraft:!0,additionalActions:o}),n.jsx(Eue,{open:s,draftID:parseInt(e),onClose:i})]})}const n6={getAllCourses:async()=>{var e,t,s;try{const r=await ee.get("/admin/courses");return((e=r==null?void 0:r.data)==null?void 0:e.result)||(r==null?void 0:r.data)||[]}catch(r){throw new Error(((s=(t=r==null?void 0:r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to fetch courses")}},getCoursesByStatus:async e=>{var t,s,r;try{const a=await ee.get("/admin/courses/by-status",{params:{status:e}});return((t=a==null?void 0:a.data)==null?void 0:t.result)||(a==null?void 0:a.data)||[]}catch(a){throw new Error(((r=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to fetch courses by status")}},getCourseDetail:async e=>{var t,s,r;try{const a=await ee.get(`/admin/courses/${e}/detail`),i=((t=a==null?void 0:a.data)==null?void 0:t.result)||(a==null?void 0:a.data)||{},o=(i.objectives||[]).map((l,c)=>({objectiveID:c+1,objectiveText:l,orderIndex:c}));return{...i,objectives:o,courseID:i.id||e,adminNotes:i.adminReviewNote||i.adminNotes,adminReviewNote:i.adminReviewNote,section:i.sections||i.section||[],totalRatings:i.totalRatings??0,avgRating:i.avgRating??0,learnerCount:i.learnerCount??0}}catch(a){throw new Error(((r=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to fetch course detail")}},getPendingCount:async()=>{var e;try{const t=await ee.get("/admin/courses/by-status",{params:{status:"Pending"}}),s=((e=t==null?void 0:t.data)==null?void 0:e.result)||(t==null?void 0:t.data)||[];return Array.isArray(s)?s.length:0}catch{return 0}},approveCourse:async(e,t)=>{var s,r;try{const a=t?{note:t}:{};await ee.post(`/admin/courses/${e}/approve`,a)}catch(a){throw new Error(((r=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to approve course")}},rejectCourse:async(e,t)=>{var s,r;try{await ee.post(`/admin/courses/${e}/reject`,{note:t})}catch(a){throw new Error(((r=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to reject course")}},updateReviewNote:async(e,t)=>{var s,r;try{await ee.put(`/admin/courses/${e}/review-note`,{note:t})}catch(a){throw new Error(((r=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update review note")}}};function Lue(){const{courseId:e}=wr(),[t,s]=y.useState(null),[r,a]=y.useState(!0);y.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{a(!0);const o=await n6.getCourseDetail(e);s(o)}catch(o){console.error("Error fetching course detail:",o)}finally{a(!1)}};return n.jsx(NN,{course:t,loading:r,backUrl:"/admin/courses",backLabel:"Quay li danh sch"})}const Fue=vr({certificateName:wt().min(1,"Certificate name is required").max(200,"Certificate name must not exceed 200 characters"),documentUrl:wt().min(1,"Document URL is required").url("Must be a valid URL")}),$ue=vr({experience:Gv({message:"Experience must be a number"}).min(0,"Experience cannot be negative").max(100,"Experience must not exceed 100 years"),specialization:wt().min(3,"Specialization must be at least 3 characters").max(200,"Specialization must not exceed 200 characters"),teachingLanguage:wt().min(2,"Teaching language is required").max(50,"Teaching language must not exceed 50 characters"),bio:wt().min(50,"Bio must be at least 50 characters").max(1e3,"Bio must not exceed 1000 characters"),certificates:Mj(Fue).min(1,"At least one certificate is required")}),Uue=TH,s6=y.createContext({}),Ql=({...e})=>n.jsx(s6.Provider,{value:{name:e.name},children:n.jsx(Ro,{...e})}),ax=()=>{const e=y.useContext(s6),t=y.useContext(r6),{getFieldState:s,formState:r}=Wh(),a=s(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},r6=y.createContext({}),Po=y.forwardRef(({className:e,...t},s)=>{const r=y.useId();return n.jsx(r6.Provider,{value:{id:r},children:n.jsx("div",{ref:s,className:fe("space-y-2",e),...t})})});Po.displayName="FormItem";const wi=y.forwardRef(({className:e,...t},s)=>{const{error:r,formItemId:a}=ax();return n.jsx(ve,{ref:s,className:fe(r&&"text-destructive",e),htmlFor:a,...t})});wi.displayName="FormLabel";const Io=y.forwardRef(({...e},t)=>{const{error:s,formItemId:r,formDescriptionId:a,formMessageId:i}=ax();return n.jsx(q5,{ref:t,id:r,"aria-describedby":s?`${a} ${i}`:`${a}`,"aria-invalid":!!s,...e})});Io.displayName="FormControl";const nc=y.forwardRef(({className:e,...t},s)=>{const{formDescriptionId:r}=ax();return n.jsx("p",{ref:s,id:r,className:fe("text-[0.8rem] text-muted-foreground",e),...t})});nc.displayName="FormDescription";const Mo=y.forwardRef(({className:e,children:t,...s},r)=>{const{error:a,formMessageId:i}=ax(),o=a?String(a==null?void 0:a.message):t;return o?n.jsx("p",{ref:r,id:i,className:fe("text-[0.8rem] font-medium text-destructive",e),...s,children:o}):null});Mo.displayName="FormMessage";function Vue({onSubmit:e,isSubmitting:t=!1}){const s=Na({resolver:ka($ue),mode:"onChange",defaultValues:{experience:0,specialization:"",teachingLanguage:"",bio:"",certificates:[{certificateName:"",documentUrl:""}]}}),{fields:r,append:a,remove:i}=HH({control:s.control,name:"certificates"});return n.jsxs(ye,{className:"w-full max-w-3xl mx-auto",children:[n.jsxs(Je,{children:[n.jsx(yt,{children:"ng k tr thnh gia s"}),n.jsx(xg,{children:"in vo biu mu di y  gi n ng k tr thnh gia s trn nn tng ca chng ti."})]}),n.jsx(De,{children:n.jsx(Uue,{...s,children:n.jsxs("form",{onSubmit:s.handleSubmit(e),className:"space-y-6",children:[n.jsx(Ql,{control:s.control,name:"experience",render:({field:o,fieldState:l})=>n.jsxs(Po,{children:[n.jsx(wi,{children:"Kinh nghim (nm) *"}),n.jsx(Io,{children:n.jsx(Ce,{type:"number",placeholder:"Nhp s nm kinh nghim ging dy ca bn",...o,onChange:c=>o.onChange(c.target.valueAsNumber),disabled:t,className:fe("transition-all duration-200",l.error&&"border-red-500 focus-visible:ring-red-500",!l.error&&o.value>0&&"border-green-500 focus-visible:ring-green-500"),"aria-invalid":l.error?"true":"false","aria-describedby":l.error?"experience-error":"experience-description"})}),n.jsx(nc,{id:"experience-description",children:"Bn c bao nhiu nm kinh nghim ging dy?"}),n.jsx(Mo,{id:"experience-error"})]})}),n.jsx(Ql,{control:s.control,name:"specialization",render:({field:o,fieldState:l})=>n.jsxs(Po,{children:[n.jsx(wi,{children:"Chuyn mn *"}),n.jsx(Io,{children:n.jsx(Ce,{placeholder:"V d: Ton hc, Ting Anh, Lp trnh",...o,disabled:t,className:fe("transition-all duration-200",l.error&&"border-red-500 focus-visible:ring-red-500",!l.error&&o.value.length>=3&&"border-green-500 focus-visible:ring-green-500"),"aria-invalid":l.error?"true":"false","aria-describedby":l.error?"specialization-error":"specialization-description"})}),n.jsx(nc,{id:"specialization-description",children:"Lnh vc chuyn mn ca bn l g?"}),n.jsx(Mo,{id:"specialization-error"})]})}),n.jsx(Ql,{control:s.control,name:"teachingLanguage",render:({field:o,fieldState:l})=>n.jsxs(Po,{children:[n.jsx(wi,{children:"Ngn ng ging dy *"}),n.jsx(Io,{children:n.jsx(Ce,{placeholder:"V d: Ting Anh, Ting Vit, Ting Ty Ban Nha",...o,disabled:t,className:fe("transition-all duration-200",l.error&&"border-red-500 focus-visible:ring-red-500",!l.error&&o.value.length>=2&&"border-green-500 focus-visible:ring-green-500"),"aria-invalid":l.error?"true":"false","aria-describedby":l.error?"teaching-language-error":"teaching-language-description"})}),n.jsx(nc,{id:"teaching-language-description",children:"Bn s ch yu ging dy bng ngn ng no?"}),n.jsx(Mo,{id:"teaching-language-error"})]})}),n.jsx(Ql,{control:s.control,name:"bio",render:({field:o,fieldState:l})=>{var f;const c=((f=o.value)==null?void 0:f.length)||0,u=1e3,h=50,d=c>=h&&c<=u;return n.jsxs(Po,{children:[n.jsx(wi,{children:"Tiu s *"}),n.jsx(Io,{children:n.jsx(It,{placeholder:"Hy cho chng ti bit v bn thn, trit l ging dy v l do bn mun tr thnh gia s...",className:fe("min-h-[120px] resize-none transition-all duration-200",l.error&&"border-red-500 focus-visible:ring-red-500",!l.error&&d&&"border-green-500 focus-visible:ring-green-500"),...o,disabled:t,"aria-invalid":l.error?"true":"false","aria-describedby":l.error?"bio-error":"bio-description"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(nc,{id:"bio-description",children:"Ti thiu 50 k t. Chia s v l lch v phng php ging dy ca bn."}),n.jsxs("span",{className:fe("text-sm transition-colors duration-200",c<h&&"text-muted-foreground",c>=h&&c<=u&&"text-green-600",c>u&&"text-red-600"),"aria-live":"polite",children:[c,"/",u]})]}),n.jsx(Mo,{id:"bio-error"})]})}}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx(wi,{children:"Chng ch *"}),n.jsx(nc,{children:"Thm t nht mt chng ch  chng minh trnh  ca bn"})]})}),r.map((o,l)=>n.jsx(ye,{className:"relative transition-all duration-300 hover:shadow-md",children:n.jsxs(De,{className:"pt-6 space-y-4",children:[r.length>1&&n.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 transition-all duration-200 hover:scale-110 hover:bg-red-50",onClick:()=>i(l),disabled:t,"aria-label":`Remove certificate ${l+1}`,children:n.jsx(Ml,{className:"h-4 w-4"})}),n.jsx(Ql,{control:s.control,name:`certificates.${l}.certificateName`,render:({field:c,fieldState:u})=>n.jsxs(Po,{children:[n.jsx(wi,{children:"Tn chng ch"}),n.jsx(Io,{children:n.jsx(Ce,{placeholder:"V d: Chng ch TESOL, Thc s Gio dc",...c,disabled:t,className:fe("transition-all duration-200",u.error&&"border-red-500 focus-visible:ring-red-500",!u.error&&c.value.length>0&&"border-green-500 focus-visible:ring-green-500"),"aria-invalid":u.error?"true":"false","aria-describedby":u.error?`certificate-name-${l}-error`:void 0})}),n.jsx(Mo,{id:`certificate-name-${l}-error`})]})}),n.jsx(Ql,{control:s.control,name:`certificates.${l}.documentUrl`,render:({field:c,fieldState:u})=>n.jsxs(Po,{children:[n.jsx(wi,{children:"URL ti liu"}),n.jsx(Io,{children:n.jsx(Ce,{type:"url",placeholder:"https://example.com/chung-chi.pdf",...c,disabled:t,className:fe("transition-all duration-200",u.error&&"border-red-500 focus-visible:ring-red-500",!u.error&&c.value.length>0&&"border-green-500 focus-visible:ring-green-500"),"aria-invalid":u.error?"true":"false","aria-describedby":u.error?`document-url-${l}-error`:void 0})}),n.jsx(Mo,{id:`document-url-${l}-error`})]})})]})},o.id)),n.jsxs(H,{type:"button",variant:"outline",size:"sm",className:"w-full transition-all duration-200 hover:scale-[1.02]",onClick:()=>a({certificateName:"",documentUrl:""}),disabled:t,"aria-label":"Add another certificate",children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Thm chng ch"]})]}),n.jsx(H,{type:"submit",disabled:t||!s.formState.isValid||s.formState.isSubmitting,className:"w-full transition-all duration-200 hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed","aria-label":t?"Submitting application":"Submit application","aria-busy":t,children:t?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang gi..."]}):"Gi n ng k"})]})})})]})}/** @preserve Copyright (c) KNOWLEDGECODE - MIT License */const Bue=/\\\[/g,zue=/\\\]/g,que=/\uE000/g,Hue=/\uE001/g,Wue=/\[(?:[^[\]]|\[[^[\]]*])*]|([A-Za-z])\1*|\.{3}|./g,Kue=e=>{const t=e.replace(Bue,"").replace(zue,"").match(Wue)||[];return[e,...t.map(s=>s.replace(que,"[").replace(Hue,"]"))]};class Gue{}const V0=(e,t)=>e.getFullYear()+(t==="buddhist"?543:0),Yue=new class extends Gue{YYYY(e,t){return`000${V0(e,t.calendar)}`.slice(-4)}YY(e,t){return`0${V0(e,t.calendar)}`.slice(-2)}Y(e,t){return`${V0(e,t.calendar)}`}MMMM(e,t,s){return t.locale.getMonthList({style:"long",compiledObj:s})[e.getMonth()]||""}MMM(e,t,s){return t.locale.getMonthList({style:"short",compiledObj:s})[e.getMonth()]||""}MM(e){return`0${e.getMonth()+1}`.slice(-2)}M(e){return`${e.getMonth()+1}`}DD(e){return`0${e.getDate()}`.slice(-2)}D(e){return`${e.getDate()}`}HH(e,t){return`0${e.getHours()||(t.hour24==="h24"?24:0)}`.slice(-2)}H(e,t){return`${e.getHours()||(t.hour24==="h24"?24:0)}`}AA(e,t,s){return t.locale.getMeridiemList({style:"long",compiledObj:s,case:"uppercase"})[+(e.getHours()>11)]||""}A(e,t,s){return t.locale.getMeridiemList({style:"short",compiledObj:s,case:"uppercase"})[+(e.getHours()>11)]||""}aa(e,t,s){return t.locale.getMeridiemList({style:"long",compiledObj:s,case:"lowercase"})[+(e.getHours()>11)]||""}a(e,t,s){return t.locale.getMeridiemList({style:"short",compiledObj:s,case:"lowercase"})[+(e.getHours()>11)]||""}hh(e,t){return`0${e.getHours()%12||(t.hour12==="h12"?12:0)}`.slice(-2)}h(e,t){return`${e.getHours()%12||(t.hour12==="h12"?12:0)}`}mm(e){return`0${e.getMinutes()}`.slice(-2)}m(e){return`${e.getMinutes()}`}ss(e){return`0${e.getSeconds()}`.slice(-2)}s(e){return`${e.getSeconds()}`}SSS(e){return`00${e.getMilliseconds()}`.slice(-3)}SS(e){return`00${e.getMilliseconds()}`.slice(-3,-1)}S(e){return`00${e.getMilliseconds()}`.slice(-3,-2)}dddd(e,t,s){return t.locale.getDayOfWeekList({style:"long",compiledObj:s})[e.getDay()]||""}ddd(e,t,s){return t.locale.getDayOfWeekList({style:"short",compiledObj:s})[e.getDay()]||""}dd(e,t,s){return t.locale.getDayOfWeekList({style:"narrow",compiledObj:s})[e.getDay()]||""}Z(e){const t=e.getTimezoneOffset(),s=Math.abs(t);return`${t>0?"-":"+"}${("0"+(s/60|0)).slice(-2)}${("0"+s%60).slice(-2)}`}ZZ(e){const t=e.getTimezoneOffset(),s=Math.abs(t);return`${t>0?"-":"+"}${("0"+(s/60|0)).slice(-2)}:${("0"+s%60).slice(-2)}`}},Pa={MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dd:["Su","Mo","Tu","We","Th","Fr","Sa"],A:["AM","PM"],AA:["A.M.","P.M."],a:["am","pm"],aa:["a.m.","p.m."]};var Que=new class{getLocale(){return"en"}getMonthList(e){return e.style==="long"?Pa.MMMM:Pa.MMM}getDayOfWeekList(e){return e.style==="long"?Pa.dddd:e.style==="short"?Pa.ddd:Pa.dd}getMeridiemList(e){return e.style==="long"?e.case==="lowercase"?Pa.aa:Pa.AA:e.case==="lowercase"?Pa.a:Pa.A}},Zue={encode:e=>e,decode:e=>e};const qC=/^\[(.*)\]$/;function Xue(e,t,s){const r=Kue(t).slice(1),a=void 0,i=e,o={hour12:"h12",hour24:"h23",numeral:Zue,calendar:"gregory",timeZone:a,locale:Que},l=[Yue],c=o.numeral.encode;return r.reduce((u,h)=>u+((d,f)=>{for(const m of l)if(m[d])return c(m[d](i,o,f));return qC.test(d)?d.replace(qC,"$1"):d})(h,r),"")}function Jue({data:e}){const{status:t,submittedAt:s,reasonForReject:r}=e,a=Xue(new Date(s),"MMM DD, YYYY"),i=()=>{switch(t){case"APPROVED":return"default";case"REJECTED":return"destructive";case"PENDING":default:return"secondary"}},o=()=>{switch(t){case"APPROVED":return"Congratulations! Your application has been approved. You can now create and teach courses on the platform.";case"REJECTED":return"Unfortunately, your application has been rejected.";case"PENDING":default:return"Your application is currently under review. We will notify you once a decision has been made."}};return n.jsx("div",{className:"max-w-2xl mx-auto p-6",children:n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(yt,{children:"Application Status"})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),n.jsx(Pe,{variant:i(),children:t})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Submitted:"}),n.jsx("span",{className:"text-sm",children:a})]}),n.jsx("div",{className:"pt-2",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:o()})}),t==="REJECTED"&&r&&n.jsxs("div",{className:"pt-2 border-t",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Reason for rejection:"}),n.jsx("p",{className:"text-sm text-destructive",children:r})]})]})]})})}const ede=async e=>(await ee.post("/tutors/apply",e),{success:!0,message:"Application submitted successfully"}),tde=async()=>{var e,t;try{const s=await ee.get("/tutors/apply/status");return((e=s==null?void 0:s.data)==null?void 0:e.result)||(s==null?void 0:s.data)}catch(s){if(((t=s==null?void 0:s.response)==null?void 0:t.status)===404)return null;throw s}};function nde(){const[e,t]=y.useState(!1),[s,r]=y.useState(!0),[a,i]=y.useState(null),[o,l]=y.useState(null),{toast:c}=jt(),u=async()=>{var d,f;r(!0),l(null);try{const m=await tde();i(m)}catch(m){const p=((f=(d=m==null?void 0:m.response)==null?void 0:d.data)==null?void 0:f.message)||(m==null?void 0:m.message)||"Failed to load application status. Please try again.";l(p),c({title:"Error",description:p,variant:"destructive"})}finally{r(!1)}};y.useEffect(()=>{u()},[]);const h=async d=>{var f,m;t(!0);try{await ede(d),c({title:"Success!",description:"Your application has been submitted successfully. We will review it and get back to you soon.",variant:"default"}),await u()}catch(p){const g=((m=(f=p==null?void 0:p.response)==null?void 0:f.data)==null?void 0:m.message)||(p==null?void 0:p.message)||"Failed to submit application. Please try again.";c({title:"Error",description:g,variant:"destructive"})}finally{t(!1)}};return s?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx(et,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}):o&&!a?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:n.jsxs("div",{className:"max-w-md p-6 text-center",children:[n.jsx("p",{className:"text-sm text-destructive mb-4",children:o}),n.jsx("button",{onClick:u,className:"text-sm text-primary hover:underline",children:"Try again"})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12",children:a?n.jsx(Jue,{data:a}):n.jsx(Vue,{onSubmit:h,isSubmitting:e})})}const Ms=y.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:fe("w-full caption-bottom text-sm",e),...t})}));Ms.displayName="Table";const Ls=y.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:fe("[&_tr]:border-b",e),...t}));Ls.displayName="TableHeader";const Fs=y.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:fe("[&_tr:last-child]:border-0",e),...t}));Fs.displayName="TableBody";const sde=y.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));sde.displayName="TableFooter";const Mt=y.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Mt.displayName="TableRow";const Ae=y.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ae.displayName="TableHead";const Ee=y.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ee.displayName="TableCell";const rde=y.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:fe("mt-4 text-sm text-muted-foreground",e),...t}));rde.displayName="TableCaption";function ade({applications:e,onViewDetails:t}){const s=r=>{const a={pending:"bg-orange-100 text-orange-800 border-orange-200",approved:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"},i={pending:"Ch duyt",approved:" duyt",rejected:"T chi"};return n.jsx(Pe,{className:`${a[r]} font-semibold`,children:i[r]})};return n.jsx("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 overflow-hidden",children:n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{className:"bg-gradient-to-r from-indigo-50 to-blue-50 hover:from-indigo-50 hover:to-blue-50",children:[n.jsx(Ae,{className:"w-[60px] text-center font-bold text-indigo-900",children:"STT"}),n.jsx(Ae,{className:"font-bold text-indigo-900",children:"Tn ngi ng k"}),n.jsx(Ae,{className:"font-bold text-indigo-900",children:"Ngn ng ging dy"}),n.jsx(Ae,{className:"font-bold text-indigo-900",children:"Chuyn mn"}),n.jsx(Ae,{className:"text-center font-bold text-indigo-900",children:"Trng thi"}),n.jsx(Ae,{className:"text-center font-bold text-indigo-900",children:"Ngy ng k"}),n.jsx(Ae,{className:"text-center font-bold text-indigo-900 w-[120px]",children:"Hnh ng"})]})}),n.jsx(Fs,{children:e.map((r,a)=>n.jsxs(Mt,{className:"hover:bg-blue-50 transition-colors",children:[n.jsx(Ee,{className:"text-center font-bold text-indigo-600",children:a+1}),n.jsx(Ee,{className:"font-semibold text-gray-900",children:r.applicantName}),n.jsx(Ee,{children:n.jsx("div",{className:"flex flex-wrap gap-1",children:r.teachingLanguages.map((i,o)=>n.jsx(Pe,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:i},o))})}),n.jsx(Ee,{className:"text-gray-700",children:r.specialization}),n.jsx(Ee,{className:"text-center",children:s(r.status)}),n.jsx(Ee,{className:"text-center text-gray-600",children:new Date(r.appliedDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),n.jsx(Ee,{className:"text-center",children:n.jsxs(H,{onClick:()=>t(r),size:"sm",className:"bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-semibold",children:[n.jsx(gs,{className:"w-4 h-4 mr-1"}),"Xem"]})})]},r.id))})]})})}const ide=e=>{var t,s;return{id:((t=e.verificationId)==null?void 0:t.toString())||"",verificationId:e.verificationId,tutorId:e.tutorId,userId:e.userId,applicantName:e.userName||"",applicantEmail:e.userEmail||"",avatarURL:e.avatarURL||"",country:e.country||"",userPhone:e.userPhone||"",teachingLanguages:e.teachingLanguage?e.teachingLanguage.split(",").map(r=>r.trim()):[],specialization:e.specialization||"",pricePerHour:e.pricePerHour||0,experience:e.experience||0,bio:e.bio||"",certificateName:"",certificateUrl:"",status:((s=e.status)==null?void 0:s.toLowerCase())||"pending",appliedDate:e.submittedAt||new Date().toISOString(),reviewedBy:e.reviewedBy||"",reviewedAt:e.reviewedAt||"",reasonForReject:e.reasonForReject||""}},ode=(e,t,s,r)=>{let a=[...e];if(r!=null&&r.search){const u=r.search.toLowerCase();a=a.filter(h=>h.applicantName.toLowerCase().includes(u)||h.applicantEmail.toLowerCase().includes(u)||h.specialization.toLowerCase().includes(u))}r!=null&&r.status&&r.status!==""&&(a=a.filter(u=>u.status===r.status));const i=a.length,o=Math.ceil(i/s),l=(t-1)*s;return{data:a.slice(l,l+s),total:i,page:t,limit:s,totalPages:o}},Em={getAllApplications:async(e=1,t=10,s)=>{var r,a,i;try{const o=await ee.get("/admin/tutors/applications");let l=((r=o==null?void 0:o.data)==null?void 0:r.result)||(o==null?void 0:o.data)||[];Array.isArray(l)||(l=[]);const c=l.map(ide);return ode(c,e,t,s)}catch(o){throw new Error(((i=(a=o==null?void 0:o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"Failed to fetch tutor applications")}},getApplicationById:async e=>{var t,s,r,a,i,o;try{const l=await ee.get(`/admin/tutors/applications/${e}`),c=((t=l==null?void 0:l.data)==null?void 0:t.result)||(l==null?void 0:l.data),u=(s=c.certificates)==null?void 0:s[0];return{id:((r=c.verificationId)==null?void 0:r.toString())||e,verificationId:c.verificationId,tutorId:c.tutorId,userId:c.userId,applicantName:c.userName||"",applicantEmail:c.userEmail||"",userPhone:c.userPhone||"",teachingLanguages:c.teachingLanguage?c.teachingLanguage.split(",").map(h=>h.trim()):[],specialization:c.specialization||"",experience:c.experience||0,bio:c.bio||"",certificates:c.certificates||[],certificateName:(u==null?void 0:u.certificateName)||"",certificateUrl:(u==null?void 0:u.documentUrl)||"",status:((a=c.status)==null?void 0:a.toLowerCase())||"pending",appliedDate:c.submittedAt||new Date().toISOString(),reviewedBy:c.reviewedBy||"",reviewedAt:c.reviewedAt||"",reasonForReject:c.reasonForReject||""}}catch(l){throw new Error(((o=(i=l==null?void 0:l.response)==null?void 0:i.data)==null?void 0:o.message)||l.message||"Failed to fetch application details")}},approveApplication:async(e,t)=>{var s,r,a;try{const i=await ee.post(`/admin/tutors/applications/${e}/approve`);return{success:!0,message:"Application approved successfully",data:((s=i==null?void 0:i.data)==null?void 0:s.result)||(i==null?void 0:i.data)}}catch(i){throw new Error(((a=(r=i==null?void 0:i.response)==null?void 0:r.data)==null?void 0:a.message)||i.message||"Failed to approve application")}},rejectApplication:async(e,t)=>{var s,r,a;try{const i=await ee.post(`/admin/tutors/applications/${e}/reject`,{reason:t});return{success:!0,message:"Application rejected successfully",data:((s=i==null?void 0:i.data)==null?void 0:s.result)||(i==null?void 0:i.data)}}catch(i){throw new Error(((a=(r=i==null?void 0:i.response)==null?void 0:r.data)==null?void 0:a.message)||i.message||"Failed to reject application")}}};function lde(){const e=Qe(),[t,s]=y.useState(""),[r,a]=y.useState(""),{data:i,isLoading:o,error:l}=ag({queryKey:["tutor-applications",t,r],queryFn:()=>Em.getAllApplications(1,100,{search:t,status:r})}),c=(i==null?void 0:i.data)||[],u=c.filter(p=>p.status==="pending").length,h=c.filter(p=>p.status==="approved").length;c.filter(p=>p.status==="rejected").length;const d=c.length,f=p=>{e(Ih.adminTutorApprovalDetail(p.id))},m=[{id:"search",type:"search",placeholder:"Tm theo tn hoc ngn ng...",value:t,onChange:s},{id:"status",type:"select",placeholder:"Trng thi",value:r||"all",onChange:p=>a(p==="all"?"":p),options:[{value:"all",label:"Tt c trng thi"},{value:"pending",label:"Ch duyt"},{value:"approved",label:" duyt"},{value:"rejected",label:"T chi"}]}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(es,{title:"Qun l n ng k ging vin",description:"Xem xt v ph duyt n ng k tr thnh ging vin",icon:en,gradientFrom:"from-purple-600",gradientVia:"via-purple-600",gradientTo:"to-purple-500",statistics:[{label:"Tng n",value:d},{label:"Ch duyt",value:u},{label:" duyt",value:h}]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:n.jsx(Ca,{filters:m})}),o?n.jsx("div",{className:"flex justify-center items-center py-24",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full mb-4",children:n.jsx(et,{className:"w-8 h-8 animate-spin text-purple-600"})}),n.jsx("p",{className:"text-gray-700 font-semibold text-lg",children:"ang ti n ng k..."}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Vui lng i trong khi chng ti ti d liu"})]})}):l?n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-red-100 p-16 text-center hover:shadow-lg transition-all",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-100 via-red-100 to-red-100 rounded-full flex items-center justify-center",children:n.jsx(at,{className:"w-12 h-12 text-red-500"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Li ti n ng k"}),n.jsx("p",{className:"text-gray-600 text-lg",children:l.message})]}):c.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-16 text-center hover:shadow-lg transition-all",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-100 via-indigo-100 to-purple-100 rounded-full flex items-center justify-center",children:n.jsx(jn,{className:"w-12 h-12 text-purple-500"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Khng tm thy n ng k"}),n.jsx("p",{className:"text-gray-600 text-lg",children:t||r?"Th iu chnh tiu ch tm kim hoc b lc":"Tt c n ng k  c xem xt!"})]}):n.jsx(ade,{applications:c,onViewDetails:f})]})]})}function cde(){const{id:e}=wr(),t=Qe(),s=Dw(),[r,a]=y.useState(""),[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,h]=y.useState(null),{data:d,isLoading:f,error:m}=ag({queryKey:["tutor-application",e],queryFn:()=>Em.getApplicationById(e),enabled:!!e}),p=d2({mutationFn:()=>Em.approveApplication(e),onSuccess:()=>{s.invalidateQueries({queryKey:["tutor-applications"]}),s.invalidateQueries({queryKey:["tutor-application",e]}),c("  ph duyt n ng k thnh cng!"),setTimeout(()=>{t(se.ADMIN_TUTOR_APPROVAL)},2e3)},onError:N=>{h(N.message||"Khng th ph duyt n ng k"),setTimeout(()=>h(null),4e3)}}),g=d2({mutationFn:N=>Em.rejectApplication(e,N),onSuccess:()=>{s.invalidateQueries({queryKey:["tutor-applications"]}),s.invalidateQueries({queryKey:["tutor-application",e]}),c("  t chi n ng k thnh cng!"),setTimeout(()=>{t(se.ADMIN_TUTOR_APPROVAL)},2e3)},onError:N=>{h(N.message||"Khng th t chi n ng k"),setTimeout(()=>h(null),4e3)}}),b=()=>{window.confirm("Bn c chc chn mun ph duyt n ng k ny?")&&p.mutate()},v=()=>{if(!r.trim()){h("Vui lng nhp l do t chi"),setTimeout(()=>h(null),3e3);return}window.confirm("Bn c chc chn mun t chi n ng k ny?")&&g.mutate(r)},x=N=>{const k={pending:"bg-yellow-100 text-yellow-800 border-yellow-300",approved:"bg-green-100 text-green-800 border-green-300",rejected:"bg-red-100 text-red-800 border-red-300"},S={pending:"ang ch",approved:" duyt",rejected:"T chi"};return n.jsx(Pe,{className:`${k[N]} text-sm px-3 py-1 border`,children:S[N]})},w=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(f)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-indigo-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-12 h-12 animate-spin text-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-700 font-semibold",children:"ang ti thng tin n ng k..."})]})});if(m||!d)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-indigo-50 flex items-center justify-center",children:n.jsx(ye,{className:"max-w-md",children:n.jsx(De,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx(at,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Li ti n ng k"}),n.jsx("p",{className:"text-gray-600 mb-4",children:(m==null?void 0:m.message)||"Khng tm thy n ng k"}),n.jsxs(H,{onClick:()=>t(se.ADMIN_TUTOR_APPROVAL),children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li danh sch"]})]})})})});const j=p.isPending||g.isPending;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-indigo-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-600 to-purple-500 text-white py-8 px-4 shadow-xl",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs(H,{variant:"ghost",onClick:()=>t(se.ADMIN_TUTOR_APPROVAL),className:"text-white hover:bg-white/20 mb-4",children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li danh sch"]}),n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Chi tit n ng k"}),n.jsx("p",{className:"text-purple-100 text-lg",children:"Xem xt thng tin ng k lm gia s"})]}),x(d.status)]})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l&&n.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-300 rounded-lg flex items-start gap-3 animate-in fade-in slide-in-from-top shadow-md",children:[n.jsx(kt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-green-800 font-semibold",children:l})]}),u&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3 justify-between animate-in fade-in slide-in-from-top shadow-sm",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx(at,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-red-800 font-medium",children:u})]}),n.jsx("button",{onClick:()=>h(null),className:"flex-shrink-0 text-red-600 hover:text-red-800",children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ye,{className:"shadow-lg border-purple-100",children:[n.jsx(Je,{className:"bg-gradient-to-r from-purple-50 to-indigo-50",children:n.jsxs(yt,{className:"flex items-center text-purple-900",children:[n.jsx(Pt,{className:"w-5 h-5 mr-2"}),"Thng tin ngi ng k"]})}),n.jsx(De,{className:"pt-6 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"H v tn"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:d.applicantName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Gr,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Email"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:d.applicantEmail})]}),d.userPhone&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Il,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"S in thoi"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:d.userPhone})]}),d.country&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(_u,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Quc gia"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:d.country})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(ft,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Ngy ng k"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:w(d.appliedDate)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(qz,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Kinh nghim"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[d.experience," nm"]})]}),d.pricePerHour&&d.pricePerHour>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx($n,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Gi mi gi"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",d.pricePerHour]})]})]})})]}),n.jsxs(ye,{className:"shadow-lg border-purple-100",children:[n.jsx(Je,{className:"bg-gradient-to-r from-purple-50 to-indigo-50",children:n.jsxs(yt,{className:"flex items-center text-purple-900",children:[n.jsx(Un,{className:"w-5 h-5 mr-2"}),"Thng tin ging dy"]})}),n.jsxs(De,{className:"pt-6 space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{className:"text-sm text-gray-600 flex items-center",children:[n.jsx(Un,{className:"h-4 w-4 mr-2"}),"Ngn ng ging dy"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:d.teachingLanguages.map((N,k)=>n.jsx(Pe,{variant:"outline",className:"text-sm px-3 py-1 bg-purple-50 text-purple-700 border-purple-200",children:N},k))})]}),n.jsx(Yo,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{className:"text-sm text-gray-600 flex items-center",children:[n.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Chuyn mn"]}),n.jsx("p",{className:"text-base text-gray-900 font-medium",children:d.specialization})]}),n.jsx(Yo,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{className:"text-sm text-gray-600 flex items-center",children:[n.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Gii thiu"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:n.jsx("p",{className:"text-base text-gray-700 leading-relaxed whitespace-pre-wrap",children:d.bio})})]})]})]}),d.certificates&&d.certificates.length>0&&n.jsxs(ye,{className:"shadow-lg border-purple-100",children:[n.jsx(Je,{className:"bg-gradient-to-r from-purple-50 to-indigo-50",children:n.jsxs(yt,{className:"flex items-center text-purple-900",children:[n.jsx(Ss,{className:"w-5 h-5 mr-2"}),"Chng ch"]})}),n.jsx(De,{className:"pt-6",children:n.jsx("div",{className:"space-y-4",children:d.certificates.map((N,k)=>n.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-purple-300 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:N.certificateName}),n.jsxs("a",{href:N.documentUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium transition-colors text-sm",children:["Xem chng ch",n.jsx(Ol,{className:"h-4 w-4 ml-1"})]})]}),n.jsxs(Pe,{variant:"outline",className:"ml-4",children:["#",k+1]})]})},N.certificateId))})})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"sticky top-4 space-y-6",children:[d.status==="pending"&&n.jsxs(ye,{className:"shadow-lg border-purple-200",children:[n.jsx(Je,{className:"bg-gradient-to-r from-purple-600 to-purple-500 text-white",children:n.jsx(yt,{className:"text-lg",children:"Hnh ng xt duyt"})}),n.jsx(De,{className:"pt-6 space-y-4",children:i?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{htmlFor:"rejectionReason",className:"text-red-700 font-semibold",children:"L do t chi *"}),n.jsx(It,{id:"rejectionReason",placeholder:"Vui lng nhp l do t chi chi tit...",rows:6,value:r,onChange:N=>a(N.target.value),className:"resize-none border-red-300 focus:border-red-500 focus:ring-red-500",disabled:j}),n.jsx("p",{className:"text-xs text-gray-600",children:"L do ny s c gi cho ngi ng k"})]}),n.jsx(H,{onClick:v,disabled:j||!r.trim(),variant:"destructive",className:"w-full font-semibold py-6",children:g.isPending?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-5 h-5 mr-2 animate-spin"}),"ang t chi..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"w-5 h-5 mr-2"}),"Xc nhn t chi"]})}),n.jsx(H,{onClick:()=>{o(!1),a("")},disabled:j,variant:"outline",className:"w-full",children:"Hy"})]}):n.jsxs(n.Fragment,{children:[n.jsx(H,{onClick:b,disabled:j,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-6 text-lg",children:p.isPending?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-5 h-5 mr-2 animate-spin"}),"ang ph duyt..."]}):n.jsxs(n.Fragment,{children:[n.jsx(kt,{className:"w-5 h-5 mr-2"}),"Ph duyt n ng k"]})}),n.jsxs(H,{onClick:()=>o(!0),disabled:j,variant:"destructive",className:"w-full font-semibold py-6 text-lg",children:[n.jsx(Lt,{className:"w-5 h-5 mr-2"}),"T chi n ng k"]})]})})]}),d.status!=="pending"&&n.jsxs(ye,{className:"shadow-xl border-0 overflow-hidden",children:[n.jsx(Je,{className:`${d.status==="approved"?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-red-500 to-rose-500"} text-white py-6`,children:n.jsx(yt,{className:"text-xl font-bold text-center",children:"Trng thi n ng k"})}),n.jsx(De,{className:"pt-8 pb-8 px-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:`${d.status==="approved"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} rounded-xl p-6 border-2`,children:[d.reviewedAt&&n.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[n.jsx(ft,{className:"w-5 h-5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:d.status==="approved"?"Ph duyt vo":"Xt duyt vo"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:w(d.reviewedAt)})]})]}),d.status==="approved"&&d.reviewedBy&&n.jsxs("div",{className:"flex items-center gap-3 text-gray-700 mt-4 pt-4 border-t border-green-200",children:[n.jsx(Pt,{className:"w-5 h-5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ngi ph duyt"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:d.reviewedBy})]})]})]}),d.status==="rejected"&&d.reasonForReject&&n.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 border-2 border-red-300 rounded-xl p-6 shadow-md",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx(at,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-base font-bold text-red-800",children:"L do t chi:"})]}),n.jsx("p",{className:"text-sm text-red-900 leading-relaxed whitespace-pre-wrap",children:d.reasonForReject})]})]})})]})]})})]})]})]})}var a6={exports:{}},i6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=y;function ude(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dde=typeof Object.is=="function"?Object.is:ude,hde=mu.useState,fde=mu.useEffect,mde=mu.useLayoutEffect,pde=mu.useDebugValue;function gde(e,t){var s=t(),r=hde({inst:{value:s,getSnapshot:t}}),a=r[0].inst,i=r[1];return mde(function(){a.value=s,a.getSnapshot=t,B0(a)&&i({inst:a})},[e,s,t]),fde(function(){return B0(a)&&i({inst:a}),e(function(){B0(a)&&i({inst:a})})},[e]),pde(s),s}function B0(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!dde(e,s)}catch{return!0}}function xde(e,t){return t()}var yde=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xde:gde;i6.useSyncExternalStore=mu.useSyncExternalStore!==void 0?mu.useSyncExternalStore:yde;a6.exports=i6;var vde=a6.exports;function bde(){return vde.useSyncExternalStore(wde,()=>!0,()=>!1)}function wde(){return()=>{}}var kN="Avatar",[jde]=Jn(kN),[Nde,o6]=jde(kN),l6=y.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[a,i]=y.useState("idle");return n.jsx(Nde,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(qe.span,{...r,ref:t})})});l6.displayName=kN;var c6="AvatarImage",u6=y.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=o6(c6,s),l=kde(r,i),c=xs(u=>{a(u),o.onImageLoadingStatusChange(u)});return _n(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(qe.img,{...i,ref:t,src:r}):null});u6.displayName=c6;var d6="AvatarFallback",h6=y.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...a}=e,i=o6(d6,s),[o,l]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(qe.span,{...a,ref:t}):null});h6.displayName=d6;function HC(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function kde(e,{referrerPolicy:t,crossOrigin:s}){const r=bde(),a=y.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=y.useState(()=>HC(i,e));return _n(()=>{l(HC(i,e))},[i,e]),_n(()=>{const c=d=>()=>{l(d)};if(!i)return;const u=c("loaded"),h=c("error");return i.addEventListener("load",u),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,s,t]),o}var f6=l6,m6=u6,p6=h6;const hi=y.forwardRef(({className:e,...t},s)=>n.jsx(f6,{ref:s,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));hi.displayName=f6.displayName;const ko=y.forwardRef(({className:e,...t},s)=>n.jsx(m6,{ref:s,className:fe("aspect-square h-full w-full",e),...t}));ko.displayName=m6.displayName;const fi=y.forwardRef(({className:e,...t},s)=>n.jsx(p6,{ref:s,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));fi.displayName=p6.displayName;const g6={getUsers:async()=>{var e,t,s,r,a;try{const i=await ee.get("/users");if(((e=i==null?void 0:i.data)==null?void 0:e.code)!==0)throw new Error(((t=i==null?void 0:i.data)==null?void 0:t.message)||"Failed to fetch users");const o=((s=i==null?void 0:i.data)==null?void 0:s.result)||[];if(!Array.isArray(o))throw new Error("Invalid response format: expected array of users");return o.map(c=>({userID:c.userID||0,username:c.username||"",email:c.email||"",fullName:c.fullName||"",avatarURL:c.avatarURL||"",gender:c.gender||"",dob:c.dob||"",phone:c.phone||"",country:c.country||"",address:c.address||"",bio:c.bio||"",isActive:!!c.isActive,role:c.role||"",createdAt:c.createdAt||new Date().toISOString(),updatedAt:c.updatedAt||new Date().toISOString()}))}catch(i){throw new Error(((a=(r=i==null?void 0:i.response)==null?void 0:r.data)==null?void 0:a.message)||i.message||"Failed to fetch users")}},deleteUser:async e=>{var t,s,r,a,i,o,l,c;try{const u=await ee.delete(`/users/${e}`);if(u.status===204)return;if(u.status===200){if(((t=u==null?void 0:u.data)==null?void 0:t.code)===0||!((s=u==null?void 0:u.data)!=null&&s.code))return;if(((r=u==null?void 0:u.data)==null?void 0:r.code)!==0)throw new Error(((a=u==null?void 0:u.data)==null?void 0:a.message)||"Failed to deactivate user")}}catch(u){if(((i=u.response)==null?void 0:i.status)===200||((o=u.response)==null?void 0:o.status)===204)return;throw new Error(((c=(l=u==null?void 0:u.response)==null?void 0:l.data)==null?void 0:c.message)||u.message||"Failed to deactivate user")}}},Sde=()=>{const[e,t]=y.useState(!1),[s,r]=y.useState(null),a=y.useCallback(async(o,l,c,u)=>{t(!0),r(null),console.log(" useDeleteUser: Starting deletion for user:",o),l&&(l(o),console.log(" useDeleteUser: Optimistic update applied"));try{await g6.deleteUser(o),console.log(" useDeleteUser: User deleted successfully")}catch(h){const d=h.message||"Failed to deactivate user";throw r(d),console.error(" useDeleteUser: Error deactivating user:",d),c&&u&&(c(u),console.log(" useDeleteUser: Rollback applied")),h}finally{t(!1)}},[]),i=y.useCallback(()=>{r(null)},[]);return{isDeleting:e,error:s,deleteUser:a,clearError:i}},Cde=({isOpen:e,onClose:t,user:s,onRefresh:r})=>{const{deleteUser:a,isDeleting:i,error:o,clearError:l}=Sde(),{toast:c}=jt(),u=(m,p)=>{if(m&&m.trim()){const g=m.trim().split(" ");return g.length>=2?`${g[0][0]}${g[g.length-1][0]}`.toUpperCase():m[0].toUpperCase()}return p?p[0].toUpperCase():"U"},h=m=>{try{return new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"N/A"}},d=async()=>{try{l(),await a(s.userID),c({title:"Dng hot ng thnh cng",description:`${s.fullName||s.username}  b dng hot ng.`}),t(),r&&r()}catch(m){const p=(m==null?void 0:m.message)||o||" xy ra li khng mong mun. Vui lng th li.";c({title:"Dng hot ng tht bi",description:p,variant:"destructive"})}},f=()=>{i||(l(),t())};return n.jsx(ht,{open:e,onOpenChange:f,children:n.jsxs(lt,{className:"sm:max-w-[500px]","aria-describedby":"delete-description",children:[n.jsxs(ct,{children:[n.jsxs(ut,{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(ro,{className:"w-5 h-5","aria-hidden":"true"}),"Xc nhn dng hot ng"]}),n.jsx(Zn,{id:"delete-description",children:"Bn c chc chn mun dng hot ng ca ngi dng ny? Ngi dng s khng th ng nhp vo h thng."})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 my-4",role:"region","aria-label":"User information",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[n.jsxs(hi,{className:"h-16 w-16 mx-auto sm:mx-0",children:[n.jsx(ko,{src:s.avatarURL,alt:`${s.fullName||s.username}'s avatar`}),n.jsx(fi,{className:"bg-indigo-100 text-indigo-700 font-semibold text-lg",children:u(s.fullName,s.username)})]}),n.jsxs("div",{className:"flex-1 space-y-2 text-center sm:text-left",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:s.fullName||"N/A"}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-1",children:[n.jsx(Pt,{className:"w-4 h-4","aria-hidden":"true"}),n.jsx("span",{children:s.username})]}),n.jsx("span",{className:"hidden sm:inline text-gray-400",children:""}),n.jsxs("span",{children:["ID: ",s.userID]})]})]}),n.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-sm text-gray-600",children:[n.jsx(Gr,{className:"w-4 h-4","aria-hidden":"true"}),n.jsx("span",{className:"truncate max-w-[200px] sm:max-w-none",children:s.email||"N/A"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-2 sm:gap-3",children:[n.jsx(Pe,{variant:s.isActive?"default":"secondary",className:s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","aria-label":`Trng thi ngi dng: ${s.isActive?"Hot ng":"Khng hot ng"}`,children:s.isActive?"Hot ng":"Khng hot ng"}),n.jsx(Pe,{variant:"outline",children:s.role||"User"})]}),n.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-xs text-gray-500",children:[n.jsx(ft,{className:"w-3 h-3","aria-hidden":"true"}),n.jsxs("span",{children:["To: ",h(s.createdAt)]})]})]})]})}),o&&n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-orange-800 text-sm font-medium mb-1",children:"Dng hot ng tht bi"}),n.jsx("p",{className:"text-orange-700 text-sm",children:o})]}),n.jsx(H,{variant:"outline",size:"sm",onClick:d,disabled:i,className:"ml-3 text-orange-600 border-orange-300 hover:bg-orange-50",children:"Th li"})]})}),n.jsxs(Nt,{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-0",children:[n.jsx(H,{variant:"outline",onClick:f,disabled:i,className:"w-full sm:w-auto","aria-label":"Hy",children:"Hy"}),n.jsx(H,{onClick:d,disabled:i,className:"min-w-[100px] w-full sm:w-auto bg-orange-600 hover:bg-orange-700 text-white","aria-label":i?"ang x l, vui lng i":`Dng hot ng ${s.fullName||s.username}`,children:i?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),"ang x l..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_5,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Dng hot ng"]})})]})]})})},Tde=({user:e,onRefresh:t})=>{const[s,r]=y.useState(!1),a=i=>{try{return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"N/A"}};return n.jsxs(n.Fragment,{children:[n.jsxs(Mt,{className:"hover:bg-gray-50 focus-within:bg-gray-50",children:[n.jsx(Ee,{className:"text-center",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.userID})}),n.jsx(Ee,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-semibold text-gray-900",children:e.fullName||"N/A"}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:[n.jsx(Pt,{className:"w-3 h-3","aria-hidden":"true"}),n.jsx("span",{children:e.username})]})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[n.jsx(Gr,{className:"w-3 h-3","aria-hidden":"true"}),n.jsx("span",{className:"truncate max-w-[150px]",title:e.email,children:e.email||"N/A"})]}),e.phone&&n.jsxs("div",{className:"text-xs text-gray-600 flex items-center gap-1",children:[n.jsx(Il,{className:"w-3 h-3","aria-hidden":"true"}),n.jsx("span",{children:e.phone})]})]})}),n.jsx(Ee,{children:n.jsx(Pe,{variant:e.isActive?"default":"secondary",className:e.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":`Trng thi ngi dng: ${e.isActive?"Hot ng":"Khng hot ng"}`,children:e.isActive?"Hot ng":"Khng hot ng"})}),n.jsx(Ee,{children:n.jsx(Pe,{variant:"outline",className:"font-medium",children:e.role||"User"})}),n.jsx(Ee,{children:n.jsxs("div",{className:"text-sm text-gray-700 flex items-center gap-1",children:[n.jsx(ft,{className:"w-4 h-4 text-gray-500","aria-hidden":"true"}),n.jsx("span",{children:a(e.createdAt)})]})}),n.jsx(Ee,{children:n.jsx("div",{className:"flex justify-center",children:n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"text-orange-600 border-orange-200 hover:bg-orange-50 hover:border-orange-300 focus:ring-2 focus:ring-orange-500 focus:ring-offset-2","aria-label":`Dng hot ng ${e.fullName||e.username}`,title:"Dng hot ng",children:[n.jsx(_5,{className:"w-4 h-4","aria-hidden":"true"}),n.jsx("span",{className:"sr-only",children:"Dng hot ng"})]})})})]}),n.jsx(Cde,{isOpen:s,onClose:()=>r(!1),user:e,onRefresh:t})]})},Ede=({users:e,onRefresh:t,onRemoveUser:s,onAddUser:r,isRefreshing:a=!1})=>n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 hover:shadow-lg transition-all",children:[n.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Danh sch ngi dng"}),n.jsxs("p",{className:"text-gray-600 text-sm mt-1","aria-live":"polite",children:["Hin th ",e.length," ngi dng"]})]}),n.jsxs(H,{onClick:t,disabled:a,variant:"outline",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 hover:border-indigo-300 font-semibold disabled:opacity-50 w-full sm:w-auto","aria-label":a?"ang lm mi danh sch ngi dng":"Lm mi danh sch ngi dng",children:[n.jsx(oo,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`,"aria-hidden":"true"}),a?"ang lm mi...":"Lm mi"]})]})}),n.jsx("div",{className:"overflow-x-auto",role:"region","aria-label":"Users table",tabIndex:0,children:n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{className:"hover:bg-transparent",children:[n.jsx(Ae,{className:"w-16 text-center",scope:"col",children:"ID"}),n.jsx(Ae,{className:"min-w-[180px]",scope:"col",children:"Thng tin ngi dng"}),n.jsx(Ae,{className:"min-w-[180px]",scope:"col",children:"Lin h"}),n.jsx(Ae,{className:"min-w-[100px]",scope:"col",children:"Trng thi"}),n.jsx(Ae,{className:"min-w-[100px]",scope:"col",children:"Vai tr"}),n.jsx(Ae,{className:"min-w-[120px]",scope:"col",children:"Ngy to"}),n.jsx(Ae,{className:"w-[120px] text-center",scope:"col",children:"Hnh ng"})]})}),n.jsx(Fs,{children:e.map(i=>n.jsx(Tde,{user:i,onRefresh:t},i.userID))})]})})]}),_de=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,i]=y.useState(null),{toast:o}=jt(),l=y.useCallback(async()=>{try{r(!0),i(null);const f=await g6.getUsers();t(f)}catch(f){const m=f.message||"Failed to load users";i(m),s||o({title:"Failed to refresh users",description:m,variant:"destructive"})}finally{r(!1)}},[]),c=y.useCallback(()=>{l()},[l]),u=y.useCallback(f=>{t(f)},[]),h=y.useCallback(f=>{t(m=>m.filter(p=>p.userID!==f))},[]),d=y.useCallback(f=>{t(m=>[...m,f])},[]);return y.useEffect(()=>{l()},[l]),{users:e,loading:s,error:a,refresh:c,updateUsers:u,removeUser:h,addUser:d}};function Ade(){const{users:e,loading:t,error:s,refresh:r,removeUser:a,addUser:i}=_de(),[o,l]=re.useState(!1),[c,u]=re.useState(""),[h,d]=re.useState("all"),[f,m]=re.useState("all"),[p,g]=re.useState("all"),b=re.useMemo(()=>{let x=e.filter(w=>{var j,N,k;if(c){const S=c.toLowerCase();if(!(((j=w.fullName)==null?void 0:j.toLowerCase().includes(S))||((N=w.username)==null?void 0:N.toLowerCase().includes(S))||((k=w.email)==null?void 0:k.toLowerCase().includes(S))))return!1}if(h&&h!=="all"){const S=h==="active";if(w.isActive!==S)return!1}return!(f&&f!=="all"&&w.role!==f)});return p&&p!=="all"&&(x=[...x].sort((w,j)=>{const N=new Date(w.createdAt).getTime(),k=new Date(j.createdAt).getTime();switch(p){case"newest":return k-N;case"oldest":return N-k;default:return 0}})),x},[e,c,h,f,p]);b.filter(x=>x.isActive).length,b.length;const v=async()=>{l(!0);try{await r()}finally{l(!1)}};try{return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-indigo-50",children:[n.jsx(es,{title:"Qun l ngi dng",description:"Qun l v gim st tt c ngi dng trong h thng",icon:en,gradientFrom:"from-purple-600",gradientVia:"via-purple-600",gradientTo:"to-purple-500",statistics:[{label:"Tng ngi dng",value:e.length,ariaLabel:`${e.length} tng ngi dng`},{label:"Ngi dng hot ng",value:e.filter(x=>x.isActive).length,ariaLabel:`${e.filter(x=>x.isActive).length} ngi dng hot ng`}]}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:py-8",children:t?n.jsx("div",{className:"flex justify-center items-center py-16 sm:py-24",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full mb-4",children:n.jsx(et,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-spin text-purple-600","aria-hidden":"true"})}),n.jsx("p",{className:"text-gray-700 font-semibold text-base sm:text-lg",children:"ang ti ngi dng..."}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Vui lng i trong khi chng ti ti d liu ngi dng"})]})}):s?n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-red-100 p-8 sm:p-16 text-center hover:shadow-lg transition-all",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-br from-red-100 via-red-100 to-red-100 rounded-full flex items-center justify-center",children:n.jsx(at,{className:"w-8 h-8 sm:w-12 sm:h-12 text-red-500","aria-hidden":"true"})})}),n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3",children:"Li ti ngi dng"}),n.jsx("p",{className:"text-gray-600 text-base sm:text-lg mb-6",children:s}),n.jsx("button",{onClick:v,disabled:o,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 mx-auto focus:ring-2 focus:ring-purple-500 focus:ring-offset-2","aria-label":o?"ang th li ti ngi dng":"Th li ti ngi dng",children:o?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),"ang th li..."]}):"Th li"})]}):e.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-8 sm:p-16 text-center hover:shadow-lg transition-all",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-br from-purple-100 via-indigo-100 to-purple-100 rounded-full flex items-center justify-center",children:n.jsx(wl,{className:"w-8 h-8 sm:w-12 sm:h-12 text-purple-500","aria-hidden":"true"})})}),n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3",children:"Khng tm thy ngi dng"}),n.jsx("p",{className:"text-gray-600 text-base sm:text-lg",children:"Hin ti khng c ngi dng no trong h thng."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-6 mb-6 hover:shadow-lg transition-all",children:n.jsx(Ca,{filters:[{id:"search",type:"search",placeholder:"Tm theo tn, tn ng nhp, email...",value:c,onChange:u,icon:ci},{id:"status",type:"select",placeholder:"Tt c trng thi",value:h,onChange:d,icon:ya,options:[{value:"all",label:"Tt c trng thi"},{value:"active",label:"Hot ng"},{value:"inactive",label:"Khng hot ng"}]},{id:"role",type:"select",placeholder:"Tt c vai tr",value:f,onChange:m,icon:B5,options:[{value:"all",label:"Tt c vai tr"},{value:"Admin",label:"Qun tr vin"},{value:"Tutor",label:"Ging vin"},{value:"Learner",label:"Hc vin"}]},{id:"date",type:"select",placeholder:"Th t mc nh",value:p,onChange:g,icon:ft,options:[{value:"all",label:"Th t mc nh"},{value:"newest",label:"Mi nht trc"},{value:"oldest",label:"C nht trc"}]}]})}),b.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-8 sm:p-16 text-center hover:shadow-lg transition-all",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-br from-purple-100 via-indigo-100 to-purple-100 rounded-full flex items-center justify-center",children:n.jsx(wl,{className:"w-8 h-8 sm:w-12 sm:h-12 text-purple-500","aria-hidden":"true"})})}),n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3",children:"Khng c ngi dng ph hp vi b lc"}),n.jsx("p",{className:"text-gray-600 text-base sm:text-lg",children:"Th iu chnh tiu ch tm kim hoc xa b lc."})]}):n.jsx(Ede,{users:b,onRefresh:v,onRemoveUser:a,onAddUser:i,isRefreshing:o})]})})]})}catch{return n.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(at,{className:"w-8 h-8 text-red-500"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Li Component"}),n.jsx("p",{className:"text-gray-600 mb-4",children:" xy ra li khi hin th trang Qun l ngi dng."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Ti li trang"})]})})}}const z0={getAllWithdrawRequests:async()=>{var e,t,s,r;try{const a=await ee.get("/admin/withdraw/all"),i=((e=a==null?void 0:a.data)==null?void 0:e.result)||(a==null?void 0:a.data)||[];return Array.isArray(i)?i:[]}catch(a){throw((t=a==null?void 0:a.response)==null?void 0:t.status)===403?new Error("You do not have permission to view withdrawal requests"):a!=null&&a.response?new Error(((r=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to fetch withdrawal requests"):new Error("Network error: Unable to connect to server")}},approveWithdrawRequest:async e=>{var t,s,r,a,i;try{return await ee.put(`/admin/withdraw/${e}/approve`),{success:!0,message:"Withdrawal request approved successfully"}}catch(o){throw((t=o==null?void 0:o.response)==null?void 0:t.status)===404?new Error("Withdrawal request not found or already processed"):((s=o==null?void 0:o.response)==null?void 0:s.status)===403?new Error("You do not have permission to approve this withdrawal request"):((r=o==null?void 0:o.response)==null?void 0:r.status)===409?new Error("Withdrawal request has already been processed"):o!=null&&o.response?new Error(((i=(a=o==null?void 0:o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"Failed to approve withdrawal request"):new Error("Network error: Unable to approve withdrawal request")}},rejectWithdrawRequest:async e=>{var t,s,r,a,i;try{return await ee.put(`/admin/withdraw/${e}/reject`),{success:!0,message:"Withdrawal request rejected successfully"}}catch(o){throw((t=o==null?void 0:o.response)==null?void 0:t.status)===404?new Error("Withdrawal request not found or already processed"):((s=o==null?void 0:o.response)==null?void 0:s.status)===403?new Error("You do not have permission to reject this withdrawal request"):((r=o==null?void 0:o.response)==null?void 0:r.status)===409?new Error("Withdrawal request has already been processed"):o!=null&&o.response?new Error(((i=(a=o==null?void 0:o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"Failed to reject withdrawal request"):new Error("Network error: Unable to reject withdrawal request")}}},Dde=e=>{const t={totalRequests:e.length,pendingCount:0,approvedCount:0,rejectedCount:0,totalWithdrawAmount:0,totalCommission:0};return e.forEach(s=>{s.status==="PENDING"?t.pendingCount++:s.status==="APPROVED"?t.approvedCount++:s.status==="REJECTED"&&t.rejectedCount++,t.totalWithdrawAmount+=s.withdrawAmount,t.totalCommission+=s.commission}),t},ki=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),WC=e=>{try{const t=new Date(e);return isNaN(t.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(t)}catch{return"Invalid Date"}},Rde=(e,t)=>t==="all"?e:e.filter(s=>s.status===t),Ode=(e,t)=>{const s=[...e];return s.sort((r,a)=>{const i=new Date(r.createdAt).getTime(),o=new Date(a.createdAt).getTime();return t==="newest"?o-i:i-o}),s};function KC({withdrawId:e,status:t,isProcessing:s,onApprove:r,onReject:a,tutorId:i,withdrawAmount:o,bankName:l}){const[c,u]=y.useState(!1),[h,d]=y.useState(!1);if(t!=="PENDING")return null;const f=()=>{u(!0)},m=()=>{d(!0)},p=async()=>{u(!1),await r(e)},g=async()=>{d(!1),await a(e)},b=v=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(H,{onClick:f,disabled:s,size:"sm",className:"bg-green-600 hover:bg-green-700 gap-1",children:[s?n.jsx(et,{className:"w-3 h-3 animate-spin"}):n.jsx(jn,{className:"w-3 h-3"}),"Duyt"]}),n.jsxs(H,{onClick:m,disabled:s,size:"sm",variant:"destructive",className:"gap-1",children:[s?n.jsx(et,{className:"w-3 h-3 animate-spin"}):n.jsx(Lt,{className:"w-3 h-3"}),"T chi"]})]}),n.jsx(ht,{open:c,onOpenChange:u,children:n.jsxs(lt,{className:"sm:max-w-md",children:[n.jsxs(ct,{children:[n.jsxs(ut,{className:"flex items-center gap-2 text-green-700",children:[n.jsx(jn,{className:"w-5 h-5"}),"Xc nhn duyt yu cu rt tin"]}),n.jsx(Zn,{children:"Bn c chc chn mun ph duyt yu cu rt tin ny khng?"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" M yu cu"}),n.jsxs("p",{className:"font-semibold text-gray-900",children:["#",e]}),i&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" Ging vin"}),n.jsxs("p",{className:"font-semibold text-gray-900",children:["Tutor #",i]})]}),o!==void 0&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" S tin rt"}),n.jsx("p",{className:"font-semibold text-gray-900",children:b(o)})]}),l&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" Ngn hng"}),n.jsx("p",{className:"font-semibold text-gray-900",children:l})]})]}),n.jsxs(Nt,{className:"flex gap-2 sm:gap-2",children:[n.jsx(H,{variant:"outline",onClick:()=>u(!1),disabled:s,className:"flex-1",children:"Hy"}),n.jsxs(H,{onClick:p,disabled:s,className:"flex-1 bg-green-600 hover:bg-green-700 gap-2",children:[s?n.jsx(et,{className:"w-4 h-4 animate-spin"}):n.jsx(jn,{className:"w-4 h-4"}),"Xc nhn duyt"]})]})]})}),n.jsx(ht,{open:h,onOpenChange:d,children:n.jsxs(lt,{className:"sm:max-w-md",children:[n.jsxs(ct,{children:[n.jsxs(ut,{className:"flex items-center gap-2 text-red-700",children:[n.jsx(Lt,{className:"w-5 h-5"}),"Xc nhn t chi yu cu rt tin"]}),n.jsx(Zn,{children:"Bn c chc chn mun t chi yu cu rt tin ny khng?"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 my-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" M yu cu"}),n.jsxs("p",{className:"font-semibold text-gray-900",children:["#",e]}),i&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" Ging vin"}),n.jsxs("p",{className:"font-semibold text-gray-900",children:["Tutor #",i]})]}),o!==void 0&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" S tin rt"}),n.jsx("p",{className:"font-semibold text-gray-900",children:b(o)})]}),l&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:" Ngn hng"}),n.jsx("p",{className:"font-semibold text-gray-900",children:l})]})]}),n.jsxs(Nt,{className:"flex gap-2 sm:gap-2",children:[n.jsx(H,{variant:"outline",onClick:()=>d(!1),disabled:s,className:"flex-1",children:"Hy"}),n.jsxs(H,{onClick:g,disabled:s,variant:"destructive",className:"flex-1 gap-2",children:[s?n.jsx(et,{className:"w-4 h-4 animate-spin"}):n.jsx(Lt,{className:"w-4 h-4"}),"Xc nhn t chi"]})]})]})})]})}function Pde({requests:e,processingIds:t,onApprove:s,onReject:r}){const a=()=>n.jsx("div",{className:"hidden md:block bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{className:"bg-gray-50",children:[n.jsx(Ae,{className:"font-semibold text-gray-700 w-[80px]",children:"M YC"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[80px]",children:"Tutor ID"}),n.jsx(Ae,{className:"font-semibold text-gray-700 text-right w-[120px]",children:"Tng tin"}),n.jsx(Ae,{className:"font-semibold text-gray-700 text-right w-[120px]",children:"S tin rt"}),n.jsx(Ae,{className:"font-semibold text-gray-700 text-right w-[100px]",children:"Hoa hng"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[140px]",children:"S TK"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[120px]",children:"Ngn hng"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[140px]",children:"Ch TK"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[100px]",children:"Trng thi"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[150px]",children:"Ngy to"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[140px] text-center",children:"Thao tc"})]})}),n.jsx(Fs,{children:e.map(o=>n.jsxs(Mt,{className:"hover:bg-gray-50",children:[n.jsx(Ee,{className:"font-medium",children:n.jsxs("div",{className:"font-semibold text-gray-900",children:["#",o.withdrawId]})}),n.jsx(Ee,{className:"text-sm text-gray-600",children:o.tutorId}),n.jsx(Ee,{className:"text-right",children:n.jsx("div",{className:"font-semibold text-gray-900",children:ki(o.totalAmount)})}),n.jsx(Ee,{className:"text-right",children:n.jsx("div",{className:"font-bold text-blue-600",children:ki(o.withdrawAmount)})}),n.jsx(Ee,{className:"text-right",children:n.jsx("div",{className:"font-semibold text-orange-600",children:ki(o.commission)})}),n.jsx(Ee,{className:"text-sm text-gray-600 font-mono",children:o.bankAccountNumber}),n.jsx(Ee,{className:"text-sm text-gray-700 font-medium",children:o.bankName}),n.jsx(Ee,{className:"text-sm text-gray-700",children:o.bankOwnerName}),n.jsx(Ee,{children:n.jsx(Pe,{variant:o.status==="APPROVED"?"default":o.status==="REJECTED"?"destructive":"secondary",className:`${o.status==="PENDING"?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 border-yellow-300":o.status==="APPROVED"?"bg-green-100 text-green-800 hover:bg-green-200 border-green-300":""} font-semibold`,children:o.status})}),n.jsx(Ee,{className:"text-sm text-gray-600",children:WC(o.createdAt)}),n.jsx(Ee,{children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(KC,{withdrawId:o.withdrawId,status:o.status,isProcessing:t.has(o.withdrawId),onApprove:s,onReject:r,tutorId:o.tutorId,withdrawAmount:o.withdrawAmount,bankName:o.bankName})})})]},o.withdrawId))})]})})}),i=()=>n.jsx("div",{className:"md:hidden space-y-4",children:e.map(o=>n.jsx(ye,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 border-gray-200",children:n.jsxs(De,{className:"p-5",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4 pb-3 border-b border-gray-100",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Yu cu #",o.withdrawId]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 flex items-center gap-1",children:[n.jsx(Pt,{className:"w-3 h-3"}),"Tutor ID: ",o.tutorId]})]}),n.jsx(Pe,{variant:o.status==="APPROVED"?"default":o.status==="REJECTED"?"destructive":"secondary",className:`${o.status==="PENDING"?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 border-yellow-300":o.status==="APPROVED"?"bg-green-100 text-green-800 hover:bg-green-200 border-green-300":""} font-semibold shadow-sm ml-2 flex-shrink-0`,children:o.status})]}),n.jsxs("div",{className:"mb-4 space-y-2",children:[n.jsxs("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"S tin rt"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ki(o.withdrawAmount)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 p-2 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Tng tin"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ki(o.totalAmount)})]}),n.jsxs("div",{className:"flex-1 p-2 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Hoa hng"}),n.jsx("p",{className:"text-sm font-semibold text-orange-600",children:ki(o.commission)})]})]})]}),n.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(xj,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),n.jsx("span",{className:"text-gray-500",children:"Ngn hng:"}),n.jsx("span",{className:"font-medium text-gray-900",children:o.bankName})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Hn,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),n.jsx("span",{className:"text-gray-500",children:"S TK:"}),n.jsx("span",{className:"font-mono font-medium text-gray-900",children:o.bankAccountNumber})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Pt,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}),n.jsx("span",{className:"text-gray-500",children:"Ch TK:"}),n.jsx("span",{className:"font-medium text-gray-900",children:o.bankOwnerName})]})]}),n.jsxs("div",{className:"mb-4 flex items-center gap-2 text-xs text-gray-600",children:[n.jsx(ft,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-gray-500",children:"Ngy to:"}),n.jsx("span",{className:"font-medium",children:WC(o.createdAt)})]}),o.status==="PENDING"&&n.jsx("div",{className:"pt-3 border-t border-gray-100",children:n.jsx(KC,{withdrawId:o.withdrawId,status:o.status,isProcessing:t.has(o.withdrawId),onApprove:s,onReject:r,tutorId:o.tutorId,withdrawAmount:o.withdrawAmount,bankName:o.bankName})})]})},o.withdrawId))});return n.jsxs(n.Fragment,{children:[a(),i()]})}function Ide({currentPage:e,totalPages:t,total:s,limit:r,isLoading:a,onPageChange:i}){const o=(e-1)*r+1,l=Math.min(e*r,s),c=()=>{const u=[];if(t<=5)for(let d=1;d<=t;d++)u.push(d);else if(e<=3){for(let d=1;d<=4;d++)u.push(d);u.push("..."),u.push(t)}else if(e>=t-2){u.push(1),u.push("...");for(let d=t-3;d<=t;d++)u.push(d)}else u.push(1),u.push("..."),u.push(e-1),u.push(e),u.push(e+1),u.push("..."),u.push(t);return u};return t<=1?null:n.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg border border-gray-200 p-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("span",{className:"font-medium text-gray-900",children:[o,"-",l]})," ","ca"," ",n.jsx("span",{className:"font-medium text-gray-900",children:s})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(H,{variant:"outline",size:"sm",onClick:()=>i(e-1),disabled:e===1||a,children:n.jsx(qn,{className:"w-4 h-4"})}),c().map((u,h)=>typeof u=="number"?n.jsx(H,{variant:e===u?"default":"outline",size:"sm",onClick:()=>i(u),disabled:a,className:"min-w-[36px] h-9",children:u},h):n.jsx("span",{className:"px-2 text-gray-400 text-sm",children:u},h)),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>i(e+1),disabled:e===t||a,children:n.jsx(Wt,{className:"w-4 h-4"})})]})]})}function Mde(){const e=Qe(),[t,s]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(null),[l,c]=y.useState(1),[u]=y.useState(10),[h,d]=y.useState(0),[f,m]=y.useState(0),[p,g]=y.useState("all"),[b,v]=y.useState("newest"),[x,w]=y.useState(new Set),[j,N]=y.useState(null),[k,S]=y.useState(null),C=async()=>{try{a(!0),o(null);const z=await z0.getAllWithdrawRequests();s(z)}catch(z){z.message.includes("permission")?o("You do not have permission to view withdrawal requests. Please contact your administrator."):o(z.message)}finally{a(!1)}};y.useEffect(()=>{C()},[]);const E=Rde(t,p),T=Ode(E,b),_=T.length,A=Math.ceil(_/u),D=(l-1)*u,R=D+u,U=T.slice(D,R);y.useEffect(()=>{m(_),d(A),l>A&&A>0&&c(1)},[_,A,l]);const I=Dde(t),L=[{id:"status",type:"select",placeholder:"Trng thi",value:p,onChange:z=>F(z),options:[{value:"all",label:"Tt c"},{value:"PENDING",label:"Ch x l"},{value:"APPROVED",label:" duyt"},{value:"REJECTED",label:" t chi"}]},{id:"sort",type:"select",placeholder:"Sp xp",value:b,onChange:z=>O(z),options:[{value:"newest",label:"Mi nht"},{value:"oldest",label:"C nht"}],icon:E5}],M=()=>{C()},$=z=>{c(z)},F=z=>{g(z),c(1)},O=z=>{v(z),c(1)},q=async z=>{try{w(P=>new Set(P).add(z)),N(null),S(null);const W=await z0.approveWithdrawRequest(z);s(P=>P.map(V=>V.withdrawId===z?{...V,status:"APPROVED"}:V)),N(W.message||"Withdrawal request approved successfully"),await C(),setTimeout(()=>N(null),5e3)}catch(W){const P=W.message||"Failed to approve withdrawal request";P.includes("not found")||P.includes("already processed")?(S(P),await C(),setTimeout(()=>S(null),5e3)):(S(P),setTimeout(()=>S(null),5e3))}finally{w(W=>{const P=new Set(W);return P.delete(z),P})}},B=async z=>{try{w(P=>new Set(P).add(z)),N(null),S(null);const W=await z0.rejectWithdrawRequest(z);s(P=>P.map(V=>V.withdrawId===z?{...V,status:"REJECTED"}:V)),N(W.message||"Withdrawal request rejected successfully"),await C(),setTimeout(()=>N(null),5e3)}catch(W){const P=W.message||"Failed to reject withdrawal request";P.includes("not found")||P.includes("already processed")?(S(P),await C(),setTimeout(()=>S(null),5e3)):(S(P),setTimeout(()=>S(null),5e3))}finally{w(W=>{const P=new Set(W);return P.delete(z),P})}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"sticky top-0 z-10 bg-white shadow-md",children:[n.jsx(es,{title:"Qun l yu cu rt tin",description:"Qun l yu cu rt tin ca ging vin",icon:$n,gradientFrom:"from-purple-600",gradientVia:"via-purple-600",gradientTo:"to-purple-500",statistics:r?void 0:[{label:"Tng yu cu",value:I.totalRequests.toString()},{label:"Ch x l",value:I.pendingCount.toString()},{label:" duyt",value:I.approvedCount.toString()},{label:" t chi",value:I.rejectedCount.toString()},{label:"Tng tin rt",value:ki(I.totalWithdrawAmount)},{label:"Tng hoa hng",value:ki(I.totalCommission)}]}),n.jsx("div",{className:"bg-white border-t border-gray-100",children:n.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 py-4",children:[n.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4",children:n.jsxs(H,{variant:"ghost",onClick:()=>e(se.ADMIN_PAYMENTS),className:"text-gray-700 hover:bg-gray-100",children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li Thanh ton"]})}),n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsx(Ca,{filters:L}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Hin th ",U.length," / ",f," yu cu"]})]})]})})]}),n.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:[j&&n.jsxs(Mr,{className:"mb-4 bg-green-50 border-green-200",children:[n.jsx(kt,{className:"h-4 w-4 text-green-600"}),n.jsx(Pp,{className:"text-green-800",children:"Thnh cng"}),n.jsxs(Lr,{className:"flex items-center justify-between text-green-700",children:[n.jsx("span",{children:j}),n.jsx(H,{variant:"ghost",size:"sm",onClick:()=>N(null),className:"ml-4 text-green-600 hover:text-green-800",children:""})]})]}),k&&n.jsxs(Mr,{variant:"destructive",className:"mb-4",children:[n.jsx(Lt,{className:"h-4 w-4"}),n.jsx(Pp,{children:"Li"}),n.jsxs(Lr,{className:"flex items-center justify-between",children:[n.jsx("span",{children:k}),n.jsx(H,{variant:"ghost",size:"sm",onClick:()=>S(null),className:"ml-4",children:""})]})]}),i&&n.jsxs(Mr,{variant:"destructive",className:"mb-4",children:[n.jsx(at,{className:"h-4 w-4"}),n.jsxs(Lr,{className:"flex items-center justify-between",children:[n.jsx("span",{children:i}),n.jsx(H,{variant:"outline",size:"sm",onClick:M,className:"ml-4",children:"Th li"})]})]}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-10 h-10 animate-spin text-purple-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"ang ti yu cu rt tin..."})]})}):U.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(st,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c yu cu rt tin"}),n.jsx("p",{className:"text-gray-500 text-sm",children:p!=="all"?`Khng tm thy yu cu ${p==="PENDING"?"ch x l":p==="APPROVED"?" duyt":" t chi"}`:"Khng c yu cu rt tin no"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Pde,{requests:U,processingIds:x,onApprove:q,onReject:B}),n.jsx("div",{className:"mt-4",children:n.jsx(Ide,{currentPage:l,totalPages:h,total:f,limit:u,isLoading:r,onPageChange:$})})]})]})]})}const GC={getSettings:async()=>{var e;try{const t=await ee.get("/admin/setting");return t.data.result||t.data}catch(t){if(t.response){const s=(e=t.response.data)==null?void 0:e.message;throw new Error(s||"Khng th ti ci t hoa hng")}throw new Error("Khng th kt ni n server")}},updateSettings:async e=>{var t;try{const s=await ee.put("/admin/setting",e);return s.data.result||s.data}catch(s){if(s.response){const r=(t=s.response.data)==null?void 0:t.message;throw new Error(r||"Khng th cp nht ci t hoa hng")}throw new Error("Khng th kt ni n server")}}};function Lde(){const e=Qe(),[t,s]=y.useState(!0),[r,a]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState({commissionCourse:10,commissionBooking:10}),[u,h]=y.useState({});y.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0),o(null);const g=await GC.getSettings();c({commissionCourse:g.commissionCourse,commissionBooking:g.commissionBooking})}catch(g){o(g.message)}finally{s(!1)}},f=()=>{const g={};return(l.commissionCourse<0||l.commissionCourse>100)&&(g.commissionCourse="Hoa hng phi t 0% n 100%"),(l.commissionBooking<0||l.commissionBooking>100)&&(g.commissionBooking="Hoa hng phi t 0% n 100%"),h(g),Object.keys(g).length===0},m=(g,b)=>{c(v=>({...v,[g]:b})),u[g]&&h(v=>({...v,[g]:void 0}))},p=async g=>{if(g.preventDefault(),o(null),!!f())try{a(!0),await GC.updateSettings(l),xt.success("Cp nht ci t hoa hng thnh cng!")}catch(b){o(b.message),xt.error(b.message)}finally{a(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white shadow-md",children:n.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-600 to-purple-500",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-5",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(H,{variant:"ghost",onClick:()=>e(se.ADMIN_PAYMENTS),className:"text-white hover:bg-white/20",children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li"]}),n.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center border border-white/30",children:n.jsx(pg,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Ci t hoa hng"}),n.jsx("p",{className:"text-purple-100 text-sm",children:"Qun l phn trm hoa hng nn tng"})]})]})})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[i&&n.jsxs(Mr,{variant:"destructive",className:"mb-6",children:[n.jsx(at,{className:"h-4 w-4"}),n.jsx(Lr,{children:i})]}),t?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-10 h-10 animate-spin text-purple-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"ang ti ci t..."})]})}):n.jsxs(ye,{children:[n.jsxs(Je,{children:[n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx(cq,{className:"w-5 h-5"}),"Phn trm hoa hng"]}),n.jsx(xg,{children:"Ci t phn trm hoa hng m nn tng nhn t cc giao dch"})]}),n.jsx(De,{children:n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"commissionCourse",children:["Hoa hng kha hc (%) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{id:"commissionCourse",type:"number",placeholder:"0",value:l.commissionCourse,onChange:g=>m("commissionCourse",parseFloat(g.target.value)||0),className:u.commissionCourse?"border-red-500":"",min:0,max:100,step:.1}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:"%"})]}),u.commissionCourse&&n.jsx("p",{className:"text-sm text-red-500",children:u.commissionCourse}),n.jsx("p",{className:"text-sm text-gray-500",children:"Phn trm hoa hng t cc giao dch mua kha hc"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"commissionBooking",children:["Hoa hng t lch (%) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{id:"commissionBooking",type:"number",placeholder:"0",value:l.commissionBooking,onChange:g=>m("commissionBooking",parseFloat(g.target.value)||0),className:u.commissionBooking?"border-red-500":"",min:0,max:100,step:.1}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:"%"})]}),u.commissionBooking&&n.jsx("p",{className:"text-sm text-red-500",children:u.commissionBooking}),n.jsx("p",{className:"text-sm text-gray-500",children:"Phn trm hoa hng t cc giao dch t lch hc"})]})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"V d:"}),n.jsxs("ul",{className:"text-sm text-purple-800 space-y-2",children:[n.jsxs("li",{children:[" Kha hc gi 1.000.000  vi hoa hng ",l.commissionCourse,"%:",n.jsx("br",{}),n.jsxs("span",{className:"ml-4",children:["- Nn tng nhn:"," ",n.jsxs("strong",{children:[(1e6*l.commissionCourse/100).toLocaleString("vi-VN")," "]})]}),n.jsx("br",{}),n.jsxs("span",{className:"ml-4",children:["- Ging vin nhn:"," ",n.jsxs("strong",{children:[(1e6*(100-l.commissionCourse)/100).toLocaleString("vi-VN")," "]})]})]}),n.jsxs("li",{children:[" t lch gi 500.000  vi hoa hng ",l.commissionBooking,"%:",n.jsx("br",{}),n.jsxs("span",{className:"ml-4",children:["- Nn tng nhn:"," ",n.jsxs("strong",{children:[(5e5*l.commissionBooking/100).toLocaleString("vi-VN")," "]})]}),n.jsx("br",{}),n.jsxs("span",{className:"ml-4",children:["- Ging vin nhn:"," ",n.jsxs("strong",{children:[(5e5*(100-l.commissionBooking)/100).toLocaleString("vi-VN")," "]})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(H,{type:"button",variant:"outline",onClick:()=>e(se.ADMIN_PAYMENTS),className:"flex-1",children:"Hy"}),n.jsx(H,{type:"submit",disabled:r,className:"flex-1 bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-700 hover:to-purple-600",children:r?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"ang lu..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fh,{className:"w-4 h-4 mr-2"}),"Lu thay i"]})})]})]})})]})]})]})}const Fde=({request:e,onApprove:t,onReject:s})=>{var l;const[r,a]=y.useState(!1),i=c=>{switch(c){case"PENDING":return n.jsxs(Pe,{className:"bg-amber-100 text-amber-700 border-amber-200 gap-1.5",children:[n.jsx(st,{className:"w-3 h-3"}),"Ch x l"]});case"SUBMITTED":return n.jsxs(Pe,{className:"bg-purple-100 text-purple-700 border-purple-200 gap-1.5",children:[n.jsx(at,{className:"w-3 h-3"})," gi"]});case"APPROVED":return n.jsxs(Pe,{className:"bg-green-100 text-green-700 border-green-200 gap-1.5",children:[n.jsx(kt,{className:"w-3 h-3"})," duyt"]});case"REJECTED":return n.jsxs(Pe,{className:"bg-red-100 text-red-700 border-red-200 gap-1.5",children:[n.jsx(Lt,{className:"w-3 h-3"}),"T chi"]});case"PROCESSED":return n.jsxs(Pe,{className:"bg-green-100 text-green-700 border-green-200 gap-1.5",children:[n.jsx(kt,{className:"w-3 h-3"})," x l"]})}},o=e.status==="SUBMITTED";return n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-all",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-6",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsxs(hi,{className:"w-16 h-16 border-2 border-white shadow-md ring-2 ring-slate-100",children:[n.jsx(ko,{src:"",alt:e.bankOwnerName||"User"}),n.jsx(fi,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white font-semibold",children:((l=e.bankOwnerName)==null?void 0:l.split(" ").map(c=>c[0]).join(""))||"U"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:e.bankOwnerName||"Yu cu hon tin"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(Pt,{className:"w-3.5 h-3.5"}),n.jsxs("span",{children:["User ID: ",e.userId]})]})]}),i(e.status)]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-3 py-2",children:[n.jsx(ft,{className:"w-4 h-4 text-purple-600"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-slate-500",children:"Ngy to: "}),n.jsx("span",{className:"font-medium text-slate-700",children:new Date(e.createdAt).toLocaleDateString("vi-VN")})]})]}),e.processedAt&&n.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-3 py-2",children:[n.jsx(ft,{className:"w-4 h-4 text-green-600"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-slate-500",children:"Ngy x l: "}),n.jsx("span",{className:"font-medium text-slate-700",children:new Date(e.processedAt).toLocaleDateString("vi-VN")})]})]})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"S tin hon:"}),n.jsxs("span",{className:"font-bold text-purple-900 text-xl",children:[e.refundAmount.toLocaleString()," "]})]}),n.jsxs("div",{className:"text-xs text-slate-600 mt-2",children:[n.jsxs("span",{children:["Booking Plan ID: ",e.bookingPlanId]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Slot ID: ",e.slotId]})]})]}),e.bankAccountNumber&&n.jsxs(ht,{open:r,onOpenChange:a,children:[n.jsx(fX,{asChild:!0,children:n.jsxs(H,{variant:"outline",className:"w-full border-purple-200 text-purple-700 hover:bg-purple-50 gap-2",children:[n.jsx(gs,{className:"w-4 h-4"}),"Xem thng tin ti khon"]})}),n.jsxs(lt,{className:"sm:max-w-[450px]",children:[n.jsxs(ct,{children:[n.jsx(ut,{className:"text-xl font-bold text-slate-900",children:"Thng tin ti khon ngn hng"}),n.jsx(Zn,{className:"text-slate-600",children:"Thng tin ti khon  chuyn tin hon"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-purple-100 rounded-lg p-2",children:n.jsx(Hn,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Ngn hng"}),n.jsx("p",{className:"font-semibold text-slate-900 text-lg",children:e.bankName})]})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-3",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Ch ti khon"}),n.jsx("p",{className:"font-medium text-slate-900",children:e.bankOwnerName})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-3",children:[n.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"S ti khon"}),n.jsx("p",{className:"font-mono font-semibold text-slate-900 text-lg tracking-wider",children:e.bankAccountNumber})]})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"S tin cn chuyn:"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[e.refundAmount.toLocaleString()," "]})]})]})]})]})]})]}),o&&n.jsxs("div",{className:"flex flex-col gap-2 lg:min-w-[200px]",children:[n.jsxs(wa,{children:[n.jsx(VC,{asChild:!0,children:n.jsxs(H,{className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white gap-2",children:[n.jsx(kt,{className:"w-4 h-4"}),"Hon thnh"]})}),n.jsxs(Br,{children:[n.jsxs(El,{children:[n.jsx(zr,{children:"Xc nhn  chuyn tin thnh cng"}),n.jsxs(qr,{children:["Bn xc nhn  chuyn thnh cng s tin ",e.refundAmount.toLocaleString(),"  vo ti khon ngn hng ca hc vin?",n.jsx("br",{}),n.jsx("br",{}),n.jsx("strong",{children:"Thng tin chuyn khon:"}),n.jsx("br",{})," Ngn hng: ",e.bankName,n.jsx("br",{})," Ch TK: ",e.bankOwnerName,n.jsx("br",{})," S TK: ",e.bankAccountNumber]})]}),n.jsxs(_l,{children:[n.jsx(ja,{children:"Hy"}),n.jsx(Hr,{onClick:()=>t(e.refundRequestId),className:"bg-green-600 hover:bg-green-700",children:"Xc nhn  chuyn"})]})]})]}),n.jsxs(wa,{children:[n.jsx(VC,{asChild:!0,children:n.jsxs(H,{variant:"outline",className:"border-red-200 text-red-700 hover:bg-red-50 gap-2",children:[n.jsx(Lt,{className:"w-4 h-4"}),"Tht bi"]})}),n.jsxs(Br,{children:[n.jsxs(El,{children:[n.jsx(zr,{children:"Xc nhn chuyn tin tht bi"}),n.jsxs(qr,{children:["Bn xc nhn vic chuyn tin hon khng thnh cng? Yu cu hon tin ny s b t chi v hc vin s c thng bo.",n.jsx("br",{}),n.jsx("br",{}),"Hnh ng ny khng th hon tc."]})]}),n.jsxs(_l,{children:[n.jsx(ja,{children:"Hy"}),n.jsx(Hr,{onClick:()=>s(e.refundRequestId),className:"bg-red-600 hover:bg-red-700",children:"Xc nhn tht bi"})]})]})]})]})]})})},$de=()=>{const[e,t]=y.useState([]),[s,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState("ALL"),[c,u]=y.useState("newest"),[h,d]=y.useState(1),[f,m]=y.useState(!0),{toast:p}=jt(),g=6,b=async()=>{try{m(!0);const E=await ee.get("/admin/refund/all");t(E.data.result),v(E.data.result,o)}catch(E){console.error("Error fetching refund requests:",E),p({title:"Li",description:"Khng th ti danh sch yu cu hon tin",variant:"destructive"})}finally{m(!1)}};y.useEffect(()=>{b()},[]);const v=(E,T)=>{r(T==="ALL"?E:E.filter(_=>_.status===T))},x=E=>{l(E),d(1),v(e,E)},w=E=>{u(E),d(1)};y.useEffect(()=>{let E=[...s];E.sort((A,D)=>{const R=new Date(A.createdAt).getTime(),U=new Date(D.createdAt).getTime();return c==="newest"?U-R:R-U});const T=(h-1)*g,_=T+g;i(E.slice(T,_))},[s,c,h]);const j=Math.ceil(s.length/g),N=async E=>{var T,_;try{(await ee.put(`/admin/refund/${E}/approve`)).data.code===0&&(p({title:"Hon thnh",description:" xc nhn chuyn tin hon thnh cng"}),b())}catch(A){p({title:"Li",description:((_=(T=A.response)==null?void 0:T.data)==null?void 0:_.message)||"Khng th xc nhn hon thnh",variant:"destructive"})}},k=async E=>{var T,_;try{(await ee.put(`/admin/refund/${E}/reject`)).data.code===0&&(p({title:" xc nhn",description:" xc nhn chuyn tin tht bi"}),b())}catch(A){p({title:"Li",description:((_=(T=A.response)==null?void 0:T.data)==null?void 0:_.message)||"Khng th xc nhn tht bi",variant:"destructive"})}},S={pending:e.filter(E=>E.status==="PENDING").length,submitted:e.filter(E=>E.status==="SUBMITTED").length,approved:e.filter(E=>E.status==="APPROVED").length,rejected:e.filter(E=>E.status==="REJECTED").length,approvedAmount:e.filter(E=>E.status==="APPROVED").reduce((E,T)=>E+T.refundAmount,0),pendingAmount:e.filter(E=>E.status==="PENDING"||E.status==="SUBMITTED").reduce((E,T)=>E+T.refundAmount,0),rejectedAmount:e.filter(E=>E.status==="REJECTED").reduce((E,T)=>E+T.refundAmount,0)},C=[{value:"ALL",label:"Tt c"},{value:"PENDING",label:"Ch x l"},{value:"SUBMITTED",label:" gi"},{value:"APPROVED",label:" duyt"},{value:"REJECTED",label:"T chi"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-slate-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-purple-600 to-purple-500 rounded-2xl shadow-lg p-8 text-white mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Qun l hon tin"}),n.jsx("p",{className:"text-purple-100 text-lg",children:"Xem xt v x l cc yu cu hon tin t hc vin"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(st,{className:"w-4 h-4 text-amber-300"}),n.jsx("span",{className:"text-sm text-purple-100 font-medium",children:"Ch x l"})]}),n.jsx("p",{className:"text-3xl font-bold",children:S.pending})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(at,{className:"w-4 h-4 text-purple-300"}),n.jsx("span",{className:"text-sm text-purple-100 font-medium",children:" gi"})]}),n.jsx("p",{className:"text-3xl font-bold",children:S.submitted})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(kt,{className:"w-4 h-4 text-green-300"}),n.jsx("span",{className:"text-sm text-purple-100 font-medium",children:" duyt"})]}),n.jsx("p",{className:"text-3xl font-bold",children:S.approved})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Lt,{className:"w-4 h-4 text-red-300"}),n.jsx("span",{className:"text-sm text-purple-100 font-medium",children:"T chi"})]}),n.jsx("p",{className:"text-3xl font-bold",children:S.rejected})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[n.jsxs("div",{className:"bg-green-500/20 backdrop-blur-sm rounded-xl p-4 border border-green-400/30",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(kt,{className:"w-5 h-5 text-green-200"}),n.jsx("span",{className:"text-sm text-green-100 font-medium",children:"Tin  duyt"})]}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[S.approvedAmount.toLocaleString()," "]})]}),n.jsxs("div",{className:"bg-amber-500/20 backdrop-blur-sm rounded-xl p-4 border border-amber-400/30",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(st,{className:"w-5 h-5 text-amber-200"}),n.jsx("span",{className:"text-sm text-amber-100 font-medium",children:"Tin ang i"})]}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[S.pendingAmount.toLocaleString()," "]})]}),n.jsxs("div",{className:"bg-red-500/20 backdrop-blur-sm rounded-xl p-4 border border-red-400/30",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Lt,{className:"w-5 h-5 text-red-200"}),n.jsx("span",{className:"text-sm text-red-100 font-medium",children:"Tin b hy"})]}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[S.rejectedAmount.toLocaleString()," "]})]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-semibold",children:[n.jsx(Pl,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{children:"Lc theo trng thi:"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(E=>n.jsx(H,{onClick:()=>x(E.value),variant:o===E.value?"default":"outline",className:o===E.value?"bg-purple-600 hover:bg-purple-700":"",size:"sm",children:E.label},E.value))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"Sp xp:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{onClick:()=>w("newest"),variant:c==="newest"?"default":"outline",className:c==="newest"?"bg-purple-600 hover:bg-purple-700":"",size:"sm",children:"Mi nht"}),n.jsx(H,{onClick:()=>w("oldest"),variant:c==="oldest"?"default":"outline",className:c==="oldest"?"bg-purple-600 hover:bg-purple-700":"",size:"sm",children:"C nht"})]})]})]})}),f?n.jsx("div",{className:"text-center py-16",children:n.jsx("p",{className:"text-slate-600",children:"ang ti danh sch yu cu hon tin..."})}):s.length===0?n.jsx("div",{className:"text-center py-16 text-slate-500",children:n.jsx("p",{children:"Khng c yu cu hon tin no."})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-4",children:a.map(E=>n.jsx(Fde,{request:E,onApprove:N,onReject:k},E.refundRequestId))}),j>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[n.jsx(H,{onClick:()=>d(E=>Math.max(1,E-1)),disabled:h===1,variant:"outline",size:"sm",children:"Trc"}),n.jsx("div",{className:"flex gap-1",children:Array.from({length:j},(E,T)=>T+1).map(E=>n.jsx(H,{onClick:()=>d(E),variant:h===E?"default":"outline",className:h===E?"bg-purple-600 hover:bg-purple-700":"",size:"sm",children:E},E))}),n.jsx(H,{onClick:()=>d(E=>Math.min(j,E+1)),disabled:h===j,variant:"outline",size:"sm",children:"Sau"})]})]})]})})},Ude=({categories:e,onEdit:t,onDelete:s,isRefreshing:r})=>n.jsx("div",{className:"overflow-x-auto",role:"region","aria-label":"Categories table",tabIndex:0,children:e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cha c category no"}),n.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"Bt u bng cch to category u tin cho h thng"})]}):n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{className:"hover:bg-transparent",children:[n.jsx(Ae,{className:"w-16 text-center",scope:"col",children:"ID"}),n.jsx(Ae,{className:"min-w-[150px]",scope:"col",children:"Tn danh mc"}),n.jsx(Ae,{className:"min-w-[200px]",scope:"col",children:"M t"}),n.jsx(Ae,{className:"w-[150px] text-center",scope:"col",children:"Hnh ng"})]})}),n.jsx(Fs,{children:e.map(a=>n.jsxs(Mt,{className:"hover:bg-gray-50 focus-within:bg-gray-50",children:[n.jsx(Ee,{className:"text-center",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.categoryID})}),n.jsx(Ee,{children:n.jsx("div",{className:"font-semibold text-gray-900",children:a.categoryName})}),n.jsx(Ee,{children:n.jsx("div",{className:"text-sm text-gray-700",children:a.description||"Khng c m t"})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex justify-center gap-2",children:[n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>t(a),className:"text-indigo-600 border-indigo-200 hover:bg-indigo-50 hover:border-indigo-300 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2","aria-label":`Chnh sa ${a.categoryName}`,title:"Chnh sa",children:[n.jsx(va,{className:"w-4 h-4","aria-hidden":"true"}),n.jsx("span",{className:"sr-only",children:"Chnh sa"})]}),n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>s(a),className:"text-red-600 border-red-200 hover:bg-red-50 hover:border-red-300 focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":`Xa ${a.categoryName}`,title:"Xa",children:[n.jsx(Ht,{className:"w-4 h-4","aria-hidden":"true"}),n.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},a.categoryID))})]})}),Vde=({isOpen:e,onClose:t,onSubmit:s,initialData:r,mode:a})=>{const[i,o]=re.useState({name:"",description:""}),[l,c]=re.useState({}),[u,h]=re.useState(!1),[d,f]=re.useState(null),m=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{e&&(o(a==="edit"&&r?{name:r.categoryName||"",description:r.description||""}:{name:"",description:""}),c({}),f(null),h(!1))},[e,a,r]);const g=()=>{const w={};return!i.name||i.name.trim()===""?w.categoryName="Trng ny l bt buc":i.name.trim().length<2?w.categoryName="Tn category phi c t nht 2 k t":i.name.trim().length>100&&(w.categoryName="Tn category khng c vt qu 100 k t"),i.description&&i.description.trim().length>500&&(w.description="M t khng c vt qu 500 k t"),c(w),Object.keys(w).length>0?(w.categoryName&&m.current?m.current.focus():w.description&&p.current&&p.current.focus(),!1):!0},b=async w=>{var j;if(w.preventDefault(),f(null),!!g()){h(!0);try{await s({name:i.name.trim(),description:((j=i.description)==null?void 0:j.trim())||""}),o({name:"",description:""}),c({}),f(null)}catch(N){const k=(N==null?void 0:N.message)||" xy ra li. Vui lng th li.";k.includes(" tn ti")||k.includes("CATEGORY_ALREADY_EXISTS")?(c({categoryName:"Category  tn ti"}),m.current&&m.current.focus()):f(k)}finally{h(!1)}}},v=()=>{u||(o({name:"",description:""}),c({}),f(null),t())},x=(w,j)=>{o(k=>({...k,[w]:j}));const N=w==="name"?"categoryName":w;l[N]&&c(k=>({...k,[N]:void 0})),d&&f(null)};return n.jsx(ht,{open:e,onOpenChange:v,children:n.jsx(lt,{className:"sm:max-w-[500px]","aria-describedby":"category-form-description",children:n.jsxs("form",{onSubmit:b,children:[n.jsxs(ct,{children:[n.jsx(ut,{className:"flex items-center gap-2",children:a==="create"?n.jsxs(n.Fragment,{children:[n.jsx(qk,{className:"w-5 h-5 text-purple-600","aria-hidden":"true"}),"Thm Category"]}):n.jsxs(n.Fragment,{children:[n.jsx(va,{className:"w-5 h-5 text-purple-600","aria-hidden":"true"}),"Chnh sa Category"]})}),n.jsx(Zn,{id:"category-form-description",children:a==="create"?"To mi category cho h thng kha hc.":"Cp nht thng tin category."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"categoryName",className:"text-sm font-medium",children:["Tn Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"categoryName",ref:m,type:"text",placeholder:"Nhp tn category",value:i.name,onChange:w=>x("name",w.target.value),disabled:u,className:l.categoryName?"border-red-500 focus-visible:ring-red-500":"","aria-invalid":!!l.categoryName,"aria-describedby":l.categoryName?"categoryName-error":void 0}),l.categoryName&&n.jsx("p",{id:"categoryName-error",className:"text-sm text-red-500 font-medium",role:"alert",children:l.categoryName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{htmlFor:"description",className:"text-sm font-medium",children:"M t"}),n.jsx(It,{id:"description",ref:p,placeholder:"Nhp m t category (ty chn)",value:i.description,onChange:w=>x("description",w.target.value),disabled:u,className:l.description?"border-red-500 focus-visible:ring-red-500":"",rows:3,"aria-invalid":!!l.description,"aria-describedby":l.description?"description-error":void 0}),l.description&&n.jsx("p",{id:"description-error",className:"text-sm text-red-500 font-medium",role:"alert",children:l.description})]})]}),d&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:n.jsx("p",{className:"text-red-800 text-sm font-medium",children:d})}),n.jsxs(Nt,{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-0",children:[n.jsx(H,{type:"button",variant:"outline",onClick:v,disabled:u,className:"w-full sm:w-auto","aria-label":"Hy",children:"Hy"}),n.jsx(H,{type:"submit",disabled:u,className:"min-w-[120px] w-full sm:w-auto bg-purple-600 hover:bg-purple-700 text-white","aria-label":u?"ang x l, vui lng i":a==="create"?"To category mi":"Cp nht category",children:u?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),"ang x l..."]}):a==="create"?n.jsxs(n.Fragment,{children:[n.jsx(qk,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"To mi"]}):n.jsxs(n.Fragment,{children:[n.jsx(va,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Cp nht"]})})]})]})})})},Bde=({isOpen:e,onClose:t,onConfirm:s,category:r})=>{const[a,i]=re.useState(!1),o=async()=>{i(!0);try{await s()}catch{}finally{i(!1)}},l=()=>{a||t()};return n.jsx(ht,{open:e,onOpenChange:l,children:n.jsxs(lt,{className:"sm:max-w-[500px]","aria-describedby":"delete-description",children:[n.jsxs(ct,{children:[n.jsxs(ut,{className:"flex items-center gap-2 text-red-600",children:[n.jsx(ro,{className:"w-5 h-5","aria-hidden":"true"}),"Xc nhn xa category"]}),n.jsx(Zn,{id:"delete-description",children:"Bn c chc chn mun xa category ny? Hnh ng ny khng th hon tc."})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 my-4",role:"region","aria-label":"Category information",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:r.categoryName}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["ID: ",r.categoryID]})]}),r.description&&n.jsx("div",{children:n.jsx("p",{className:"text-sm text-gray-700",children:r.description})}),n.jsx("div",{children:n.jsx(Pe,{variant:r.isActive?"default":"secondary",className:r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","aria-label":`Trng thi: ${r.isActive?"Hot ng":"Khng hot ng"}`,children:r.isActive?"Hot ng":"Khng hot ng"})})]})}),n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-red-800 text-sm",children:[n.jsx("strong",{children:"Lu :"})," Nu category ny ang c s dng bi cc kha hc, bn s khng th xa n."]})}),n.jsxs(Nt,{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-0",children:[n.jsx(H,{variant:"outline",onClick:l,disabled:a,className:"w-full sm:w-auto","aria-label":"Hy",children:"Hy"}),n.jsx(H,{onClick:o,disabled:a,className:"min-w-[100px] w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white","aria-label":a?"ang x l, vui lng i":`Xa ${r.categoryName}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),"ang x l..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Xa category"]})})]})]})})};var sc=(e=>(e.CATEGORY_ALREADY_EXISTS="CATEGORY_ALREADY_EXISTS",e.CATEGORY_NOT_FOUND="CATEGORY_NOT_FOUND",e.CATEGORY_IN_USE="CATEGORY_IN_USE",e))(sc||{});const Kf={getCategories:async()=>{var e,t,s,r,a;try{const i=await ee.get("/admin/categories");if(((e=i==null?void 0:i.data)==null?void 0:e.code)!==0)throw new Error(((t=i==null?void 0:i.data)==null?void 0:t.message)||"Failed to fetch categories");const o=((s=i==null?void 0:i.data)==null?void 0:s.result)||[];if(!Array.isArray(o))throw new Error("Invalid response format: expected array of categories");return o.map(c=>({categoryID:c.categoryId||c.categoryID||0,categoryName:c.categoryName||"",description:c.description||"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))}catch(i){throw new Error(((a=(r=i==null?void 0:i.response)==null?void 0:r.data)==null?void 0:a.message)||i.message||"Failed to fetch categories")}},getCategoryById:async e=>{var t,s,r,a,i,o,l;try{const c=await ee.get(`/admin/categories/${e}`);if(((t=c==null?void 0:c.data)==null?void 0:t.code)!==0)throw new Error(((s=c==null?void 0:c.data)==null?void 0:s.message)||"Failed to fetch category");const u=(r=c==null?void 0:c.data)==null?void 0:r.result;if(!u)throw new Error("Category not found");return{categoryID:u.categoryId||u.categoryID||0,categoryName:u.categoryName||"",description:u.description||"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(c){const u=(i=(a=c==null?void 0:c.response)==null?void 0:a.data)==null?void 0:i.code,h=(l=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:l.message;throw u===sc.CATEGORY_NOT_FOUND?new Error("Category khng tn ti"):new Error(h||c.message||"Failed to fetch category")}},createCategory:async e=>{var t,s,r,a,i,o,l;try{const c={name:e.name,description:e.description||""},u=await ee.post("/admin/categories",c);if(((t=u==null?void 0:u.data)==null?void 0:t.code)!==0)throw new Error(((s=u==null?void 0:u.data)==null?void 0:s.message)||"Failed to create category");const h=(r=u==null?void 0:u.data)==null?void 0:r.result;if(!h)throw new Error("Failed to create category");return{categoryID:h.categoryId||h.categoryID||0,categoryName:h.categoryName||"",description:h.description||"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(c){const u=(i=(a=c==null?void 0:c.response)==null?void 0:a.data)==null?void 0:i.code,h=(l=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:l.message;throw u===sc.CATEGORY_ALREADY_EXISTS?new Error("Category  tn ti"):new Error(h||c.message||"Failed to create category")}},updateCategory:async(e,t)=>{var s,r,a,i,o,l,c;try{const u={name:t.name,description:t.description||""},h=await ee.put(`/admin/categories/${e}`,u);if(((s=h==null?void 0:h.data)==null?void 0:s.code)!==0)throw new Error(((r=h==null?void 0:h.data)==null?void 0:r.message)||"Failed to update category");const d=(a=h==null?void 0:h.data)==null?void 0:a.result;if(!d)throw new Error("Failed to update category");return{categoryID:d.categoryId||d.categoryID||0,categoryName:d.categoryName||"",description:d.description||"",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch(u){const h=(o=(i=u==null?void 0:u.response)==null?void 0:i.data)==null?void 0:o.code,d=(c=(l=u==null?void 0:u.response)==null?void 0:l.data)==null?void 0:c.message;throw h===sc.CATEGORY_NOT_FOUND?new Error("Category khng tn ti"):h===sc.CATEGORY_ALREADY_EXISTS?new Error("Tn category  tn ti"):new Error(d||u.message||"Failed to update category")}},deleteCategory:async e=>{var t,s,r,a,i,o,l,c,u,h;try{const d=await ee.delete(`/admin/categories/${e}`);if(d.status===204)return;if(d.status===200){if(((t=d==null?void 0:d.data)==null?void 0:t.code)===0||!((s=d==null?void 0:d.data)!=null&&s.code))return;if(((r=d==null?void 0:d.data)==null?void 0:r.code)!==0)throw new Error(((a=d==null?void 0:d.data)==null?void 0:a.message)||"Failed to delete category")}}catch(d){if(((i=d.response)==null?void 0:i.status)===200||((o=d.response)==null?void 0:o.status)===204)return;const f=(c=(l=d==null?void 0:d.response)==null?void 0:l.data)==null?void 0:c.code,m=(h=(u=d==null?void 0:d.response)==null?void 0:u.data)==null?void 0:h.message;throw f===sc.CATEGORY_IN_USE?new Error("Khng th xa category v ang c kha hc s dng"):new Error(m||d.message||"Failed to delete category")}}};function zde(){const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,i]=y.useState(null),{toast:o}=jt(),l=y.useCallback(async()=>{try{r(!0),i(null);const f=await Kf.getCategories();t(f)}catch(f){const m=f.message||"Failed to load categories";i(m),o({title:"Li ti danh sch",description:m,variant:"destructive"})}finally{r(!1)}},[o]),c=y.useCallback(async()=>{await l()},[l]),u=y.useCallback(async f=>{try{const m=await Kf.createCategory(f);t(p=>[...p,m]),o({title:"Thnh cng",description:"To category thnh cng",variant:"default"})}catch(m){const p=m.message||"Failed to create category";throw new Error(p)}},[o]),h=y.useCallback(async(f,m)=>{try{const p=await Kf.updateCategory(f,m);t(g=>g.map(b=>b.categoryID===f?p:b)),o({title:"Thnh cng",description:"Cp nht category thnh cng",variant:"default"})}catch(p){const g=p.message||"Failed to update category";throw new Error(g)}},[o]),d=y.useCallback(async f=>{try{await Kf.deleteCategory(f),t(m=>m.filter(p=>p.categoryID!==f)),o({title:"Thnh cng",description:"Xa category thnh cng",variant:"default"})}catch(m){const p=m.message||"Failed to delete category";throw o({title:"Li xa category",description:p,variant:"destructive"}),new Error(p)}},[o]);return y.useEffect(()=>{l()},[l]),{categories:e,loading:s,error:a,refresh:c,createCategory:u,updateCategory:h,deleteCategory:d}}function qde(){const{categories:e,loading:t,error:s,refresh:r,createCategory:a,updateCategory:i,deleteCategory:o}=zde(),[l,c]=y.useState(!1),[u,h]=y.useState({isOpen:!1,mode:"create",category:null}),[d,f]=y.useState({isOpen:!1,category:null}),m=async()=>{c(!0);try{await r()}finally{c(!1)}},p=()=>{h({isOpen:!0,mode:"create",category:null})},g=N=>{h({isOpen:!0,mode:"edit",category:N})},b=N=>{f({isOpen:!0,category:N})},v=async N=>{try{u.mode==="create"?(await a(N),h({isOpen:!1,mode:"create",category:null})):u.mode==="edit"&&u.category&&(await i(u.category.categoryID,N),h({isOpen:!1,mode:"edit",category:null}))}catch(k){throw k}},x=async()=>{if(d.category)try{await o(d.category.categoryID),f({isOpen:!1,category:null})}catch{}},w=()=>{h({isOpen:!1,mode:"create",category:null})},j=()=>{f({isOpen:!1,category:null})};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-indigo-50",children:[n.jsx(es,{title:"Qun l danh mc",description:"Qun l v gim st tt c danh mc kha hc trong h thng",icon:V5,gradientFrom:"from-purple-600",gradientVia:"via-purple-600",gradientTo:"to-purple-500",statistics:[{label:"Tng danh mc",value:e.length,ariaLabel:`${e.length} tng danh mc`}]}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:py-8",children:t?n.jsx("div",{className:"flex justify-center items-center py-16 sm:py-24",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full mb-4",children:n.jsx(et,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-spin text-purple-600","aria-hidden":"true"})}),n.jsx("p",{className:"text-gray-700 font-semibold text-base sm:text-lg",children:"ang ti danh mc..."}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Vui lng i trong khi chng ti ti d liu danh mc"})]})}):s?n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-red-100 p-8 sm:p-16 text-center hover:shadow-lg transition-all",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-br from-red-100 via-red-100 to-red-100 rounded-full flex items-center justify-center",children:n.jsx(at,{className:"w-8 h-8 sm:w-12 sm:h-12 text-red-500","aria-hidden":"true"})})}),n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3",children:"Li ti danh mc"}),n.jsx("p",{className:"text-gray-600 text-base sm:text-lg mb-6",children:s}),n.jsx("button",{onClick:m,disabled:l,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 mx-auto focus:ring-2 focus:ring-purple-500 focus:ring-offset-2","aria-label":l?"ang th li ti danh mc":"Th li ti danh mc",children:l?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),"ang th li..."]}):"Th li"})]}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 hover:shadow-lg transition-all",children:[n.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Danh sch danh mc"}),n.jsx("p",{className:"text-gray-600 text-sm mt-1","aria-live":"polite",children:l?"ang ti...":`Hin th ${e.length} danh mc`})]}),n.jsxs(H,{onClick:p,className:"bg-purple-600 hover:bg-purple-700 text-white","aria-label":"Thm danh mc mi",children:[n.jsx(gn,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Thm"]})]})}),n.jsx(Ude,{categories:e,onEdit:g,onDelete:b,isRefreshing:l})]})})}),n.jsx(Vde,{isOpen:u.isOpen,onClose:w,onSubmit:v,initialData:u.category||void 0,mode:u.mode}),d.category&&n.jsx(Bde,{isOpen:d.isOpen,onClose:j,onConfirm:x,category:d.category})]})}const Hde=({languages:e,onEdit:t,onDelete:s,isRefreshing:r})=>n.jsx("div",{className:"overflow-x-auto",role:"region","aria-label":"Languages table",tabIndex:0,children:e.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cha c ngn ng no"}),n.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"Bt u bng cch to ngn ng ging dy u tin cho h thng"})]}):n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{className:"hover:bg-transparent",children:[n.jsx(Ae,{className:"w-16 text-center",scope:"col",children:"ID"}),n.jsx(Ae,{className:"min-w-[120px]",scope:"col",children:"Tn (VN)"}),n.jsx(Ae,{className:"min-w-[120px]",scope:"col",children:"Tn (EN)"}),n.jsx(Ae,{className:"min-w-[100px]",scope:"col",children:"Trng thi"}),n.jsx(Ae,{className:"min-w-[100px]",scope:"col",children:" kh"}),n.jsx(Ae,{className:"min-w-[150px]",scope:"col",children:"Chng ch"}),n.jsx(Ae,{className:"min-w-[100px]",scope:"col",children:"Hnh nh"}),n.jsx(Ae,{className:"w-[150px] text-center",scope:"col",children:"Hnh ng"})]})}),n.jsx(Fs,{children:e.map(a=>n.jsxs(Mt,{className:"hover:bg-gray-50 focus-within:bg-gray-50",children:[n.jsx(Ee,{className:"text-center",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.id})}),n.jsx(Ee,{children:n.jsx("div",{className:"font-semibold text-gray-900",children:a.nameVi})}),n.jsx(Ee,{children:n.jsx("div",{className:"text-sm text-gray-700",children:a.nameEn})}),n.jsx(Ee,{children:n.jsx(Pe,{variant:a.isActive?"default":"secondary",className:a.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":`Trng thi: ${a.isActive?"Hot ng":"Khng hot ng"}`,children:a.isActive?"Hot ng":"Khng hot ng"})}),n.jsx(Ee,{children:n.jsx("div",{className:"text-sm text-gray-700",children:a.difficulty})}),n.jsx(Ee,{children:n.jsx("div",{className:"text-sm text-gray-700",children:a.certificates})}),n.jsx(Ee,{children:n.jsx("div",{className:"flex items-center justify-center",children:a.thumbnailUrl?n.jsx("img",{src:a.thumbnailUrl,alt:`${a.nameVi} thumbnail`,className:"w-12 h-12 object-cover rounded-md border border-gray-200",onError:i=>{i.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"%3E%3Crect x="3" y="3" width="18" height="18" rx="2" ry="2"%3E%3C/rect%3E%3Ccircle cx="8.5" cy="8.5" r="1.5"%3E%3C/circle%3E%3Cpolyline points="21 15 16 10 5 21"%3E%3C/polyline%3E%3C/svg%3E'}}):n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-md flex items-center justify-center",children:n.jsxs("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),n.jsx("polyline",{points:"21 15 16 10 5 21"})]})})})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex justify-center gap-2",children:[n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>t(a),className:"text-indigo-600 border-indigo-200 hover:bg-indigo-50 hover:border-indigo-300 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2","aria-label":`Chnh sa ${a.nameVi}`,title:"Chnh sa",children:[n.jsx(va,{className:"w-4 h-4","aria-hidden":"true"}),n.jsx("span",{className:"sr-only",children:"Chnh sa"})]}),n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>s(a),className:"text-red-600 border-red-200 hover:bg-red-50 hover:border-red-300 focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":`Xa ${a.nameVi}`,title:"Xa",children:[n.jsx(Ht,{className:"w-4 h-4","aria-hidden":"true"}),n.jsx("span",{className:"sr-only",children:"Xa"})]})]})})]},a.id))})]})});var ix="Switch",[Wde]=Jn(ix),[Kde,Gde]=Wde(ix),x6=y.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...d}=e,[f,m]=y.useState(null),p=mt(t,w=>m(w)),g=y.useRef(!1),b=f?h||!!f.closest("form"):!0,[v,x]=$r({prop:a,defaultProp:i??!1,onChange:u,caller:ix});return n.jsxs(Kde,{scope:s,checked:v,disabled:l,children:[n.jsx(qe.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":w6(v),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:p,onClick:Ie(e.onClick,w=>{x(j=>!j),b&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),b&&n.jsx(b6,{control:f,bubbles:!g.current,name:r,value:c,checked:v,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});x6.displayName=ix;var y6="SwitchThumb",v6=y.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,a=Gde(y6,s);return n.jsx(qe.span,{"data-state":w6(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});v6.displayName=y6;var Yde="SwitchBubbleInput",b6=y.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...a},i)=>{const o=y.useRef(null),l=mt(o,i),c=_g(s),u=Ag(t);return y.useEffect(()=>{const h=o.current;if(!h)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==s&&m){const p=new Event("click",{bubbles:r});m.call(h,s),h.dispatchEvent(p)}},[c,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});b6.displayName=Yde;function w6(e){return e?"checked":"unchecked"}var j6=x6,Qde=v6;const SN=y.forwardRef(({className:e,...t},s)=>n.jsx(j6,{className:fe("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(Qde,{className:fe("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));SN.displayName=j6.displayName;const Zde=({isOpen:e,onClose:t,onSubmit:s,initialData:r,mode:a})=>{const[i,o]=re.useState({nameVi:"",nameEn:"",isActive:!0,difficulty:"",certificates:"",thumbnailUrl:""}),[l,c]=re.useState(""),[u,h]=re.useState({}),[d,f]=re.useState(!1),[m,p]=re.useState(null),g=y.useRef(null),b=y.useRef(null),v=y.useRef(null),x=y.useRef(null),w=y.useRef(null);y.useEffect(()=>{if(e){if(a==="edit"&&r){const T={nameVi:r.nameVi||"",nameEn:r.nameEn||"",isActive:r.isActive??!0,difficulty:r.difficulty||"",certificates:r.certificates||"",thumbnailUrl:r.thumbnailUrl||""};o(T),c(r.nameEn||"")}else o({nameVi:"",nameEn:"",isActive:!0,difficulty:"",certificates:"",thumbnailUrl:""}),c("");h({}),p(null),f(!1)}},[e,a,r]);const j=T=>{try{return new URL(T),!0}catch{return!1}},N=T=>/^[a-zA-Z0-9\s\-_]+$/.test(T),k=()=>{const T={};return!i.nameVi||i.nameVi.trim()===""?T.nameVi="Trng ny l bt buc":i.nameVi.trim().length<2?T.nameVi="Tn ting Vit phi c t nht 2 k t":i.nameVi.trim().length>100&&(T.nameVi="Tn ting Vit khng c vt qu 100 k t"),!i.nameEn||i.nameEn.trim()===""?T.nameEn="Trng ny l bt buc":i.nameEn.trim().length<2?T.nameEn="Tn ting Anh phi c t nht 2 k t":i.nameEn.trim().length>100?T.nameEn="Tn ting Anh khng c vt qu 100 k t":N(i.nameEn.trim())||(T.nameEn="Tn ting Anh ch c cha ch ci, s, khong trng v du gch ngang"),!i.difficulty||i.difficulty.trim()===""?T.difficulty="Trng ny l bt buc":i.difficulty.trim().length>50&&(T.difficulty=" kh khng c vt qu 50 k t"),!i.certificates||i.certificates.trim()===""?T.certificates="Trng ny l bt buc":i.certificates.trim().length>200&&(T.certificates="Chng ch khng c vt qu 200 k t"),!i.thumbnailUrl||i.thumbnailUrl.trim()===""?T.thumbnailUrl="Trng ny l bt buc":j(i.thumbnailUrl.trim())||(T.thumbnailUrl="URL khng hp l. Vui lng nhp URL y  (v d: https://example.com/image.jpg)"),h(T),Object.keys(T).length>0?(T.nameVi&&g.current?g.current.focus():T.nameEn&&b.current?b.current.focus():T.difficulty&&v.current?v.current.focus():T.certificates&&x.current?x.current.focus():T.thumbnailUrl&&w.current&&w.current.focus(),!1):!0},S=async T=>{if(T.preventDefault(),p(null),!!k()){f(!0);try{await s({nameVi:i.nameVi.trim(),nameEn:i.nameEn.trim(),isActive:i.isActive,difficulty:i.difficulty.trim(),certificates:i.certificates.trim(),thumbnailUrl:i.thumbnailUrl.trim()}),o({nameVi:"",nameEn:"",isActive:!0,difficulty:"",certificates:"",thumbnailUrl:""}),c(""),h({}),p(null)}catch(_){const A=(_==null?void 0:_.message)||" xy ra li. Vui lng th li.";A.includes(" tn ti")||A.includes("LANGUAGE_ALREADY_EXISTS")?(h({nameEn:"Language (name_en)  tn ti, vui lng chn tn khc"}),b.current&&b.current.focus()):A.includes("LANGUAGE_NAME_EN_IN_USE")||A.includes("khng th i Name (EN)")?(iD({title:"Khng th cp nht",description:"Khng th i Name (EN) v  c kha hc ang s dng. Bn ch c th chnh sa cc thng tin khc",variant:"destructive"}),o(D=>({...D,nameEn:l}))):p(A)}finally{f(!1)}}},C=()=>{d||(o({nameVi:"",nameEn:"",isActive:!0,difficulty:"",certificates:"",thumbnailUrl:""}),c(""),h({}),p(null),t())},E=(T,_)=>{o(A=>({...A,[T]:_})),u[T]&&h(A=>({...A,[T]:void 0})),m&&p(null)};return n.jsx(ht,{open:e,onOpenChange:C,children:n.jsx(lt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto","aria-describedby":"language-form-description",children:n.jsxs("form",{onSubmit:S,children:[n.jsxs(ct,{children:[n.jsx(ut,{className:"flex items-center gap-2",children:a==="create"?n.jsxs(n.Fragment,{children:[n.jsx(Un,{className:"w-5 h-5 text-blue-600","aria-hidden":"true"}),"Thm Language"]}):n.jsxs(n.Fragment,{children:[n.jsx(va,{className:"w-5 h-5 text-blue-600","aria-hidden":"true"}),"Chnh sa Language"]})}),n.jsx(Zn,{id:"language-form-description",children:a==="create"?"To mi ngn ng ging dy cho h thng.":"Cp nht thng tin ngn ng ging dy."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"nameVi",className:"text-sm font-medium",children:["Tn ting Vit ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"nameVi",ref:g,type:"text",placeholder:"Nhp tn ting Vit",value:i.nameVi,onChange:T=>E("nameVi",T.target.value),disabled:d,className:u.nameVi?"border-red-500 focus-visible:ring-red-500":"","aria-invalid":!!u.nameVi,"aria-describedby":u.nameVi?"nameVi-error":void 0}),u.nameVi&&n.jsx("p",{id:"nameVi-error",className:"text-sm text-red-500 font-medium",role:"alert",children:u.nameVi})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"nameEn",className:"text-sm font-medium",children:["Tn ting Anh ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"nameEn",ref:b,type:"text",placeholder:"Nhp tn ting Anh (ch ch ci, s, khong trng)",value:i.nameEn,onChange:T=>E("nameEn",T.target.value),disabled:d,className:u.nameEn?"border-red-500 focus-visible:ring-red-500":"","aria-invalid":!!u.nameEn,"aria-describedby":u.nameEn?"nameEn-error":void 0}),u.nameEn&&n.jsx("p",{id:"nameEn-error",className:"text-sm text-red-500 font-medium",role:"alert",children:u.nameEn})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"difficulty",className:"text-sm font-medium",children:[" kh ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"difficulty",ref:v,type:"text",placeholder:"Nhp  kh (v d: Beginner, Intermediate, Advanced)",value:i.difficulty,onChange:T=>E("difficulty",T.target.value),disabled:d,className:u.difficulty?"border-red-500 focus-visible:ring-red-500":"","aria-invalid":!!u.difficulty,"aria-describedby":u.difficulty?"difficulty-error":void 0}),u.difficulty&&n.jsx("p",{id:"difficulty-error",className:"text-sm text-red-500 font-medium",role:"alert",children:u.difficulty})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"certificates",className:"text-sm font-medium",children:["Chng ch ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"certificates",ref:x,placeholder:"Nhp cc chng ch lin quan (v d: IELTS, TOEFL, HSK)",value:i.certificates,onChange:T=>E("certificates",T.target.value),disabled:d,className:u.certificates?"border-red-500 focus-visible:ring-red-500":"",rows:3,"aria-invalid":!!u.certificates,"aria-describedby":u.certificates?"certificates-error":void 0}),u.certificates&&n.jsx("p",{id:"certificates-error",className:"text-sm text-red-500 font-medium",role:"alert",children:u.certificates})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"thumbnailUrl",className:"text-sm font-medium",children:["URL hnh nh ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"thumbnailUrl",ref:w,type:"url",placeholder:"https://example.com/image.jpg",value:i.thumbnailUrl,onChange:T=>E("thumbnailUrl",T.target.value),disabled:d,className:u.thumbnailUrl?"border-red-500 focus-visible:ring-red-500":"","aria-invalid":!!u.thumbnailUrl,"aria-describedby":u.thumbnailUrl?"thumbnailUrl-error":void 0}),u.thumbnailUrl&&n.jsx("p",{id:"thumbnailUrl-error",className:"text-sm text-red-500 font-medium",role:"alert",children:u.thumbnailUrl})]}),n.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ve,{htmlFor:"isActive",className:"text-sm font-medium",children:"Trng thi"}),n.jsx("p",{className:"text-xs text-gray-500",children:i.isActive?"Language ang hot ng":"Language khng hot ng"})]}),n.jsx(SN,{id:"isActive",checked:i.isActive,onCheckedChange:T=>E("isActive",T),disabled:d,"aria-label":"Trng thi hot ng ca language"})]})]}),m&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:n.jsx("p",{className:"text-red-800 text-sm font-medium",children:m})}),n.jsxs(Nt,{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-0",children:[n.jsx(H,{type:"button",variant:"outline",onClick:C,disabled:d,className:"w-full sm:w-auto","aria-label":"Hy",children:"Hy"}),n.jsx(H,{type:"submit",disabled:d,className:"min-w-[120px] w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white","aria-label":d?"ang x l, vui lng i":a==="create"?"To language mi":"Cp nht language",children:d?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),"ang x l..."]}):a==="create"?n.jsxs(n.Fragment,{children:[n.jsx(Un,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"To mi"]}):n.jsxs(n.Fragment,{children:[n.jsx(va,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Cp nht"]})})]})]})})})},Xde=({isOpen:e,onClose:t,onConfirm:s,language:r})=>{const[a,i]=y.useState(!1),o=async()=>{i(!0);try{await s()}catch{}finally{i(!1)}},l=()=>{a||t()};return n.jsx(ht,{open:e,onOpenChange:l,children:n.jsxs(lt,{className:"sm:max-w-[500px]","aria-describedby":"delete-description",children:[n.jsxs(ct,{children:[n.jsxs(ut,{className:"flex items-center gap-2 text-red-600",children:[n.jsx(ro,{className:"w-5 h-5","aria-hidden":"true"}),"Xc nhn xa language"]}),n.jsx(Zn,{id:"delete-description",children:"Bn c chc chn mun xa language ny? Hnh ng ny khng th hon tc."})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 my-4",role:"region","aria-label":"Language information",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[r.thumbnailUrl?n.jsx("img",{src:r.thumbnailUrl,alt:`${r.nameVi} thumbnail`,className:"w-16 h-16 object-cover rounded-md border border-gray-200 mx-auto sm:mx-0",onError:c=>{c.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"%3E%3Crect x="3" y="3" width="18" height="18" rx="2" ry="2"%3E%3C/rect%3E%3Ccircle cx="8.5" cy="8.5" r="1.5"%3E%3C/circle%3E%3Cpolyline points="21 15 16 10 5 21"%3E%3C/polyline%3E%3C/svg%3E'}}):n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-md flex items-center justify-center mx-auto sm:mx-0",children:n.jsxs("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),n.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),n.jsxs("div",{className:"flex-1 space-y-2 text-center sm:text-left",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:r.nameVi}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-gray-600",children:[n.jsx("span",{children:r.nameEn}),n.jsx("span",{className:"hidden sm:inline text-gray-400",children:""}),n.jsxs("span",{children:["ID: ",r.id]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-2 sm:gap-3",children:[n.jsx(Pe,{variant:r.isActive?"default":"secondary",className:r.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","aria-label":`Trng thi: ${r.isActive?"Hot ng":"Khng hot ng"}`,children:r.isActive?"Hot ng":"Khng hot ng"}),n.jsx(Pe,{variant:"outline",children:r.difficulty})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Chng ch:"})," ",r.certificates]})]})]})}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-yellow-800 text-sm",children:[n.jsx("strong",{children:"Lu :"})," Nu language ny ang c s dng bi cc kha hc, bn s khng th xa."]})}),n.jsxs(Nt,{className:"flex flex-col-reverse sm:flex-row gap-2 sm:gap-0",children:[n.jsx(H,{variant:"outline",onClick:l,disabled:a,className:"w-full sm:w-auto","aria-label":"Hy",children:"Hy"}),n.jsx(H,{onClick:o,disabled:a,className:"min-w-[100px] w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white","aria-label":a?"ang x l, vui lng i":`Xa ${r.nameVi}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),"ang x l..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Xa"]})})]})]})})};var Lo=(e=>(e.LANGUAGE_ALREADY_EXISTS="LANGUAGE_ALREADY_EXISTS",e.LANGUAGE_NOT_FOUND="LANGUAGE_NOT_FOUND",e.LANGUAGE_IN_USE="LANGUAGE_IN_USE",e.LANGUAGE_NAME_EN_IN_USE="LANGUAGE_NAME_EN_IN_USE",e))(Lo||{});const Gf={getLanguages:async()=>{var e,t,s,r,a;try{const i=await ee.get("/admin/languages");if(((e=i==null?void 0:i.data)==null?void 0:e.code)!==0)throw new Error(((t=i==null?void 0:i.data)==null?void 0:t.message)||"Failed to fetch languages");const o=((s=i==null?void 0:i.data)==null?void 0:s.result)||[];if(!Array.isArray(o))throw new Error("Invalid response format: expected array of languages");return o.map(c=>({id:c.id||0,nameVi:c.nameVi||"",nameEn:c.nameEn||"",isActive:!!c.isActive,difficulty:c.difficulty||"",certificates:c.certificates||"",thumbnailUrl:c.thumbnailUrl||"",createdAt:c.createdAt,updatedAt:c.updatedAt}))}catch(i){throw new Error(((a=(r=i==null?void 0:i.response)==null?void 0:r.data)==null?void 0:a.message)||i.message||"Failed to fetch languages")}},getLanguageById:async e=>{var t,s,r,a,i,o,l;try{const c=await ee.get(`/admin/languages/${e}`);if(((t=c==null?void 0:c.data)==null?void 0:t.code)!==0)throw new Error(((s=c==null?void 0:c.data)==null?void 0:s.message)||"Failed to fetch language");const u=(r=c==null?void 0:c.data)==null?void 0:r.result;if(!u)throw new Error("Language not found");return{id:u.id||0,nameVi:u.nameVi||"",nameEn:u.nameEn||"",isActive:!!u.isActive,difficulty:u.difficulty||"",certificates:u.certificates||"",thumbnailUrl:u.thumbnailUrl||"",createdAt:u.createdAt,updatedAt:u.updatedAt}}catch(c){const u=(i=(a=c==null?void 0:c.response)==null?void 0:a.data)==null?void 0:i.code,h=(l=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:l.message;throw u===Lo.LANGUAGE_NOT_FOUND?new Error("Language khng tn ti"):new Error(h||c.message||"Failed to fetch language")}},createLanguage:async e=>{var t,s,r,a,i,o,l;try{const c=await ee.post("/admin/languages",e);if(((t=c==null?void 0:c.data)==null?void 0:t.code)!==0)throw new Error(((s=c==null?void 0:c.data)==null?void 0:s.message)||"Failed to create language");const u=(r=c==null?void 0:c.data)==null?void 0:r.result;if(!u)throw new Error("Failed to create language");return{id:u.id||0,nameVi:u.nameVi||"",nameEn:u.nameEn||"",isActive:!!u.isActive,difficulty:u.difficulty||"",certificates:u.certificates||"",thumbnailUrl:u.thumbnailUrl||"",createdAt:u.createdAt,updatedAt:u.updatedAt}}catch(c){const u=(i=(a=c==null?void 0:c.response)==null?void 0:a.data)==null?void 0:i.code,h=(l=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:l.message;throw u===Lo.LANGUAGE_ALREADY_EXISTS?new Error("Language (name_en)  tn ti, vui lng chn tn khc"):new Error(h||c.message||"Failed to create language")}},updateLanguage:async(e,t)=>{var s,r,a,i,o,l,c;try{const u=await ee.put(`/admin/languages/${e}`,t);if(((s=u==null?void 0:u.data)==null?void 0:s.code)!==0)throw new Error(((r=u==null?void 0:u.data)==null?void 0:r.message)||"Failed to update language");const h=(a=u==null?void 0:u.data)==null?void 0:a.result;if(!h)throw new Error("Failed to update language");return{id:h.id||0,nameVi:h.nameVi||"",nameEn:h.nameEn||"",isActive:!!h.isActive,difficulty:h.difficulty||"",certificates:h.certificates||"",thumbnailUrl:h.thumbnailUrl||"",createdAt:h.createdAt,updatedAt:h.updatedAt}}catch(u){const h=(o=(i=u==null?void 0:u.response)==null?void 0:i.data)==null?void 0:o.code,d=(c=(l=u==null?void 0:u.response)==null?void 0:l.data)==null?void 0:c.message;throw h===Lo.LANGUAGE_NOT_FOUND?new Error("Language khng tn ti"):h===Lo.LANGUAGE_NAME_EN_IN_USE?new Error("Khng th i Name (EN) v  c kha hc ang s dng. Bn ch c th chnh sa cc thng tin khc"):h===Lo.LANGUAGE_ALREADY_EXISTS?new Error("Language (name_en)  tn ti, vui lng chn tn khc"):new Error(d||u.message||"Failed to update language")}},deleteLanguage:async e=>{var t,s,r,a,i,o,l,c,u,h;try{const d=await ee.delete(`/admin/languages/${e}`);if(d.status===204)return;if(d.status===200){if(((t=d==null?void 0:d.data)==null?void 0:t.code)===0||!((s=d==null?void 0:d.data)!=null&&s.code))return;if(((r=d==null?void 0:d.data)==null?void 0:r.code)!==0)throw new Error(((a=d==null?void 0:d.data)==null?void 0:a.message)||"Failed to delete language")}}catch(d){if(((i=d.response)==null?void 0:i.status)===200||((o=d.response)==null?void 0:o.status)===204)return;const f=(c=(l=d==null?void 0:d.response)==null?void 0:l.data)==null?void 0:c.code,m=(h=(u=d==null?void 0:d.response)==null?void 0:u.data)==null?void 0:h.message;throw f===Lo.LANGUAGE_IN_USE?new Error("Khng th xa v ang c kha hc s dng language ny"):new Error(m||d.message||"Failed to delete language")}}};function Jde(){const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,i]=y.useState(null),{toast:o}=jt(),l=y.useCallback(async()=>{try{r(!0),i(null);const f=await Gf.getLanguages();t(f)}catch(f){const m=f.message||"Failed to load languages";i(m),o({title:"Li ti danh sch",description:m,variant:"destructive"})}finally{r(!1)}},[o]),c=y.useCallback(async()=>{await l()},[l]),u=y.useCallback(async f=>{try{const m=await Gf.createLanguage(f);t(p=>[...p,m]),o({title:"Thnh cng",description:"To language thnh cng",variant:"default"})}catch(m){const p=m.message||"Failed to create language";throw new Error(p)}},[o]),h=y.useCallback(async(f,m,p)=>{try{const g=await Gf.updateLanguage(f,m);t(b=>b.map(v=>v.id===f?g:v)),o({title:"Thnh cng",description:"Cp nht language thnh cng",variant:"default"})}catch(g){const b=g.message||"Failed to update language";throw new Error(b)}},[o]),d=y.useCallback(async f=>{try{await Gf.deleteLanguage(f),t(m=>m.filter(p=>p.id!==f)),o({title:"Thnh cng",description:"Xa language thnh cng",variant:"default"})}catch(m){const p=m.message||"Failed to delete language";throw o({title:"Li xa language",description:p,variant:"destructive"}),new Error(p)}},[o]);return y.useEffect(()=>{l()},[l]),{languages:e,loading:s,error:a,refresh:c,createLanguage:u,updateLanguage:h,deleteLanguage:d}}function ehe(){const{languages:e,loading:t,error:s,refresh:r,createLanguage:a,updateLanguage:i,deleteLanguage:o}=Jde(),[l,c]=y.useState(!1),[u,h]=y.useState({isOpen:!1,mode:"create",language:null}),[d,f]=y.useState({isOpen:!1,language:null}),m=e.filter(k=>k.isActive).length,p=async()=>{c(!0);try{await r()}finally{c(!1)}},g=()=>{h({isOpen:!0,mode:"create",language:null})},b=k=>{h({isOpen:!0,mode:"edit",language:k})},v=k=>{f({isOpen:!0,language:k})},x=async k=>{try{u.mode==="create"?(await a(k),h({isOpen:!1,mode:"create",language:null})):u.mode==="edit"&&u.language&&(await i(u.language.id,k,u.language.nameEn),h({isOpen:!1,mode:"edit",language:null}))}catch(S){throw S}},w=async()=>{if(d.language)try{await o(d.language.id),f({isOpen:!1,language:null})}catch{}},j=()=>{h({isOpen:!1,mode:"create",language:null})},N=()=>{f({isOpen:!1,language:null})};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-indigo-50",children:[n.jsx(es,{title:"Qun l ngn ng",description:"Qun l v gim st tt c ngn ng ging dy trong h thng",icon:Un,gradientFrom:"from-purple-600",gradientVia:"via-purple-600",gradientTo:"to-purple-500",statistics:[{label:"Tng ngn ng",value:e.length,ariaLabel:`${e.length} tng ngn ng`},{label:"Ngn ng hot ng",value:m,ariaLabel:`${m} ngn ng hot ng`}]}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:py-8",children:t?n.jsx("div",{className:"flex justify-center items-center py-16 sm:py-24",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full mb-4",children:n.jsx(et,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-spin text-purple-600","aria-hidden":"true"})}),n.jsx("p",{className:"text-gray-700 font-semibold text-base sm:text-lg",children:"ang ti ngn ng..."}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Vui lng i trong khi chng ti ti d liu ngn ng"})]})}):s?n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-red-100 p-8 sm:p-16 text-center hover:shadow-lg transition-all",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-br from-red-100 via-red-100 to-red-100 rounded-full flex items-center justify-center",children:n.jsx(at,{className:"w-8 h-8 sm:w-12 sm:h-12 text-red-500","aria-hidden":"true"})})}),n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3",children:"Li ti ngn ng"}),n.jsx("p",{className:"text-gray-600 text-base sm:text-lg mb-6",children:s}),n.jsx("button",{onClick:p,disabled:l,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 mx-auto focus:ring-2 focus:ring-purple-500 focus:ring-offset-2","aria-label":l?"ang th li ti ngn ng":"Th li ti ngn ng",children:l?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),"ang th li..."]}):"Th li"})]}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 hover:shadow-lg transition-all",children:[n.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Danh sch ngn ng"}),n.jsx("p",{className:"text-gray-600 text-sm mt-1","aria-live":"polite",children:l?"ang ti...":`Hin th ${e.length} ngn ng`})]}),n.jsxs(H,{onClick:g,className:"bg-purple-600 hover:bg-purple-700 text-white","aria-label":"Thm ngn ng mi",children:[n.jsx(gn,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Thm"]})]})}),n.jsx(Hde,{languages:e,onEdit:b,onDelete:v,isRefreshing:l})]})})}),n.jsx(Zde,{isOpen:u.isOpen,onClose:j,onSubmit:x,initialData:u.language||void 0,mode:u.mode}),d.language&&n.jsx(Xde,{isOpen:d.isOpen,onClose:N,onConfirm:w,language:d.language})]})}const YC=async e=>{var t,s;try{const r=await ee.get(`/tutor/courses/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to fetch course details");return r.data.result}catch(r){throw console.error("Error fetching course details:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to fetch course details")}},the=async(e,t)=>{var s,r;try{const a=await ee.put(`/tutor/courses/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update course");return a.data.result}catch(a){throw console.error("Error updating course:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update course")}},nhe=async(e,t)=>{var s,r;try{const a=await ee.put(`/tutor/courses/sections/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update section");return a.data.result}catch(a){throw console.error("Error updating section:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update section")}},she=async(e,t)=>{var s,r;try{const a=await ee.put(`/tutor/courses/lessons/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update lesson");return a.data.result}catch(a){throw console.error("Error updating lesson:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update lesson")}},rhe=async(e,t)=>{var s,r;try{const a=await ee.put(`/tutor/resources/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update resource");return a.data.result}catch(a){throw console.error("Error updating resource:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update resource")}},ahe=async e=>{var t,s;try{const r=await ee.delete(`/tutor/courses/sections/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to delete section")}catch(r){throw console.error("Error deleting section:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to delete section")}},ihe=async e=>{var t,s;try{const r=await ee.delete(`/tutor/courses/lessons/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to delete lesson")}catch(r){throw console.error("Error deleting lesson:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to delete lesson")}},ohe=async e=>{var t,s;try{const r=await ee.delete(`/tutor/resources/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to delete resource")}catch(r){throw console.error("Error deleting resource:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to delete resource")}},lhe=async e=>{var t,s;try{const r=await ee.put(`/tutor/courses/${e}/submit`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to submit course");return r.data.result}catch(r){throw console.error("Error submitting course:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to submit course")}},che=async e=>{var t,s;try{const r=await ee.get(`/courses/${e}/objectives`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to fetch objectives");return r.data.result||[]}catch(r){throw console.error("Error fetching objectives:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to fetch objectives")}},uhe=async(e,t)=>{var s,r;try{const a=await ee.post(`/courses/${e}/objectives`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to create objective");return a.data.result}catch(a){throw console.error("Error creating objective:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to create objective")}},dhe=async(e,t)=>{var s,r;try{if(!e||typeof e!="number"||e<=0)throw new Error(`Invalid objective ID: ${e}`);const a=await ee.put(`/course-objectives/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update objective");return a.data.result}catch(a){throw console.error("Error updating objective:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update objective")}},hhe=async e=>{var t,s;try{if(!e||typeof e!="number"||e<=0)throw new Error(`Invalid objective ID: ${e}`);const r=await ee.delete(`/course-objectives/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to delete objective")}catch(r){throw console.error("Error deleting objective:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to delete objective")}},fhe=async e=>{var t,s;try{const r=await ee.get(`/tutor/courses/drafts/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to fetch draft course details");if(!r.data.result)throw new Error("Invalid response: missing draft course data");return r.data.result}catch(r){throw console.error("Error fetching draft course details:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to fetch draft course details")}},QC=async e=>{var t,s;try{const r=await ee.post(`/tutor/courses/${e}/draft`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to create course draft");if(!r.data.result)throw new Error("Invalid response: missing draft course data");return r.data.result}catch(r){throw console.error("Error creating course draft:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to create course draft")}},mhe=async(e,t)=>{var s,r;try{const a=await ee.put(`/tutor/courses/drafts/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update course draft")}catch(a){throw console.error("Error updating course draft:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update course draft")}},phe=async e=>{var t,s;try{const r=await ee.get(`/tutor/courses/drafts/${e}/objectives`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to fetch draft objectives");return r.data.result||[]}catch(r){throw console.error("Error fetching draft objectives:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to fetch draft objectives")}},ghe=async(e,t)=>{var s,r;try{const a=await ee.post(`/tutor/courses/drafts/${e}/objectives`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to create draft objective");if(!a.data.result)throw new Error("Invalid response: missing objective data");return a.data.result}catch(a){throw console.error("Error creating draft objective:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to create draft objective")}},xhe=async(e,t)=>{var s,r;try{const a=await ee.put(`/tutor/courses/drafts/objectives/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update draft objective")}catch(a){throw console.error("Error updating draft objective:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update draft objective")}},yhe=async e=>{var t,s;try{const r=await ee.delete(`/tutor/courses/drafts/objectives/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to delete draft objective")}catch(r){throw console.error("Error deleting draft objective:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to delete draft objective")}},vhe=async(e,t)=>{var s,r;try{const a=await ee.post(`/tutor/courses/drafts/${e}/sections`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to create draft section");if(!a.data.result)throw new Error("Invalid response: missing section data");return a.data.result}catch(a){throw console.error("Error creating draft section:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to create draft section")}},bhe=async(e,t)=>{var s,r;try{const a=await ee.put(`/tutor/courses/drafts/sections/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update draft section")}catch(a){throw console.error("Error updating draft section:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update draft section")}},whe=async e=>{var t,s;try{const r=await ee.delete(`/tutor/courses/drafts/sections/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to delete draft section")}catch(r){throw console.error("Error deleting draft section:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to delete draft section")}},jhe=async(e,t)=>{var s,r;try{const a=await ee.post(`/tutor/courses/drafts/sections/${e}/lessons`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to create draft lesson");if(!a.data.result)throw new Error("Invalid response: missing lesson data");return a.data.result}catch(a){throw console.error("Error creating draft lesson:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to create draft lesson")}},Nhe=async(e,t)=>{var s,r;try{const a=await ee.put(`/tutor/courses/drafts/lessons/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update draft lesson")}catch(a){throw console.error("Error updating draft lesson:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update draft lesson")}},khe=async e=>{var t,s;try{const r=await ee.delete(`/tutor/courses/drafts/lessons/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to delete draft lesson")}catch(r){throw console.error("Error deleting draft lesson:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to delete draft lesson")}},ZC=async(e,t)=>{var s,r;try{const a=await ee.post(`/tutor/courses/drafts/lessons/${e}/resources`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to create draft resource");if(!a.data.result)throw new Error("Invalid response: missing resource data");return a.data.result}catch(a){throw console.error("Error creating draft resource:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to create draft resource")}},XC=async(e,t)=>{var s,r;try{const a=await ee.put(`/tutor/courses/drafts/resources/${e}`,t);if(a.data.code!==0)throw new Error(a.data.message||"Failed to update draft resource")}catch(a){throw console.error("Error updating draft resource:",a),new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to update draft resource")}},JC=async e=>{var t,s;try{const r=await ee.delete(`/tutor/courses/drafts/resources/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to delete draft resource")}catch(r){throw console.error("Error deleting draft resource:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to delete draft resource")}},She=async e=>{var t,s;try{const r=await ee.put(`/tutor/courses/drafts/${e}/submit`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to submit course draft")}catch(r){throw console.error("Error submitting course draft:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to submit course draft")}};function Che({course:e,onSave:t,isSubmitting:s}){const{languages:r,isLoading:a,error:i,refetch:o}=tf(),[l,c]=y.useState({title:e.title,shortDescription:e.shortDescription||"",description:e.description,requirement:e.requirement||"",level:e.level||"BEGINNER",duration:e.duration,price:e.price,language:e.language,thumbnailURL:e.thumbnailURL,categoryID:e.categoryID}),[u,h]=y.useState({}),d=g=>{const{name:b,value:v}=g.target;c(x=>({...x,[b]:b==="duration"||b==="price"?parseFloat(v)||0:v})),u[b]&&h(x=>({...x,[b]:""}))},f=(g,b)=>{c(v=>({...v,[g]:b})),u[g]&&h(v=>({...v,[g]:""}))},m=()=>{const g={};if(l.title.trim()||(g.title="Please enter course title"),l.shortDescription.trim()||(g.shortDescription="Please enter short description"),l.description.trim()||(g.description="Please enter course description"),l.requirement.trim()||(g.requirement="Please enter course requirements"),l.duration<=0&&(g.duration="Duration must be greater than 0"),l.price<0&&(g.price="Price cannot be negative"),l.level||(g.level="Please select a level"),l.language.trim()||(g.language="Please select a language"),!l.thumbnailURL.trim())g.thumbnailURL="Vui lng nhp URL nh ba";else try{const b=new URL(l.thumbnailURL);if(b.protocol!=="http:"&&b.protocol!=="https:")g.thumbnailURL="URL phi bt u bng http:// hoc https://";else{const v=b.pathname.toLowerCase();[".jpg",".jpeg",".png",".webp",".gif"].some(j=>v.endsWith(j))||(g.thumbnailURL="URL phi l nh hp l (JPG, PNG, WEBP, GIF)")}}catch{g.thumbnailURL="URL khng hp l. Vui lng nhp URL y  (VD: https://example.com/image.jpg)"}return h(g),Object.keys(g).length===0},p=g=>{g.preventDefault(),m()&&t(l)};return n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"title",className:"text-base font-semibold mb-2",children:["Tiu  kha hc ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"title",name:"title",value:l.title,onChange:d,placeholder:"VD: Luyn thi IELTS ton din",disabled:s,className:u.title?"border-red-500":""}),u.title&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.title})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"shortDescription",className:"text-base font-semibold mb-2",children:["M t ngn ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"shortDescription",name:"shortDescription",value:l.shortDescription,onChange:d,placeholder:"Tm tt ngn gn v kha hc (ti a 200 k t)",disabled:s,maxLength:200,className:u.shortDescription?"border-red-500":""}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.shortDescription.length,"/200"]}),u.shortDescription&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.shortDescription})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"description",className:"text-base font-semibold mb-2",children:["M t kha hc ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"description",name:"description",value:l.description,onChange:d,placeholder:"Cung cp m t chi tit v kha hc ca bn...",rows:4,disabled:s,className:u.description?"border-red-500":""}),u.description&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.description})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"requirement",className:"text-base font-semibold mb-2",children:["Yu cu kha hc ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(It,{id:"requirement",name:"requirement",value:l.requirement,onChange:d,placeholder:"Lit k cc yu cu  tham gia kha hc ny...",rows:4,disabled:s,className:u.requirement?"border-red-500":""}),u.requirement&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.requirement})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"duration",className:"text-base font-semibold mb-2",children:["Thi lng (gi) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"duration",name:"duration",type:"number",min:"1",value:l.duration,onChange:d,placeholder:"VD: 40",disabled:s,className:u.duration?"border-red-500":""}),u.duration&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.duration})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"price",className:"text-base font-semibold mb-2",children:["Gi (VND) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"price",name:"price",type:"number",min:"0",value:l.price,onChange:d,placeholder:"VD: 750000",disabled:s,className:u.price?"border-red-500":""}),u.price&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.price})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"level",className:"text-base font-semibold mb-2",children:["Cp  ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs(on,{value:l.level,onValueChange:g=>f("level",g),children:[n.jsx(Gt,{disabled:s,className:u.level?"border-red-500":"",children:n.jsx(ln,{placeholder:"Chn cp "})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"BEGINNER",children:"C bn"}),n.jsx(We,{value:"INTERMEDIATE",children:"Trung cp"}),n.jsx(We,{value:"ADVANCED",children:"Nng cao"})]})]}),u.level&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.level})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"language",className:"text-base font-semibold mb-2",children:["Ngn ng ging dy ",n.jsx("span",{className:"text-red-500",children:"*"})]}),i?n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:n.jsx("p",{className:"text-red-600 text-sm",children:i})}),n.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:o,className:"w-full",children:"Th li"})]}):n.jsxs(n.Fragment,{children:[n.jsxs(on,{value:l.language,onValueChange:g=>f("language",g),disabled:s||a,children:[n.jsx(Gt,{className:u.language?"border-red-500":"",children:n.jsx(ln,{placeholder:a?"ang ti...":"Chn ngn ng"})}),n.jsx(Yt,{children:r.map(g=>n.jsx(We,{value:g.name,children:g.displayName},g.id))})]}),u.language&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.language})]})]})]}),n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"thumbnailURL",className:"text-base font-semibold mb-2",children:["URL nh ba ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"thumbnailURL",name:"thumbnailURL",value:l.thumbnailURL,onChange:d,placeholder:"VD: https://example.com/image.jpg",disabled:s,className:u.thumbnailURL?"border-red-500":""}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"nh dng h tr: JPG, PNG, WEBP, GIF"}),u.thumbnailURL&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.thumbnailURL})]}),n.jsx("div",{className:"flex justify-end gap-4 pt-6",children:n.jsx(H,{type:"submit",disabled:s,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:s?"ang lu...":"Tip tc"})})]})}function The({course:e,onUpdateSection:t,onUpdateLesson:s,onUpdateResource:r,onDeleteSection:a,onDeleteLesson:i,onDeleteResource:o,onCreateSection:l,onCreateLesson:c,onCreateResource:u,onBack:h,onSubmit:d,isSubmitting:f,isDraft:m=!1}){var zl,IN,MN;const[p,g]=y.useState(new Set([0])),[b,v]=y.useState(new Map),[x,w]=y.useState(null),[j,N]=y.useState(null),[k,S]=y.useState(null),[C,E]=y.useState(null),[T,_]=y.useState(null),[A,D]=y.useState(null),[R,U]=y.useState(null),[I,L]=y.useState(!1),[M,$]=y.useState(!1),[F,O]=y.useState({title:"",description:""}),[q,B]=y.useState(null),[z,W]=y.useState({title:"",duration:0,lessonType:"Video",videoURL:"",content:""}),[P,V]=y.useState(null),[Y,J]=y.useState(null),[te,ie]=y.useState(null),[de,G]=y.useState(0),[X,le]=y.useState({}),[Ne,Re]=y.useState({}),[oe,ae]=y.useState(""),[K,Z]=y.useState(""),[Q,pe]=y.useState(""),[me,ce]=y.useState(!1),[Se,He]=y.useState({resourceType:"PDF",resourceTitle:"",resourceURL:""}),[Ve,xn]=y.useState(null),[Ct,Ot]=y.useState([]),[Ea,tr]=y.useState(null),[Dn,Qr]=y.useState({resourceType:"PDF",resourceTitle:"",resourceURL:""}),_a=async()=>{if(F&&F.title.trim()){L(!0);try{const ge={sectionID:Math.floor(Math.random()*1e4),courseID:e.id,title:F.title,description:F.description,orderIndex:e.section.length,lessons:[]};l(ge),$(!1),O({title:"",description:""})}catch(ge){console.error("Error creating section:",ge),alert("Failed to create section")}finally{L(!1)}}},Aa=async()=>{var ge;if(q!==null&&z&&z.title.trim()){L(!0);try{const Fe=((ge=e.section[q].lessons)==null?void 0:ge.length)||0,_t={lessonID:Math.floor(Math.random()*1e4),title:z.title,duration:z.duration,lessonType:z.lessonType,videoURL:z.videoURL,content:z.content,orderIndex:Fe,createdAt:new Date().toISOString(),resources:[]};c(q,_t),B(null),W({title:"",duration:0,lessonType:"Video",videoURL:"",content:""})}catch(Fe){console.error("Error creating lesson:",Fe),alert("Failed to create lesson")}finally{L(!1)}}},Da=async()=>{if(Ea&&Dn&&Dn.resourceTitle.trim()){L(!0);try{const[ge,Fe]=Ea.split("-").map(Number),_t={resourceID:Math.floor(Math.random()*1e4),resourceType:Dn.resourceType,resourceTitle:Dn.resourceTitle,resourceURL:Dn.resourceURL,uploadedAt:new Date().toISOString()};u(ge,Fe,_t),tr(null),Qr({resourceType:"PDF",resourceTitle:"",resourceURL:""})}catch(ge){console.error("Error creating resource:",ge),alert("Failed to create resource")}finally{L(!1)}}},be=ge=>{const Fe=new Set(p);Fe.has(ge)?Fe.delete(ge):Fe.add(ge),g(Fe)},xe=(ge,Fe)=>{const _t=`${ge}-${Fe}`,rt=new Map(b);rt.has(_t)?rt.delete(_t):rt.set(_t,!0),v(rt)},Me=()=>{if(!Se.resourceTitle.trim()||!Se.resourceURL.trim()){alert("Please fill in resource title and URL");return}const ge={resourceID:Math.floor(Math.random()*1e4),resourceType:Se.resourceType,resourceTitle:Se.resourceTitle,resourceURL:Se.resourceURL,uploadedAt:new Date().toISOString()};Ot([...Ct,ge]),He({resourceType:"PDF",resourceTitle:"",resourceURL:""}),ce(!1)},ke=()=>{if(Ve===null)return;if(!Se.resourceTitle.trim()||!Se.resourceURL.trim()){alert("Please fill in resource title and URL");return}const ge=[...Ct];ge[Ve]={...ge[Ve],resourceType:Se.resourceType,resourceTitle:Se.resourceTitle,resourceURL:Se.resourceURL},Ot(ge),He({resourceType:"PDF",resourceTitle:"",resourceURL:""}),xn(null),ce(!1)},Ke=ge=>{const Fe=e.section[ge];w(ge),N({title:Fe.title,description:Fe.description})},Rn=async()=>{if(x!==null&&j&&j.title.trim()){L(!0);try{const Fe={...e.section[x],title:j.title,description:j.description};t(x,Fe),w(null),N(null)}finally{L(!1)}}},pt=(ge,Fe)=>{const _t=e.section[ge].lessons[Fe],rt=_t.lessonType,ls=_t.videoURL||"";S(`${ge}-${Fe}`),E({title:_t.title,duration:_t.duration,lessonType:rt,videoURL:ls,content:_t.content||""}),Ot(_t.resources||[]),Z(rt==="Video"?Ti(ls,!0):"")},On=async()=>{if(k&&C&&C.title.trim()){L(!0);try{const[ge,Fe]=k.split("-").map(Number),rt={...e.section[ge].lessons[Fe],title:C.title,duration:C.duration,lessonType:C.lessonType,videoURL:C.videoURL,content:C.content,resources:Ct};s(ge,Fe,rt),S(null),E(null),Ot([])}finally{L(!1)}}},$s=(ge,Fe,_t)=>{const rt=e.section[ge].lessons[Fe].resources[_t];_(`${ge}-${Fe}-${_t}`),D({resourceType:rt.resourceType,resourceTitle:rt.resourceTitle,resourceURL:rt.resourceURL});const ls=Ei(rt.resourceURL,!0);pe(ls)},px=async()=>{if(T&&A&&A.resourceTitle.trim()){L(!0);try{const[ge,Fe,_t]=T.split("-").map(Number),ls={...e.section[ge].lessons[Fe].resources[_t],resourceType:A.resourceType,resourceTitle:A.resourceTitle,resourceURL:A.resourceURL};r(ge,Fe,_t,ls),_(null),D(null)}finally{L(!1)}}},Ku=()=>{R&&(R.type==="section"?a(R.sectionIndex):R.type==="lesson"?i(R.sectionIndex,R.lessonIndex):R.type==="resource"&&o(R.sectionIndex,R.lessonIndex,R.resourceIndex),U(null))};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ni dung kha hc"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cc chng, bi hc v ti nguyn cho kha hc ca bn"})]}),n.jsxs(H,{onClick:()=>$(!0),className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[n.jsx(gn,{className:"w-4 h-4"}),"Thm chng"]})]}),n.jsx("div",{className:"space-y-4",children:e.section&&e.section.length>0?e.section.map((ge,Fe)=>{var _t;return n.jsxs(ye,{className:"overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 border-b cursor-pointer hover:bg-gray-100 transition",onClick:()=>be(Fe),children:[n.jsx(dp,{className:"w-5 h-5 text-gray-400"}),p.has(Fe)?n.jsx(uu,{className:"w-5 h-5 text-blue-600"}):n.jsx(ao,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 truncate",children:["Chng ",Fe+1,": ",ge.title]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((_t=ge.lessons)==null?void 0:_t.length)||0," bi hc"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{variant:"ghost",onClick:rt=>{rt.stopPropagation(),Ke(Fe)},children:n.jsx(Ha,{className:"w-4 h-4"})}),n.jsx(H,{variant:"ghost",onClick:rt=>{rt.stopPropagation(),U({type:"section",sectionIndex:Fe})},className:"text-red-500 hover:text-red-700",children:n.jsx(Ht,{className:"w-4 h-4"})})]})]}),p.has(Fe)&&n.jsxs(De,{className:"p-0",children:[n.jsx("div",{className:"divide-y",children:ge.lessons&&ge.lessons.length>0?ge.lessons.map((rt,ls)=>{var LN,FN;return n.jsxs("div",{className:"p-4 hover:bg-gray-50 transition",children:[n.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>xe(Fe,ls),children:[n.jsx(dp,{className:"w-4 h-4 text-gray-400"}),b.get(`${Fe}-${ls}`)?n.jsx(uu,{className:"w-4 h-4 text-gray-600"}):n.jsx(ao,{className:"w-4 h-4 text-gray-600"}),n.jsx(Zt,{className:"w-4 h-4 text-blue-600"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:rt.title}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[rt.duration," pht "," ",rt.lessonType]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{variant:"ghost",onClick:Zr=>{Zr.stopPropagation(),pt(Fe,ls)},children:n.jsx(Ha,{className:"w-4 h-4"})}),n.jsx(H,{variant:"ghost",onClick:Zr=>{Zr.stopPropagation(),U({type:"lesson",sectionIndex:Fe,lessonIndex:ls})},className:"text-red-500 hover:text-red-700",children:n.jsx(Ht,{className:"w-4 h-4"})})]})]}),b.get(`${Fe}-${ls}`)&&n.jsxs("div",{className:"mt-4 space-y-3 pl-7 border-l-2 border-gray-200",children:[rt.lessonType==="Video"&&rt.videoURL&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Video"}),n.jsxs("a",{href:rt.videoURL,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline mt-1 flex items-center gap-2",children:[n.jsx(rq,{className:"w-3 h-3"}),"Xem video"]})]}),rt.lessonType!=="Quiz"&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsxs("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:["Ti nguyn (",((LN=rt.resources)==null?void 0:LN.length)||0,")"]})}),rt.resources&&rt.resources.length>0&&n.jsx("div",{className:"space-y-2 mb-2",children:rt.resources.map((Zr,Gu)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx(Zt,{className:"w-4 h-4 text-orange-500 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Zr.resourceTitle}),n.jsx("p",{className:"text-xs text-gray-500",children:Zr.resourceType})]})]}),n.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[n.jsx(H,{size:"sm",variant:"ghost",onClick:()=>$s(Fe,ls,Gu),className:"h-8 w-8 p-0",children:n.jsx(Ha,{className:"w-3 h-3"})}),n.jsx(H,{size:"sm",variant:"ghost",onClick:()=>U({type:"resource",sectionIndex:Fe,lessonIndex:ls,resourceIndex:Gu}),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:n.jsx(Ht,{className:"w-3 h-3"})})]})]},Zr.resourceID))}),n.jsxs(H,{size:"sm",variant:"outline",onClick:()=>tr(`${Fe}-${ls}`),className:"w-full gap-2 border-dashed",children:[n.jsx(gn,{className:"w-3 h-3"}),"Thm ti nguyn"]})]}),rt.lessonType==="Quiz"&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsxs("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:["Cu hi (",X[((FN=rt.lessonID)==null?void 0:FN.toString())||""]||0,")"]})}),rt.lessonID?n.jsxs(n.Fragment,{children:[n.jsx(pue,{lessonId:rt.lessonID.toString(),isDraft:m,readOnly:!1,initialQuestions:Ne[rt.lessonID.toString()],onQuestionsChange:Zr=>{const Gu=rt.lessonID.toString();le(gx=>({...gx,[Gu]:Zr.length})),Re(gx=>({...gx,[Gu]:Zr}))}},`${rt.lessonID}-${de}`),n.jsxs(H,{size:"sm",variant:"outline",onClick:()=>V(rt.lessonID.toString()),className:"w-full gap-2 border-dashed mt-2",children:[n.jsx(gn,{className:"w-3 h-3"}),"To cu hi"]})]}):n.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:n.jsx("p",{className:"text-sm text-yellow-800",children:'Vui lng lu bi hc trc khi thm cu hi. Nhn nt "Lu thay i"  cui trang  lu.'})})]})]})]},rt.lessonID)}):n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Chng ny cha c bi hc no"})}),n.jsx("div",{className:"p-4 border-t bg-gray-50",children:n.jsxs(H,{size:"sm",variant:"outline",onClick:()=>{B(Fe),ae("")},className:"w-full gap-2",children:[n.jsx(gn,{className:"w-4 h-4"}),"Thm bi hc"]})})]})]},ge.sectionID)}):n.jsx(ye,{className:"p-8 text-center text-gray-500",children:n.jsx("p",{children:"Kha hc cha c chng no"})})}),n.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[n.jsx(H,{variant:"outline",onClick:h,disabled:f,children:"Quay li"}),n.jsx(H,{onClick:d,disabled:f,className:"gap-2 bg-green-600 hover:bg-green-700",children:f?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin"}),"ang gi..."]}):n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4"}),"Gi"]})})]})]}),n.jsx(ht,{open:x!==null,onOpenChange:ge=>{ge||(w(null),N(null))},children:n.jsxs(lt,{className:"sm:max-w-2xl",children:[n.jsx(ct,{children:n.jsx(ut,{children:"Chnh sa chng"})}),j&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"section-title",className:"text-base",children:"Tiu  chng"}),n.jsx(Ce,{id:"section-title",value:j.title,onChange:ge=>N({...j,title:ge.target.value}),disabled:I})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"section-description",className:"text-base",children:"M t chng"}),n.jsx(It,{id:"section-description",value:j.description,onChange:ge=>N({...j,description:ge.target.value}),disabled:I,rows:3})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{w(null),N(null)},disabled:I,children:"Hy"}),n.jsx(H,{onClick:Rn,disabled:I,children:I?"ang lu...":"Lu"})]})]})}),n.jsx(ht,{open:k!==null,onOpenChange:ge=>{ge||(S(null),E(null))},children:n.jsxs(lt,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ct,{children:n.jsx(ut,{children:"Chnh sa bi hc"})}),C&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-title",className:"text-base",children:"Tiu  bi hc"}),n.jsx(Ce,{id:"lesson-title",value:C.title,onChange:ge=>E({...C,title:ge.target.value}),disabled:I})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-duration",className:"text-sm",children:"Thi lng (pht)"}),n.jsx(Ce,{id:"lesson-duration",type:"number",min:"1",value:C.duration,onChange:ge=>E({...C,duration:parseInt(ge.target.value)||0}),disabled:I})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-type",className:"text-sm",children:"Loi bi hc"}),n.jsxs(on,{value:C.lessonType,onValueChange:ge=>E({...C,lessonType:ge}),disabled:!0,children:[n.jsx(Gt,{disabled:!0,children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"Video",children:"Video"}),n.jsx(We,{value:"Reading",children:"c"}),n.jsx(We,{value:"Quiz",children:"Quiz"})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Khng th thay i loi bi hc sau khi to"})]})]}),C.lessonType==="Video"&&n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-video",className:"text-base",children:"URL Video"}),n.jsx(Ce,{id:"lesson-video",value:C.videoURL,onChange:ge=>{const Fe=ge.target.value;E({...C,videoURL:Fe}),Z(Ti(Fe,!0))},onBlur:ge=>{Z(Ti(ge.target.value,!0))},disabled:I,placeholder:"https://www.youtube.com/watch?v=...",className:K?"border-red-500":""}),K&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:K})]}),C.lessonType==="Reading"&&n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"lesson-content",className:"text-base",children:"Ni dung bi hc"}),n.jsx(Op,{value:C.content,onChange:ge=>E({...C,content:ge}),placeholder:"Nhp ni dung bi hc ti y. Bn c th nh dng vn bn, thm hnh nh, video v nhiu hn na...",disabled:I})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{S(null),E(null),Ot([])},disabled:I,children:"Hy"}),n.jsx(H,{onClick:On,disabled:I||!(C!=null&&C.title.trim())||((C==null?void 0:C.duration)||0)<=0||(C==null?void 0:C.lessonType)==="Video"&&(!!K||!((zl=C==null?void 0:C.videoURL)!=null&&zl.trim()))||(C==null?void 0:C.lessonType)==="Reading"&&!((IN=C==null?void 0:C.content)!=null&&IN.trim()),children:I?"ang lu...":"Lu"})]})]})}),n.jsx(ht,{open:me,onOpenChange:ce,children:n.jsxs(lt,{className:"sm:max-w-xl",children:[n.jsx(ct,{children:n.jsx(ut,{children:Ve!==null?"Chnh sa ti nguyn":"Thm ti nguyn"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"edit-lesson-resource-type",children:"Loi ti nguyn"}),n.jsxs(on,{value:Se.resourceType,onValueChange:ge=>He({...Se,resourceType:ge}),children:[n.jsx(Gt,{disabled:I,children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"PDF",children:"PDF"}),n.jsx(We,{value:"ExternalLink",children:"Lin kt ngoi"})]})]})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"edit-lesson-resource-title",children:"Tn ti nguyn"}),n.jsx(Ce,{id:"edit-lesson-resource-title",value:Se.resourceTitle,onChange:ge=>He({...Se,resourceTitle:ge.target.value}),disabled:I,placeholder:"VD: Hng dn ng php"})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"edit-lesson-resource-url",children:"URL ti nguyn"}),n.jsx(Ce,{id:"edit-lesson-resource-url",value:Se.resourceURL,onChange:ge=>{const Fe=ge.target.value;He({...Se,resourceURL:Fe}),pe(Ei(Fe,!0))},onBlur:ge=>{pe(Ei(ge.target.value,!0))},disabled:I,placeholder:"https://example.com/resource",className:Q?"border-red-500":""}),Q&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:Q})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{ce(!1),xn(null)},disabled:I,children:"Hy"}),n.jsx(H,{onClick:Ve!==null?ke:Me,disabled:I||!Se.resourceTitle.trim()||!Se.resourceURL.trim()||!!Q,children:Ve!==null?"Cp nht":"Thm"})]})]})}),n.jsx(ht,{open:T!==null,onOpenChange:ge=>{ge||(_(null),D(null))},children:n.jsxs(lt,{className:"sm:max-w-xl",children:[n.jsx(ct,{children:n.jsx(ut,{children:"Edit Resource"})}),A&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"resource-type",className:"text-base",children:"Resource Type"}),n.jsxs(on,{value:A.resourceType,onValueChange:ge=>D({...A,resourceType:ge}),children:[n.jsx(Gt,{disabled:I,children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"PDF",children:"PDF"}),n.jsx(We,{value:"Video",children:"Video"}),n.jsx(We,{value:"ExternalLink",children:"External Link"}),n.jsx(We,{value:"Document",children:"Document"})]})]})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"resource-title",className:"text-base",children:"Resource Name"}),n.jsx(Ce,{id:"resource-title",value:A.resourceTitle,onChange:ge=>D({...A,resourceTitle:ge.target.value}),disabled:I})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"resource-url",className:"text-base",children:"Resource URL"}),n.jsx(Ce,{id:"resource-url",value:A.resourceURL,onChange:ge=>{const Fe=ge.target.value;D({...A,resourceURL:Fe}),pe(Ei(Fe,!0))},onBlur:ge=>{pe(Ei(ge.target.value,!0))},disabled:I,placeholder:"https://example.com/resource",className:Q?"border-red-500":""}),Q&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:Q})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{_(null),D(null)},disabled:I,children:"Hy"}),n.jsx(H,{onClick:px,disabled:I||!(A!=null&&A.resourceTitle.trim())||!(A!=null&&A.resourceURL.trim())||!!Q,children:I?"ang lu...":"Lu"})]})]})}),n.jsx(wa,{open:R!==null,onOpenChange:ge=>{ge||U(null)},children:n.jsxs(Br,{children:[n.jsx(zr,{children:"Confirm Delete"}),n.jsxs(qr,{children:[(R==null?void 0:R.type)==="section"&&"Are you sure you want to delete this Section? All lessons in the Section will be deleted.",(R==null?void 0:R.type)==="lesson"&&"Are you sure you want to delete this lesson? All resources will be deleted.",(R==null?void 0:R.type)==="resource"&&"Are you sure you want to delete this resource?"]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ja,{children:"Cancel"}),n.jsx(Hr,{onClick:Ku,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),n.jsx(ht,{open:M,onOpenChange:$,children:n.jsxs(lt,{className:"sm:max-w-2xl",children:[n.jsx(ct,{children:n.jsx(ut,{children:"To chng mi"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-section-title",className:"text-base",children:"Tn chng"}),n.jsx(Ce,{id:"new-section-title",value:F.title,onChange:ge=>O({...F,title:ge.target.value}),disabled:I,placeholder:"VD: Gii thiu v ng php"})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-section-description",className:"text-base",children:"M t chng"}),n.jsx(It,{id:"new-section-description",value:F.description,onChange:ge=>O({...F,description:ge.target.value}),disabled:I,rows:3,placeholder:"M t ngn gn v ni dung chng ny..."})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>$(!1),disabled:I,children:"Hy"}),n.jsx(H,{onClick:_a,disabled:I,children:I?"ang to...":"To"})]})]})}),n.jsx(ht,{open:q!==null,onOpenChange:ge=>{ge||B(null)},children:n.jsxs(lt,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ct,{children:n.jsx(ut,{children:"To bi hc mi"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-title",className:"text-base",children:"Tn bi hc"}),n.jsx(Ce,{id:"new-lesson-title",value:z.title,onChange:ge=>W({...z,title:ge.target.value}),disabled:I,placeholder:"VD: Gii thiu v ng php c bn"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-duration",className:"text-sm",children:"Thi lng (pht)"}),n.jsx(Ce,{id:"new-lesson-duration",type:"number",min:"1",value:z.duration,onChange:ge=>W({...z,duration:parseInt(ge.target.value)||0}),disabled:I})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-type",className:"text-sm",children:"Loi bi hc"}),n.jsxs(on,{value:z.lessonType,onValueChange:ge=>{W({...z,lessonType:ge}),(ge==="Reading"||ge==="Quiz")&&ae("")},children:[n.jsx(Gt,{disabled:I,children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"Video",children:"Video"}),n.jsx(We,{value:"Reading",children:"c"}),n.jsx(We,{value:"Quiz",children:"Quiz"})]})]})]})]}),z.lessonType==="Video"&&n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-video",className:"text-base",children:"URL Video"}),n.jsx(Ce,{id:"new-lesson-video",value:z.videoURL,onChange:ge=>{const Fe=ge.target.value;W({...z,videoURL:Fe}),Fe.trim()?ae(Ti(Fe,!1)):ae("")},onBlur:ge=>{const Fe=ge.target.value;Fe.trim()?ae(Ti(Fe,!1)):ae("")},disabled:I,placeholder:"https://www.youtube.com/watch?v=...",className:oe?"border-red-500":""}),oe&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:oe})]}),z.lessonType==="Reading"&&n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-lesson-content",className:"text-base",children:"Ni dung bi hc"}),n.jsx(Op,{value:z.content,onChange:ge=>W({...z,content:ge}),placeholder:"Nhp ni dung bi hc ti y. Bn c th nh dng vn bn, thm hnh nh, video v nhiu hn na...",disabled:I})]}),z.lessonType==="Quiz"&&n.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-md",children:n.jsx("p",{className:"text-sm text-blue-800",children:"Sau khi to bi hc Quiz, bn c th thm cu hi."})})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{B(null),ae("")},disabled:I,children:"Hy"}),n.jsx(H,{onClick:()=>{var ge;if(z.lessonType==="Video"&&!((ge=z.videoURL)!=null&&ge.trim())){ae("URL video l bt buc");return}Aa()},disabled:I||!z.title.trim()||z.duration<=0||z.lessonType==="Video"&&!!oe||z.lessonType==="Reading"&&!((MN=z.content)!=null&&MN.trim()),children:I?"ang to...":"To"})]})]})}),n.jsx(ht,{open:Ea!==null,onOpenChange:ge=>{ge||tr(null)},children:n.jsxs(lt,{className:"sm:max-w-xl",children:[n.jsx(ct,{children:n.jsx(ut,{children:"To ti nguyn mi"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-resource-type",className:"text-base",children:"Loi ti nguyn"}),n.jsxs(on,{value:Dn.resourceType,onValueChange:ge=>Qr({...Dn,resourceType:ge}),children:[n.jsx(Gt,{disabled:I,children:n.jsx(ln,{})}),n.jsxs(Yt,{children:[n.jsx(We,{value:"PDF",children:"PDF"}),n.jsx(We,{value:"ExternalLink",children:"Lin kt ngoi"})]})]})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-resource-title",className:"text-base",children:"Tn ti nguyn"}),n.jsx(Ce,{id:"new-resource-title",value:Dn.resourceTitle,onChange:ge=>Qr({...Dn,resourceTitle:ge.target.value}),disabled:I,placeholder:"VD: Ti liu ng php"})]}),n.jsxs("div",{children:[n.jsx(ve,{htmlFor:"new-resource-url",className:"text-base",children:"URL ti nguyn"}),n.jsx(Ce,{id:"new-resource-url",value:Dn.resourceURL,onChange:ge=>Qr({...Dn,resourceURL:ge.target.value}),disabled:I,placeholder:"https://example.com/resource"})]})]}),n.jsxs(Nt,{children:[n.jsx(H,{variant:"outline",onClick:()=>tr(null),disabled:I,children:"Hy"}),n.jsx(H,{onClick:Da,disabled:I,children:I?"ang to...":"To"})]})]})}),P&&n.jsx(mue,{open:!0,lessonId:P,isDraft:m,initialOrderIndex:(()=>{const ge=Ne[P]||[];return ge.length===0?0:Math.max(...ge.map(_t=>_t.orderIndex))+1})(),onClose:()=>V(null),onSuccess:()=>{Re(ge=>{const Fe={...ge};return delete Fe[P],Fe}),G(ge=>ge+1)}}),Y&&n.jsx(QI,{open:!0,question:Y,isDraft:m,onClose:()=>J(null),onSuccess:()=>{var Fe;const ge=(Fe=Y.lessonID)==null?void 0:Fe.toString();ge&&Re(_t=>{const rt={..._t};return delete rt[ge],rt}),G(_t=>_t+1),J(null)}}),te&&n.jsx(ZI,{open:!0,questionId:te,isDraft:m,onClose:()=>ie(null),onSuccess:()=>{Re({}),G(ge=>ge+1),ie(null)}})]})}function Ehe({objectives:e,isLoading:t=!1,onChange:s,onDeleteObjective:r,isDraftMode:a=!1}){const[i,o]=y.useState(e||[]),[l,c]=y.useState(""),[u,h]=y.useState({});y.useEffect(()=>{o(e||[])},[e]),y.useEffect(()=>{s&&s(i)},[i,s]);const d=()=>{const p={};if(l.trim()?l.trim().length<5?p.objectiveText="Mc tiu phi c t nht 5 k t":l.trim().length>200&&(p.objectiveText="Mc tiu khng c vt qu 200 k t"):p.objectiveText="Ni dung mc tiu l bt buc",Object.keys(p).length>0){h(p);return}const g={id:Math.min(...i.map(b=>b.id),0)-1,objectiveText:l.trim(),orderIndex:i.length,isNew:!0};o([...i,g]),c(""),h({})},f=(p,g)=>{const b=[...i];b[p].objectiveText=g,o(b)},m=async p=>{const g=i[p];if(r&&g.id>0&&!g.isNew)try{await r(g.id)}catch(x){console.error("Failed to delete objective:",x);return}const v=i.filter((x,w)=>w!==p).map((x,w)=>({...x,orderIndex:w}));o(v)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Mc tiu kha hc"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Qun l cc mc tiu hc tp cho kha hc ny. Hc vin s thy nhng mc tiu ny trc khi ng k."})]}),n.jsx(ye,{className:"p-6 bg-gray-50",children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsxs(ve,{htmlFor:"objective-input",className:"text-base font-semibold mb-2",children:["Thm mc tiu mi ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ce,{id:"objective-input",value:l,onChange:p=>{c(p.target.value),u.objectiveText&&h({})},onKeyPress:p=>{p.key==="Enter"&&(p.preventDefault(),d())},placeholder:"VD: Hiu cc khi nim ng php nng cao",maxLength:200,disabled:t,className:u.objectiveText?"border-red-500":""}),n.jsxs(H,{type:"button",onClick:d,disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsx(gn,{className:"w-4 h-4 mr-2"}),"Thm"]})]}),n.jsxs("div",{className:"flex justify-between mt-2",children:[u.objectiveText&&n.jsx("p",{className:"text-red-500 text-sm",children:u.objectiveText}),n.jsxs("p",{className:"text-xs text-gray-500 ml-auto",children:[l.length,"/200"]})]})]})})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Mc tiu (",i.length,")"]}),i.length===0?n.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[n.jsx("p",{className:"text-gray-500",children:"Cha c mc tiu no"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Thm mc tiu u tin  trn"})]}):n.jsx("div",{className:"space-y-2",children:i.map((p,g)=>n.jsxs(ye,{className:"p-4 flex items-start justify-between bg-white",children:[n.jsxs("div",{className:"flex-1 flex items-start gap-3",children:[n.jsxs("span",{className:"font-semibold text-blue-600 min-w-fit pt-3",children:[g+1,"."]}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ce,{value:p.objectiveText,onChange:b=>f(g,b.target.value),disabled:t,className:"text-gray-800",maxLength:200}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[p.objectiveText.length,"/200"]})]})]}),n.jsx("button",{type:"button",onClick:()=>m(g),disabled:t,className:"ml-2 p-2 text-red-500 hover:bg-red-50 rounded transition-colors disabled:opacity-50",title:"Xa mc tiu",children:n.jsx(Ht,{className:"w-5 h-5"})})]},p.id))}),u.objectives&&n.jsx("p",{className:"text-red-500 text-sm mt-2",children:u.objectives})]})]})}const _he=e=>`/tutor/courses/${e}/content`,Ahe=(e,t)=>`/tutor/courses/${e}/draft/${t}/content`,Dhe=e=>`/tutor/courses/${e}/details`,Mp=()=>"/tutor/courses",eT=()=>{const{courseId:e,draftId:t}=wr(),s=Qe(),r=Wn(),{toast:a}=jt(),[i,o]=y.useState(null),[l,c]=y.useState([]),[u,h]=y.useState(!0),[d,f]=y.useState(null),[m,p]=y.useState(1),[g,b]=y.useState(!1),[v,x]=y.useState(!1),[w,j]=y.useState(void 0),[N,k]=y.useState(null),S=()=>{s(Mp())},C=B=>({...B,section:Array.isArray(B==null?void 0:B.section)?B.section.map(z=>({...z,lessons:Array.isArray(z.lessons)?z.lessons.map(W=>({...W,resources:Array.isArray(W.resources)?W.resources:[]})):[]})):[]}),E=(B,z)=>({id:z,title:B.title,shortDescription:B.shortDescription,description:B.description,requirement:B.requirement,level:B.level,duration:B.duration,price:B.price,language:B.language,thumbnailURL:B.thumbnailURL,categoryName:B.categoryName,status:B.status,section:Array.isArray(B.section)?B.section.map(W=>({sectionID:W.sectionID,courseID:W.courseID||z,title:W.title,description:W.description||"",orderIndex:W.orderIndex,lessons:Array.isArray(W.lessons)?W.lessons.map(P=>({lessonID:P.lessonID,title:P.title,duration:P.duration||0,lessonType:P.lessonType||"Reading",videoURL:P.videoURL||"",content:P.content||"",orderIndex:P.orderIndex,createdAt:P.createdAt||new Date().toISOString(),resources:Array.isArray(P.resources)?P.resources.map(V=>({resourceID:V.resourceID,resourceType:V.resourceType||"ExternalLink",resourceTitle:V.resourceTitle,resourceURL:V.resourceURL,uploadedAt:new Date().toISOString(),orderIndex:V.orderIndex||0})):[]})):[]})):[]});y.useEffect(()=>{if(t)j(!0),k(parseInt(t));else{const B=new URLSearchParams(r.search),z=B.get("draftId"),W=B.get("isDraft")==="true",P=r.state,V=P==null?void 0:P.draftData,Y=(P==null?void 0:P.isDraft)===!0;z&&W?(j(!0),k(parseInt(z))):Y&&V?(j(!0),k(V.id)):(j(!1),k(null))}},[t,r]),y.useEffect(()=>{w!==void 0&&(async()=>{if(e)try{h(!0),f(null);let z;if(w&&N){const P=await fhe(N);z=E(P,parseInt(e));try{const Y=(await phe(N)).map(J=>({id:J.objectiveDraftID||J.objectiveID||J.id,objectiveText:J.objectiveText,orderIndex:J.orderIndex,isNew:!1}));c(Y)}catch(V){console.error("Error fetching draft objectives:",V),c([])}}else if(w===!1){z=await YC(parseInt(e));try{const V=(await che(parseInt(e))).map(Y=>({id:Y.objectiveID||Y.id,objectiveText:Y.objectiveText,orderIndex:Y.orderIndex,isNew:!1}));c(V)}catch(P){console.error("Error fetching regular objectives:",P),c([])}}else return;const W=C(z);o(W)}catch(z){console.error("Error fetching course:",z),f(z.message||"Khng th ti thng tin kha hc"),o(null)}finally{h(!1)}})()},[e,w,N]);const T=async B=>{if(!(!e||!i)){b(!0);try{const z={title:B.title||i.title,shortDescription:B.shortDescription||i.shortDescription,description:B.description||i.description,requirement:B.requirement||i.requirement,level:B.level||i.level,duration:B.duration||i.duration,price:B.price||i.price,language:B.language||i.language,thumbnailURL:B.thumbnailURL||i.thumbnailURL,categoryID:1};if(w&&N)await mhe(N,z),o({...i,...z});else{await the(parseInt(e),z);const W=await YC(parseInt(e)),P=C(W);o(P)}a({title:"Thnh cng",description:"Thng tin kha hc  c cp nht"}),p(2)}catch(z){const W=z instanceof Error?z.message:"Khng th cp nht kha hc";f(W),a({variant:"destructive",title:"Li",description:W})}finally{b(!1)}}},_=async(B,z)=>{if(i){b(!0);try{const W={title:z.title,description:z.description,orderIndex:z.orderIndex};if(w&&N){await bhe(z.sectionID,W);const P=[...i.section];P[B]={...z},o({...i,section:P})}else{const P=await nhe(z.sectionID,W),V=[...i.section];V[B]=P,o({...i,section:V})}a({title:"Thnh cng",description:"Chng  c cp nht"})}catch(W){const P=W instanceof Error?W.message:"Khng th cp nht chng";a({variant:"destructive",title:"Li",description:P})}finally{b(!1)}}},A=async(B,z,W)=>{if(i){b(!0);try{const P={title:W.title,duration:W.duration,lessonType:W.lessonType,videoURL:W.videoURL||"",content:W.content||"",orderIndex:W.orderIndex};if(w&&N){await Nhe(W.lessonID,P);const V=i.section[B].lessons[z].resources||[],Y=W.resources||[],J=Y.filter(G=>!V.some(X=>X.resourceID===G.resourceID)),te=V.filter(G=>!Y.some(X=>X.resourceID===G.resourceID)),ie=Y.filter(G=>V.some(X=>X.resourceID===G.resourceID&&(X.resourceTitle!==G.resourceTitle||X.resourceURL!==G.resourceURL||X.resourceType!==G.resourceType)));for(const G of J)G.resourceID>0&&G.resourceID<1e4&&await ZC(W.lessonID,{resourceType:G.resourceType,resourceTitle:G.resourceTitle,resourceURL:G.resourceURL,orderIndex:G.orderIndex||0});for(const G of ie)G.resourceID&&await XC(G.resourceID,{resourceType:G.resourceType,resourceTitle:G.resourceTitle,resourceURL:G.resourceURL,orderIndex:G.orderIndex||0});for(const G of te)G.resourceID&&await JC(G.resourceID);const de=[...i.section];de[B].lessons[z]={...W,resources:Y},o({...i,section:de})}else{const V=await she(W.lessonID,P),Y=i.section[B].lessons[z].resources||[],J=W.resources||[],te=J.filter(X=>!Y.some(le=>le.resourceID===X.resourceID)),ie=Y.filter(X=>!J.some(le=>le.resourceID===X.resourceID)),de=J.filter(X=>Y.some(le=>le.resourceID===X.resourceID&&(le.resourceTitle!==X.resourceTitle||le.resourceURL!==X.resourceURL||le.resourceType!==X.resourceType)));for(const X of te)if(X.resourceID>0&&X.resourceID<1e4){const le=X.resourceType;await Hs.addLessonResource(i.id.toString(),i.section[B].sectionID.toString(),W.lessonID.toString(),{resourceType:le,resourceTitle:X.resourceTitle,resourceURL:X.resourceURL})}for(const X of de)if(X.resourceID){const le=X.resourceType;await Hs.updateResource(X.resourceID.toString(),{resourceType:le,resourceTitle:X.resourceTitle,resourceURL:X.resourceURL})}for(const X of ie)X.resourceID&&await Hs.deleteResource(X.resourceID.toString());const G=[...i.section];G[B].lessons[z]={...V,resources:J},o({...i,section:G})}a({title:"Thnh cng",description:"Bi hc  c cp nht"})}catch(P){const V=P instanceof Error?P.message:"Khng th cp nht bi hc";a({variant:"destructive",title:"Li",description:V})}finally{b(!1)}}},D=async(B,z,W,P)=>{if(i){b(!0);try{const V={resourceType:P.resourceType,resourceTitle:P.resourceTitle,resourceURL:P.resourceURL,orderIndex:P.orderIndex||0};if(w&&N){await XC(P.resourceID,V);const Y=[...i.section];Y[B].lessons[z].resources[W]=P,o({...i,section:Y})}else{const Y=await rhe(P.resourceID,{resourceType:P.resourceType,resourceTitle:P.resourceTitle,resourceURL:P.resourceURL}),J=[...i.section];J[B].lessons[z].resources[W]=Y,o({...i,section:J})}a({title:"Thnh cng",description:"Ti nguyn  c cp nht"})}catch(V){const Y=V instanceof Error?V.message:"Khng th cp nht ti nguyn";a({variant:"destructive",title:"Li",description:Y})}finally{b(!1)}}},R=async B=>{if(!i)return;const z=i.section[B].sectionID;b(!0);try{w&&N?await whe(z):await ahe(z);const W=i.section.filter((P,V)=>V!==B);o({...i,section:W}),a({title:"Thnh cng",description:"Chng  c xa"})}catch(W){const P=W instanceof Error?W.message:"Khng th xa chng";a({variant:"destructive",title:"Li",description:P})}finally{b(!1)}},U=async(B,z)=>{if(!i)return;const W=i.section[B].lessons[z].lessonID;b(!0);try{w&&N?await khe(W):await ihe(W);const P=[...i.section];P[B].lessons=P[B].lessons.filter((V,Y)=>Y!==z),o({...i,section:P}),a({title:"Thnh cng",description:"Bi hc  c xa"})}catch(P){const V=P instanceof Error?P.message:"Khng th xa bi hc";a({variant:"destructive",title:"Li",description:V})}finally{b(!1)}},I=async(B,z,W)=>{if(!i)return;const P=i.section[B].lessons[z].resources[W].resourceID;b(!0);try{w&&N?await JC(P):await ohe(P);const V=[...i.section];V[B].lessons[z].resources=V[B].lessons[z].resources.filter((Y,J)=>J!==W),o({...i,section:V}),a({title:"Thnh cng",description:"Ti nguyn  c xa"})}catch(V){const Y=V instanceof Error?V.message:"Khng th xa ti nguyn";a({variant:"destructive",title:"Li",description:Y})}finally{b(!1)}},L=async B=>{if(e){b(!0);try{for(const z of B)if(z.isNew||z.id<0){let W;w&&N?W=await ghe(N,{objectiveText:z.objectiveText,orderIndex:z.orderIndex}):W=await uhe(parseInt(e),{objectiveText:z.objectiveText,orderIndex:z.orderIndex});const P=W.objectiveDraftID||W.objectiveID||W.id;z.id=P,z.isNew=!1}else w&&N?await xhe(z.id,{objectiveText:z.objectiveText,orderIndex:z.orderIndex}):await dhe(z.id,{objectiveText:z.objectiveText,orderIndex:z.orderIndex});c(B),a({title:"Thnh cng",description:"Mc tiu  c cp nht"}),p(3)}catch(z){const W=z instanceof Error?z.message:"Khng th lu mc tiu";f(W),a({variant:"destructive",title:"Li",description:W})}finally{b(!1)}}},M=async()=>{if(!e||!i)return;if(!i.section||i.section.length===0){a({variant:"destructive",title:"Li",description:"Kha hc phi c t nht mt chng"});return}if(!i.section.some(z=>z.lessons&&z.lessons.length>0)){a({variant:"destructive",title:"Li",description:"Kha hc phi c t nht mt bi hc"});return}b(!0);try{if(w&&N)await She(N),o({...i,status:"PENDING_REVIEW"});else{const z=await lhe(parseInt(e));o(z)}x(!0)}catch(z){const W=z instanceof Error?z.message:"Khng th gi kha hc";a({variant:"destructive",title:"Li",description:W})}finally{b(!1)}},$=async B=>{if(i){b(!0);try{let z;if(w&&N){const W=await vhe(N,{title:B.title,description:B.description||"",orderIndex:i.section.length});z={...B,sectionID:W.sectionID,lessons:[]}}else{const W=await Hs.addSection(i.id.toString(),{courseID:i.id,title:B.title,description:B.description||null,orderIndex:i.section.length});z={...B,sectionID:parseInt(W.sectionId),lessons:[]}}o({...i,section:[...i.section,z]}),a({title:"Thnh cng",description:"Chng  c to thnh cng"})}catch(z){const W=z instanceof Error?z.message:"Khng th to chng";a({variant:"destructive",title:"Li",description:W})}finally{b(!1)}}},F=async(B,z)=>{if(i){b(!0);try{const W=i.section[B].sectionID;let P;if(w&&N){const Y=await jhe(W,{title:z.title,duration:z.duration,lessonType:z.lessonType,videoURL:z.videoURL||"",content:z.content||"",orderIndex:i.section[B].lessons.length});P={...z,lessonID:Y.lessonID,resources:[]}}else{const Y=await Hs.addLesson(i.id.toString(),W.toString(),{title:z.title,duration:z.duration,lessonType:z.lessonType,videoURL:z.videoURL||"",content:z.content||"",orderIndex:i.section[B].lessons.length});P={...z,lessonID:parseInt(Y.lessonId),resources:[]}}const V=[...i.section];V[B].lessons=[...V[B].lessons,P],o({...i,section:V}),a({title:"Thnh cng",description:"Bi hc  c to thnh cng"})}catch(W){const P=W instanceof Error?W.message:"Khng th to bi hc";a({variant:"destructive",title:"Li",description:P})}finally{b(!1)}}},O=async(B,z,W)=>{if(i){b(!0);try{const P=i.section[B].sectionID,V=i.section[B].lessons[z].lessonID;let Y;if(w&&N){const te=await ZC(V,{resourceType:W.resourceType,resourceTitle:W.resourceTitle,resourceURL:W.resourceURL,orderIndex:i.section[B].lessons[z].resources.length});Y={...W,resourceID:te.resourceID,orderIndex:te.orderIndex}}else{const te=await Hs.addLessonResource(i.id.toString(),P.toString(),V.toString(),{resourceType:W.resourceType,resourceTitle:W.resourceTitle,resourceURL:W.resourceURL});Y={...W,resourceID:parseInt(te.resourceId)}}const J=[...i.section];J[B].lessons[z].resources=[...J[B].lessons[z].resources,Y],o({...i,section:J}),a({title:"Thnh cng",description:"Ti nguyn  c to thnh cng"})}catch(P){const V=P instanceof Error?P.message:"Khng th to ti nguyn";a({variant:"destructive",title:"Li",description:V})}finally{b(!1)}}};if(u)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"ang ti kha hc..."})]})});if(d||!i)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 md:p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(H,{variant:"outline",onClick:S,className:"mb-6 gap-2",children:[n.jsx(os,{className:"w-4 h-4"}),"Quay li"]}),n.jsx(ye,{className:"p-8 bg-red-50 border-red-200",children:n.jsxs("div",{className:"flex gap-4 items-start",children:[n.jsx(at,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-red-600 text-lg font-semibold mb-4",children:d||"Khng tm thy kha hc"}),n.jsx(H,{onClick:()=>window.location.reload(),size:"sm",children:"Th li"})]})]})})]})});const q=()=>{x(!1),s(Mp())};return n.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[n.jsx("button",{onClick:S,className:"hover:text-blue-600 transition-colors",children:"Kha hc"}),n.jsx("span",{children:"/"}),n.jsx("span",{className:"text-gray-900 font-medium",children:w?"Chnh sa bn nhp":"Chnh sa kha hc"}),w&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"/"}),n.jsxs("span",{className:"text-orange-600 font-medium",children:["Bn nhp #",N]})]})]}),n.jsxs(H,{variant:"outline",onClick:S,className:"mb-4 gap-2",children:[n.jsx(os,{className:"w-4 h-4"}),"Quay li danh sch kha hc"]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:w?"Chnh sa bn nhp":"Chnh sa kha hc"}),n.jsxs("p",{className:"text-gray-600",children:[i.title,w&&n.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-orange-100 text-orange-800 rounded-full",children:"Ch  nhp"})]})]})})]}),n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center w-full max-w-2xl",children:[n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${m===1?"bg-blue-500 text-white":"bg-green-500 text-white"}`,children:m>1?n.jsx(jn,{className:"w-6 h-6"}):"1"}),n.jsx("span",{className:"mt-2 text-sm font-medium",children:"Thng tin"})]}),n.jsx("div",{className:`h-1 flex-1 mx-4 ${m>1?"bg-green-500":"bg-gray-300"}`}),n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${m===2?"bg-blue-500 text-white":m>2?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:m>2?n.jsx(jn,{className:"w-6 h-6"}):"2"}),n.jsx("span",{className:"mt-2 text-sm font-medium",children:"Mc tiu"})]}),n.jsx("div",{className:`h-1 flex-1 mx-4 ${m>2?"bg-green-500":"bg-gray-300"}`}),n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${m===3?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:"3"}),n.jsx("span",{className:"mt-2 text-sm font-medium",children:"Ni dung"})]})]})})}),d&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsx("p",{className:"text-sm text-red-600",children:d})}),n.jsxs(ye,{children:[n.jsx(Je,{}),n.jsxs(De,{children:[m===1&&n.jsx(Che,{course:i,onSave:T,isSubmitting:g}),m===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ehe,{objectives:l,isLoading:g,onChange:c,onDeleteObjective:async B=>{w&&N?await yhe(B):await hhe(B)},isDraftMode:w}),n.jsxs("div",{className:"flex gap-3 justify-between pt-6 ",children:[n.jsx(H,{variant:"outline",onClick:()=>p(1),children:"Quay li"}),n.jsx(H,{onClick:()=>{if(l.length===0){a({variant:"destructive",title:"Li",description:"Vui lng thm t nht mt mc tiu trc khi tip tc"});return}L(l)},disabled:g||l.length===0,className:"gap-2",children:g?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 animate-spin"}),"ang lu..."]}):"Tip tc"})]})]}),m===3&&n.jsx(The,{course:i,onUpdateSection:_,onUpdateLesson:A,onUpdateResource:D,onDeleteSection:R,onDeleteLesson:U,onDeleteResource:I,onCreateSection:$,onCreateLesson:F,onCreateResource:O,onBack:()=>p(2),onSubmit:M,isSubmitting:g,isDraft:w})]})]})]}),n.jsx(ht,{open:v,onOpenChange:x,children:n.jsxs(lt,{className:"sm:max-w-md border-0 shadow-lg",children:[n.jsxs(ct,{className:"text-center space-y-3",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-100 to-green-50 rounded-full flex items-center justify-center shadow-md",children:n.jsx(jn,{className:"w-8 h-8 text-green-600"})})}),n.jsxs(ut,{className:"text-2xl font-bold text-gray-900",children:[" ",w?" gi bn nhp!":"Cp nht thnh cng!"]}),n.jsx(Zn,{className:"text-base text-gray-600",children:w?"Bn nhp kha hc ca bn  c gi  xem xt thnh cng.":"Kha hc ca bn  c cp nht v gi thnh cng."})]}),n.jsxs("div",{className:"space-y-3 py-4",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Tn kha hc"}),n.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:i.title})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:" Trng thi"}),n.jsx("p",{className:"font-semibold text-orange-600",children:i.status==="PENDING_REVIEW"||i.status==="Pending"?"ang duyt":i.status==="DRAFT"||i.status==="Draft"?"Bn nhp":i.status})]})]}),n.jsx(Nt,{className:"flex gap-3 mt-6",children:n.jsx(H,{onClick:q,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold",children:"Quay li danh sch"})})]})})]})},Rhe=async()=>{var e,t;try{const s=await ee.get("/tutor/courses/me");if(s.data.code!==0)throw new Error(s.data.message||"Failed to fetch courses");return s.data.result||[]}catch(s){throw console.error("Error fetching courses:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||s.message||"Failed to fetch courses")}},Ohe=({open:e,onOpenChange:t,title:s,description:r,confirmText:a="OK",cancelText:i="Cancel",onConfirm:o,onCancel:l,confirmVariant:c="default"})=>{const u=y.useCallback(()=>{o(),t(!1)},[o,t]),h=y.useCallback(()=>{l==null||l(),t(!1)},[l,t]);return n.jsx(wa,{open:e,onOpenChange:t,children:n.jsxs(Br,{children:[n.jsxs(El,{children:[n.jsx(zr,{children:s}),n.jsx(qr,{children:r})]}),n.jsxs(_l,{children:[n.jsx(ja,{onClick:h,children:i}),n.jsx(Hr,{onClick:u,className:c==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":void 0,children:a})]})]})})},Phe=e=>{const t={Draft:{icon:at,label:"Bn nhp",className:"bg-gray-100 text-gray-700 border-gray-300"},Pending:{icon:st,label:"Ch duyt",className:"bg-yellow-100 text-yellow-700 border-yellow-300"},Approved:{icon:kt,label:" duyt",className:"bg-green-100 text-green-700 border-green-300"},Rejected:{icon:Lt,label:"T chi",className:"bg-red-100 text-red-700 border-red-300"},Disabled:{icon:Lt,label:"V hiu ha",className:"bg-gray-100 text-gray-500 border-gray-300"}};return t[e]||t.Draft},Ihe=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),Mhe=({course:e,index:t,onEditApproved:s,languages:r=[]})=>{const a=Qe(),{toast:i}=jt(),o=Phe(e.status),l=o.icon,c=e.status==="Approved",[u,h]=y.useState(!1),[d,f]=y.useState(!1),m=v=>{if(!v)return"N/A";const x=r.find(w=>w.name===v);return(x==null?void 0:x.displayName)||v},p=async()=>{if(c){f(!0);try{const v=await QC(e.id);if(v.status==="PENDING_REVIEW"){i({variant:"destructive",title:"Khng th chnh sa",description:"Phin bn cp nht mi nht ca kha hc ny ang c qun tr vin duyt"}),f(!1);return}v.status==="EDITING"||v.status==="REJECTED"?h(!0):i({variant:"destructive",title:"Li",description:"Khng th chnh sa kha hc ny lc ny"})}catch(v){console.error("Error checking course draft:",v),i({variant:"destructive",title:"Li",description:v instanceof Error?v.message:"Khng th kim tra trng thi kha hc. Vui lng th li."})}finally{f(!1)}}else a(_he(e.id))},g=async()=>{if(!d){f(!0);try{const v=await QC(e.id);a(Ahe(e.id,v.id),{state:{isDraft:!0,draftData:v,originalCourseId:e.id}}),s&&s(e.id),h(!1)}catch(v){console.error("Error creating course draft:",v),setDraftError(v instanceof Error?v.message:"Khng th to bn nhp. Vui lng th li.")}finally{f(!1)}}},b=()=>{h(!1)};return n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.05},children:[n.jsxs(ye,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 h-full flex flex-col group border-2 hover:border-blue-200",children:[n.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200",children:[n.jsx("img",{src:e.thumbnailURL||"/placeholder-course.jpg",alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:v=>{const x=v.target;x.src="https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg?auto=compress&cs=tinysrgb&w=800"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),n.jsx("div",{className:"absolute top-3 right-3",children:n.jsxs(Pe,{className:`${o.className} border shadow-sm`,children:[n.jsx(l,{className:"w-3 h-3 mr-1"}),o.label]})}),n.jsx("div",{className:"absolute bottom-3 left-3",children:n.jsx(Pe,{variant:"secondary",className:"bg-white/90 text-gray-900",children:e.categoryName})})]}),n.jsxs(De,{className:"flex-1 flex flex-col p-5",children:[n.jsx("div",{className:"mb-4 flex-shrink-0",children:n.jsx("h3",{className:"font-bold text-xl text-gray-900 line-clamp-2 group-hover:text-blue-600 transition-colors h-14",children:e.title})}),n.jsxs("div",{className:"space-y-2 mb-4 text-sm flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx($n,{className:"w-4 h-4"}),n.jsx("span",{children:"Gi"})]}),n.jsx("span",{className:"font-bold text-blue-600 text-base",children:Ihe(e.price)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(st,{className:"w-4 h-4"}),n.jsx("span",{children:"Thi lng"})]}),n.jsxs("span",{className:"font-medium",children:[e.duration," gi"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(tt,{className:"w-4 h-4"}),n.jsx("span",{children:"Ngn ng"})]}),n.jsx("span",{className:"font-medium text-xs",children:m(e.language)})]})]}),n.jsxs("div",{className:"mt-auto flex gap-2",children:[n.jsx(H,{asChild:!0,variant:"outline",size:"sm",className:"flex-1 group/btn",children:n.jsxs(_e,{to:Dhe(e.id),children:[n.jsx(gs,{className:"w-4 h-4 mr-2 group-hover/btn:scale-110 transition-transform"}),"Xem"]})}),n.jsxs(H,{onClick:p,variant:"default",size:"sm",className:"flex-1 group/btn",children:[n.jsx(tt,{className:"w-4 h-4 mr-2 group-hover/btn:scale-110 transition-transform"}),"Chnh sa"]})]})]})]}),n.jsx(Ohe,{open:u,onOpenChange:h,title:"Xc nhn chnh sa kha hc",description:d?"ang to bn nhp...":"Bn c chc chn mun chnh sa kha hc  c duyt khng?",confirmText:d?"ang to...":"OK",cancelText:"Hy",onConfirm:g,onCancel:b})]})},Lhe=({currentPage:e,totalPages:t,totalItems:s,onPageChange:r})=>t<=1?null:n.jsx(ye,{className:"shadow-md",children:n.jsxs(De,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-center items-center gap-2",children:[n.jsx(H,{variant:"outline",onClick:()=>r(Math.max(1,e-1)),disabled:e===1,children:"Trc"}),n.jsx("div",{className:"flex gap-2",children:Array.from({length:Math.min(t,5)},(a,i)=>{let o;return t<=5||e<=3?o=i+1:e>=t-2?o=t-4+i:o=e-2+i,n.jsx(H,{variant:e===o?"default":"outline",onClick:()=>r(o),className:"w-10",children:o},o)})}),n.jsx(H,{variant:"outline",onClick:()=>r(Math.min(t,e+1)),disabled:e===t,children:"Sau"})]}),n.jsxs("p",{className:"text-center text-sm text-gray-600 mt-4",children:["Trang ",e," / ",t,"  Tng ",s," kha hc"]})]})}),Fhe=()=>{const{languages:e}=tf(),[t,s]=y.useState(""),[r,a]=y.useState("all"),[i,o]=y.useState("all"),[l,c]=y.useState(1),u=6,[h,d]=y.useState([]),[f,m]=y.useState(!0),[p,g]=y.useState(null),b=async()=>{try{m(!0),g(null);const E=await Rhe();d(E)}catch(E){g(E.message||"Khng th ti danh sch kha hc"),d([])}finally{m(!1)}};y.useEffect(()=>{b()},[]);const v=h.filter(E=>{const T=E.title.toLowerCase().includes(t.toLowerCase())||E.description.toLowerCase().includes(t.toLowerCase()),_=r==="all"||E.status===r,A=i==="all"||E.categoryName===i;return T&&_&&A});y.useEffect(()=>{c(1)},[t,r,i]);const x=Math.ceil(v.length/u),w=(l-1)*u,j=v.slice(w,w+u),N={total:h.length,approved:h.filter(E=>E.status==="Approved").length,pending:h.filter(E=>E.status==="Pending").length,rejected:h.filter(E=>E.status==="Rejected").length},k=[{label:"Tng kha hc",value:N.total,icon:tt,iconColor:"#3b82f6"},{label:" duyt",value:N.approved,icon:kt,iconColor:"#10b981"},{label:"Ch duyt",value:N.pending,icon:st,iconColor:"#f59e0b"},{label:"T chi",value:N.rejected,icon:Lt,iconColor:"#ef4444"}],S=Array.from(new Set(h.map(E=>E.categoryName))),C=[{id:"search",type:"search",placeholder:"Tm kim kha hc...",value:t,onChange:s},{id:"status",type:"select",placeholder:"Trng thi",value:r,onChange:a,options:[{value:"all",label:"Tt c trng thi"},{value:"Draft",label:"Bn nhp"},{value:"Pending",label:"Ch duyt"},{value:"Approved",label:" duyt"},{value:"Rejected",label:"T chi"}]},{id:"category",type:"select",placeholder:"Danh mc",value:i,onChange:o,options:[{value:"all",label:"Tt c danh mc"},...S.map(E=>({value:E,label:E}))]}];return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[n.jsx(es,{title:"Qun l kha hc",description:"Qun l v theo di tt c cc kha hc ca bn",icon:tt,gradientFrom:"from-blue-600",gradientVia:"via-purple-600",gradientTo:"to-purple-600",actionButtons:n.jsx(H,{asChild:!0,size:"lg",className:"gap-2 shadow-lg hover:shadow-xl transition-all",children:n.jsxs(_e,{to:"/create-courses",children:[n.jsx(gn,{className:"w-5 h-5"}),"To kha hc mi"]})})}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx(Ip,{stats:k,variant:"default"}),n.jsx("div",{className:"mt-6",children:n.jsx(Ca,{filters:C})})]}),p&&n.jsx(ye,{className:"mb-8 bg-red-50 border-red-200",children:n.jsx(De,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-3 text-red-700",children:[n.jsx(at,{className:"w-5 h-5"}),n.jsx("p",{children:p}),n.jsx(H,{variant:"outline",size:"sm",onClick:b,className:"ml-auto",children:"Th li"})]})})}),f&&n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"ang ti kha hc..."})]})}),!f&&j.length===0?n.jsx(ye,{className:"p-12 shadow-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-blue-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(tt,{className:"w-10 h-10 text-blue-600"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Khng tm thy kha hc"}),n.jsx("p",{className:"text-gray-600 mb-6",children:t||r!=="all"||i!=="all"?"Khng c kha hc no ph hp vi b lc ca bn":"Bn cha c kha hc no"}),n.jsx(H,{asChild:!0,className:"gap-2",children:n.jsxs(_e,{to:"/create-courses",children:[n.jsx(gn,{className:"w-4 h-4"}),"To kha hc u tin"]})})]})}):f?null:n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:j.map((E,T)=>n.jsx(Mhe,{course:E,index:T,languages:e},E.id))}),n.jsx(Lhe,{currentPage:l,totalPages:x,totalItems:v.length,onPageChange:c})]})]})]})},$he=[{title:"Tng quan",href:se.TUTOR_DASHBOARD,icon:uh},{title:"Kha hc ca ti",href:se.TUTOR_COURSES,icon:tt},{title:"Hc vin",href:se.TUTOR_STUDENTS,icon:en},{title:"Lch dy",href:se.TUTOR_SCHEDULE,icon:ft},{title:"Lch  t",href:se.TUTOR_BOOKED_SLOTS,icon:yj},{title:"Gi dch v",href:se.TUTOR_PACKAGES,icon:io},{title:"Tin nhn",href:se.TUTOR_MESSAGES,icon:hp},{title:"Qun l thanh ton",href:se.PAYMENTS,icon:Hn}],Uhe=({isOpen:e})=>{const t=Wn(),s=r=>t.pathname===r||t.pathname.startsWith(r+"/");return e?n.jsx("aside",{className:"fixed left-0 top-16 bottom-0 w-64 bg-white border-r border-gray-200 shadow-sm overflow-y-auto z-40",children:n.jsx("nav",{className:"p-4 space-y-2 pb-6",children:$he.map(r=>{const a=r.icon,i=s(r.href);return n.jsxs(_e,{to:r.href,className:fe("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200","hover:bg-gray-100 group",i?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:text-gray-900"),children:[n.jsx(a,{className:fe("w-5 h-5 transition-colors",i?"text-blue-600":"text-gray-500 group-hover:text-gray-700")}),n.jsx("span",{children:r.title})]},r.href)})})}):null},N6=y.createContext(void 0),Vhe=({children:e})=>{const[t,s]=y.useState(!0),r=()=>s(!t);return n.jsx(N6.Provider,{value:{isOpen:t,toggle:r},children:e})},CN=()=>{const e=y.useContext(N6);if(!e)throw new Error("useSidebar must be used within SidebarProvider");return e},Bhe=()=>{const{isOpen:e}=CN(),{user:t,loading:s}=Rl(),r=Qe();return y.useEffect(()=>{!s&&t&&t.role!=="Tutor"&&r(se.HOME,{replace:!0})},[t,s,r]),s?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"text-gray-600",children:"Loading..."})}):!t||t.role!=="Tutor"?null:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(Uhe,{isOpen:e}),n.jsx("main",{className:`transition-all duration-300 pt-16 min-h-screen ${e?"ml-64":"ml-0"}`,children:n.jsx("div",{className:"p-6",children:n.jsx(Nw,{})})})]})},zhe=()=>{const e=Qe(),{toast:t}=jt(),{isOpen:s,toggle:r}=CN(),[a]=y.useState({fullName:"Admin User",email:"admin@linguahub.com",avatarURL:"",role:"Admin"}),i=()=>{localStorage.removeItem("access_token"),sessionStorage.removeItem("access_token"),t({title:"ng xut thnh cng",description:"Hn gp li!"}),e(se.SIGN_IN)};return n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between px-6 h-16",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(H,{variant:"ghost",size:"icon",onClick:r,className:"hover:bg-gray-100",children:s?n.jsx(Ml,{className:"h-5 w-5"}):n.jsx(P5,{className:"h-5 w-5"})}),n.jsxs(_e,{to:se.ADMIN_DASHBOARD,className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 p-2 rounded-lg",children:n.jsx(uh,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"text-xl font-bold",children:["Lingua",n.jsx("span",{className:"text-purple-600",children:"Hub"}),n.jsx("span",{className:"ml-2 text-xs font-normal text-gray-500",children:"Admin"})]})]})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs(Fc,{children:[n.jsx($c,{asChild:!0,children:n.jsxs(H,{variant:"ghost",className:"flex items-center gap-3 hover:bg-gray-100",children:[n.jsxs(hi,{className:"h-8 w-8",children:[n.jsx(ko,{src:a.avatarURL,alt:a.fullName}),n.jsx(fi,{className:"bg-purple-100 text-purple-600",children:a.fullName.charAt(0)})]}),n.jsxs("div",{className:"text-left hidden md:block",children:[n.jsx("p",{className:"text-sm font-medium",children:a.fullName}),n.jsx("p",{className:"text-xs text-gray-500",children:a.role})]})]})}),n.jsxs(hl,{align:"end",className:"w-56",children:[n.jsx(Ep,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold",children:a.fullName}),n.jsx("span",{className:"text-xs text-gray-500",children:a.email})]})}),n.jsx(Go,{}),n.jsxs(nn,{onClick:()=>e(se.ADMIN_DASHBOARD),children:[n.jsx(uh,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),n.jsxs(nn,{onClick:()=>e(se.PROFILE),children:[n.jsx(Pt,{className:"mr-2 h-4 w-4"}),"H s"]}),n.jsxs(nn,{onClick:()=>e(se.SETTINGS),children:[n.jsx(pg,{className:"mr-2 h-4 w-4"}),"Ci t"]}),n.jsx(Go,{}),n.jsxs(nn,{onClick:i,className:"text-red-600",children:[n.jsx(O5,{className:"mr-2 h-4 w-4"}),"ng xut"]})]})]})})]})})},qhe=[{title:"Dashboard",href:"/admin/dashboard",icon:uh},{title:"Qun l ngi dng",href:"/admin/user-management",icon:B5},{title:"Qun l kha hc",href:"/admin/courses",icon:tt},{title:"Duyt kha hc",href:"/admin/course-approval",icon:Xz},{title:"Duyt n",href:"/admin/tutor-approval",icon:wl},{title:"Qun l danh mc",href:"/admin/categories",icon:V5},{title:"Qun l ngn ng",href:"/admin/languages",icon:Un},{title:"Qun l thanh ton",href:"/admin/payments",icon:Hn},{title:"Qun l hon tin",href:"/admin/refund-management",icon:uq}],Hhe=({isOpen:e})=>{const t=Wn(),s=r=>t.pathname===r||t.pathname.startsWith(r+"/");return e?n.jsx("aside",{className:"fixed left-0 top-16 bottom-0 w-64 bg-white border-r border-gray-200 shadow-sm overflow-y-auto z-40",children:n.jsx("nav",{className:"p-4 space-y-2 pb-6",children:qhe.map(r=>{const a=r.icon,i=s(r.href);return n.jsxs(_e,{to:r.href,className:fe("flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200","hover:bg-gray-100 group",i?"bg-purple-50 text-purple-600 font-medium":"text-gray-700 hover:text-gray-900"),children:[n.jsx(a,{className:fe("w-5 h-5 transition-colors",i?"text-purple-600":"text-gray-500 group-hover:text-gray-700")}),n.jsx("span",{className:"text-sm",children:r.title})]},r.href)})})}):null},Whe=()=>{const{isOpen:e}=CN();return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[n.jsx(zhe,{}),n.jsxs("div",{className:"flex flex-1",children:[n.jsx(Hhe,{isOpen:e}),n.jsx("main",{className:`flex-1 transition-all duration-300 pt-16 ${e?"ml-64":"ml-0"}`,children:n.jsx("div",{className:"p-6 min-h-[calc(100vh-64px)]",children:n.jsx(Nw,{})})})]})]})},k6=6048e5,Khe=864e5,cve=6e4,uve=36e5,Yf=43200,tT=1440,nT=Symbol.for("constructDateFrom");function Nn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&nT in e?e[nT](t):e instanceof Date?new e.constructor(t):new Date(t)}function St(e,t){return Nn(t||e,e)}function TN(e,t,s){const r=St(e,s==null?void 0:s.in);return isNaN(t)?Nn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function S6(e,t,s){const r=St(e,s==null?void 0:s.in);if(isNaN(t))return Nn(e,NaN);if(!t)return r;const a=r.getDate(),i=Nn(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}let Ghe={};function Wu(){return Ghe}function pu(e,t){var l,c,u,h;const s=Wu(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((h=(u=s.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,a=St(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function wh(e,t){return pu(e,{...t,weekStartsOn:1})}function C6(e,t){const s=St(e,t==null?void 0:t.in),r=s.getFullYear(),a=Nn(s,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=wh(a),o=Nn(s,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=wh(o);return s.getTime()>=i.getTime()?r+1:s.getTime()>=l.getTime()?r:r-1}function Lp(e){const t=St(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function So(e,...t){const s=Nn.bind(null,e||t.find(r=>typeof r=="object"));return t.map(s)}function jh(e,t){const s=St(e,t==null?void 0:t.in);return s.setHours(0,0,0,0),s}function T6(e,t,s){const[r,a]=So(s==null?void 0:s.in,e,t),i=jh(r),o=jh(a),l=+i-Lp(i),c=+o-Lp(o);return Math.round((l-c)/Khe)}function Yhe(e,t){const s=C6(e,t),r=Nn(e,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),wh(r)}function Qhe(e,t,s){return TN(e,t*7,s)}function Zhe(e,t,s){return S6(e,t*12,s)}function Xhe(e,t){let s,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Nn.bind(null,a));const i=St(a,r);(!s||s<i||isNaN(+i))&&(s=i)}),Nn(r,s||NaN)}function Jhe(e,t){let s,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Nn.bind(null,a));const i=St(a,r);(!s||s>i||isNaN(+i))&&(s=i)}),Nn(r,s||NaN)}function _m(e,t){const s=+St(e)-+St(t);return s<0?-1:s>0?1:s}function efe(e){return Nn(e,Date.now())}function tfe(e,t,s){const[r,a]=So(s==null?void 0:s.in,e,t);return+jh(r)==+jh(a)}function E6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nfe(e){return!(!E6(e)&&typeof e!="number"||isNaN(+St(e)))}function _6(e,t,s){const[r,a]=So(s==null?void 0:s.in,e,t),i=r.getFullYear()-a.getFullYear(),o=r.getMonth()-a.getMonth();return i*12+o}function sfe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function rfe(e,t){return+St(e)-+St(t)}function afe(e,t){const s=St(e,t==null?void 0:t.in);return s.setHours(23,59,59,999),s}function A6(e,t){const s=St(e,t==null?void 0:t.in),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}function ife(e,t){const s=St(e,t==null?void 0:t.in);return+afe(s,t)==+A6(s,t)}function ofe(e,t,s){const[r,a,i]=So(s==null?void 0:s.in,e,e,t),o=_m(a,i),l=Math.abs(_6(a,i));if(l<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*l);let c=_m(a,i)===-o;ife(r)&&l===1&&_m(r,i)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function lfe(e,t,s){const r=rfe(e,t)/1e3;return sfe(s==null?void 0:s.roundingMethod)(r)}function D6(e,t){const[s,r]=So(e,t.start,t.end);return{start:s,end:r}}function cfe(e,t){const{start:s,end:r}=D6(t==null?void 0:t.in,e);let a=+s>+r;const i=a?+s:+r,o=a?r:s;o.setHours(0,0,0,0),o.setDate(1);let l=1;const c=[];for(;+o<=i;)c.push(Nn(s,o)),o.setMonth(o.getMonth()+l);return a?c.reverse():c}function R6(e,t){const s=St(e,t==null?void 0:t.in);return s.setDate(1),s.setHours(0,0,0,0),s}function ufe(e,t){const s=St(e,t==null?void 0:t.in),r=s.getFullYear();return s.setFullYear(r+1,0,0),s.setHours(23,59,59,999),s}function O6(e,t){const s=St(e,t==null?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function dfe(e,t){const{start:s,end:r}=D6(t==null?void 0:t.in,e);let a=+s>+r;const i=a?+s:+r,o=a?r:s;o.setHours(0,0,0,0),o.setMonth(0,1);let l=1;const c=[];for(;+o<=i;)c.push(Nn(s,o)),o.setFullYear(o.getFullYear()+l);return a?c.reverse():c}function P6(e,t){var l,c,u,h;const s=Wu(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((h=(u=s.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,a=St(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function hfe(e,t){return P6(e,{...t,weekStartsOn:1})}const ffe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mfe=(e,t,s)=>{let r;const a=ffe[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Vc(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const pfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yfe={date:Vc({formats:pfe,defaultWidth:"full"}),time:Vc({formats:gfe,defaultWidth:"full"}),dateTime:Vc({formats:xfe,defaultWidth:"full"})},vfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bfe=(e,t,s,r)=>vfe[e];function la(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const wfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tfe=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Efe={ordinalNumber:Tfe,era:la({values:wfe,defaultWidth:"wide"}),quarter:la({values:jfe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:la({values:Nfe,defaultWidth:"wide"}),day:la({values:kfe,defaultWidth:"wide"}),dayPeriod:la({values:Sfe,defaultWidth:"wide",formattingValues:Cfe,defaultFormattingWidth:"wide"})};function ca(e){return(t,s={})=>{const r=s.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Afe(l,d=>d.test(o)):_fe(l,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=s.valueCallback?s.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function _fe(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function Afe(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function I6(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Dfe=/^(\d+)(th|st|nd|rd)?/i,Rfe=/\d+/i,Ofe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pfe={any:[/^b/i,/^(a|c)/i]},Ife={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mfe={any:[/1/i,/2/i,/3/i,/4/i]},Lfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ffe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$fe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ufe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zfe={ordinalNumber:I6({matchPattern:Dfe,parsePattern:Rfe,valueCallback:e=>parseInt(e,10)}),era:ca({matchPatterns:Ofe,defaultMatchWidth:"wide",parsePatterns:Pfe,defaultParseWidth:"any"}),quarter:ca({matchPatterns:Ife,defaultMatchWidth:"wide",parsePatterns:Mfe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ca({matchPatterns:Lfe,defaultMatchWidth:"wide",parsePatterns:Ffe,defaultParseWidth:"any"}),day:ca({matchPatterns:$fe,defaultMatchWidth:"wide",parsePatterns:Ufe,defaultParseWidth:"any"}),dayPeriod:ca({matchPatterns:Vfe,defaultMatchWidth:"any",parsePatterns:Bfe,defaultParseWidth:"any"})},ox={code:"en-US",formatDistance:mfe,formatLong:yfe,formatRelative:bfe,localize:Efe,match:zfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qfe(e,t){const s=St(e,t==null?void 0:t.in);return T6(s,O6(s))+1}function M6(e,t){const s=St(e,t==null?void 0:t.in),r=+wh(s)-+Yhe(s);return Math.round(r/k6)+1}function L6(e,t){var h,d,f,m;const s=St(e,t==null?void 0:t.in),r=s.getFullYear(),a=Wu(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Nn((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=pu(o,t),c=Nn((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=pu(c,t);return+s>=+l?r+1:+s>=+u?r:r-1}function Hfe(e,t){var l,c,u,h;const s=Wu(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(u=s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,a=L6(e,t),i=Nn((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),pu(i,t)}function F6(e,t){const s=St(e,t==null?void 0:t.in),r=+pu(s,t)-+Hfe(s,t);return Math.round(r/k6)+1}function Dt(e,t){const s=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return s+r}const xi={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return Dt(t==="yy"?r%100:r,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Dt(s+1,2)},d(e,t){return Dt(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Dt(e.getHours()%12||12,t.length)},H(e,t){return Dt(e.getHours(),t.length)},m(e,t){return Dt(e.getMinutes(),t.length)},s(e,t){return Dt(e.getSeconds(),t.length)},S(e,t){const s=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,s-3));return Dt(a,t.length)}},Zl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sT={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return s.ordinalNumber(a,{unit:"year"})}return xi.y(e,t)},Y:function(e,t,s,r){const a=L6(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Dt(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):Dt(i,t.length)},R:function(e,t){const s=C6(e);return Dt(s,t.length)},u:function(e,t){const s=e.getFullYear();return Dt(s,t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Dt(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Dt(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return xi.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Dt(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const a=F6(e,r);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):Dt(a,t.length)},I:function(e,t,s){const r=M6(e);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):Dt(r,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):xi.d(e,t)},D:function(e,t,s){const r=qfe(e);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):Dt(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Dt(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Dt(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Dt(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let a;switch(r===12?a=Zl.noon:r===0?a=Zl.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let a;switch(r>=17?a=Zl.evening:r>=12?a=Zl.afternoon:r>=4?a=Zl.morning:a=Zl.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return xi.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):xi.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):Dt(r,t.length)},k:function(e,t,s){let r=e.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):Dt(r,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):xi.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):xi.s(e,t)},S:function(e,t){return xi.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return aT(r);case"XXXX":case"XX":return Fo(r);case"XXXXX":case"XXX":default:return Fo(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return aT(r);case"xxxx":case"xx":return Fo(r);case"xxxxx":case"xxx":default:return Fo(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rT(r,":");case"OOOO":default:return"GMT"+Fo(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rT(r,":");case"zzzz":default:return"GMT"+Fo(r,":")}},t:function(e,t,s){const r=Math.trunc(+e/1e3);return Dt(r,t.length)},T:function(e,t,s){return Dt(+e,t.length)}};function rT(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?s+String(a):s+String(a)+t+Dt(i,2)}function aT(e,t){return e%60===0?(e>0?"-":"+")+Dt(Math.abs(e)/60,2):Fo(e,t)}function Fo(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Dt(Math.trunc(r/60),2),i=Dt(r%60,2);return s+a+t+i}const iT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Wfe=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],a=s[2];if(!a)return iT(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",iT(r,t)).replace("{{time}}",$6(a,t))},Kfe={p:$6,P:Wfe},Gfe=/^D+$/,Yfe=/^Y+$/,Qfe=["D","DD","YY","YYYY"];function Zfe(e){return Gfe.test(e)}function Xfe(e){return Yfe.test(e)}function Jfe(e,t,s){const r=eme(e,t,s);if(console.warn(r),Qfe.includes(e))throw new RangeError(r)}function eme(e,t,s){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sme=/^'([^]*?)'?$/,rme=/''/g,ame=/[a-zA-Z]/;function xa(e,t,s){var h,d,f,m,p,g,b,v;const r=Wu(),a=(s==null?void 0:s.locale)??r.locale??ox,i=(s==null?void 0:s.firstWeekContainsDate)??((d=(h=s==null?void 0:s.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(s==null?void 0:s.weekStartsOn)??((g=(p=s==null?void 0:s.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(b=r.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??0,l=St(e,s==null?void 0:s.in);if(!nfe(l))throw new RangeError("Invalid time value");let c=t.match(nme).map(x=>{const w=x[0];if(w==="p"||w==="P"){const j=Kfe[w];return j(x,a.formatLong)}return x}).join("").match(tme).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:ime(x)};if(sT[w])return{isToken:!0,value:x};if(w.match(ame))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&Xfe(w)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&Zfe(w))&&Jfe(w,t,String(e));const j=sT[w[0]];return j(l,w,a.localize,u)}).join("")}function ime(e){const t=e.match(sme);return t?t[1].replace(rme,"'"):e}function ome(e,t,s){const r=Wu(),a=(s==null?void 0:s.locale)??r.locale??ox,i=2520,o=_m(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o}),[c,u]=So(s==null?void 0:s.in,...o>0?[t,e]:[e,t]),h=lfe(u,c),d=(Lp(u)-Lp(c))/1e3,f=Math.round((h-d)/60);let m;if(f<2)return s!=null&&s.includeSeconds?h<5?a.formatDistance("lessThanXSeconds",5,l):h<10?a.formatDistance("lessThanXSeconds",10,l):h<20?a.formatDistance("lessThanXSeconds",20,l):h<40?a.formatDistance("halfAMinute",0,l):h<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<tT){const p=Math.round(f/60);return a.formatDistance("aboutXHours",p,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<Yf){const p=Math.round(f/tT);return a.formatDistance("xDays",p,l)}else if(f<Yf*2)return m=Math.round(f/Yf),a.formatDistance("aboutXMonths",m,l)}if(m=ofe(u,c),m<12){const p=Math.round(f/Yf);return a.formatDistance("xMonths",p,l)}else{const p=m%12,g=Math.trunc(m/12);return p<3?a.formatDistance("aboutXYears",g,l):p<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function lx(e,t){return ome(e,efe(e),t)}function lme(e,t){const s=St(e,t==null?void 0:t.in),r=s.getFullYear(),a=s.getMonth(),i=Nn(s,0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function cme(e,t){return St(e,t==null?void 0:t.in).getMonth()}function ume(e,t){return St(e,t==null?void 0:t.in).getFullYear()}function dme(e,t){return+St(e)>+St(t)}function hme(e,t){return+St(e)<+St(t)}function fme(e,t,s){const[r,a]=So(s==null?void 0:s.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function mme(e,t,s){const[r,a]=So(s==null?void 0:s.in,e,t);return r.getFullYear()===a.getFullYear()}function pme(e,t,s){return TN(e,-30,s)}function gme(e,t,s){const r=St(e,s==null?void 0:s.in),a=r.getFullYear(),i=r.getDate(),o=Nn(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const l=lme(o);return r.setMonth(t,Math.min(i,l)),r}function xme(e,t,s){const r=St(e,s==null?void 0:s.in);return isNaN(+r)?Nn(e,NaN):(r.setFullYear(t),r)}class oT extends Error{constructor(t,s,r){super(t),this.statusCode=s,this.originalError=r,this.name="DashboardApiError"}}const yme=e=>{var t;if(Jt.isAxiosError(e)){const s=e,r=(t=s.response)==null?void 0:t.status;if(!s.response)return"Network error: Unable to connect to the server. Please check your internet connection.";switch(r){case 401:return"401: Authentication required. Your session has expired.";case 403:return"403: Access denied. You do not have permission to access this resource.";case 404:return"404: Dashboard endpoint not found. Please contact support.";case 500:return"500: Internal server error. Please try again later.";case 502:return"502: Bad gateway. The server is temporarily unavailable.";case 503:return"503: Service unavailable. The server is under maintenance.";case 504:return"504: Gateway timeout. The server took too long to respond.";default:return`Server error (${r}): ${s.message}`}}return e instanceof Error?e.message:"An unexpected error occurred while loading the dashboard."},vme={getDashboardData:async e=>{var t;try{const s=await ee.get("/admin/dashboard",{params:e});if(!s.data||!s.data.result)throw new oT("Invalid response format: Missing result field",s.status);return s.data.result}catch(s){console.error("Error fetching admin dashboard data:",s);const r=yme(s),a=Jt.isAxiosError(s)?(t=s.response)==null?void 0:t.status:void 0;throw new oT(r,a,s)}}},bme=(e,t)=>ag({queryKey:["admin-dashboard",e,t],queryFn:()=>vme.getDashboardData({startDate:xa(e,"yyyy-MM-dd"),endDate:xa(t,"yyyy-MM-dd")}),staleTime:5*60*1e3,cacheTime:10*60*1e3,refetchOnWindowFocus:!0}),wme=({onRefresh:e}={})=>{const t=y.useCallback(s=>{if((s.ctrlKey||s.metaKey)&&s.key==="r"&&e){s.preventDefault(),e();return}if(s.shiftKey&&s.key==="?"){s.preventDefault(),console.log("Keyboard shortcuts help - to be implemented");return}if(s.key==="Escape"){document.activeElement instanceof HTMLElement&&document.activeElement.blur();return}},[e]);return y.useEffect(()=>(document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}),[t]),{}},rc=({title:e,count:t,icon:s,onClick:r})=>{const a=t>0;return n.jsxs(ye,{className:fe("cursor-pointer transition-all duration-200","hover:shadow-md hover:-translate-y-0.5",a?"border-l-4 border-l-red-500 bg-red-50/40 dark:bg-red-950/20":"border-l-4 border-l-blue-500 bg-blue-50/30 dark:bg-blue-950/10"),onClick:r,role:"button",tabIndex:0,"aria-label":`${e}: ${t} pending items. Click to view.`,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),r())},children:[n.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(yt,{className:"text-xs md:text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),n.jsx(s,{className:fe("h-4 w-4 md:h-5 md:w-5",a?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"),"aria-hidden":"true"})]}),n.jsxs(De,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100","aria-label":`Count: ${t}`,children:t}),a&&n.jsx(Pe,{variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white text-[10px] md:text-xs px-2 py-0.5","aria-label":"Action required",children:"Cn x l"})]}),n.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground mt-1.5 md:mt-2",children:a?"Nhn  xem chi tit":"Khng c mc ch"})]})]})};re.memo(rc);function jme(e){switch(e){case"tutors":return se.ADMIN_TUTOR_APPROVAL;case"courses":return se.ADMIN_COURSE_APPROVAL;case"refunds":return se.ADMIN_REFUND_MANAGEMENT;case"withdraws":return se.ADMIN_WITHDRAW_REQUESTS;case"reports":return se.ADMIN_DASHBOARD;default:return se.ADMIN_DASHBOARD}}const Nme=({actionableItems:e})=>{const t=Qe(),s=re.useCallback(r=>{const a=jme(r);t(a)},[t]);return n.jsxs("section",{className:"mb-6 md:mb-8","aria-labelledby":"actionable-items-heading",children:[n.jsx("h2",{id:"actionable-items-heading",className:"text-lg md:text-xl font-semibold mb-3 md:mb-4 text-gray-900 dark:text-gray-100",children:"Cng vic cn x l"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsx(rc,{title:"Gio vin ch duyt",count:e.pendingTutors,icon:wl,onClick:()=>s("tutors")}),n.jsx(rc,{title:"Kha hc ch duyt",count:e.pendingCourses,icon:tt,onClick:()=>s("courses")}),n.jsx(rc,{title:"Yu cu hon tin",count:e.pendingRefundRequests,icon:$n,onClick:()=>s("refunds")}),n.jsx(rc,{title:"Yu cu rt tin",count:e.pendingWithdraws,icon:z5,onClick:()=>s("withdraws")}),n.jsx(rc,{title:"Ni dung b bo co",count:e.reportedContents,icon:ro,onClick:()=>s("reports")})]})]})},kme=re.memo(Nme),Sme={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},Cme=(e,t,s)=>{let r;const a=Sme[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",String(t)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?r+" na":r+" trc":r},Tme={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},Eme={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_me={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Ame={date:Vc({formats:Tme,defaultWidth:"full"}),time:Vc({formats:Eme,defaultWidth:"full"}),dateTime:Vc({formats:_me,defaultWidth:"full"})},Dme={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},Rme=(e,t,s,r)=>Dme[e],Ome={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},Pme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},Ime={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},Mme={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},Lme={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},Fme={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},$me={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},Ume={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},Vme=(e,t)=>{const s=Number(e),r=t==null?void 0:t.unit;if(r==="quarter")switch(s){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(r==="day")switch(s){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(r==="week")return s===1?"th nht":"th "+s;if(r==="dayOfYear")return s===1?"u tin":"th "+s}return String(s)},Bme={ordinalNumber:Vme,era:la({values:Ome,defaultWidth:"wide"}),quarter:la({values:Pme,defaultWidth:"wide",formattingValues:Ime,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:la({values:Mme,defaultWidth:"wide",formattingValues:Lme,defaultFormattingWidth:"wide"}),day:la({values:Fme,defaultWidth:"wide"}),dayPeriod:la({values:$me,defaultWidth:"wide",formattingValues:Ume,defaultFormattingWidth:"wide"})},zme=/^(\d+)/i,qme=/\d+/i,Hme={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},Wme={any:[/^t/i,/^s/i]},Kme={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},Gme={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},Yme={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},Qme={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},Zme={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},Xme={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},Jme={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},epe={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},tpe={ordinalNumber:I6({matchPattern:zme,parsePattern:qme,valueCallback:e=>parseInt(e,10)}),era:ca({matchPatterns:Hme,defaultMatchWidth:"wide",parsePatterns:Wme,defaultParseWidth:"any"}),quarter:ca({matchPatterns:Kme,defaultMatchWidth:"wide",parsePatterns:Gme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ca({matchPatterns:Yme,defaultMatchWidth:"wide",parsePatterns:Qme,defaultParseWidth:"wide"}),day:ca({matchPatterns:Zme,defaultMatchWidth:"wide",parsePatterns:Xme,defaultParseWidth:"wide"}),dayPeriod:ca({matchPatterns:Jme,defaultMatchWidth:"wide",parsePatterns:epe,defaultParseWidth:"any"})},npe={code:"vi",formatDistance:Cme,formatLong:Ame,formatRelative:Rme,localize:Bme,match:tpe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Qo(e){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function U6(e,t=npe){const s=typeof e=="string"?new Date(e):e;return lx(s,{addSuffix:!0,locale:t})}function Cc(e,t=2,s=!1){return`${(s?e*100:e).toFixed(t)}%`}function Xl(e){return new Intl.NumberFormat("vi-VN").format(e)}const spe=({financialOverview:e})=>{const{totalGMV:t,totalCommission:s,totalPayout:r,avgOrderValue:a,totalPaidOrders:i}=e;return n.jsxs("section",{className:"mb-6 md:mb-8","aria-labelledby":"financial-overview-heading",children:[n.jsx("h2",{id:"financial-overview-heading",className:"text-lg md:text-xl font-semibold mb-3 md:mb-4 text-gray-900 dark:text-gray-100",children:"Tng quan ti chnh"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Cn,{title:"Tng doanh thu",value:Qo(t),icon:$n,subtitle:`${i} n hng`}),n.jsx(Cn,{title:"Hoa hng",value:Qo(s),icon:vo,subtitle:"Thu nhp nn tng"}),n.jsx(Cn,{title:"Chi tr",value:Qo(r),icon:z5,subtitle:"Thanh ton gio vin"}),n.jsx(Cn,{title:"Gi tr TB",value:Qo(a),icon:$5,subtitle:"Trung bnh/n hng"})]})]})},rpe=re.memo(spe),ape=({revenueByLanguage:e})=>{const t=re.useMemo(()=>[...e].sort((s,r)=>r.gmv-s.gmv),[e]);return n.jsx("section",{className:"mb-6 md:mb-8","aria-labelledby":"revenue-by-language-heading",children:n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(yt,{id:"revenue-by-language-heading",className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Doanh thu theo ngn ng"})}),n.jsx(De,{children:n.jsxs(Ms,{"aria-label":"Revenue by language table",children:[n.jsx(Ls,{children:n.jsxs(Mt,{children:[n.jsx(Ae,{children:"Ngn ng"}),n.jsx(Ae,{className:"text-right",children:"Doanh thu"}),n.jsx(Ae,{className:"text-right",children:"Hoa hng"}),n.jsx(Ae,{className:"text-right",children:"Chi tr"}),n.jsx(Ae,{className:"text-right",children:"Kha hc"}),n.jsx(Ae,{className:"text-right",children:"% Tng"})]})}),n.jsx(Fs,{children:t.length===0?n.jsx(Mt,{children:n.jsx(Ee,{colSpan:6,className:"text-center text-muted-foreground",role:"status",children:"Khng c d liu doanh thu cho khong thi gian  chn"})}):t.map(s=>n.jsxs(Mt,{children:[n.jsx(Ee,{className:"font-medium",children:s.language}),n.jsx(Ee,{className:"text-right",children:Qo(s.gmv)}),n.jsx(Ee,{className:"text-right",children:Qo(s.commission)}),n.jsx(Ee,{className:"text-right",children:Qo(s.payout)}),n.jsx(Ee,{className:"text-right",children:s.courseCount}),n.jsx(Ee,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("div",{className:"w-20",children:n.jsx(yg,{value:s.percentGMV,className:"h-2","aria-label":`${Cc(s.percentGMV)} of total GMV`})}),n.jsx("span",{className:"text-sm font-medium min-w-[3rem]",children:Cc(s.percentGMV,1)})]})})]},s.language))})]})})]})})},ipe=re.memo(ape),ope=({growthMetrics:e})=>{const{totalUsers:t,activeUsers:s,totalTutors:r,activeTutors:a,totalCourses:i,totalEnrollments:o,conversionRate:l,retentionRate:c,churnRate:u}=e;return n.jsxs("section",{className:"mb-6 md:mb-8","aria-labelledby":"growth-metrics-heading",children:[n.jsx("h2",{id:"growth-metrics-heading",className:"text-lg md:text-xl font-semibold mb-3 md:mb-4 text-gray-900 dark:text-gray-100",children:"Ch s tng trng"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsx(Cn,{title:"Tng ngi dng",value:Xl(t),icon:en,subtitle:" ng k"}),n.jsx(Cn,{title:"Ngi dng hot ng",value:Xl(s),icon:wl,subtitle:`${Cc(c,1,!1)} tng s`}),n.jsx(Cn,{title:"Tng gio vin",value:Xl(r),icon:Lv,subtitle:"Trong h thng"}),n.jsx(Cn,{title:"Gio vin hot ng",value:Xl(a),icon:Lv,subtitle:" ph duyt"}),n.jsx(Cn,{title:"Tng kha hc",value:Xl(i),icon:tt,subtitle:"Trn nn tng"}),n.jsx(Cn,{title:"Lt ghi danh",value:Xl(o),icon:du,subtitle:"Hc vin ng k"}),n.jsx(Cn,{title:"T l chuyn i",value:Cc(l,1,!1),icon:vo,subtitle:"C ng k kha hc"}),n.jsx(Cn,{title:"T l duy tr",value:Cc(c,1,!1),icon:wl,subtitle:"Tip tc s dng"}),n.jsx(Cn,{title:"T l ri b",value:Cc(u,1,!1),icon:xq,subtitle:"Ngng s dng"})]})]})},lpe=re.memo(ope),cpe=({users:e})=>{const t=Qe(),s=re.useCallback(i=>{t(se.ADMIN_USER_MANAGEMENT)},[t]),r=i=>{if(!i)return"outline";const o=i.toLowerCase();return o==="admin"?"default":o==="tutor"?"secondary":"outline"},a=i=>{if(!i)return"bg-gray-100 text-gray-800 hover:bg-gray-200";const o=i.toLowerCase();return o==="admin"?"bg-red-100 text-red-800 hover:bg-red-200":o==="tutor"?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"};return!e||e.length===0?n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsxs(yt,{id:"recent-users-heading",className:"flex items-center gap-2",children:[n.jsx(Pt,{className:"w-5 h-5","aria-hidden":"true"}),"Ngi dng gn y"]})}),n.jsx(De,{children:n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",role:"status","aria-label":"No recent users found",children:"Khng tm thy ngi dng gn y"})})]}):n.jsxs(ye,{children:[n.jsxs(Je,{children:[n.jsxs(yt,{id:"recent-users-heading",className:"flex items-center gap-2 text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-100",children:[n.jsx(Pt,{className:"w-4 h-4 md:w-5 md:h-5","aria-hidden":"true"}),"Ngi dng gn y"]}),n.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground mt-1",children:[e.length," ngi dng mi nht"]})]}),n.jsx(De,{children:n.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:n.jsxs(Ms,{"aria-label":"Recent users table",children:[n.jsx(Ls,{children:n.jsxs(Mt,{className:"hover:bg-transparent",children:[n.jsx(Ae,{className:"min-w-[180px]",children:"H v tn"}),n.jsx(Ae,{className:"min-w-[200px]",children:"Email"}),n.jsx(Ae,{className:"min-w-[100px]",children:"Vai tr"}),n.jsx(Ae,{className:"min-w-[150px]",children:"Ngy to"})]})}),n.jsx(Fs,{children:e.map(i=>n.jsxs(Mt,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>s(i.userId),role:"button",tabIndex:0,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),s(i.userId))},"aria-label":`View details for ${i.fullName}`,children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pt,{className:"w-4 h-4 text-muted-foreground","aria-hidden":"true"}),n.jsx("span",{className:"font-medium",children:i.fullName})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gr,{className:"w-4 h-4 text-muted-foreground","aria-hidden":"true"}),n.jsx("span",{className:"text-sm truncate max-w-[200px]",title:i.email,children:i.email})]})}),n.jsx(Ee,{children:n.jsx(Pe,{variant:r(i.roleName),className:a(i.roleName),children:i.roleName||"User"})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ft,{className:"w-4 h-4 text-muted-foreground","aria-hidden":"true"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:U6(i.createdAt)})]})})]},i.userId))})]})})})]})},upe=re.memo(cpe),dpe=({courses:e})=>{const t=Qe(),s=re.useCallback(o=>{t(Ih.adminCourseDetail(o))},[t]),r=o=>{const l=o.toLowerCase();return l==="draft"?"bg-gray-100 text-gray-800 hover:bg-gray-200":l==="pending"?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":l==="active"?"bg-green-100 text-green-800 hover:bg-green-200":l==="inactive"?"bg-red-100 text-red-800 hover:bg-red-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"},a=o=>{const l=o.toLowerCase();return l==="active"?"default":l==="pending"?"secondary":"outline"},i=o=>{const l=o.toLowerCase();return{draft:"Bn nhp",pending:"Ch duyt",active:"Hot ng",inactive:"Khng hot ng"}[l]||o};return!e||e.length===0?n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsxs(yt,{id:"recent-courses-heading",className:"flex items-center gap-2",children:[n.jsx(tt,{className:"w-5 h-5","aria-hidden":"true"}),"Kha hc gn y"]})}),n.jsx(De,{children:n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",role:"status","aria-label":"No recent courses found",children:"Khng tm thy kha hc gn y"})})]}):n.jsxs(ye,{children:[n.jsxs(Je,{children:[n.jsxs(yt,{id:"recent-courses-heading",className:"flex items-center gap-2 text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-100",children:[n.jsx(tt,{className:"w-4 h-4 md:w-5 md:h-5","aria-hidden":"true"}),"Kha hc gn y"]}),n.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground mt-1",children:[e.length," kha hc mi nht"]})]}),n.jsx(De,{children:n.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:n.jsxs(Ms,{"aria-label":"Recent courses table",children:[n.jsx(Ls,{children:n.jsxs(Mt,{className:"hover:bg-transparent",children:[n.jsx(Ae,{className:"min-w-[200px]",children:"Tiu "}),n.jsx(Ae,{className:"min-w-[120px]",children:"Ngn ng"}),n.jsx(Ae,{className:"min-w-[100px]",children:"Cp "}),n.jsx(Ae,{className:"min-w-[150px]",children:"Gio vin"}),n.jsx(Ae,{className:"min-w-[100px]",children:"Trng thi"}),n.jsx(Ae,{className:"min-w-[150px]",children:"Ngy to"})]})}),n.jsx(Fs,{children:e.map(o=>n.jsxs(Mt,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>s(o.courseId),role:"button",tabIndex:0,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),s(o.courseId))},"aria-label":`View details for ${o.title}`,children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tt,{className:"w-4 h-4 text-muted-foreground flex-shrink-0","aria-hidden":"true"}),n.jsx("span",{className:"font-medium line-clamp-2",title:o.title,children:o.title})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_u,{className:"w-4 h-4 text-muted-foreground flex-shrink-0","aria-hidden":"true"}),n.jsx("span",{className:"text-sm",children:o.language})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bz,{className:"w-4 h-4 text-muted-foreground flex-shrink-0","aria-hidden":"true"}),n.jsx("span",{className:"text-sm",children:o.level})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pt,{className:"w-4 h-4 text-muted-foreground flex-shrink-0","aria-hidden":"true"}),n.jsx("span",{className:"text-sm truncate max-w-[150px]",title:o.tutorName,children:o.tutorName})]})}),n.jsx(Ee,{children:n.jsx(Pe,{variant:a(o.status),className:r(o.status),children:i(o.status)})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ft,{className:"w-4 h-4 text-muted-foreground flex-shrink-0","aria-hidden":"true"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:U6(o.createdAt)})]})})]},o.courseId))})]})})})]})},hpe=re.memo(dpe),fpe=({title:e,value:t,icon:s,subtitle:r,trend:a})=>n.jsxs(ye,{className:"hover:shadow-md transition-shadow",role:"article","aria-label":`${e}: ${t}`,children:[n.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(yt,{className:"text-xs md:text-sm font-medium text-muted-foreground",children:e}),n.jsx(s,{className:"h-4 w-4 md:h-5 md:w-5 text-primary","aria-hidden":"true"})]}),n.jsxs(De,{children:[n.jsx("div",{className:"text-xl md:text-2xl font-bold","aria-label":`Value: ${t}`,children:t}),r&&n.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground mt-1",children:r}),a&&n.jsxs("div",{className:fe("flex items-center gap-1 mt-1.5 md:mt-2 text-[10px] md:text-xs font-medium",a.isPositive?"text-green-600":"text-red-600"),children:[a.isPositive?n.jsx(vo,{className:"h-3 w-3"}):n.jsx(pq,{className:"h-3 w-3"}),n.jsx("span",{children:a.value})]})]})]}),Cn=re.memo(fpe);function it({className:e,...t}){return n.jsx("div",{className:fe("animate-pulse rounded-md bg-primary/10",e),...t})}const lT=()=>n.jsxs(ye,{className:"hover:shadow-md transition-shadow",role:"status","aria-label":"Loading metric card",children:[n.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(it,{className:"h-4 w-24"}),n.jsx(it,{className:"h-5 w-5 rounded-full"})]}),n.jsxs(De,{children:[n.jsx(it,{className:"h-8 w-32 mb-2"}),n.jsx(it,{className:"h-3 w-20"})]})]}),mpe=()=>n.jsxs(ye,{role:"status","aria-label":"Loading actionable item card",children:[n.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(it,{className:"h-4 w-28"}),n.jsx(it,{className:"h-5 w-5 rounded-full"})]}),n.jsxs(De,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(it,{className:"h-8 w-16"}),n.jsx(it,{className:"h-6 w-24 rounded-full"})]}),n.jsx(it,{className:"h-3 w-24 mt-2"})]})]}),Fp=({height:e=300,title:t="Loading chart..."})=>n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(it,{className:"h-6 w-48"})}),n.jsx(De,{className:"pt-4",children:n.jsx("div",{className:"w-full flex items-center justify-center",style:{height:`${e}px`},role:"status","aria-label":t,children:n.jsxs("div",{className:"space-y-3 w-full",children:[n.jsx("div",{className:"flex items-end justify-between gap-2 h-48",children:[...Array(7)].map((s,r)=>n.jsx(it,{className:"flex-1",style:{height:`${Math.random()*60+40}%`,minWidth:"20px"}},r))}),n.jsx("div",{className:"flex justify-between gap-2",children:[...Array(7)].map((s,r)=>n.jsx(it,{className:"h-3 flex-1"},r))})]})})})]}),q0=({rows:e=5,columns:t=4,title:s="Loading table..."})=>n.jsxs(ye,{children:[n.jsxs(Je,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(it,{className:"h-5 w-5 rounded-full"}),n.jsx(it,{className:"h-6 w-32"})]}),n.jsx(it,{className:"h-4 w-48 mt-1"})]}),n.jsx(De,{children:n.jsx("div",{className:"overflow-x-auto",role:"status","aria-label":s,children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex gap-4 pb-2 border-b",children:[...Array(t)].map((r,a)=>n.jsx(it,{className:"h-4 flex-1"},a))}),[...Array(e)].map((r,a)=>n.jsx("div",{className:"flex gap-4 py-2",children:[...Array(t)].map((i,o)=>n.jsx(it,{className:"h-5 flex-1"},o))},a))]})})})]}),ppe=()=>n.jsxs("div",{className:"space-y-4 mb-6",role:"status","aria-label":"Loading dashboard header",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(it,{className:"h-8 w-64"}),n.jsx(it,{className:"h-4 w-96"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(it,{className:"h-10 w-[200px]"}),n.jsx(it,{className:"h-10 w-[200px]"})]})]}),gpe=()=>n.jsxs("div",{className:"container mx-auto p-6 space-y-6",role:"status","aria-live":"polite","aria-label":"Loading dashboard",children:[n.jsx(ppe,{}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[...Array(5)].map((e,t)=>n.jsx(mpe,{},`actionable-${t}`))}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsx(lT,{},`financial-${t}`))}),n.jsx(Fp,{height:300,title:"Loading revenue breakdown chart"}),n.jsx(q0,{rows:5,columns:6,title:"Loading revenue by language table"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(7)].map((e,t)=>n.jsx(lT,{},`growth-${t}`))}),n.jsx(Fp,{height:300,title:"Loading monthly growth chart"}),n.jsx(q0,{rows:5,columns:4,title:"Loading recent users table"}),n.jsx(q0,{rows:5,columns:6,title:"Loading recent courses table"})]}),xpe=e=>{if(!(e instanceof Error))return"unknown";const t=e.message.toLowerCase();return t.includes("401")||t.includes("unauthorized")||t.includes("authentication")?"authentication":t.includes("403")||t.includes("forbidden")||t.includes("access denied")?"authorization":t.includes("network")||t.includes("failed to fetch")||t.includes("connection")||t.includes("timeout")?"network":t.includes("500")||t.includes("502")||t.includes("503")||t.includes("504")||t.includes("server error")||t.includes("internal server")?"server":"unknown"},ype=e=>{switch(e){case"authentication":return{icon:mr,title:"Authentication Required",description:"Your session has expired. Please log in again to continue.",showRetry:!1,showLogin:!0,variant:"destructive"};case"authorization":return{icon:fq,title:"Access Denied",description:"You do not have permission to access the admin dashboard. Please contact your administrator if you believe this is an error.",showRetry:!1,showLogin:!1,variant:"destructive"};case"network":return{icon:yq,title:"Network Error",description:"Unable to connect to the server. Please check your internet connection and try again.",showRetry:!0,showLogin:!1,variant:"destructive"};case"server":return{icon:hq,title:"Server Error",description:"The server encountered an error while processing your request. Our team has been notified. Please try again in a few moments.",showRetry:!0,showLogin:!1,variant:"destructive"};case"unknown":default:return{icon:at,title:"Error Loading Dashboard",description:"An unexpected error occurred while loading the dashboard. Please try again.",showRetry:!0,showLogin:!1,variant:"destructive"}}},V6=({error:e,onRetry:t})=>{const s=xpe(e),r=ype(s),a=r.icon,i=()=>{localStorage.clear(),sessionStorage.clear(),window.location.href="/login"};return e instanceof Error&&e.message,n.jsx("div",{className:"container mx-auto p-6",role:"alert","aria-live":"assertive",children:n.jsxs(ye,{className:"border-destructive",children:[n.jsx(Je,{children:n.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[n.jsx(a,{className:"h-5 w-5","aria-hidden":"true"}),n.jsx("h2",{className:"text-xl font-semibold",id:"error-title",children:r.title})]})}),n.jsxs(De,{className:"space-y-4",children:[n.jsx("p",{className:"text-muted-foreground",id:"error-description",children:r.description}),!1,n.jsxs("div",{className:"flex gap-2",role:"group","aria-label":"Error recovery actions",children:[r.showRetry&&t&&n.jsxs(H,{onClick:t,variant:"outline",className:"gap-2","aria-label":"Retry loading dashboard",children:[n.jsx(oo,{className:"h-4 w-4","aria-hidden":"true"}),"Retry"]}),r.showLogin&&n.jsx(H,{onClick:i,variant:"default","aria-label":"Go to login page",children:"Go to Login"})]})]})]})})};re.memo(V6);function vpe(e,t,s="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:s}).format(t).split(/\s/g).slice(2).join(" ")}const H0={},wd={};function Zo(e,t){try{const r=(H0[e]||(H0[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return r in wd?wd[r]:cT(r,r.split(":"))}catch{if(e in wd)return wd[e];const s=e==null?void 0:e.match(bpe);return s?cT(e,s.slice(1)):NaN}}const bpe=/([+-]\d\d):?(\d\d)?/;function cT(e,t){const s=+(t[0]||0),r=+(t[1]||0),a=+(t[2]||0)/60;return wd[e]=s*60+r>0?s*60+r+a:s*60-r-a}class da extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Zo(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),B6(this),mb(this)):this.setTime(Date.now())}static tz(t,...s){return s.length?new da(...s,t):new da(Date.now(),t)}withTimeZone(t){return new da(+this,t)}getTimezoneOffset(){const t=-Zo(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),mb(this),+this}[Symbol.for("constructDateFrom")](t){return new da(+new Date(t),this.timeZone)}}const uT=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!uT.test(e))return;const t=e.replace(uT,"$1UTC");da.prototype[t]&&(e.startsWith("get")?da.prototype[e]=function(){return this.internal[t]()}:(da.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),wpe(this),+this},da.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),mb(this),+this}))});function mb(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Zo(e.timeZone,e)*60))}function wpe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),B6(e)}function B6(e){const t=Zo(e.timeZone,e),s=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+r).getTimezoneOffset(),o=a-i,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const c=a-s;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const u=new Date(+e);u.setUTCSeconds(0);const h=a>0?u.getSeconds():(u.getSeconds()-60)%60,d=Math.round(-(Zo(e.timeZone,e)*60))%60;(d||h)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+d),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+d+h));const f=Zo(e.timeZone,e),m=f>0?Math.floor(f):Math.ceil(f),g=-new Date(+e).getTimezoneOffset()-m,b=m!==s,v=g-c;if(b&&v){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+v);const x=Zo(e.timeZone,e),w=x>0?Math.floor(x):Math.ceil(x),j=m-w;j&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+j),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j))}}class Wa extends da{static tz(t,...s){return s.length?new Wa(...s,t):new Wa(Date.now(),t)}toISOString(){const[t,s,r]=this.tzComponents(),a=`${t}${s}:${r}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,s,r,a]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${r} ${s} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[s,r,a]=this.tzComponents();return`${t} GMT${s}${r}${a} (${vpe(this.timeZone,this)})`}toLocaleString(t,s){return Date.prototype.toLocaleString.call(this,t,{...s,timeZone:(s==null?void 0:s.timeZone)||this.timeZone})}toLocaleDateString(t,s){return Date.prototype.toLocaleDateString.call(this,t,{...s,timeZone:(s==null?void 0:s.timeZone)||this.timeZone})}toLocaleTimeString(t,s){return Date.prototype.toLocaleTimeString.call(this,t,{...s,timeZone:(s==null?void 0:s.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),s=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[s,r,a]}withTimeZone(t){return new Wa(+this,t)}[Symbol.for("constructDateFrom")](t){return new Wa(+new Date(t),this.timeZone)}}const dT=5,jpe=4;function Npe(e,t){const s=t.startOfMonth(e),r=s.getDay()>0?s.getDay():7,a=t.addDays(e,-r+1),i=t.addDays(a,dT*7-1);return t.getMonth(e)===t.getMonth(i)?dT:jpe}function z6(e,t){const s=t.startOfMonth(e),r=s.getDay();return r===1?s:r===0?t.addDays(s,-1*6):t.addDays(s,-1*(r-1))}function kpe(e,t){const s=z6(e,t),r=Npe(e,t);return t.addDays(s,r*7-1)}class Xs{constructor(t,s){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Wa.tz(this.options.timeZone):new this.Date},this.newDate=(r,a,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(r,a,i):this.options.timeZone?new Wa(r,a,i,this.options.timeZone):new Date(r,a,i)},this.addDays=(r,a)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(r,a):TN(r,a)},this.addMonths=(r,a)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(r,a):S6(r,a)},this.addWeeks=(r,a)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(r,a):Qhe(r,a)},this.addYears=(r,a)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(r,a):Zhe(r,a)},this.differenceInCalendarDays=(r,a)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,a):T6(r,a)},this.differenceInCalendarMonths=(r,a)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,a):_6(r,a)},this.eachMonthOfInterval=r=>{var a;return(a=this.overrides)!=null&&a.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):cfe(r)},this.eachYearOfInterval=r=>{var l;const a=(l=this.overrides)!=null&&l.eachYearOfInterval?this.overrides.eachYearOfInterval(r):dfe(r),i=new Set(a.map(c=>this.getYear(c)));if(i.size===a.length)return a;const o=[];return i.forEach(c=>{o.push(new Date(c,0,1))}),o},this.endOfBroadcastWeek=r=>{var a;return(a=this.overrides)!=null&&a.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):kpe(r,this)},this.endOfISOWeek=r=>{var a;return(a=this.overrides)!=null&&a.endOfISOWeek?this.overrides.endOfISOWeek(r):hfe(r)},this.endOfMonth=r=>{var a;return(a=this.overrides)!=null&&a.endOfMonth?this.overrides.endOfMonth(r):A6(r)},this.endOfWeek=(r,a)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(r,a):P6(r,this.options)},this.endOfYear=r=>{var a;return(a=this.overrides)!=null&&a.endOfYear?this.overrides.endOfYear(r):ufe(r)},this.format=(r,a,i)=>{var l;const o=(l=this.overrides)!=null&&l.format?this.overrides.format(r,a,this.options):xa(r,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=r=>{var a;return(a=this.overrides)!=null&&a.getISOWeek?this.overrides.getISOWeek(r):M6(r)},this.getMonth=(r,a)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(r,this.options):cme(r,this.options)},this.getYear=(r,a)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(r,this.options):ume(r,this.options)},this.getWeek=(r,a)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(r,this.options):F6(r,this.options)},this.isAfter=(r,a)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(r,a):dme(r,a)},this.isBefore=(r,a)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(r,a):hme(r,a)},this.isDate=r=>{var a;return(a=this.overrides)!=null&&a.isDate?this.overrides.isDate(r):E6(r)},this.isSameDay=(r,a)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(r,a):tfe(r,a)},this.isSameMonth=(r,a)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(r,a):fme(r,a)},this.isSameYear=(r,a)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(r,a):mme(r,a)},this.max=r=>{var a;return(a=this.overrides)!=null&&a.max?this.overrides.max(r):Xhe(r)},this.min=r=>{var a;return(a=this.overrides)!=null&&a.min?this.overrides.min(r):Jhe(r)},this.setMonth=(r,a)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(r,a):gme(r,a)},this.setYear=(r,a)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(r,a):xme(r,a)},this.startOfBroadcastWeek=(r,a)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):z6(r,this)},this.startOfDay=r=>{var a;return(a=this.overrides)!=null&&a.startOfDay?this.overrides.startOfDay(r):jh(r)},this.startOfISOWeek=r=>{var a;return(a=this.overrides)!=null&&a.startOfISOWeek?this.overrides.startOfISOWeek(r):wh(r)},this.startOfMonth=r=>{var a;return(a=this.overrides)!=null&&a.startOfMonth?this.overrides.startOfMonth(r):R6(r)},this.startOfWeek=(r,a)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(r,this.options):pu(r,this.options)},this.startOfYear=r=>{var a;return(a=this.overrides)!=null&&a.startOfYear?this.overrides.startOfYear(r):O6(r)},this.options={locale:ox,...t},this.overrides=s}getDigitMap(){const{numerals:t="latn"}=this.options,s=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let a=0;a<10;a++)r[a.toString()]=s.format(a);return r}replaceDigits(t){const s=this.getDigitMap();return t.replace(/\d/g,r=>s[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){var s;const t=(s=this.options.locale)==null?void 0:s.code;return t&&Xs.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:s,timeZone:r,numerals:a}=this.options,i=s==null?void 0:s.code;if(i&&Xs.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:r,numberingSystem:a}).format(t)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,o)}}Xs.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Ta=new Xs;class q6{constructor(t,s,r=Ta){this.date=t,this.displayMonth=s,this.outside=!!(s&&!r.isSameMonth(t,s)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(s,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Spe{constructor(t,s){this.date=t,this.weeks=s}}class Cpe{constructor(t,s){this.days=s,this.weekNumber=t}}function Tpe(e){return re.createElement("button",{...e})}function Epe(e){return re.createElement("span",{...e})}function _pe(e){const{size:t=24,orientation:s="left",className:r}=e;return re.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},s==="up"&&re.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),s==="down"&&re.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),s==="left"&&re.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),s==="right"&&re.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Ape(e){const{day:t,modifiers:s,...r}=e;return re.createElement("td",{...r})}function Dpe(e){const{day:t,modifiers:s,...r}=e,a=re.useRef(null);return re.useEffect(()=>{var i;s.focused&&((i=a.current)==null||i.focus())},[s.focused]),re.createElement("button",{ref:a,...r})}var Ye;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ye||(Ye={}));var sn;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(sn||(sn={}));var Rr;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Rr||(Rr={}));var zs;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(zs||(zs={}));function Rpe(e){const{options:t,className:s,components:r,classNames:a,...i}=e,o=[a[Ye.Dropdown],s].join(" "),l=t==null?void 0:t.find(({value:c})=>c===i.value);return re.createElement("span",{"data-disabled":i.disabled,className:a[Ye.DropdownRoot]},re.createElement(r.Select,{className:o,...i},t==null?void 0:t.map(({value:c,label:u,disabled:h})=>re.createElement(r.Option,{key:c,value:c,disabled:h},u))),re.createElement("span",{className:a[Ye.CaptionLabel],"aria-hidden":!0},l==null?void 0:l.label,re.createElement(r.Chevron,{orientation:"down",size:18,className:a[Ye.Chevron]})))}function Ope(e){return re.createElement("div",{...e})}function Ppe(e){return re.createElement("div",{...e})}function Ipe(e){const{calendarMonth:t,displayIndex:s,...r}=e;return re.createElement("div",{...r},e.children)}function Mpe(e){const{calendarMonth:t,displayIndex:s,...r}=e;return re.createElement("div",{...r})}function Lpe(e){return re.createElement("table",{...e})}function Fpe(e){return re.createElement("div",{...e})}const H6=y.createContext(void 0);function nf(){const e=y.useContext(H6);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function $pe(e){const{components:t}=nf();return re.createElement(t.Dropdown,{...e})}function Upe(e){const{onPreviousClick:t,onNextClick:s,previousMonth:r,nextMonth:a,...i}=e,{components:o,classNames:l,labels:{labelPrevious:c,labelNext:u}}=nf(),h=y.useCallback(f=>{a&&(s==null||s(f))},[a,s]),d=y.useCallback(f=>{r&&(t==null||t(f))},[r,t]);return re.createElement("nav",{...i},re.createElement(o.PreviousMonthButton,{type:"button",className:l[Ye.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:d},re.createElement(o.Chevron,{disabled:r?void 0:!0,className:l[Ye.Chevron],orientation:"left"})),re.createElement(o.NextMonthButton,{type:"button",className:l[Ye.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":u(a),onClick:h},re.createElement(o.Chevron,{disabled:a?void 0:!0,orientation:"right",className:l[Ye.Chevron]})))}function Vpe(e){const{components:t}=nf();return re.createElement(t.Button,{...e})}function Bpe(e){return re.createElement("option",{...e})}function zpe(e){const{components:t}=nf();return re.createElement(t.Button,{...e})}function qpe(e){const{rootRef:t,...s}=e;return re.createElement("div",{...s,ref:t})}function Hpe(e){return re.createElement("select",{...e})}function Wpe(e){const{week:t,...s}=e;return re.createElement("tr",{...s})}function Kpe(e){return re.createElement("th",{...e})}function Gpe(e){return re.createElement("thead",{"aria-hidden":!0},re.createElement("tr",{...e}))}function Ype(e){const{week:t,...s}=e;return re.createElement("th",{...s})}function Qpe(e){return re.createElement("th",{...e})}function Zpe(e){return re.createElement("tbody",{...e})}function Xpe(e){const{components:t}=nf();return re.createElement(t.Dropdown,{...e})}const Jpe=Object.freeze(Object.defineProperty({__proto__:null,Button:Tpe,CaptionLabel:Epe,Chevron:_pe,Day:Ape,DayButton:Dpe,Dropdown:Rpe,DropdownNav:Ope,Footer:Ppe,Month:Ipe,MonthCaption:Mpe,MonthGrid:Lpe,Months:Fpe,MonthsDropdown:$pe,Nav:Upe,NextMonthButton:Vpe,Option:Bpe,PreviousMonthButton:zpe,Root:qpe,Select:Hpe,Week:Wpe,WeekNumber:Ype,WeekNumberHeader:Qpe,Weekday:Kpe,Weekdays:Gpe,Weeks:Zpe,YearsDropdown:Xpe},Symbol.toStringTag,{value:"Module"}));function Ka(e,t,s=!1,r=Ta){let{from:a,to:i}=e;const{differenceInCalendarDays:o,isSameDay:l}=r;return a&&i?(o(i,a)<0&&([a,i]=[i,a]),o(t,a)>=(s?1:0)&&o(i,t)>=(s?1:0)):!s&&i?l(i,t):!s&&a?l(a,t):!1}function EN(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function cx(e){return!!(e&&typeof e=="object"&&"from"in e)}function _N(e){return!!(e&&typeof e=="object"&&"after"in e)}function AN(e){return!!(e&&typeof e=="object"&&"before"in e)}function W6(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function K6(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Ga(e,t,s=Ta){const r=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:o}=s;return r.some(l=>{if(typeof l=="boolean")return l;if(s.isDate(l))return a(e,l);if(K6(l,s))return l.includes(e);if(cx(l))return Ka(l,e,!1,s);if(W6(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(e.getDay()):l.dayOfWeek===e.getDay();if(EN(l)){const c=i(l.before,e),u=i(l.after,e),h=c>0,d=u<0;return o(l.before,l.after)?d&&h:h||d}return _N(l)?i(e,l.after)>0:AN(l)?i(l.before,e)>0:typeof l=="function"?l(e):!1})}function ege(e,t,s,r,a){const{disabled:i,hidden:o,modifiers:l,showOutsideDays:c,broadcastCalendar:u,today:h=a.today()}=t,{isSameDay:d,isSameMonth:f,startOfMonth:m,isBefore:p,endOfMonth:g,isAfter:b}=a,v=s&&m(s),x=r&&g(r),w={[sn.focused]:[],[sn.outside]:[],[sn.disabled]:[],[sn.hidden]:[],[sn.today]:[]},j={};for(const N of e){const{date:k,displayMonth:S}=N,C=!!(S&&!f(k,S)),E=!!(v&&p(k,v)),T=!!(x&&b(k,x)),_=!!(i&&Ga(k,i,a)),A=!!(o&&Ga(k,o,a))||E||T||!u&&!c&&C||u&&c===!1&&C,D=d(k,h);C&&w.outside.push(N),_&&w.disabled.push(N),A&&w.hidden.push(N),D&&w.today.push(N),l&&Object.keys(l).forEach(R=>{const U=l==null?void 0:l[R];U&&Ga(k,U,a)&&(j[R]?j[R].push(N):j[R]=[N])})}return N=>{const k={[sn.focused]:!1,[sn.disabled]:!1,[sn.hidden]:!1,[sn.outside]:!1,[sn.today]:!1},S={};for(const C in w){const E=w[C];k[C]=E.some(T=>T===N)}for(const C in j)S[C]=j[C].some(E=>E===N);return{...k,...S}}}function tge(e,t,s={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(s[i]?a.push(s[i]):t[sn[i]]?a.push(t[sn[i]]):t[Rr[i]]&&a.push(t[Rr[i]]),a),[t[Ye.Day]])}function nge(e){return{...Jpe,...e}}function sge(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([s,r])=>{s.startsWith("data-")&&(t[s]=r)}),t}function rge(){const e={};for(const t in Ye)e[Ye[t]]=`rdp-${Ye[t]}`;for(const t in sn)e[sn[t]]=`rdp-${sn[t]}`;for(const t in Rr)e[Rr[t]]=`rdp-${Rr[t]}`;for(const t in zs)e[zs[t]]=`rdp-${zs[t]}`;return e}function G6(e,t,s){return(s??new Xs(t)).formatMonthYear(e)}const age=G6;function ige(e,t,s){return(s??new Xs(t)).format(e,"d")}function oge(e,t=Ta){return t.format(e,"LLLL")}function lge(e,t,s){return(s??new Xs(t)).format(e,"cccccc")}function cge(e,t=Ta){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function uge(){return""}function Y6(e,t=Ta){return t.format(e,"yyyy")}const dge=Y6,hge=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:G6,formatDay:ige,formatMonthCaption:age,formatMonthDropdown:oge,formatWeekNumber:cge,formatWeekNumberHeader:uge,formatWeekdayName:lge,formatYearCaption:dge,formatYearDropdown:Y6},Symbol.toStringTag,{value:"Module"}));function fge(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...hge,...e}}function mge(e,t,s,r,a){const{startOfMonth:i,startOfYear:o,endOfYear:l,eachMonthOfInterval:c,getMonth:u}=a;return c({start:o(e),end:l(e)}).map(f=>{const m=r.formatMonthDropdown(f,a),p=u(f),g=t&&f<i(t)||s&&f>i(s)||!1;return{value:p,label:m,disabled:g}})}function pge(e,t={},s={}){let r={...t==null?void 0:t[Ye.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{r={...r,...s==null?void 0:s[a]}}),r}function gge(e,t,s,r){const a=r??e.today(),i=s?e.startOfBroadcastWeek(a,e):t?e.startOfISOWeek(a):e.startOfWeek(a),o=[];for(let l=0;l<7;l++){const c=e.addDays(i,l);o.push(c)}return o}function xge(e,t,s,r,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:o,eachYearOfInterval:l,getYear:c}=r,u=i(e),h=o(t),d=l({start:u,end:h});return a&&d.reverse(),d.map(f=>{const m=s.formatYearDropdown(f,r);return{value:c(f),label:m,disabled:!1}})}function Q6(e,t,s,r){let a=(r??new Xs(s)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const yge=Q6;function Z6(e,t,s){return(s??new Xs(t)).formatMonthYear(e)}const vge=Z6;function bge(e,t,s,r){let a=(r??new Xs(s)).format(e,"PPPP");return t!=null&&t.today&&(a=`Today, ${a}`),a}function wge(e){return"Choose the Month"}function jge(){return""}function Nge(e){return"Go to the Next Month"}function kge(e){return"Go to the Previous Month"}function Sge(e,t,s){return(s??new Xs(t)).format(e,"cccc")}function Cge(e,t){return`Week ${e}`}function Tge(e){return"Week Number"}function Ege(e){return"Choose the Year"}const _ge=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:vge,labelDay:yge,labelDayButton:Q6,labelGrid:Z6,labelGridcell:bge,labelMonthDropdown:wge,labelNav:jge,labelNext:Nge,labelPrevious:kge,labelWeekNumber:Cge,labelWeekNumberHeader:Tge,labelWeekday:Sge,labelYearDropdown:Ege},Symbol.toStringTag,{value:"Module"})),sf=e=>e instanceof HTMLElement?e:null,W0=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Age=e=>sf(e.querySelector("[data-animated-month]")),K0=e=>sf(e.querySelector("[data-animated-caption]")),G0=e=>sf(e.querySelector("[data-animated-weeks]")),Dge=e=>sf(e.querySelector("[data-animated-nav]")),Rge=e=>sf(e.querySelector("[data-animated-weekdays]"));function Oge(e,t,{classNames:s,months:r,focused:a,dateLib:i}){const o=y.useRef(null),l=y.useRef(r),c=y.useRef(!1);y.useLayoutEffect(()=>{const u=l.current;if(l.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||u.length===0||r.length!==u.length)return;const h=i.isSameMonth(r[0].date,u[0].date),d=i.isAfter(r[0].date,u[0].date),f=d?s[zs.caption_after_enter]:s[zs.caption_before_enter],m=d?s[zs.weeks_after_enter]:s[zs.weeks_before_enter],p=o.current,g=e.current.cloneNode(!0);if(g instanceof HTMLElement?(W0(g).forEach(w=>{if(!(w instanceof HTMLElement))return;const j=Age(w);j&&w.contains(j)&&w.removeChild(j);const N=K0(w);N&&N.classList.remove(f);const k=G0(w);k&&k.classList.remove(m)}),o.current=g):o.current=null,c.current||h||a)return;const b=p instanceof HTMLElement?W0(p):[],v=W0(e.current);if(v!=null&&v.every(x=>x instanceof HTMLElement)&&b&&b.every(x=>x instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const x=Dge(e.current);x&&(x.style.zIndex="1"),v.forEach((w,j)=>{const N=b[j];if(!N)return;w.style.position="relative",w.style.overflow="hidden";const k=K0(w);k&&k.classList.add(f);const S=G0(w);S&&S.classList.add(m);const C=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),x&&(x.style.zIndex=""),k&&k.classList.remove(f),S&&S.classList.remove(m),w.style.position="",w.style.overflow="",w.contains(N)&&w.removeChild(N)};N.style.pointerEvents="none",N.style.position="absolute",N.style.overflow="hidden",N.setAttribute("aria-hidden","true");const E=Rge(N);E&&(E.style.opacity="0");const T=K0(N);T&&(T.classList.add(d?s[zs.caption_before_exit]:s[zs.caption_after_exit]),T.addEventListener("animationend",C));const _=G0(N);_&&_.classList.add(d?s[zs.weeks_before_exit]:s[zs.weeks_after_exit]),w.insertBefore(N,w.firstChild)})}})}function Pge(e,t,s,r){const a=e[0],i=e[e.length-1],{ISOWeek:o,fixedWeeks:l,broadcastCalendar:c}=s??{},{addDays:u,differenceInCalendarDays:h,differenceInCalendarMonths:d,endOfBroadcastWeek:f,endOfISOWeek:m,endOfMonth:p,endOfWeek:g,isAfter:b,startOfBroadcastWeek:v,startOfISOWeek:x,startOfWeek:w}=r,j=c?v(a,r):o?x(a):w(a),N=c?f(i):o?m(p(i)):g(p(i)),k=t&&(c?f(t):o?m(t):g(t)),S=k&&b(N,k)?k:N,C=h(S,j),E=d(i,a)+1,T=[];for(let D=0;D<=C;D++){const R=u(j,D);T.push(R)}const A=(c?35:42)*E;if(l&&T.length<A){const D=A-T.length;for(let R=0;R<D;R++){const U=u(T[T.length-1],1);T.push(U)}}return T}function Ige(e){const t=[];return e.reduce((s,r)=>{const a=r.weeks.reduce((i,o)=>i.concat(o.days.slice()),t.slice());return s.concat(a.slice())},t.slice())}function Mge(e,t,s,r){const{numberOfMonths:a=1}=s,i=[];for(let o=0;o<a;o++){const l=r.addMonths(e,o);if(t&&l>t)break;i.push(l)}return i}function hT(e,t,s,r){const{month:a,defaultMonth:i,today:o=r.today(),numberOfMonths:l=1}=e;let c=a||i||o;const{differenceInCalendarMonths:u,addMonths:h,startOfMonth:d}=r;if(s&&u(s,c)<l-1){const f=-1*(l-1);c=h(s,f)}return t&&u(c,t)<0&&(c=t),d(c)}function Lge(e,t,s,r){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:l,endOfWeek:c,getISOWeek:u,getWeek:h,startOfBroadcastWeek:d,startOfISOWeek:f,startOfWeek:m}=r,p=e.reduce((g,b)=>{const v=s.broadcastCalendar?d(b,r):s.ISOWeek?f(b):m(b),x=s.broadcastCalendar?i(b):s.ISOWeek?o(l(b)):c(l(b)),w=t.filter(S=>S>=v&&S<=x),j=s.broadcastCalendar?35:42;if(s.fixedWeeks&&w.length<j){const S=t.filter(C=>{const E=j-w.length;return C>x&&C<=a(x,E)});w.push(...S)}const N=w.reduce((S,C)=>{const E=s.ISOWeek?u(C):h(C),T=S.find(A=>A.weekNumber===E),_=new q6(C,b,r);return T?T.days.push(_):S.push(new Cpe(E,[_])),S},[]),k=new Spe(b,N);return g.push(k),g},[]);return s.reverseMonths?p.reverse():p}function Fge(e,t){let{startMonth:s,endMonth:r}=e;const{startOfYear:a,startOfDay:i,startOfMonth:o,endOfMonth:l,addYears:c,endOfYear:u,newDate:h,today:d}=t,{fromYear:f,toYear:m,fromMonth:p,toMonth:g}=e;!s&&p&&(s=p),!s&&f&&(s=t.newDate(f,0,1)),!r&&g&&(r=g),!r&&m&&(r=h(m,11,31));const b=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return s?s=o(s):f?s=h(f,0,1):!s&&b&&(s=a(c(e.today??d(),-100))),r?r=l(r):m?r=h(m,11,31):!r&&b&&(r=u(e.today??d())),[s&&i(s),r&&i(r)]}function $ge(e,t,s,r){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=s,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=r,u=a?i:1,h=o(e);if(!t)return l(h,u);if(!(c(t,e)<i))return l(h,u)}function Uge(e,t,s,r){if(s.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=s,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=r,u=a?i??1:1,h=o(e);if(!t)return l(h,-u);if(!(c(h,t)<=0))return l(h,-u)}function Vge(e){const t=[];return e.reduce((s,r)=>s.concat(r.weeks.slice()),t.slice())}function ux(e,t){const[s,r]=y.useState(e);return[t===void 0?s:t,r]}function Bge(e,t){var j;const[s,r]=Fge(e,t),{startOfMonth:a,endOfMonth:i}=t,o=hT(e,s,r,t),[l,c]=ux(o,e.month?o:void 0);y.useEffect(()=>{const N=hT(e,s,r,t);c(N)},[e.timeZone]);const{months:u,weeks:h,days:d,previousMonth:f,nextMonth:m}=y.useMemo(()=>{const N=Mge(l,r,{numberOfMonths:e.numberOfMonths},t),k=Pge(N,e.endMonth?i(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),S=Lge(N,k,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),C=Vge(S),E=Ige(S),T=Uge(l,s,e,t),_=$ge(l,r,e,t);return{months:S,weeks:C,days:E,previousMonth:T,nextMonth:_}},[t,l.getTime(),r==null?void 0:r.getTime(),s==null?void 0:s.getTime(),e.disableNavigation,e.broadcastCalendar,(j=e.endMonth)==null?void 0:j.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:p,onMonthChange:g}=e,b=N=>h.some(k=>k.days.some(S=>S.isEqualTo(N))),v=N=>{if(p)return;let k=a(N);s&&k<a(s)&&(k=a(s)),r&&k>a(r)&&(k=a(r)),c(k),g==null||g(k)};return{months:u,weeks:h,days:d,navStart:s,navEnd:r,previousMonth:f,nextMonth:m,goToMonth:v,goToDay:N=>{b(N)||v(N.date)}}}var na;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(na||(na={}));function fT(e){return!e[sn.disabled]&&!e[sn.hidden]&&!e[sn.outside]}function zge(e,t,s,r){let a,i=-1;for(const o of e){const l=t(o);fT(l)&&(l[sn.focused]&&i<na.FocusedModifier?(a=o,i=na.FocusedModifier):r!=null&&r.isEqualTo(o)&&i<na.LastFocused?(a=o,i=na.LastFocused):s(o.date)&&i<na.Selected?(a=o,i=na.Selected):l[sn.today]&&i<na.Today&&(a=o,i=na.Today))}return a||(a=e.find(o=>fT(t(o)))),a}function qge(e,t,s,r,a,i,o){const{ISOWeek:l,broadcastCalendar:c}=i,{addDays:u,addMonths:h,addWeeks:d,addYears:f,endOfBroadcastWeek:m,endOfISOWeek:p,endOfWeek:g,max:b,min:v,startOfBroadcastWeek:x,startOfISOWeek:w,startOfWeek:j}=o;let k={day:u,week:d,month:h,year:f,startOfWeek:S=>c?x(S,o):l?w(S):j(S),endOfWeek:S=>c?m(S):l?p(S):g(S)}[e](s,t==="after"?1:-1);return t==="before"&&r?k=b([r,k]):t==="after"&&a&&(k=v([a,k])),k}function X6(e,t,s,r,a,i,o,l=0){if(l>365)return;const c=qge(e,t,s.date,r,a,i,o),u=!!(i.disabled&&Ga(c,i.disabled,o)),h=!!(i.hidden&&Ga(c,i.hidden,o)),d=c,f=new q6(c,d,o);return!u&&!h?f:X6(e,t,f,r,a,i,o,l+1)}function Hge(e,t,s,r,a){const{autoFocus:i}=e,[o,l]=y.useState(),c=zge(t.days,s,r||(()=>!1),o),[u,h]=y.useState(i?c:void 0);return{isFocusTarget:g=>!!(c!=null&&c.isEqualTo(g)),setFocused:h,focused:u,blur:()=>{l(u),h(void 0)},moveFocus:(g,b)=>{if(!u)return;const v=X6(g,b,u,t.navStart,t.navEnd,e,a);v&&(e.disableNavigation&&!t.days.some(w=>w.isEqualTo(v))||(t.goToDay(v),h(v)))}}}function Wge(e,t){const{selected:s,required:r,onSelect:a}=e,[i,o]=ux(s,a?s:void 0),l=a?s:i,{isSameDay:c}=t,u=m=>(l==null?void 0:l.some(p=>c(p,m)))??!1,{min:h,max:d}=e;return{selected:l,select:(m,p,g)=>{let b=[...l??[]];if(u(m)){if((l==null?void 0:l.length)===h||r&&(l==null?void 0:l.length)===1)return;b=l==null?void 0:l.filter(v=>!c(v,m))}else(l==null?void 0:l.length)===d?b=[m]:b=[...b,m];return a||o(b),a==null||a(b,m,p,g),b},isSelected:u}}function Kge(e,t,s=0,r=0,a=!1,i=Ta){const{from:o,to:l}=t||{},{isSameDay:c,isAfter:u,isBefore:h}=i;let d;if(!o&&!l)d={from:e,to:s>0?void 0:e};else if(o&&!l)c(o,e)?s===0?d={from:o,to:e}:a?d={from:o,to:void 0}:d=void 0:h(e,o)?d={from:e,to:o}:d={from:o,to:e};else if(o&&l)if(c(o,e)&&c(l,e))a?d={from:o,to:l}:d=void 0;else if(c(o,e))d={from:o,to:s>0?void 0:e};else if(c(l,e))d={from:e,to:s>0?void 0:e};else if(h(e,o))d={from:e,to:l};else if(u(e,o))d={from:o,to:e};else if(u(e,l))d={from:o,to:e};else throw new Error("Invalid range");if(d!=null&&d.from&&(d!=null&&d.to)){const f=i.differenceInCalendarDays(d.to,d.from);r>0&&f>r?d={from:e,to:void 0}:s>1&&f<s&&(d={from:e,to:void 0})}return d}function Gge(e,t,s=Ta){const r=Array.isArray(t)?t:[t];let a=e.from;const i=s.differenceInCalendarDays(e.to,e.from),o=Math.min(i,6);for(let l=0;l<=o;l++){if(r.includes(a.getDay()))return!0;a=s.addDays(a,1)}return!1}function mT(e,t,s=Ta){return Ka(e,t.from,!1,s)||Ka(e,t.to,!1,s)||Ka(t,e.from,!1,s)||Ka(t,e.to,!1,s)}function Yge(e,t,s=Ta){const r=Array.isArray(t)?t:[t];if(r.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:s.isDate(l)?Ka(e,l,!1,s):K6(l,s)?l.some(c=>Ka(e,c,!1,s)):cx(l)?l.from&&l.to?mT(e,{from:l.from,to:l.to},s):!1:W6(l)?Gge(e,l.dayOfWeek,s):EN(l)?s.isAfter(l.before,l.after)?mT(e,{from:s.addDays(l.after,1),to:s.addDays(l.before,-1)},s):Ga(e.from,l,s)||Ga(e.to,l,s):_N(l)||AN(l)?Ga(e.from,l,s)||Ga(e.to,l,s):!1))return!0;const o=r.filter(l=>typeof l=="function");if(o.length){let l=e.from;const c=s.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=c;u++){if(o.some(h=>h(l)))return!0;l=s.addDays(l,1)}}return!1}function Qge(e,t){const{disabled:s,excludeDisabled:r,selected:a,required:i,onSelect:o}=e,[l,c]=ux(a,o?a:void 0),u=o?a:l;return{selected:u,select:(f,m,p)=>{const{min:g,max:b}=e,v=f?Kge(f,u,g,b,i,t):void 0;return r&&s&&(v!=null&&v.from)&&v.to&&Yge({from:v.from,to:v.to},s,t)&&(v.from=f,v.to=void 0),o||c(v),o==null||o(v,f,m,p),v},isSelected:f=>u&&Ka(u,f,!1,t)}}function Zge(e,t){const{selected:s,required:r,onSelect:a}=e,[i,o]=ux(s,a?s:void 0),l=a?s:i,{isSameDay:c}=t;return{selected:l,select:(d,f,m)=>{let p=d;return!r&&l&&l&&c(d,l)&&(p=void 0),a||o(p),a==null||a(p,d,f,m),p},isSelected:d=>l?c(l,d):!1}}function Xge(e,t){const s=Zge(e,t),r=Wge(e,t),a=Qge(e,t);switch(e.mode){case"single":return s;case"multiple":return r;case"range":return a;default:return}}function Yn(e,t){return e instanceof Wa&&e.timeZone===t?e:new Wa(e,t)}function pT(e,t){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?Yn(e,t):Array.isArray(e)?e.map(s=>s instanceof Date?Yn(s,t):s):cx(e)?{...e,from:e.from?Yn(e.from,t):e.from,to:e.to?Yn(e.to,t):e.to}:EN(e)?{before:Yn(e.before,t),after:Yn(e.after,t)}:_N(e)?{after:Yn(e.after,t)}:AN(e)?{before:Yn(e.before,t)}:e}function Y0(e,t){return e&&(Array.isArray(e)?e.map(s=>pT(s,t)):pT(e,t))}function Jge(e){var be;let t=e;const s=t.timeZone;if(s&&(t={...e,timeZone:s},t.today&&(t.today=Yn(t.today,s)),t.month&&(t.month=Yn(t.month,s)),t.defaultMonth&&(t.defaultMonth=Yn(t.defaultMonth,s)),t.startMonth&&(t.startMonth=Yn(t.startMonth,s)),t.endMonth&&(t.endMonth=Yn(t.endMonth,s)),t.mode==="single"&&t.selected?t.selected=Yn(t.selected,s):t.mode==="multiple"&&t.selected?t.selected=(be=t.selected)==null?void 0:be.map(xe=>Yn(xe,s)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?Yn(t.selected.from,s):t.selected.from,to:t.selected.to?Yn(t.selected.to,s):t.selected.to}),t.disabled!==void 0&&(t.disabled=Y0(t.disabled,s)),t.hidden!==void 0&&(t.hidden=Y0(t.hidden,s)),t.modifiers)){const xe={};Object.keys(t.modifiers).forEach(Me=>{var ke;xe[Me]=Y0((ke=t.modifiers)==null?void 0:ke[Me],s)}),t.modifiers=xe}const{components:r,formatters:a,labels:i,dateLib:o,locale:l,classNames:c}=y.useMemo(()=>{const xe={...ox,...t.locale};return{dateLib:new Xs({locale:xe,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:nge(t.components),formatters:fge(t.formatters),labels:{..._ge,...t.labels},locale:xe,classNames:{...rge(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:o.today()});const{captionLayout:u,mode:h,navLayout:d,numberOfMonths:f=1,onDayBlur:m,onDayClick:p,onDayFocus:g,onDayKeyDown:b,onDayMouseEnter:v,onDayMouseLeave:x,onNextClick:w,onPrevClick:j,showWeekNumber:N,styles:k}=t,{formatCaption:S,formatDay:C,formatMonthDropdown:E,formatWeekNumber:T,formatWeekNumberHeader:_,formatWeekdayName:A,formatYearDropdown:D}=a,R=Bge(t,o),{days:U,months:I,navStart:L,navEnd:M,previousMonth:$,nextMonth:F,goToMonth:O}=R,q=ege(U,t,L,M,o),{isSelected:B,select:z,selected:W}=Xge(t,o)??{},{blur:P,focused:V,isFocusTarget:Y,moveFocus:J,setFocused:te}=Hge(t,R,q,B??(()=>!1),o),{labelDayButton:ie,labelGridcell:de,labelGrid:G,labelMonthDropdown:X,labelNav:le,labelPrevious:Ne,labelNext:Re,labelWeekday:oe,labelWeekNumber:ae,labelWeekNumberHeader:K,labelYearDropdown:Z}=i,Q=y.useMemo(()=>gge(o,t.ISOWeek,t.broadcastCalendar,t.today),[o,t.ISOWeek,t.broadcastCalendar,t.today]),pe=h!==void 0||p!==void 0,me=y.useCallback(()=>{$&&(O($),j==null||j($))},[$,O,j]),ce=y.useCallback(()=>{F&&(O(F),w==null||w(F))},[O,F,w]),Se=y.useCallback((xe,Me)=>ke=>{ke.preventDefault(),ke.stopPropagation(),te(xe),!Me.disabled&&(z==null||z(xe.date,Me,ke),p==null||p(xe.date,Me,ke))},[z,p,te]),He=y.useCallback((xe,Me)=>ke=>{te(xe),g==null||g(xe.date,Me,ke)},[g,te]),Ve=y.useCallback((xe,Me)=>ke=>{P(),m==null||m(xe.date,Me,ke)},[P,m]),xn=y.useCallback((xe,Me)=>ke=>{const Ke={ArrowLeft:[ke.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ke.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ke.shiftKey?"year":"week","after"],ArrowUp:[ke.shiftKey?"year":"week","before"],PageUp:[ke.shiftKey?"year":"month","before"],PageDown:[ke.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ke[ke.key]){ke.preventDefault(),ke.stopPropagation();const[Rn,pt]=Ke[ke.key];J(Rn,pt)}b==null||b(xe.date,Me,ke)},[J,b,t.dir]),Ct=y.useCallback((xe,Me)=>ke=>{v==null||v(xe.date,Me,ke)},[v]),Ot=y.useCallback((xe,Me)=>ke=>{x==null||x(xe.date,Me,ke)},[x]),Ea=y.useCallback(xe=>Me=>{const ke=Number(Me.target.value),Ke=o.setMonth(o.startOfMonth(xe),ke);O(Ke)},[o,O]),tr=y.useCallback(xe=>Me=>{const ke=Number(Me.target.value),Ke=o.setYear(o.startOfMonth(xe),ke);O(Ke)},[o,O]),{className:Dn,style:Qr}=y.useMemo(()=>({className:[c[Ye.Root],t.className].filter(Boolean).join(" "),style:{...k==null?void 0:k[Ye.Root],...t.style}}),[c,t.className,t.style,k]),_a=sge(t),Aa=y.useRef(null);Oge(Aa,!!t.animate,{classNames:c,months:I,focused:V,dateLib:o});const Da={dayPickerProps:t,selected:W,select:z,isSelected:B,months:I,nextMonth:F,previousMonth:$,goToMonth:O,getModifiers:q,components:r,classNames:c,styles:k,labels:i,formatters:a};return re.createElement(H6.Provider,{value:Da},re.createElement(r.Root,{rootRef:t.animate?Aa:void 0,className:Dn,style:Qr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],..._a},re.createElement(r.Months,{className:c[Ye.Months],style:k==null?void 0:k[Ye.Months]},!t.hideNavigation&&!d&&re.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Ye.Nav],style:k==null?void 0:k[Ye.Nav],"aria-label":le(),onPreviousClick:me,onNextClick:ce,previousMonth:$,nextMonth:F}),I.map((xe,Me)=>re.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[Ye.Month],style:k==null?void 0:k[Ye.Month],key:Me,displayIndex:Me,calendarMonth:xe},d==="around"&&!t.hideNavigation&&Me===0&&re.createElement(r.PreviousMonthButton,{type:"button",className:c[Ye.PreviousMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":Ne($),onClick:me,"data-animated-button":t.animate?"true":void 0},re.createElement(r.Chevron,{disabled:$?void 0:!0,className:c[Ye.Chevron],orientation:t.dir==="rtl"?"right":"left"})),re.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[Ye.MonthCaption],style:k==null?void 0:k[Ye.MonthCaption],calendarMonth:xe,displayIndex:Me},u!=null&&u.startsWith("dropdown")?re.createElement(r.DropdownNav,{className:c[Ye.Dropdowns],style:k==null?void 0:k[Ye.Dropdowns]},(()=>{const ke=u==="dropdown"||u==="dropdown-months"?re.createElement(r.MonthsDropdown,{key:"month",className:c[Ye.MonthsDropdown],"aria-label":X(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Ea(xe.date),options:mge(xe.date,L,M,a,o),style:k==null?void 0:k[Ye.Dropdown],value:o.getMonth(xe.date)}):re.createElement("span",{key:"month"},E(xe.date,o)),Ke=u==="dropdown"||u==="dropdown-years"?re.createElement(r.YearsDropdown,{key:"year",className:c[Ye.YearsDropdown],"aria-label":Z(o.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:tr(xe.date),options:xge(L,M,a,o,!!t.reverseYears),style:k==null?void 0:k[Ye.Dropdown],value:o.getYear(xe.date)}):re.createElement("span",{key:"year"},D(xe.date,o));return o.getMonthYearOrder()==="year-first"?[Ke,ke]:[ke,Ke]})(),re.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},S(xe.date,o.options,o))):re.createElement(r.CaptionLabel,{className:c[Ye.CaptionLabel],role:"status","aria-live":"polite"},S(xe.date,o.options,o))),d==="around"&&!t.hideNavigation&&Me===f-1&&re.createElement(r.NextMonthButton,{type:"button",className:c[Ye.NextMonthButton],tabIndex:F?void 0:-1,"aria-disabled":F?void 0:!0,"aria-label":Re(F),onClick:ce,"data-animated-button":t.animate?"true":void 0},re.createElement(r.Chevron,{disabled:F?void 0:!0,className:c[Ye.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Me===f-1&&d==="after"&&!t.hideNavigation&&re.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Ye.Nav],style:k==null?void 0:k[Ye.Nav],"aria-label":le(),onPreviousClick:me,onNextClick:ce,previousMonth:$,nextMonth:F}),re.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":h==="multiple"||h==="range","aria-label":G(xe.date,o.options,o)||void 0,className:c[Ye.MonthGrid],style:k==null?void 0:k[Ye.MonthGrid]},!t.hideWeekdays&&re.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[Ye.Weekdays],style:k==null?void 0:k[Ye.Weekdays]},N&&re.createElement(r.WeekNumberHeader,{"aria-label":K(o.options),className:c[Ye.WeekNumberHeader],style:k==null?void 0:k[Ye.WeekNumberHeader],scope:"col"},_()),Q.map(ke=>re.createElement(r.Weekday,{"aria-label":oe(ke,o.options,o),className:c[Ye.Weekday],key:String(ke),style:k==null?void 0:k[Ye.Weekday],scope:"col"},A(ke,o.options,o)))),re.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[Ye.Weeks],style:k==null?void 0:k[Ye.Weeks]},xe.weeks.map(ke=>re.createElement(r.Week,{className:c[Ye.Week],key:ke.weekNumber,style:k==null?void 0:k[Ye.Week],week:ke},N&&re.createElement(r.WeekNumber,{week:ke,style:k==null?void 0:k[Ye.WeekNumber],"aria-label":ae(ke.weekNumber,{locale:l}),className:c[Ye.WeekNumber],scope:"row",role:"rowheader"},T(ke.weekNumber,o)),ke.days.map(Ke=>{const{date:Rn}=Ke,pt=q(Ke);if(pt[sn.focused]=!pt.hidden&&!!(V!=null&&V.isEqualTo(Ke)),pt[Rr.selected]=(B==null?void 0:B(Rn))||pt.selected,cx(W)){const{from:Ku,to:zl}=W;pt[Rr.range_start]=!!(Ku&&zl&&o.isSameDay(Rn,Ku)),pt[Rr.range_end]=!!(Ku&&zl&&o.isSameDay(Rn,zl)),pt[Rr.range_middle]=Ka(W,Rn,!0,o)}const On=pge(pt,k,t.modifiersStyles),$s=tge(pt,c,t.modifiersClassNames),px=!pe&&!pt.hidden?de(Rn,pt,o.options,o):void 0;return re.createElement(r.Day,{key:`${Ke.isoDate}_${Ke.displayMonthId}`,day:Ke,modifiers:pt,className:$s.join(" "),style:On,role:"gridcell","aria-selected":pt.selected||void 0,"aria-label":px,"data-day":Ke.isoDate,"data-month":Ke.outside?Ke.dateMonthId:void 0,"data-selected":pt.selected||void 0,"data-disabled":pt.disabled||void 0,"data-hidden":pt.hidden||void 0,"data-outside":Ke.outside||void 0,"data-focused":pt.focused||void 0,"data-today":pt.today||void 0},!pt.hidden&&pe?re.createElement(r.DayButton,{className:c[Ye.DayButton],style:k==null?void 0:k[Ye.DayButton],type:"button",day:Ke,modifiers:pt,disabled:!pt.focused&&pt.disabled||void 0,"aria-disabled":pt.focused&&pt.disabled||void 0,tabIndex:Y(Ke)?0:-1,"aria-label":ie(Rn,pt,o.options,o),onClick:Se(Ke,pt),onBlur:Ve(Ke,pt),onFocus:He(Ke,pt),onKeyDown:xn(Ke,pt),onMouseEnter:Ct(Ke,pt),onMouseLeave:Ot(Ke,pt)},C(Rn,o.options,o)):!pt.hidden&&C(Ke.date,o.options,o))})))))))),t.footer&&re.createElement(r.Footer,{className:c[Ye.Footer],style:k==null?void 0:k[Ye.Footer],role:"status","aria-live":"polite"},t.footer)))}function pb({className:e,classNames:t,showOutsideDays:s=!0,...r}){return n.jsx(Jge,{showOutsideDays:s,className:fe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:fe(mh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:fe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:fe(mh({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50  aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(oX,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(cX,{className:"h-4 w-4"})},...r})}pb.displayName="Calendar";var dx="Popover",[J6]=Jn(dx,[Lu]),rf=Lu(),[exe,Co]=J6(dx),e3=e=>{const{__scopePopover:t,children:s,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=rf(t),c=y.useRef(null),[u,h]=y.useState(!1),[d,f]=$r({prop:r,defaultProp:a??!1,onChange:i,caller:dx});return n.jsx(eN,{...l,children:n.jsx(exe,{scope:t,contentId:Ir(),triggerRef:c,open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:o,children:s})})};e3.displayName=dx;var t3="PopoverAnchor",txe=y.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=Co(t3,s),i=rf(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(Bg,{...i,...r,ref:t})});txe.displayName=t3;var n3="PopoverTrigger",s3=y.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=Co(n3,s),i=rf(s),o=mt(t,a.triggerRef),l=n.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":l3(a.open),...r,ref:o,onClick:Ie(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(Bg,{asChild:!0,...i,children:l})});s3.displayName=n3;var DN="PopoverPortal",[nxe,sxe]=J6(DN,{forceMount:void 0}),r3=e=>{const{__scopePopover:t,forceMount:s,children:r,container:a}=e,i=Co(DN,t);return n.jsx(nxe,{scope:t,forceMount:s,children:n.jsx(Is,{present:s||i.open,children:n.jsx(Pu,{asChild:!0,container:a,children:r})})})};r3.displayName=DN;var gu="PopoverContent",a3=y.forwardRef((e,t)=>{const s=sxe(gu,e.__scopePopover),{forceMount:r=s.forceMount,...a}=e,i=Co(gu,e.__scopePopover);return n.jsx(Is,{present:r||i.open,children:i.modal?n.jsx(axe,{...a,ref:t}):n.jsx(ixe,{...a,ref:t})})});a3.displayName=gu;var rxe=lo("PopoverContent.RemoveScroll"),axe=y.forwardRef((e,t)=>{const s=Co(gu,e.__scopePopover),r=y.useRef(null),a=mt(t,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return Pg(o)},[]),n.jsx(Yh,{as:rxe,allowPinchZoom:!0,children:n.jsx(i3,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ixe=y.forwardRef((e,t)=>{const s=Co(gu,e.__scopePopover),r=y.useRef(!1),a=y.useRef(!1);return n.jsx(i3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=s.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),i3=y.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...d}=e,f=Co(gu,s),m=rf(s);return Rg(),n.jsx(Gh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Ou,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:n.jsx(tN,{"data-state":l3(f.open),role:"dialog",id:f.contentId,...m,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),o3="PopoverClose",oxe=y.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=Co(o3,s);return n.jsx(qe.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});oxe.displayName=o3;var lxe="PopoverArrow",cxe=y.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=rf(s);return n.jsx(nN,{...a,...r,ref:t})});cxe.displayName=lxe;function l3(e){return e?"open":"closed"}var uxe=e3,dxe=s3,hxe=r3,c3=a3;const gT=uxe,xT=dxe,gb=y.forwardRef(({className:e,align:t="center",sideOffset:s=4,...r},a)=>n.jsx(hxe,{children:n.jsx(c3,{ref:a,align:t,sideOffset:s,className:fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));gb.displayName=c3.displayName;const u3=({userName:e,startDate:t,endDate:s,onDateChange:r})=>{const[a,i]=y.useState(t),[o,l]=y.useState(s),[c,u]=y.useState(""),h=f=>{if(f){if(i(f),u(""),f>o){u("Ngy bt u phi trc hoc bng ngy kt thc");return}r(f,o)}},d=f=>{if(f){if(l(f),u(""),a>f){u("Ngy kt thc phi sau hoc bng ngy bt u");return}r(a,f)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-6 text-white shadow-lg",role:"banner",children:[n.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Xin cho, ",e,"! "]}),n.jsx("p",{className:"text-purple-100 text-sm md:text-base",children:"Theo di hiu sut ging dy v doanh thu ca bn."})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",role:"search","aria-label":"B lc khong thi gian",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",id:"date-filter-label",children:"Lc theo khong thi gian:"}),n.jsxs(gT,{children:[n.jsx(xT,{asChild:!0,children:n.jsxs(H,{variant:"outline",className:fe("w-[200px] justify-start text-left font-normal",!a&&"text-muted-foreground"),"aria-label":"Chn ngy bt u","aria-describedby":"date-filter-label",children:[n.jsx(ft,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),a?xa(a,"dd/MM/yyyy"):n.jsx("span",{children:"Chn ngy bt u"})]})}),n.jsx(gb,{className:"w-auto p-0",align:"start",children:n.jsx(pb,{mode:"single",selected:a,onSelect:h,initialFocus:!0})})]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"n"}),n.jsxs(gT,{children:[n.jsx(xT,{asChild:!0,children:n.jsxs(H,{variant:"outline",className:fe("w-[200px] justify-start text-left font-normal",!o&&"text-muted-foreground"),"aria-label":"Chn ngy kt thc","aria-describedby":"date-filter-label",children:[n.jsx(ft,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),o?xa(o,"dd/MM/yyyy"):n.jsx("span",{children:"Chn ngy kt thc"})]})}),n.jsx(gb,{className:"w-auto p-0",align:"start",children:n.jsx(pb,{mode:"single",selected:o,onSelect:d,initialFocus:!0})})]})]}),c&&n.jsx("div",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-md border border-red-200",role:"alert",children:c})]})]})},fxe=y.lazy(()=>No(()=>import("./RevenueBreakdownChart-DdnGT3_b.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),mxe=y.lazy(()=>No(()=>import("./MonthlyGrowthChart-Cy9BHGik.js"),__vite__mapDeps([8,2,4,5,9]))),yT=()=>{const[e,t]=y.useState(R6(new Date)),[s,r]=y.useState(new Date),a=y.useRef(null),i=y.useCallback((w,j)=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{t(w),r(j)},500)},[]),{data:o,isLoading:l,error:c,refetch:u}=bme(e,s),h=y.useCallback(()=>{u()},[u]);wme({onRefresh:h});const d=y.useMemo(()=>!!(o!=null&&o.actionableItems),[o==null?void 0:o.actionableItems]),f=y.useMemo(()=>!!(o!=null&&o.financialOverview),[o==null?void 0:o.financialOverview]),m=y.useMemo(()=>!!(o!=null&&o.revenueBreakdown),[o==null?void 0:o.revenueBreakdown]),p=y.useMemo(()=>!!(o!=null&&o.revenueByLanguage),[o==null?void 0:o.revenueByLanguage]),g=y.useMemo(()=>!!(o!=null&&o.growthMetrics),[o==null?void 0:o.growthMetrics]),b=y.useMemo(()=>!!(o!=null&&o.monthlyGrowth),[o==null?void 0:o.monthlyGrowth]),v=y.useMemo(()=>!!(o!=null&&o.recentUsers),[o==null?void 0:o.recentUsers]),x=y.useMemo(()=>!!(o!=null&&o.recentCourses),[o==null?void 0:o.recentCourses]);return l?n.jsx(gpe,{}):c?n.jsx(V6,{error:c,onRetry:h}):n.jsxs(n.Fragment,{children:[n.jsx("a",{href:"#dashboard-main-content",className:"skip-to-main","aria-label":"Skip to main dashboard content",children:"Skip to main content"}),n.jsxs("main",{id:"dashboard-main-content",className:"container mx-auto px-4 py-4 md:px-6 md:py-6 lg:px-8",role:"main","aria-label":"Admin Dashboard",tabIndex:-1,children:[n.jsx(u3,{userName:"Admin",startDate:e,endDate:s,onDateChange:i}),d&&n.jsx(kme,{actionableItems:o.actionableItems}),f&&n.jsx(rpe,{financialOverview:o.financialOverview}),m&&n.jsx("section",{className:"mt-4 md:mt-6","aria-labelledby":"revenue-breakdown-heading",children:n.jsx(y.Suspense,{fallback:n.jsx(Fp,{}),children:n.jsx(fxe,{data:o.revenueBreakdown})})}),p&&n.jsx(ipe,{revenueByLanguage:o.revenueByLanguage}),g&&n.jsx(lpe,{growthMetrics:o.growthMetrics}),b&&n.jsx("section",{className:"mt-4 md:mt-6","aria-labelledby":"monthly-growth-heading",children:n.jsx(y.Suspense,{fallback:n.jsx(Fp,{}),children:n.jsx(mxe,{data:o.monthlyGrowth})})}),v&&n.jsx("section",{className:"mt-4 md:mt-6","aria-labelledby":"recent-users-heading",children:n.jsx(upe,{users:o.recentUsers})}),x&&n.jsx("section",{className:"mt-4 md:mt-6","aria-labelledby":"recent-courses-heading",children:n.jsx(hpe,{courses:o.recentCourses})})]})]})};function pxe(){const e=Qe(),[t,s]=y.useState([]),[r,a]=y.useState([]),[i,o]=y.useState([]),{languages:l}=tf(),[c,u]=y.useState(!0),[h,d]=y.useState({}),[f,m]=y.useState(1),p=12;y.useEffect(()=>{g(),b()},[]);const g=async()=>{try{u(!0);const S=await n6.getAllCourses();s(S),a(S)}catch{}finally{u(!1)}},b=async()=>{var S,C;try{const T=await(await No(async()=>{const{default:D}=await Promise.resolve().then(()=>K4);return{default:D}},void 0)).default.get("/categories");let _=[];(S=T==null?void 0:T.data)!=null&&S.result?_=T.data.result:Array.isArray(T==null?void 0:T.data)?_=T.data:(C=T==null?void 0:T.data)!=null&&C.data&&(_=T.data.data);const A=_.map(D=>({id:D.categoryId||D.id,name:D.categoryName||D.name}));o(A)}catch(E){console.error("Error fetching categories:",E),o([])}};y.useEffect(()=>{let S=[...t];if(h.search){const C=h.search.toLowerCase();S=S.filter(E=>{var T,_;return((T=E.title)==null?void 0:T.toLowerCase().includes(C))||((_=E.shortDescription)==null?void 0:_.toLowerCase().includes(C))})}h.category&&(S=S.filter(C=>{var E;return((E=C.categoryID)==null?void 0:E.toString())===h.category||C.categoryName===h.category})),h.status&&(S=S.filter(C=>{var E,T;return((E=C.status)==null?void 0:E.toUpperCase())===((T=h.status)==null?void 0:T.toUpperCase())})),h.sortBy&&S.sort((C,E)=>{switch(h.sortBy){case"newest":return new Date(E.createdAt||0).getTime()-new Date(C.createdAt||0).getTime();case"oldest":return new Date(C.createdAt||0).getTime()-new Date(E.createdAt||0).getTime();case"price":return(E.price||0)-(C.price||0);case"rating":return 0;default:return 0}}),a(S),m(1)},[h,t]);const v=Math.ceil(r.length/p),x=(f-1)*p,w=r.slice(x,x+p),j=S=>{e(Ih.adminCourseDetail(S))},N=S=>({id:S.id,title:S.title,shortDescription:S.shortDescription||"",description:S.description||"",requirement:S.requirement||"",level:S.level||"BEGINNER",categoryID:S.categoryID||0,categoryName:S.categoryName||"Unknown",language:S.language||"English",duration:S.duration||0,price:S.price||0,thumbnailURL:S.thumbnailURL||"",status:S.status||"Pending",tutorID:S.tutorID||0,tutorName:S.tutorName||"Unknown",tutorEmail:S.tutorEmail||"",createdAt:S.createdAt||new Date().toISOString(),updatedAt:S.updatedAt||new Date().toISOString(),isDraft:!1});if(c)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti..."})]})});const k=[{id:"search",type:"search",placeholder:"Tm theo tn kha hc...",value:h.search||"",onChange:S=>d({...h,search:S})},{id:"category",type:"select",placeholder:"Danh mc",value:h.category||"all",onChange:S=>d({...h,category:S==="all"?void 0:S}),options:[{value:"all",label:"Tt c danh mc"},...i.map(S=>({value:S.id.toString(),label:S.name}))]},{id:"status",type:"select",placeholder:"Trng thi",value:h.status||"all",onChange:S=>d({...h,status:S==="all"?void 0:S}),options:[{value:"all",label:"Tt c trng thi"},{value:"PENDING",label:"Ch duyt"},{value:"APPROVED",label:" duyt"},{value:"REJECTED",label:"T chi"},{value:"DRAFT",label:"Nhp"},{value:"DISABLED",label:"V hiu"}]},{id:"sort",type:"select",placeholder:"Sp xp",value:h.sortBy||"newest",onChange:S=>d({...h,sortBy:S}),options:[{value:"newest",label:"Mi nht"},{value:"oldest",label:"C nht"},{value:"price",label:"Gi cao nht"},{value:"rating",label:"nh gi cao"}]}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(es,{title:"Qun l kha hc",description:"Qun l v theo di tt c kha hc trn h thng",icon:tt,gradientFrom:"from-purple-600",gradientVia:"via-purple-600",gradientTo:"to-purple-500",statistics:[{label:"Tng kha hc",value:t.length}]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:n.jsx(Ca,{filters:k})}),w.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"Khng tm thy kha hc no"})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:w.map(S=>n.jsx(wN,{course:N(S),onClick:()=>j(S.id),variant:"management",showPendingBadge:!0,showDraftBadge:!1,buttonText:"Xem chi tit",languages:l},S.id))}),v>1&&n.jsx(jN,{currentPage:f,totalPages:v,total:r.length,limit:p,isLoading:c,onPageChange:m})]})]})]})}const gxe={getPayments:async(e=1,t=10,s)=>{var r,a;try{const i={page:e,limit:t};s!=null&&s.search&&(i.search=s.search),s!=null&&s.type&&(i.type=s.type),s!=null&&s.status&&(i.status=s.status),s!=null&&s.method&&(i.method=s.method);const o=await ee.get("/api/payments/admin",{params:i}),l=((r=o==null?void 0:o.data)==null?void 0:r.result)||(o==null?void 0:o.data)||{};let c=[];Array.isArray(l.data)?c=l.data:Array.isArray(l.content)?c=l.content:Array.isArray(l.payments)?c=l.payments:Array.isArray(l)&&(c=l);const u=c.map(h=>({paymentID:h.paymentID,userId:h.userId,tutorId:h.tutorId,targetId:h.targetId,paymentType:h.paymentType,paymentMethod:h.paymentMethod,status:h.status,amount:h.amount,isPaid:h.isPaid,isRefund:h.isRefund,orderCode:h.orderCode,paymentLinkId:h.paymentLinkId,checkoutUrl:h.checkoutUrl||"",qrCodeUrl:h.qrCodeUrl||"",createdAt:h.createdAt,paidAt:h.paidAt||"",description:h.description||"",expiresAt:h.expiresAt||""}));return{data:u,total:l.total||u.length,page:l.page||e,limit:l.limit||t,totalPages:l.totalPages||Math.ceil((l.total||u.length)/t)}}catch(i){if(i.response){const o=i.response.status,l=(a=i.response.data)==null?void 0:a.message;switch(o){case 401:throw new Error("Phin ng nhp  ht hn. Vui lng ng nhp li.");case 403:throw new Error("Bn khng c quyn truy cp trang ny.");case 404:throw new Error("Khng tm thy d liu thanh ton.");case 500:throw new Error("Li server. Vui lng th li sau.");default:throw new Error(l||"Khng th ti danh sch giao dch. Vui lng th li.")}}else throw i.request?new Error("Khng th kt ni n server. Vui lng kim tra kt ni mng."):new Error(i.message||" xy ra li khng xc nh.")}}},d3=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),vT=e=>e?new Date(e).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",xxe=e=>({PAID:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",REFUNDED:"bg-blue-100 text-blue-800",FAILED:"bg-red-100 text-red-800"})[e],yxe=e=>({totalPayments:e.length,totalAmount:e.filter(t=>t.status==="PAID").reduce((t,s)=>t+s.amount,0),paidCount:e.filter(t=>t.status==="PAID").length,pendingCount:e.filter(t=>t.status==="PENDING").length,refundedCount:e.filter(t=>t.status==="REFUNDED").length,failedCount:e.filter(t=>t.status==="FAILED").length});function vxe({payments:e}){const t=r=>{switch(r){case"PAYOS":return n.jsx(Hn,{className:"w-4 h-4"});case"MOMO":return n.jsx(U5,{className:"w-4 h-4"});case"VNPAY":return n.jsx(xj,{className:"w-4 h-4"});default:return n.jsx(Hn,{className:"w-4 h-4"})}},s=r=>{switch(r){case"Course":return n.jsx(tt,{className:"w-4 h-4"});case"Booking":return n.jsx(yj,{className:"w-4 h-4"});case"Subscription":return n.jsx(io,{className:"w-4 h-4"});default:return n.jsx(tt,{className:"w-4 h-4"})}};return n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{className:"bg-gray-50",children:[n.jsx(Ae,{className:"font-semibold text-gray-700 w-[140px]",children:"M n"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[100px]",children:"Trng thi"}),n.jsx(Ae,{className:"font-semibold text-gray-700 text-right w-[130px]",children:"S tin"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[100px]",children:"Loi"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[100px]",children:"Phng thc"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[80px]",children:"User ID"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[80px]",children:"Tutor ID"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[150px]",children:"Ngy to"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[150px]",children:"Ngy thanh ton"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[100px] text-center",children:"Thao tc"})]})}),n.jsx(Fs,{children:e.map(r=>n.jsxs(Mt,{className:"hover:bg-gray-50",children:[n.jsx(Ee,{className:"font-medium",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:r.orderCode}),n.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",r.paymentID]})]})}),n.jsx(Ee,{children:n.jsx(Pe,{className:`${xxe(r.status)} font-semibold`,children:r.status})}),n.jsx(Ee,{className:"text-right",children:n.jsx("div",{className:"font-bold text-blue-600",children:d3(r.amount)})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[s(r.paymentType),n.jsx("span",{className:"text-sm",children:r.paymentType})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[t(r.paymentMethod),n.jsx("span",{className:"text-sm",children:r.paymentMethod})]})}),n.jsx(Ee,{className:"text-sm text-gray-600",children:r.userId}),n.jsx(Ee,{className:"text-sm text-gray-600",children:r.tutorId||"-"}),n.jsx(Ee,{className:"text-sm text-gray-600",children:vT(r.createdAt)}),n.jsx(Ee,{className:"text-sm text-gray-600",children:r.paidAt?vT(r.paidAt):"-"}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.checkoutUrl&&n.jsx(H,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0",children:n.jsx("a",{href:r.checkoutUrl,target:"_blank",rel:"noopener noreferrer",title:"Xem link thanh ton",children:n.jsx(Ol,{className:"w-4 h-4"})})}),r.qrCodeUrl&&n.jsx(H,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0",children:n.jsx("a",{href:r.qrCodeUrl,target:"_blank",rel:"noopener noreferrer",title:"Xem QR code",children:n.jsx(L5,{className:"w-4 h-4"})})})]})})]},r.paymentID))})]})})})}function bxe({currentPage:e,totalPages:t,total:s,limit:r,isLoading:a,onPageChange:i}){const o=(e-1)*r+1,l=Math.min(e*r,s),c=()=>{const u=[];if(t<=5)for(let d=1;d<=t;d++)u.push(d);else if(e<=3){for(let d=1;d<=4;d++)u.push(d);u.push("..."),u.push(t)}else if(e>=t-2){u.push(1),u.push("...");for(let d=t-3;d<=t;d++)u.push(d)}else u.push(1),u.push("..."),u.push(e-1),u.push(e),u.push(e+1),u.push("..."),u.push(t);return u};return t<=1?null:n.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg border border-gray-200 p-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("span",{className:"font-medium text-gray-900",children:[o,"-",l]})," ","ca"," ",n.jsx("span",{className:"font-medium text-gray-900",children:s})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(H,{variant:"outline",size:"sm",onClick:()=>i(e-1),disabled:e===1||a,children:n.jsx(qn,{className:"w-4 h-4"})}),c().map((u,h)=>typeof u=="number"?n.jsx(H,{variant:e===u?"default":"outline",size:"sm",onClick:()=>i(u),disabled:a,className:"min-w-[36px] h-9",children:u},h):n.jsx("span",{className:"px-2 text-gray-400 text-sm",children:u},h)),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>i(e+1),disabled:e===t||a,children:n.jsx(Wt,{className:"w-4 h-4"})})]})]})}function wxe(){const e=Qe(),[t,s]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(null),[l,c]=y.useState(1),[u]=y.useState(10),[h,d]=y.useState(1),[f,m]=y.useState(0),[p,g]=y.useState(""),[b,v]=y.useState("all"),[x,w]=y.useState("all"),[j,N]=y.useState("all"),k=async(D=1)=>{try{a(!0),o(null);const R={};p.trim()&&(R.search=p),b&&b!=="all"&&(R.type=b),x&&x!=="all"&&(R.status=x),j&&j!=="all"&&(R.method=j);const U=await gxe.getPayments(D,u,R);s(U.data),d(U.totalPages),m(U.total),c(D)}catch(R){o(R.message||"Khng th ti danh sch giao dch"),s([])}finally{a(!1)}},S=()=>{k(l)},C=()=>{g(""),v("all"),w("all"),N("all")},E=p.trim()!==""||b!=="all"||x!=="all"||j!=="all";y.useEffect(()=>{k(1)},[p,b,x,j]);const T=yxe(t),_=[{label:"Tng giao dch",value:T.totalPayments.toString()},{label:"Tng doanh thu",value:d3(T.totalAmount)},{label:" thanh ton",value:T.paidCount.toString()}],A=[{id:"search",type:"search",placeholder:"Tm theo m n, ID ngi dng, m t...",value:p,onChange:g},{id:"payment-type",type:"select",placeholder:"Loi thanh ton",value:b,onChange:v,options:[{value:"all",label:"Tt c"},{value:"Course",label:"Kha hc"},{value:"Booking",label:"t lch"},{value:"Subscription",label:"ng k"}]},{id:"payment-status",type:"select",placeholder:"Trng thi",value:x,onChange:w,options:[{value:"all",label:"Tt c"},{value:"PAID",label:" thanh ton"},{value:"PENDING",label:"Ch thanh ton"},{value:"REFUNDED",label:" hon tin"},{value:"FAILED",label:"Tht bi"}]},{id:"payment-method",type:"select",placeholder:"Phng thc",value:j,onChange:N,options:[{value:"all",label:"Tt c"},{value:"PAYOS",label:"PayOS"},{value:"MOMO",label:"MoMo"},{value:"VNPAY",label:"VNPay"}]}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"sticky top-0 z-10 bg-white shadow-md",children:[n.jsx(es,{title:"Qun l thanh ton",description:"Theo di v qun l giao dch thanh ton",icon:Hn,gradientFrom:"from-purple-600",gradientVia:"via-purple-600",gradientTo:"to-purple-500",statistics:_}),n.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-600 to-purple-500 border-t border-white/10",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsxs(H,{onClick:()=>e(se.ADMIN_WITHDRAW_REQUESTS),className:"bg-white text-emerald-600 hover:bg-emerald-50 font-semibold shadow-lg",children:[n.jsx($n,{className:"w-4 h-4 mr-2"}),"Yu cu rt tin"]}),n.jsxs(H,{onClick:()=>e(se.ADMIN_COMMISSION_SETTINGS),className:"bg-white text-purple-600 hover:bg-purple-50 font-semibold shadow-lg",children:[n.jsx(pg,{className:"w-4 h-4 mr-2"}),"Ci t hoa hng"]})]})})}),n.jsx("div",{className:"bg-white border-t border-gray-100",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Pl,{className:"w-5 h-5 text-gray-500 flex-shrink-0"}),n.jsx("div",{className:"flex-1",children:n.jsx(Ca,{filters:A})}),n.jsx(H,{onClick:C,variant:"outline",size:"sm",disabled:!E,children:"t li"})]})})})]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[i&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(at,{className:"w-4 h-4 text-red-600"}),n.jsx("p",{className:"text-sm text-red-700",children:i})]}),n.jsx(H,{onClick:S,variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",children:"Th li"})]})}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-10 h-10 animate-spin text-purple-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"ang ti giao dch..."})]})}):t.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Hn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c giao dch"}),n.jsx("p",{className:"text-gray-500 text-sm",children:E?"Khng tm thy giao dch ph hp vi b lc":"Cha c giao dch thanh ton no"})]}):n.jsxs(n.Fragment,{children:[n.jsx(vxe,{payments:t}),n.jsx("div",{className:"mt-6",children:n.jsx(bxe,{currentPage:l,totalPages:h,total:f,limit:u,isLoading:r,onPageChange:k})})]})]})]})}const jxe={getDashboardData:async e=>{try{return(await ee.get("/tutor/dashboard",{params:e})).data.result}catch(t){throw console.error("Error fetching dashboard data:",t),t}}},Nxe=(e,t)=>ag({queryKey:["tutor-dashboard",e,t],queryFn:()=>jxe.getDashboardData({startDate:xa(e,"yyyy-MM-dd"),endDate:xa(t,"yyyy-MM-dd")}),staleTime:5*60*1e3,refetchOnWindowFocus:!0}),kxe=({session:e})=>{const t=new Date(e.startTime),s=new Date(e.endTime),r=xa(t,"h:mm a"),a=xa(s,"h:mm a"),i=xa(t,"MMM dd, yyyy"),o=e.status==="Paid"?"default":"secondary",l=e.status==="Paid"?"bg-green-100 text-green-800 hover:bg-green-100":"bg-blue-100 text-blue-800 hover:bg-blue-100";return n.jsx(ye,{className:"hover:shadow-md transition-shadow",role:"listitem",children:n.jsx(De,{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"bg-primary/10 p-1.5 rounded-full","aria-hidden":"true",children:n.jsx(Pt,{className:"h-4 w-4 text-primary"})}),n.jsx("p",{className:"font-medium text-gray-900 truncate","aria-label":`Student: ${e.studentName}`,children:e.studentName})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-1","aria-label":`Session: ${e.title}`,children:e.title}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(st,{className:"h-3.5 w-3.5","aria-hidden":"true"}),n.jsxs("time",{dateTime:e.startTime,"aria-label":`Scheduled for ${i} from ${r} to ${a}`,children:[i,"  ",r," - ",a]})]})]}),n.jsx(Pe,{variant:o,className:fe("shrink-0",l),"aria-label":`Status: ${e.status}`,children:e.status})]})})})},Sxe=({sessions:e})=>{const r=[...e.filter(a=>a.status==="Paid"||a.status==="Locked")].sort((a,i)=>new Date(a.startTime).getTime()-new Date(i.startTime).getTime()).slice(0,5);return n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx(ft,{className:"h-5 w-5","aria-hidden":"true"}),"Bui hc sp ti"]})}),n.jsx(De,{children:r.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",role:"status","aria-label":"Khng c bui hc sp ti",children:[n.jsx(ft,{className:"h-12 w-12 mx-auto mb-3 opacity-50","aria-hidden":"true"}),n.jsx("p",{children:"Khng c bui hc sp ti"})]}):n.jsx("div",{className:"space-y-3",role:"list","aria-label":"Upcoming booking sessions",children:r.map(a=>n.jsx(kxe,{session:a},a.slotId))})})]})},Cxe=e=>{const t=e.trim().split(/\s+/);return t.length===0?"?":t.length===1?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()},Txe=({review:e})=>{const t=Cxe(e.studentName),s=new Date(e.createdAt),r=lx(s,{addSuffix:!0}),a=Array.from({length:5},(i,o)=>o<e.rating);return n.jsx(ye,{className:"hover:shadow-md transition-shadow",role:"listitem",children:n.jsx(De,{className:"p-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(hi,{className:"h-10 w-10 shrink-0","aria-label":`${e.studentName}'s avatar`,children:n.jsx(fi,{className:"bg-primary/10 text-primary font-medium","aria-label":`Initials: ${t}`,children:t})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[n.jsx("p",{className:"font-medium text-gray-900","aria-label":`Review by ${e.studentName}`,children:e.studentName}),n.jsx("time",{className:"text-xs text-gray-500 shrink-0",dateTime:e.createdAt,"aria-label":`Posted ${r}`,children:r})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-1","aria-label":`Course: ${e.courseTitle}`,children:e.courseTitle}),n.jsxs("div",{className:"flex items-center gap-1 mb-2",role:"img","aria-label":`Rating: ${e.rating} out of 5 stars`,children:[a.map((i,o)=>n.jsx(un,{className:`h-4 w-4 ${i?"fill-yellow-400 text-yellow-400":"text-gray-300"}`,"aria-hidden":"true"},o)),n.jsxs("span",{className:"text-sm text-gray-600 ml-1","aria-hidden":"true",children:["(",e.rating,")"]})]}),e.comment&&n.jsx("p",{className:"text-sm text-gray-700 line-clamp-3","aria-label":`Review comment: ${e.comment}`,children:e.comment})]})]})})})},Exe=({reviews:e})=>{const s=[...e].sort((r,a)=>new Date(a.createdAt).getTime()-new Date(r.createdAt).getTime()).slice(0,10);return n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx(hp,{className:"h-5 w-5","aria-hidden":"true"}),"nh gi gn y"]})}),n.jsx(De,{children:s.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",role:"status","aria-label":"Cha c nh gi",children:[n.jsx(hp,{className:"h-12 w-12 mx-auto mb-3 opacity-50","aria-hidden":"true"}),n.jsx("p",{children:"Cha c nh gi"})]}):n.jsx("div",{className:"space-y-3",role:"list","aria-label":"Recent student reviews",children:s.map(r=>n.jsx(Txe,{review:r},r.reviewId))})})]})},_xe=y.lazy(()=>No(()=>import("./RevenueTrendChart-CoyPPyB2.js"),__vite__mapDeps([10,2,3,4,6,7,1]))),Axe=y.lazy(()=>No(()=>import("./SalesByCourseChart-CwOqeEWl.js"),__vite__mapDeps([11,2,7]))),Dxe=y.lazy(()=>No(()=>import("./RatingDistributionChart-BWAlPWgv.js"),__vite__mapDeps([12,2,3,4,6,7]))),Rxe=y.lazy(()=>No(()=>import("./StudentEngagementChart-CJOVJ5Up.js"),__vite__mapDeps([13,2,4,5,6,7,9]))),Oxe=()=>{const{user:e}=Rl(),[t,s]=y.useState(pme(new Date)),[r,a]=y.useState(new Date),{data:i,isLoading:o,isError:l,error:c,refetch:u}=Nxe(t,r),[h,d]=y.useState(null),f=y.useCallback((g,b)=>{h&&clearTimeout(h);const v=setTimeout(()=>{s(g),a(b)},500);d(v)},[h]),m=(e==null?void 0:e.fullName)||(e==null?void 0:e.username)||"Ging vin";if(o)return n.jsxs("div",{className:"space-y-6 p-6",role:"status","aria-live":"polite","aria-label":"ang ti d liu dashboard",children:[n.jsx("span",{className:"sr-only",children:"ang ti d liu dashboard, vui lng i..."}),n.jsx(Pxe,{})]});if(l)return n.jsx("div",{className:"space-y-6 p-6",children:n.jsx(Ixe,{error:c,onRetry:()=>u()})});if(!i)return null;const{performanceMetrics:p}=i;return n.jsxs("div",{className:"space-y-6 p-4 sm:p-6 max-w-[1600px] mx-auto",role:"main","aria-label":"Dashboard Ging vin",children:[n.jsx(u3,{userName:m,startDate:t,endDate:r,onDateChange:f}),n.jsx("section",{"aria-label":"Ch s hiu sut",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:[n.jsx(Cn,{title:"Tng doanh thu",value:`${p.totalRevenue.toLocaleString()} `,icon:$n}),n.jsx(Cn,{title:"Doanh thu rng",value:`${p.netRevenue.toLocaleString()} `,icon:vo}),n.jsx(Cn,{title:"Hc vin ang hc",value:p.activeStudents,icon:en}),n.jsx(Cn,{title:"Tng s ng k",value:p.totalEnrollments,icon:tt}),n.jsx(Cn,{title:"T l hon thnh",value:`${p.completionRate.toFixed(1)}%`,icon:kt}),n.jsx(Cn,{title:"nh gi ging vin",value:p.instructorRating.toFixed(1),icon:un}),n.jsx(Cn,{title:"Tng s nh gi",value:p.totalReviews,icon:hp})]})}),n.jsx("section",{"aria-label":"Biu  doanh thu v nh gi",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsx(y.Suspense,{fallback:n.jsx(Qf,{}),children:n.jsx(_xe,{data:i.revenueTrend})}),n.jsx(y.Suspense,{fallback:n.jsx(Qf,{}),children:n.jsx(Dxe,{data:i.ratingDistribution})})]})}),n.jsx("section",{"aria-label":"Doanh thu theo kha hc",children:n.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:n.jsx(y.Suspense,{fallback:n.jsx(Qf,{}),children:n.jsx(Axe,{data:i.salesByCourse})})})}),n.jsx("section",{"aria-label":"Hot ng hc vin",children:n.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:n.jsx(y.Suspense,{fallback:n.jsx(Qf,{}),children:n.jsx(Rxe,{data:i.studentEngagement})})})}),n.jsx("section",{"aria-label":"Bui hc sp ti v nh gi gn y",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsx(Sxe,{sessions:i.upcomingSessions}),n.jsx(Exe,{reviews:i.recentReviews})]})})]})},Qf=()=>n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(it,{className:"h-6 w-32"})}),n.jsx(De,{children:n.jsx(it,{className:"h-[300px] w-full"})})]}),Pxe=()=>n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(it,{className:"h-32 w-full rounded-lg"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx(it,{className:"h-10 w-full sm:w-48"}),n.jsx(it,{className:"h-10 w-full sm:w-48"})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:Array.from({length:7}).map((e,t)=>n.jsxs(ye,{children:[n.jsx(Je,{className:"space-y-0 pb-2",children:n.jsx(it,{className:"h-4 w-24"})}),n.jsxs(De,{children:[n.jsx(it,{className:"h-8 w-32 mb-2"}),n.jsx(it,{className:"h-3 w-20"})]})]},t))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(it,{className:"h-6 w-32"})}),n.jsx(De,{children:n.jsx(it,{className:"h-[300px] w-full"})})]}),n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(it,{className:"h-6 w-32"})}),n.jsx(De,{children:n.jsx(it,{className:"h-[300px] w-full"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(it,{className:"h-6 w-32"})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((e,t)=>n.jsx(it,{className:"h-20 w-full"},t))})})]}),n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(it,{className:"h-6 w-32"})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((e,t)=>n.jsx(it,{className:"h-24 w-full"},t))})})]})]})]}),Ixe=({error:e,onRetry:t})=>{let s="Li ti Dashboard",r=" xy ra li khng mong mun. Vui lng th li.";if(e!=null&&e.response){const a=e.response.status;a===401?(s="Yu cu xc thc",r="Phin ng nhp  ht hn. Vui lng ng nhp li."):a===403?(s="Truy cp b t chi",r="Bn khng c quyn xem dashboard ny."):a===404?(s="Khng tm thy Dashboard",r="Khng tm thy d liu dashboard. Vui lng lin h h tr."):a>=500&&(s="Li my ch",r=" xy ra li my ch. Vui lng th li sau.")}else(e==null?void 0:e.message)==="Network Error"||!(e!=null&&e.response)?(s="Li kt ni",r="Khng th kt ni n my ch. Vui lng kim tra kt ni mng."):(e==null?void 0:e.code)==="ECONNABORTED"&&(s="Ht thi gian ch",r="Yu cu  ht thi gian ch. Vui lng th li.");return n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",role:"alert","aria-live":"assertive",children:n.jsxs(Mr,{variant:"destructive",className:"max-w-lg",children:[n.jsx(at,{className:"h-4 w-4","aria-hidden":"true"}),n.jsx(Pp,{children:s}),n.jsx(Lr,{className:"mt-2",children:r}),n.jsx("div",{className:"mt-4",children:n.jsx(H,{onClick:t,variant:"outline",size:"sm","aria-label":"Th li ti d liu dashboard",children:"Th li"})})]})})},Q0={getCourseStudents:async()=>{try{return(await ee.get("/api/tutors/students")).data.result}catch(e){throw console.error("Error fetching course students:",e),e}},getCourseStudentDetail:async e=>{try{return(await ee.get(`/api/tutors/students/${e}`)).data.result}catch(t){throw console.error("Error fetching course student detail:",t),t}},getBookingStudents:async()=>{try{return(await ee.get("/api/tutors/booking-students")).data.result}catch(e){throw console.error("Error fetching booking students:",e),e}}},Am=e=>{if(!e)return"Cha c thng tin";try{const t=new Date(e);return isNaN(t.getTime())?"Cha c thng tin":t.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Cha c thng tin"}},Mxe=e=>{if(!e)return"Cha c thng tin";try{const t=new Date(e);return isNaN(t.getTime())?"Cha c thng tin":t.toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Cha c thng tin"}},h3=e=>e>=80?"bg-green-500":e>=50?"bg-blue-500":e>=30?"bg-yellow-500":"bg-gray-400",Lxe=e=>({Active:{label:"ang hc",className:"bg-blue-100 text-blue-800 border-blue-300"},Completed:{label:"Hon thnh",className:"bg-green-100 text-green-800 border-green-300"},Inactive:{label:"Khng hot ng",className:"bg-gray-100 text-gray-800 border-gray-300"}})[e]||null,bT=(e,t)=>{if(!t.trim())return e;const s=t.toLowerCase();return e.filter(r=>r.fullName.toLowerCase().includes(s)||r.email.toLowerCase().includes(s))},Fxe=e=>!e||e.length===0?{totalStudents:0,activeStudents:0,totalEnrollments:0,averageProgress:0}:{totalStudents:e.length,activeStudents:e.filter(t=>t.averageProgress>0&&t.averageProgress<100).length,totalEnrollments:e.reduce((t,s)=>t+(s.totalCourses||0),0),averageProgress:Math.round(e.reduce((t,s)=>t+(s.averageProgress||0),0)/e.length)},$xe=e=>{if(!e||e.length===0)return{totalStudents:0,totalPaidSlots:0,lastSlotTime:null};const t=e.reduce((r,a)=>r+(a.totalPaidSlots||0),0),s=e.reduce((r,a)=>{try{return new Date(a.lastSlotTime)>new Date(r)?a.lastSlotTime:r}catch{return r}},e[0].lastSlotTime);return{totalStudents:e.length,totalPaidSlots:t,lastSlotTime:s}},hx=({src:e,alt:t="Avatar",fallback:s="U",className:r,fallbackClassName:a})=>{const i=e&&e.trim()!==""?e.trim():void 0;return n.jsxs(hi,{className:fe("relative",r),children:[i?n.jsx(ko,{src:i,alt:t,onError:o=>{o.target.style.display="none"}}):null,n.jsx(fi,{className:fe("bg-blue-600 text-white font-semibold",a),children:s})]})},f3=y.memo(({students:e,onViewDetail:t,loading:s})=>s?n.jsxs("div",{className:"space-y-3",role:"status","aria-label":"ang ti danh sch hc vin",children:[[...Array(5)].map((r,a)=>n.jsx(it,{className:"h-16 w-full"},a)),n.jsx("span",{className:"sr-only",children:"ang ti danh sch hc vin kha hc..."})]}):e.length===0?n.jsx("div",{className:"text-center py-12 text-muted-foreground",role:"status",children:n.jsx("p",{children:"Khng tm thy hc vin no"})}):n.jsx("div",{className:"rounded-md border overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{children:[n.jsx(Ae,{children:"Hc vin"}),n.jsx(Ae,{children:"Email"}),n.jsx(Ae,{className:"text-center",children:"Kha hc"}),n.jsx(Ae,{className:"text-center",children:"Hon thnh"}),n.jsx(Ae,{children:"Tin  TB"}),n.jsx(Ae,{className:"text-right",children:"Hnh ng"})]})}),n.jsx(Fs,{children:e.map(r=>n.jsxs(Mt,{children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(hx,{src:r.avatarURL,alt:r.fullName,fallback:r.fullName.charAt(0).toUpperCase(),className:"h-10 w-10"}),n.jsx("span",{className:"font-medium",children:r.fullName})]})}),n.jsx(Ee,{children:r.email}),n.jsx(Ee,{className:"text-center",children:r.totalCourses}),n.jsx(Ee,{className:"text-center",children:r.completedCourses}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-[100px]",role:"progressbar","aria-valuenow":r.averageProgress,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Tin  trung bnh ${r.averageProgress}%`,children:n.jsx("div",{className:`h-2 rounded-full ${h3(r.averageProgress)}`,style:{width:`${r.averageProgress}%`}})}),n.jsxs("span",{className:"text-sm font-medium min-w-[45px]","aria-hidden":"true",children:[r.averageProgress,"%"]})]})}),n.jsx(Ee,{className:"text-right",children:n.jsxs(H,{variant:"outline",size:"sm",onClick:a=>t(r.userId,a.currentTarget),"aria-label":`Xem chi tit hc vin ${r.fullName}`,children:[n.jsx(gs,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Chi tit"]})})]},r.userId))})]})}));f3.displayName="CourseStudentsTable";const m3=y.memo(({students:e,onViewDetail:t,loading:s})=>s?n.jsxs("div",{className:"space-y-3",role:"status","aria-label":"ang ti danh sch hc vin",children:[[...Array(5)].map((r,a)=>n.jsx(it,{className:"h-16 w-full"},a)),n.jsx("span",{className:"sr-only",children:"ang ti danh sch hc vin 1-1..."})]}):e.length===0?n.jsx("div",{className:"text-center py-12 text-muted-foreground",role:"status",children:n.jsx("p",{children:"Khng tm thy hc vin no"})}):n.jsx("div",{className:"rounded-md border overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{children:[n.jsx(Ae,{children:"Hc vin"}),n.jsx(Ae,{className:"text-center",children:"Tng bui  t"}),n.jsx(Ae,{children:"Bui hc gn nht"}),n.jsx(Ae,{className:"text-right",children:"Hnh ng"})]})}),n.jsx(Fs,{children:e.map(r=>n.jsxs(Mt,{children:[n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(hx,{src:r.avatarURL,alt:r.fullName,fallback:r.fullName.charAt(0).toUpperCase(),className:"h-10 w-10",fallbackClassName:"bg-violet-600 text-white"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:r.fullName}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.email})]})]})}),n.jsx(Ee,{className:"text-center",children:n.jsx("span",{className:"inline-flex items-center justify-center px-3 py-1 rounded-full bg-violet-100 text-violet-800 font-medium",children:r.totalPaidSlots})}),n.jsx(Ee,{children:Am(r.lastSlotTime)}),n.jsx(Ee,{className:"text-right",children:n.jsxs(H,{variant:"outline",size:"sm",onClick:a=>t(r.userId,a.currentTarget),className:"border-violet-300 text-violet-700 hover:bg-violet-50","aria-label":`Xem chi tit hc vin ${r.fullName}`,children:[n.jsx(gs,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Xem chi tit"]})})]},r.userId))})]})}));m3.displayName="BookingStudentsTable";const p3=y.memo(({open:e,studentDetail:t,loading:s,onClose:r})=>n.jsx(ht,{open:e,onOpenChange:r,children:n.jsx(lt,{className:"max-w-3xl max-h-[80vh] overflow-y-auto","aria-describedby":"course-student-detail-description",children:s?n.jsxs("div",{className:"space-y-4",children:[n.jsx(it,{className:"h-20 w-full"}),n.jsx(it,{className:"h-40 w-full"}),n.jsx(it,{className:"h-60 w-full"})]}):t?n.jsxs(n.Fragment,{children:[n.jsxs(ct,{children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(hx,{src:t.avatarURL,alt:t.fullName,fallback:t.fullName.charAt(0).toUpperCase(),className:"h-16 w-16"}),n.jsxs("div",{children:[n.jsx(ut,{className:"text-2xl",children:t.fullName}),n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[n.jsx(Gr,{className:"h-4 w-4","aria-hidden":"true"}),n.jsx("span",{children:t.email})]})]})]}),n.jsxs("p",{id:"course-student-detail-description",className:"sr-only",children:["Thng tin chi tit v hc vin ",t.fullName," bao gm thng tin lin h v tin  hc tp"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsx(ye,{children:n.jsx(De,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-green-100","aria-hidden":"true",children:n.jsx(Il,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"S in thoi"}),n.jsx("p",{className:"font-medium",children:t.phone||"Cha c thng tin"})]})]})})}),n.jsx(ye,{children:n.jsx(De,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-green-100","aria-hidden":"true",children:n.jsx(ft,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ngy tham gia"}),n.jsx("p",{className:"font-medium",children:Am(t.joinedAt)})]})]})})}),n.jsx(ye,{children:n.jsx(De,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-green-100","aria-hidden":"true",children:n.jsx(Vz,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Hot ng gn nht"}),n.jsx("p",{className:"font-medium",children:Am(t.lastActivity)})]})]})})}),n.jsx(ye,{children:n.jsx(De,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-green-100","aria-hidden":"true",children:n.jsx(vo,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tin  trung bnh"}),n.jsxs("p",{className:"font-medium",children:[t.averageProgress,"%"]})]})]})})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Kha hc  ng k (",t.courses.length,")"]}),n.jsx("div",{className:"space-y-3",children:t.courses.map(a=>n.jsx(ye,{children:n.jsxs(De,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium mb-1",children:a.courseTitle}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["ng k: ",Am(a.enrolledAt)]})]}),(()=>{const i=Lxe(a.status);return i?n.jsx(Pe,{className:i.className,children:i.label}):null})()]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",role:"progressbar","aria-valuenow":a.progress,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Tin  kha hc ${a.courseTitle}: ${a.progress}%`,children:n.jsx("div",{className:`h-2 rounded-full ${h3(a.progress)}`,style:{width:`${a.progress}%`}})}),n.jsxs("span",{className:"text-sm font-medium min-w-[45px]","aria-hidden":"true",children:[a.progress,"%"]})]})]})},a.courseId))})]})]}):null})}));p3.displayName="CourseStudentDetailModal";const g3=y.memo(({open:e,student:t,onClose:s})=>n.jsx(ht,{open:e,onOpenChange:s,children:n.jsx(lt,{className:"max-w-2xl max-h-[70vh] overflow-y-auto","aria-describedby":"booking-student-detail-description",children:t?n.jsxs(n.Fragment,{children:[n.jsxs(ct,{children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(hx,{src:t.avatarURL,alt:t.fullName,fallback:t.fullName.charAt(0).toUpperCase(),className:"h-16 w-16",fallbackClassName:"bg-violet-600 text-white"}),n.jsxs("div",{children:[n.jsx(ut,{className:"text-2xl",children:t.fullName}),n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[n.jsx(Gr,{className:"h-4 w-4","aria-hidden":"true"}),n.jsx("span",{children:t.email})]})]})]}),n.jsxs("p",{id:"booking-student-detail-description",className:"sr-only",children:["Thng tin chi tit v hc vin 1-1 ",t.fullName," bao gm s bui  t v lch hc"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(ye,{children:n.jsx(De,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-violet-100","aria-hidden":"true",children:n.jsx(tt,{className:"h-5 w-5 text-violet-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tng bui  t"}),n.jsx("p",{className:"text-2xl font-bold text-violet-700",children:t.totalPaidSlots})]})]})})}),n.jsx(ye,{children:n.jsx(De,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-violet-100","aria-hidden":"true",children:n.jsx(ft,{className:"h-5 w-5 text-violet-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Bui hc gn nht"}),n.jsx("p",{className:"font-medium",children:Mxe(t.lastSlotTime)})]})]})})})]})]}):null})}));g3.displayName="BookingStudentDetailModal";function Uxe(){const{toast:e}=jt(),[t,s]=y.useState([]),[r,a]=y.useState(!1),[i,o]=y.useState([]),[l,c]=y.useState(!1),[u,h]=y.useState(""),[d,f]=y.useState("");y.useEffect(()=>{const $=setTimeout(()=>{f(u)},300);return()=>clearTimeout($)},[u]);const[m,p]=y.useState(null),[g,b]=y.useState(!1),[v,x]=y.useState(!1),[w,j]=y.useState(null),[N,k]=y.useState(!1),S=y.useRef(null),C=y.useRef(null);y.useEffect(()=>{(async()=>{a(!0);try{const F=await Q0.getCourseStudents();s(F)}catch(F){console.error("Error fetching course students:",F),e({title:"Li",description:"Khng th ti danh sch hc vin kha hc",variant:"destructive"})}finally{a(!1)}})()},[e]),y.useEffect(()=>{(async()=>{c(!0);try{const F=await Q0.getBookingStudents();o(F)}catch(F){console.error("Error fetching booking students:",F),e({title:"Li",description:"Khng th ti danh sch hc vin 1-1",variant:"destructive"})}finally{c(!1)}})()},[e]);const E=y.useMemo(()=>bT(t,d),[t,d]),T=y.useMemo(()=>bT(i,d),[i,d]),_=y.useMemo(()=>Fxe(t),[t]),A=y.useMemo(()=>$xe(i),[i]),D=y.useCallback(async($,F)=>{F&&(S.current=F),b(!0),x(!0);try{const O=await Q0.getCourseStudentDetail($);p(O)}catch(O){console.error("Error fetching course student detail:",O),e({title:"Li",description:"Khng th ti thng tin chi tit hc vin",variant:"destructive"}),x(!1)}finally{b(!1)}},[e]),R=y.useCallback(($,F)=>{F&&(C.current=F);const O=i.find(q=>q.userId===$);O&&(j(O),k(!0))},[i]),U=y.useCallback(()=>{x(!1),p(null),setTimeout(()=>{var $;($=S.current)==null||$.focus()},100)},[]),I=y.useCallback(()=>{k(!1),j(null),setTimeout(()=>{var $;($=C.current)==null||$.focus()},100)},[]),L=[{label:"Tng hc vin",value:_.totalStudents,icon:en,iconColor:"#16a34a"},{label:"ang hot ng",value:_.activeStudents,icon:vo,iconColor:"#16a34a"},{label:"Tng ghi danh",value:_.totalEnrollments,icon:tt,iconColor:"#16a34a"},{label:"Tin  TB",value:`${_.averageProgress}%`,icon:Ss,iconColor:"#16a34a"}],M=[{label:"Tng hc vin",value:A.totalStudents,icon:Pt,iconColor:"#7c3aed"},{label:"Tng bui  t",value:A.totalPaidSlots,icon:io,iconColor:"#7c3aed"}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"sticky top-0 z-10 bg-white shadow-md",children:[n.jsx(es,{title:"Qun l hc vin",description:"Theo di hc vin kha hc v lch 1-1",icon:en,gradientFrom:"from-blue-600",gradientVia:"via-purple-600",gradientTo:"to-purple-600"}),n.jsx("div",{className:"bg-white border-t border-gray-100",children:n.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-4",children:n.jsx(Ca,{filters:[{id:"search",type:"search",placeholder:"Tm kim hc vin...",value:u,onChange:h}]})})})]}),n.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:n.jsxs(cN,{defaultValue:"courses",className:"space-y-6",children:[n.jsxs(Gg,{className:"grid w-full max-w-md grid-cols-2",role:"tablist",children:[n.jsxs(Zi,{value:"courses",className:"flex items-center gap-2","aria-label":"Tab hc vin kha hc",children:[n.jsx(tt,{className:"w-4 h-4","aria-hidden":"true"}),"Hc vin kha hc"]}),n.jsxs(Zi,{value:"bookings",className:"flex items-center gap-2","aria-label":"Tab hc vin 1-1",children:[n.jsx(Hz,{className:"w-4 h-4","aria-hidden":"true"}),"Hc vin 1-1"]})]}),n.jsxs(fu,{value:"courses",className:"space-y-6",children:[n.jsx(Ip,{stats:L,variant:"default"}),n.jsx(ye,{children:n.jsx(De,{className:"p-6",children:n.jsx(f3,{students:E,onViewDetail:D,loading:r})})})]}),n.jsxs(fu,{value:"bookings",className:"space-y-6",children:[n.jsx(Ip,{stats:M,variant:"default"}),n.jsx(ye,{children:n.jsx(De,{className:"p-6",children:n.jsx(m3,{students:T,onViewDetail:R,loading:l})})})]})]})}),n.jsx(p3,{open:v,studentDetail:m,loading:g,onClose:U}),n.jsx(g3,{open:N,student:w,onClose:I})]})}const Vxe="/tutor/booking-plan",Zf=e=>{if(e instanceof Iw){const t=e;if(!t.response)throw new Error("Khng th kt ni n my ch. Vui lng kim tra kt ni mng.");const s=t.response.status,r=t.response.data;if(r!=null&&r.message&&r.message.includes("Deadlock found"))throw new Error("H thng ang bn, vui lng th li sau vi giy.");switch(s){case 400:throw new Error((r==null?void 0:r.message)||"D liu khng hp l. Vui lng kim tra li thng tin.");case 401:throw new Error("Phin ng nhp  ht hn. Vui lng ng nhp li.");case 403:throw new Error("Bn khng c quyn thc hin thao tc ny.");case 404:throw new Error("Khng tm thy d liu yu cu.");case 409:throw new Error((r==null?void 0:r.message)||"D liu  tn ti hoc xung t.");case 422:throw new Error((r==null?void 0:r.message)||"D liu khng ng nh dng yu cu.");case 500:throw new Error("Li my ch ni b. Vui lng th li sau.");case 503:throw new Error("Dch v tm thi khng kh dng. Vui lng th li sau.");default:throw new Error((r==null?void 0:r.message)||`C li xy ra (${s}). Vui lng th li.`)}}throw new Error("C li khng xc nh xy ra. Vui lng th li.")},ac={createBookingPlan:async(e,t=0)=>{var a,i,o;const r=1e3+t*500;try{return(await ee.post(Vxe,e)).data}catch(l){return l instanceof Iw&&((o=(i=(a=l.response)==null?void 0:a.data)==null?void 0:i.message)!=null&&o.includes("Deadlock found"))&&t<3?(await new Promise(c=>setTimeout(c,r)),ac.createBookingPlan(e,t+1)):Zf(l)}},getBookingPlans:async()=>{try{return(await ee.get("/tutor/booking-plan/me")).data}catch(e){return Zf(e)}},updateBookingPlan:async(e,t)=>{try{return(await ee.put(`/tutor/booking-plan/${e}`,t)).data}catch(s){return Zf(s)}},deleteBookingPlan:async e=>{try{return(await ee.delete(`/tutor/booking-plan/${e}`)).data}catch(t){return Zf(t)}}},Bxe=({slotDuration:e,defaultPrice:t,meetingUrl:s,meetingUrlError:r,hasExistingPlans:a,onDefaultPriceChange:i,onMeetingUrlChange:o})=>n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(ve,{className:"text-xs font-medium text-gray-600",children:"Thi gian slot"}),n.jsx("div",{className:"h-8 px-3 flex items-center bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[e," pht"]})})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(ve,{htmlFor:"defaultPrice",className:"text-xs font-medium text-gray-600",children:"Gi tin slot"}),a?n.jsxs("div",{className:"h-8 px-3 flex items-center justify-between bg-blue-50 border border-blue-200 rounded-md",children:[n.jsx("span",{className:"text-xs font-medium text-blue-700",children:t.toLocaleString("vi-VN")}),n.jsx("span",{className:"text-xs text-blue-600",children:"VN"})]}):n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ce,{id:"defaultPrice",type:"number",min:"0",step:"10000",value:t,onChange:l=>i(Number(l.target.value)),className:"h-8 text-xs",placeholder:"Nhp gi tin"}),n.jsx("span",{className:"text-xs text-gray-500 min-w-[40px]",children:"VN"})]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(ve,{htmlFor:"meetingUrl",className:"text-xs font-medium",children:"Link Meeting"}),n.jsx(Ce,{id:"meetingUrl",type:"url",placeholder:"https://meet.google.com/...",value:s,onChange:l=>o(l.target.value),className:`h-8 text-xs ${r?"border-red-500 focus-visible:ring-red-500":""}`}),r&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:r})]})]}),zxe=({schedule:e,bookingPlans:t=[],onDayToggle:s})=>{const r=e.filter(a=>!t.some(i=>i.title===a.shortName));return r.length===0?n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{className:"text-xs font-medium",children:"Chn ngy lm vic"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Tt c cc ngy  c thm vo lch lm vic."})]}):n.jsxs("div",{className:" space-y-2",children:[n.jsx(ve,{className:"text-xs font-medium",children:"Chn ngy lm vic"}),n.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:r.map(a=>n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx($l,{id:`day-${a.id}`,checked:a.isEnabled,onCheckedChange:()=>s(a.id),className:"h-3.5 w-3.5"}),n.jsx(ve,{htmlFor:`day-${a.id}`,className:"text-xs cursor-pointer",children:a.name})]},a.id))})]})},qxe=({schedule:e,bookingPlans:t=[],onDayTimeChange:s})=>{const r=e.filter(o=>o.isEnabled&&!t.some(l=>l.title===o.shortName)),i=(()=>{const o=[];for(let l=0;l<24;l++)o.push(`${l.toString().padStart(2,"0")}:00`),o.push(`${l.toString().padStart(2,"0")}:30`);return o})();return r.length===0?null:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{className:"text-xs font-medium",children:"Ty chnh gi cho tng ngy"}),r.map(o=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(ve,{className:"text-xs font-medium text-gray-700",children:o.name}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsxs(on,{value:o.startTime,onValueChange:l=>s(o.id,"startTime",l),children:[n.jsx(Gt,{className:"h-8 flex-1 text-xs",children:n.jsx(ln,{})}),n.jsx(Yt,{className:"max-h-[200px]",children:i.map(l=>n.jsx(We,{value:l,className:"text-xs",children:l},l))})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"n"}),n.jsxs(on,{value:o.endTime,onValueChange:l=>s(o.id,"endTime",l),children:[n.jsx(Gt,{className:"h-8 flex-1 text-xs",children:n.jsx(ln,{})}),n.jsx(Yt,{className:"max-h-[200px]",children:i.map(l=>n.jsx(We,{value:l,className:"text-xs",children:l},l))})]})]})]},o.id))]})},Hxe=y.memo(({schedule:e,getSlotForTime:t,bookingPlans:s=[]})=>{if(!e||!Array.isArray(e))return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("p",{className:"text-gray-500",children:"Khng c d liu lch  hin th"})});const r=e.filter(f=>f&&f.isEnabled),a=f=>!f||typeof f.hour!="number"||typeof f.minute!="number"?"00:00":`${f.hour.toString().padStart(2,"0")}:${f.minute.toString().padStart(2,"0")}`,i=f=>{if(!f||!f.start_hours||!f.end_hours||!f.slot_duration)return[];const m=[],p=a(f.start_hours),g=a(f.end_hours),b=f.slot_duration,[v,x]=p.split(":").map(Number),[w,j]=g.split(":").map(Number);let N=v*60+x;const k=w*60+j;for(;N+b<=k;){const S=Math.floor(N/60),C=N%60,E=N+b,T=Math.floor(E/60),_=E%60;m.push({id:`${S}:${C.toString().padStart(2,"0")}-${T}:${_.toString().padStart(2,"0")}`,startTime:`${S.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`,endTime:`${T.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`}),N+=b}return m},o=f=>!s||!Array.isArray(s)?null:s.find(m=>m&&m.title===f)||null,l=(f,m)=>{const p=o(f);return p&&i(p).find(b=>b.id===m)||null},c=()=>{const f=new Set;return e&&Array.isArray(e)&&e.forEach(m=>{m&&m.isEnabled&&m.slots&&Array.isArray(m.slots)&&m.slots.length>0&&m.slots.forEach(p=>{p&&p.id&&f.add(p.id)})}),s&&Array.isArray(s)&&s.forEach(m=>{m&&m.start_hours&&m.end_hours&&i(m).forEach(g=>{g&&g.id&&f.add(g.id)})}),Array.from(f).sort((m,p)=>{try{if(!m||!p||typeof m!="string"||typeof p!="string")return 0;const g=m.split("-"),b=p.split("-");if(g.length<1||b.length<1)return 0;const[v]=g,[x]=b,w=v.split(":"),j=x.split(":");if(w.length<2||j.length<2)return 0;const[N,k]=w.map(Number),[S,C]=j.map(Number);if(isNaN(N)||isNaN(k)||isNaN(S)||isNaN(C))return 0;const E=N*60+k,T=S*60+C;return E-T}catch{return 0}})},u=()=>{const f=new Map;return r&&Array.isArray(r)&&r.forEach(m=>{m&&m.shortName&&f.set(m.shortName,m)}),s&&Array.isArray(s)&&s.forEach(m=>{if(m&&m.title&&m.start_hours&&m.end_hours&&!f.has(m.title)){const p={id:0,name:m.title,shortName:m.title,isEnabled:!1,startTime:a(m.start_hours),endTime:a(m.end_hours),slots:i(m)};f.set(m.title,p)}}),Array.from(f.values()).sort((m,p)=>{const g=["T2","T3","T4","T5","T6","T7","CN"],b=g.indexOf(m.shortName),v=g.indexOf(p.shortName);return b-v})},h=c(),d=u();return h.length===0&&d.length===0?n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-400",children:[n.jsx("p",{className:"text-sm",children:"Cha c lch lm vic"}),n.jsx("p",{className:"text-xs mt-1",children:s.length>0?"Chn ngy v nhn 'Xem lch'  hin th lch hin c":"Vui lng cu hnh v nhn 'To lch'"})]})}):n.jsx("div",{className:"h-full w-full overflow-auto",children:n.jsxs("table",{className:"w-full border-collapse text-xs",children:[n.jsx("thead",{className:"sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"bg-blue-600 text-white font-semibold text-center py-1.5 border-r border-blue-700 min-w-[80px]",children:"Gi"}),d.map(f=>{const m=o(f.shortName),p=f.isEnabled;let g="text-white font-semibold text-center py-2 border-r border-gray-300 last:border-r-0 min-w-[80px] ";return p||m?g+="bg-blue-600":g+="bg-gray-500",n.jsx("th",{className:g,children:f.shortName},`${f.shortName}-${f.id}`)})]})}),n.jsx("tbody",{children:h.map(f=>{const[m]=f.split("-"),[p,g]=m.split(":");return n.jsxs("tr",{children:[n.jsxs("td",{className:"bg-gray-50 text-center py-2 font-medium border-r border-b border-gray-200 text-gray-700 min-w-[80px]",children:[p.padStart(2,"0"),":",g.padStart(2,"0")]}),d.map(b=>{const v=t(b,f),x=l(b.shortName,f),w=!!v,j=!!x;let N="text-center py-2 border-r border-b border-gray-200 last:border-r-0 ",k="";return w||j?(N+="bg-green-100 text-green-700",k=""):(N+="bg-gray-50 text-gray-400",k="-"),n.jsx("td",{className:N,title:w||j?"C lch lm vic":"Trng",children:k},`${b.shortName}-${f}`)})]},f)})})]})})}),Wxe=y.memo(({bookingPlans:e,isLoading:t,isDeleting:s=!1,onEdit:r,onDelete:a,onRefresh:i})=>{const[o,l]=y.useState(null),[c,u]=y.useState(null),h=b=>`${b.hour.toString().padStart(2,"0")}:${b.minute.toString().padStart(2,"0")}`,d=b=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(b),f=b=>new Date(b).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),m=b=>{u(b)},p=async b=>{l(b),u(null),await a(b),l(null)},g=()=>{u(null)};return t?n.jsxs(ye,{children:[n.jsx(Je,{className:"pb-2",children:n.jsx(yt,{className:"text-sm font-semibold",children:"Danh sch lch lm vic"})}),n.jsx(De,{children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center text-gray-400",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-xs",children:"ang ti..."})]})})})]}):e.length===0?n.jsxs(ye,{children:[n.jsx(Je,{className:"pb-2",children:n.jsx(yt,{className:"text-sm font-semibold",children:"Danh sch lch lm vic"})}),n.jsx(De,{children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center text-gray-400",children:[n.jsx(ft,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs",children:"Cha c lch lm vic no"}),n.jsx("p",{className:"text-xs mt-1",children:"To lch mi  bt u"})]})})})]}):n.jsxs(ye,{children:[n.jsx(Je,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(yt,{className:"text-sm font-semibold",children:["Danh sch lch lm vic (",e.length,")"]}),i&&n.jsx(H,{size:"sm",variant:"ghost",onClick:i,disabled:t,className:"h-6 w-6 p-0",title:"Ti li danh sch",children:n.jsx(oo,{className:`w-3 h-3 ${t?"animate-spin":""}`})})]})}),n.jsx(De,{className:"space-y-3",children:e.map(b=>n.jsxs("div",{className:"border rounded-lg p-3 bg-white hover:bg-gray-50 transition-all duration-200 hover:shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("h3",{className:"font-medium text-sm text-gray-900",children:b.title})}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(H,{size:"sm",variant:"outline",onClick:()=>r(b),disabled:s||o===b.booking_planid,className:"h-7 w-7 p-0 disabled:opacity-50",title:"Chnh sa",children:n.jsx(lq,{className:"w-3 h-3"})}),n.jsx(H,{size:"sm",variant:"outline",onClick:()=>m(b.booking_planid),disabled:s||o===b.booking_planid,className:"h-7 w-7 p-0 hover:bg-red-50 hover:border-red-200 disabled:opacity-50",title:"Xa",children:o===b.booking_planid?n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-red-500"}):n.jsx(Ht,{className:"w-3 h-3 text-red-500"})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(st,{className:"w-3 h-3"}),n.jsxs("span",{children:[h(b.start_hours)," - ",h(b.end_hours)]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx($n,{className:"w-3 h-3"}),n.jsxs("span",{children:[d(b.price_per_hours),"/gi"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(st,{className:"w-3 h-3"}),n.jsxs("span",{children:["Slot: ",b.slot_duration," pht"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(dh,{className:"w-3 h-3"}),n.jsx("a",{href:b.meeting_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate max-w-[100px]",title:b.meeting_url,children:"Meeting"})]})]}),n.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100 text-xs text-gray-400",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["To: ",f(b.createdAt)]}),n.jsxs("span",{children:["Cp nht: ",f(b.updatedAt)]})]})}),c===b.booking_planid&&n.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded",children:[n.jsxs("p",{className:"text-xs text-red-700 mb-2",children:['Bn c chc chn mun xa lch lm vic "',b.title,'"?']}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{size:"sm",variant:"destructive",onClick:()=>p(b.booking_planid),disabled:s,className:"h-6 text-xs px-2 disabled:opacity-50",children:s?"ang xa...":"Xa"}),n.jsx(H,{size:"sm",variant:"outline",onClick:g,disabled:s,className:"h-6 text-xs px-2 disabled:opacity-50",children:"Hy"})]})]})]},b.booking_planid))})]})}),Kxe=()=>{const[e,t]=y.useState(null);try{const s=()=>[{id:2,name:"Th 2",shortName:"T2",isEnabled:!1,startTime:"08:00",endTime:"22:00",slots:[]},{id:3,name:"Th 3",shortName:"T3",isEnabled:!0,startTime:"09:00",endTime:"22:00",slots:[]},{id:4,name:"Th 4",shortName:"T4",isEnabled:!0,startTime:"08:00",endTime:"22:00",slots:[]},{id:5,name:"Th 5",shortName:"T5",isEnabled:!0,startTime:"08:00",endTime:"22:00",slots:[]},{id:6,name:"Th 6",shortName:"T6",isEnabled:!0,startTime:"08:00",endTime:"22:00",slots:[]},{id:7,name:"Th 7",shortName:"T7",isEnabled:!1,startTime:"08:00",endTime:"22:00",slots:[]},{id:8,name:"Ch nht",shortName:"CN",isEnabled:!1,startTime:"08:00",endTime:"22:00",slots:[]}],[r,a]=y.useState("08:00"),[i,o]=y.useState("22:00"),[l,c]=y.useState(60),[u,h]=y.useState(0),[d,f]=y.useState(""),[m,p]=y.useState(""),[g,b]=y.useState(!1),[v,x]=y.useState([]),[w,j]=y.useState(null),[N,k]=y.useState(!1),[S,C]=y.useState(!1),[E,T]=y.useState(!1),[_,A]=y.useState(!1),[D,R]=y.useState(!1),U=y.useCallback(G=>{if(!G||typeof G.title!="string")return null;let X={...G};if(typeof G.start_hours=="string"){const[le,Ne]=G.start_hours.split(":").map(Number);if(isNaN(le)||isNaN(Ne))return null;X.start_hours={hour:le,minute:Ne,second:0,nano:0}}else if(typeof G.start_hours=="object"&&typeof G.start_hours.hour=="number"&&typeof G.start_hours.minute=="number")X.start_hours=G.start_hours;else return null;if(typeof G.end_hours=="string"){const[le,Ne]=G.end_hours.split(":").map(Number);if(isNaN(le)||isNaN(Ne))return null;X.end_hours={hour:le,minute:Ne,second:0,nano:0}}else if(typeof G.end_hours=="object"&&typeof G.end_hours.hour=="number"&&typeof G.end_hours.minute=="number")X.end_hours=G.end_hours;else return null;return typeof G.slot_duration!="number"?null:(X.meeting_url||(X.meeting_url=""),X)},[]);y.useEffect(()=>{(async()=>{try{C(!0);const X=await ac.getBookingPlans();if(X&&X.plans&&Array.isArray(X.plans)){const Ne=X.plans.map(U).filter(Re=>Re!==null).filter(Re=>Re!==null);x(Ne),Ne.length>0&&h(Ne[0].price_per_hours)}else x([])}catch(X){const le=X instanceof Error?X.message:"C li xy ra khi ti danh sch lch lm vic.";xt.error(le),x([])}finally{C(!1)}})()},[]);const I=y.useCallback(G=>{j(G),k(!0);const X=`${G.start_hours.hour.toString().padStart(2,"0")}:${G.start_hours.minute.toString().padStart(2,"0")}`,le=`${G.end_hours.hour.toString().padStart(2,"0")}:${G.end_hours.minute.toString().padStart(2,"0")}`;a(X),o(le),c(G.slot_duration),h(G.price_per_hours),f(G.meeting_url||""),O(Ne=>Ne.map(Re=>({...Re,isEnabled:Re.shortName===G.title,startTime:Re.shortName===G.title?X:Re.startTime,endTime:Re.shortName===G.title?le:Re.endTime})))},[]),L=y.useCallback(()=>{a("08:00"),o("22:00"),c(60),v.length>0&&h(v[0].price_per_hours),f(""),p(""),O(s())},[v]),M=y.useCallback(()=>{j(null),k(!1),L()},[L]),$=y.useCallback(async G=>{try{A(!0);const X=await ac.deleteBookingPlan(G);if(X.success){const le=v.find(oe=>oe.booking_planid===G),Ne=le?le.title:"lch lm vic";x(oe=>oe.filter(ae=>ae.booking_planid!==G));const Re=X.message?` ${X.message} (${Ne})`:` Xa lch lm vic "${Ne}" thnh cng!`;xt.success(Re,{duration:4e3})}else xt.error("C li xy ra khi xa lch lm vic.")}catch(X){const le=X instanceof Error?X.message:"C li xy ra khi xa lch lm vic. Vui lng th li.";xt.error(le)}finally{A(!1)}},[v]),[F,O]=y.useState(s()),q=G=>{a(G),O(N&&w?F.map(X=>X.shortName===w.title?{...X,startTime:G}:X):F.map(X=>({...X,startTime:G})))},B=G=>{o(G),O(N&&w?F.map(X=>X.shortName===w.title?{...X,endTime:G}:X):F.map(X=>({...X,endTime:G})))},z=(G,X,le)=>{const Ne=[],[Re,oe]=G.split(":").map(Number),[ae,K]=X.split(":").map(Number);let Z=Re*60+oe;const Q=ae*60+K;for(;Z+le<=Q;){const pe=Math.floor(Z/60),me=Z%60,ce=Z+le,Se=Math.floor(ce/60),He=ce%60;Ne.push({id:`${pe}:${me.toString().padStart(2,"0")}-${Se}:${He.toString().padStart(2,"0")}`,startTime:`${pe.toString().padStart(2,"0")}:${me.toString().padStart(2,"0")}`,endTime:`${Se.toString().padStart(2,"0")}:${He.toString().padStart(2,"0")}`}),Z+=le}return Ne},W=()=>{const G=F.map(X=>({...X,slots:X.isEnabled?z(X.startTime,X.endTime,l):[]}));O(G)},P=G=>{O(F.map(X=>X.id===G?{...X,isEnabled:!X.isEnabled}:X))},V=(G,X,le)=>{O(F.map(Ne=>Ne.id===G?{...Ne,[X]:le}:Ne)),N&&w&&F.find(Re=>Re.id===G&&Re.shortName===w.title)&&(X==="startTime"?a(le):X==="endTime"&&o(le))},Y=(G,X)=>!G||!G.slots||!Array.isArray(G.slots)||!X?null:G.slots.find(le=>le&&le.id===X)||null,J=(G,X)=>{if(!G||!G.trim())return X?(p(""),!0):(p("Vui lng nhp link meeting"),!1);try{return new URL(G).protocol.startsWith("http")?(p(""),!0):(p("Link meeting phi bt u bng http:// hoc https://"),!1)}catch{return p("Link meeting khng hp l"),!1}},te=G=>{f(G),m&&G.trim()&&J(G)},ie=async()=>{try{b(!0);const G=!!(N&&w&&d===w.meeting_url);if(!J(d,G)){b(!1),xt.error("Vui lng kim tra li Meeting URL");return}if(N&&w){T(!0);const X=F.find(pe=>pe.shortName===w.title);if(!X){xt.error(`Khng tm thy thng tin ngy "${w.title}" trong lch hin ti.`);return}const le=X.startTime,Ne=X.endTime,[Re,oe]=le.split(":").map(Number),[ae,K]=Ne.split(":").map(Number);if(isNaN(Re)||isNaN(oe)||isNaN(ae)||isNaN(K)){xt.error("Thi gian khng hp l. Vui lng kim tra li.");return}if(Re*60+oe>=ae*60+K){xt.error("Gi bt u phi nh hn gi kt thc.");return}const Z={title:w.title,start_hours:{hour:Re,minute:oe,second:0,nano:0},end_hours:{hour:ae,minute:K,second:0,nano:0},slot_duration:l,price_per_hours:u,meeting_url:d},Q=await ac.updateBookingPlan(w.booking_planid,Z);if(Q.success){const pe=`${le}-${Ne}`,me=Q.updated_slots>0?` Cp nht lch lm vic "${w.title}" (${pe}) thnh cng!  cp nht ${Q.updated_slots} slots.`:` Cp nht lch lm vic "${w.title}" (${pe}) thnh cng!`;xt.success(me,{duration:4e3}),await de(),M()}else xt.error("C li xy ra khi cp nht lch lm vic.")}else{const X=F.filter(K=>K.isEnabled);if(X.length===0){xt.error("Vui lng chn t nht mt ngy lm vic");return}if(!X.some(K=>K.slots.length>0)){xt.error("Vui lng to lch trc khi gi");return}const le=[],Ne=[];for(let K=0;K<X.length;K++){const Z=X[K],[Q,pe]=Z.startTime.split(":").map(Number),[me,ce]=Z.endTime.split(":").map(Number),Se={title:Z.shortName,start_hours:{hour:Q,minute:pe,second:0,nano:0},end_hours:{hour:me,minute:ce,second:0,nano:0},slot_duration:l,price_per_hours:u,meeting_url:d};try{const He=await ac.createBookingPlan(Se);le.push(He),X.indexOf(Z)<X.length-1&&await new Promise(Ve=>setTimeout(Ve,100))}catch(He){Ne.push({day:Z.name,error:He instanceof Error?He.message:"Li khng xc nh"})}}if(le.length===0){const K=Ne.length>0?`Khng th to lch lm vic. Li: ${Ne[0].error}`:"Khng th to lch lm vic. Vui lng th li.";throw new Error(K)}else if(Ne.length>0){const K=le.reduce((Q,pe)=>Q+pe.slots_created,0),Z=` To c ${le.length}/${X.length} lch lm vic vi ${K} slots. Tht bi: ${Ne.map(Q=>Q.day).join(", ")}`;xt.warning(Z,{duration:6e3}),await de();return}const Re=le.reduce((K,Z)=>K+Z.slots_created,0),ae=` To lch lm vic thnh cng!  to ${le.length} lch vi tng cng ${Re} slots.`;xt.success(ae,{duration:5e3}),await de()}}catch(G){const X=G instanceof Error?G.message:N?"C li xy ra khi cp nht lch lm vic. Vui lng th li.":"C li xy ra khi to lch lm vic. Vui lng th li.";xt.error(X)}finally{b(!1),T(!1)}},de=y.useCallback(async(G=!1)=>{if(!D)try{R(!0);const X=await ac.getBookingPlans();if(X&&X.plans&&Array.isArray(X.plans)){const le=X.plans.map(U).filter(Ne=>Ne!==null);x(le)}else x([]);G&&xt.success(`  ti li danh sch lch lm vic (${X.plans.length} lch)`,{duration:2e3})}catch(X){const le=X instanceof Error?X.message:"C li xy ra khi ti li danh sch lch lm vic.";xt.error(le)}finally{R(!1)}},[D]);return S&&v.length===0?n.jsx("div",{className:"p-4 h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"ang ti d liu lch lm vic..."})]})}):e?n.jsx("div",{className:"p-4 h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"C li xy ra"}),n.jsx("p",{className:"text-gray-600 mb-4",children:e}),n.jsx("button",{onClick:()=>{t(null),window.location.reload()},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Ti li trang"})]})}):n.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[n.jsx(es,{title:"Lch lm vic",description:"Qun l lch lm vic v booking plans",icon:ft,gradientFrom:"from-blue-600",gradientVia:"via-purple-600",gradientTo:"to-purple-600"}),n.jsxs("div",{className:"p-4 grid grid-cols-1 xl:grid-cols-[320px,1fr,300px] gap-3 flex-1 overflow-hidden min-h-0",children:[n.jsxs(ye,{className:"flex flex-col overflow-hidden",children:[n.jsx(Je,{className:"pb-2 flex-shrink-0",children:n.jsx(yt,{className:"text-sm font-semibold",children:"Cu hnh lch"})}),n.jsxs(De,{className:"flex-1 overflow-y-auto space-y-3 pr-2 text-sm",children:[N&&w?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ve,{className:"text-xs font-medium",children:w.title}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsxs(on,{value:r,onValueChange:q,children:[n.jsx(Gt,{className:"h-8 flex-1 text-xs",children:n.jsx(ln,{})}),n.jsx(Yt,{className:"max-h-[200px]",children:(()=>{const G=[];for(let X=0;X<24;X++)G.push(`${X.toString().padStart(2,"0")}:00`);return G.map(X=>n.jsx(We,{value:X,className:"text-xs",children:X},X))})()})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"n"}),n.jsxs(on,{value:i,onValueChange:B,children:[n.jsx(Gt,{className:"h-8 flex-1 text-xs",children:n.jsx(ln,{})}),n.jsx(Yt,{className:"max-h-[200px]",children:(()=>{const G=[];for(let X=0;X<24;X++)G.push(`${X.toString().padStart(2,"0")}:00`);return G.map(X=>n.jsx(We,{value:X,className:"text-xs",children:X},X))})()})]})]})]})}):n.jsxs(n.Fragment,{children:[n.jsx(Bxe,{slotDuration:l,defaultPrice:u,meetingUrl:d,meetingUrlError:m,hasExistingPlans:v.length>0,onSlotDurationChange:c,onDefaultPriceChange:h,onMeetingUrlChange:te}),n.jsx(zxe,{schedule:F,bookingPlans:v,onDayToggle:P}),n.jsx(qxe,{schedule:F,bookingPlans:v,onDayTimeChange:V})]}),!N&&n.jsx(H,{onClick:W,className:"w-full bg-blue-600 hover:bg-blue-700 h-8 text-xs",children:"Xem lch"}),n.jsx(H,{onClick:ie,disabled:g||E||_||D||(N?!1:!F.some(G=>G.isEnabled&&G.slots.length>0)),className:"w-full bg-green-600 hover:bg-green-700 h-8 text-xs disabled:opacity-50",children:g?N?"ang cp nht...":"ang to...":N?`Cp nht ${(w==null?void 0:w.title)||""}`:"Lu lch lm vic"}),N&&n.jsx(H,{onClick:M,disabled:g||E||_,className:"w-full bg-gray-600 hover:bg-gray-700 h-8 text-xs disabled:opacity-50",children:"Hy chnh sa"})]})]}),n.jsxs(ye,{className:"flex flex-col overflow-hidden min-h-0",children:[n.jsx(Je,{className:"pb-2 flex-shrink-0",children:n.jsx(yt,{className:"text-sm font-semibold",children:"Lch Lm Vic"})}),n.jsx(De,{className:"p-0 flex-1 overflow-hidden min-h-0",children:n.jsx(Hxe,{schedule:F,getSlotForTime:Y,bookingPlans:v})})]}),n.jsx("div",{className:"flex flex-col overflow-hidden",children:n.jsx(Wxe,{bookingPlans:v,isLoading:S||D,isDeleting:_,onEdit:I,onDelete:$,onRefresh:()=>de(!0)})})]})]})}catch(s){return t(s instanceof Error?s.message:"C li xy ra"),n.jsx("div",{className:"p-4 h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"C li xy ra"}),n.jsx("p",{className:"text-gray-600 mb-4",children:e}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Ti li trang"})]})})}},Gxe=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Tin nhn"}),n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(yt,{children:"Tin nhn hc vin"})}),n.jsx(De,{children:n.jsx("p",{className:"text-gray-600",children:"H thng tin nhn s c trin khai ti y."})})]})]}),Yxe={getTutorPayments:async()=>{var e,t;try{const s=await ee.get("/api/payments/me");let r=[];return Array.isArray((e=s==null?void 0:s.data)==null?void 0:e.result)?r=s.data.result:Array.isArray(s==null?void 0:s.data)&&(r=s.data),r.map(i=>({paymentID:i.paymentID,userId:i.userId,tutorId:i.tutorId,targetId:i.targetId,paymentType:i.paymentType,paymentMethod:i.paymentMethod,status:i.status,amount:i.amount,isPaid:i.isPaid,isRefund:i.isRefund,orderCode:i.orderCode,paymentLinkId:i.paymentLinkId,checkoutUrl:i.checkoutUrl||"",qrCodeUrl:i.qrCodeUrl||"",createdAt:i.createdAt,paidAt:i.paidAt||"",description:i.description||"",expiresAt:i.expiresAt||""}))}catch(s){if(console.error(" Error fetching tutor payments:",s),s.response){const r=s.response.status,a=(t=s.response.data)==null?void 0:t.message;switch(r){case 401:throw new Error("Phin ng nhp  ht hn. Vui lng ng nhp li.");case 403:throw new Error("Bn khng c quyn truy cp d liu ny.");case 404:throw new Error("Khng tm thy d liu thanh ton.");case 500:throw new Error("Li server. Vui lng th li sau.");default:throw new Error(a||"Khng th ti danh sch giao dch. Vui lng th li.")}}else throw s.request?new Error("Khng th kt ni n server. Vui lng kim tra kt ni mng."):new Error(s.message||" xy ra li khng xc nh.")}}},Xi=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),xb=e=>e?new Date(e).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",Qxe=e=>({PAID:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",REFUNDED:"bg-blue-100 text-blue-800",FAILED:"bg-red-100 text-red-800"})[e],Zxe=e=>({totalPayments:e.length,totalAmount:e.filter(t=>t.status==="PAID").reduce((t,s)=>t+s.amount,0),paidCount:e.filter(t=>t.status==="PAID").length,pendingCount:e.filter(t=>t.status==="PENDING").length,refundedCount:e.filter(t=>t.status==="REFUNDED").length,failedCount:e.filter(t=>t.status==="FAILED").length});function Xxe({searchQuery:e,onSearchChange:t,selectedType:s,onTypeChange:r,selectedStatus:a,onStatusChange:i}){const o=[{id:"search",type:"search",placeholder:"Tm theo m n, ID ngi dng, m t...",value:e,onChange:t,icon:ci},{id:"payment-type",type:"select",placeholder:"Loi thanh ton",value:s,onChange:r,options:[{value:"all",label:"Tt c"},{value:"Course",label:"Kha hc"},{value:"Booking",label:"t lch"}]},{id:"payment-status",type:"select",placeholder:"Trng thi",value:a,onChange:i,options:[{value:"all",label:"Tt c"},{value:"PAID",label:" thanh ton"},{value:"PENDING",label:"Ch thanh ton"},{value:"REFUNDED",label:" hon tin"},{value:"FAILED",label:"Tht bi"}]}];return n.jsx(Ca,{filters:o})}function Jxe({payments:e}){const t=r=>{switch(r){case"PAYOS":return n.jsx(Hn,{className:"w-4 h-4"});case"MOMO":return n.jsx(U5,{className:"w-4 h-4"});case"VNPAY":return n.jsx(xj,{className:"w-4 h-4"});default:return n.jsx(Hn,{className:"w-4 h-4"})}},s=r=>{switch(r){case"Course":return n.jsx(tt,{className:"w-4 h-4"});case"Booking":return n.jsx(yj,{className:"w-4 h-4"});case"Subscription":return n.jsx(io,{className:"w-4 h-4"});default:return n.jsx(tt,{className:"w-4 h-4"})}};return n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{className:"bg-gray-50",children:[n.jsx(Ae,{className:"font-semibold text-gray-700 w-[140px]",children:"M n"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[100px]",children:"Trng thi"}),n.jsx(Ae,{className:"font-semibold text-gray-700 text-right w-[130px]",children:"S tin"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[100px]",children:"Loi"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[100px]",children:"Phng thc"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[80px]",children:"User ID"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[150px]",children:"Ngy to"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[150px]",children:"Ngy thanh ton"}),n.jsx(Ae,{className:"font-semibold text-gray-700 w-[100px] text-center",children:"Thao tc"})]})}),n.jsx(Fs,{children:e.map(r=>n.jsxs(Mt,{className:"hover:bg-gray-50",children:[n.jsx(Ee,{className:"font-medium",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:r.orderCode}),n.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",r.paymentID]})]})}),n.jsx(Ee,{children:n.jsx(Pe,{className:`${Qxe(r.status)} font-semibold`,children:r.status})}),n.jsx(Ee,{className:"text-right",children:n.jsx("div",{className:"font-bold text-blue-600",children:Xi(r.amount)})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[s(r.paymentType),n.jsx("span",{className:"text-sm",children:r.paymentType})]})}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[t(r.paymentMethod),n.jsx("span",{className:"text-sm",children:r.paymentMethod})]})}),n.jsx(Ee,{className:"text-sm text-gray-600",children:r.userId}),n.jsx(Ee,{className:"text-sm text-gray-600",children:xb(r.createdAt)}),n.jsx(Ee,{className:"text-sm text-gray-600",children:r.paidAt?xb(r.paidAt):"-"}),n.jsx(Ee,{children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.checkoutUrl&&n.jsx(H,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0",children:n.jsx("a",{href:r.checkoutUrl,target:"_blank",rel:"noopener noreferrer",title:"Xem link thanh ton",children:n.jsx(Ol,{className:"w-4 h-4"})})}),r.qrCodeUrl&&n.jsx(H,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0",children:n.jsx("a",{href:r.qrCodeUrl,target:"_blank",rel:"noopener noreferrer",title:"Xem QR code",children:n.jsx(L5,{className:"w-4 h-4"})})})]})})]},r.paymentID))})]})})})}function e0e({stats:e,isLoading:t}){if(t)return n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((r,a)=>n.jsxs("div",{className:"bg-white/15 backdrop-blur-md rounded-lg px-4 py-3 border border-white/20 animate-pulse",children:[n.jsx("div",{className:"h-5 bg-white/20 rounded mb-2"}),n.jsx("div",{className:"h-8 bg-white/20 rounded"})]},a))});const s=[{icon:Hn,label:"Tng giao dch",value:e.totalPayments.toString(),iconColor:"text-blue-300"},{icon:$n,label:"Tng thu nhp",value:Xi(e.totalAmount),iconColor:"text-green-300"},{icon:kt,label:" thanh ton",value:e.paidCount.toString(),iconColor:"text-green-300"},{icon:st,label:"Ch thanh ton",value:e.pendingCount.toString(),iconColor:"text-yellow-300"},{icon:F5,label:" hon tin",value:e.refundedCount.toString(),iconColor:"text-blue-300"},{icon:Lt,label:"Tht bi",value:e.failedCount.toString(),iconColor:"text-red-300"}];return n.jsx(Ip,{stats:s,variant:"compact",columns:{mobile:2,tablet:3,desktop:6}})}function t0e(){const e=Qe(),[t,s]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(null),[l,c]=y.useState(""),[u,h]=y.useState("all"),[d,f]=y.useState("all"),m=async()=>{try{a(!0),o(null);const w=await Yxe.getTutorPayments();s(w)}catch(w){o(w.message||"Khng th ti danh sch giao dch"),s([])}finally{a(!1)}},p=()=>{m()},g=()=>{c(""),h("all"),f("all")},b=l.trim()!==""||u!=="all"||d!=="all";y.useEffect(()=>{m()},[]);const v=y.useMemo(()=>t.filter(w=>{if(l.trim()){const j=l.toLowerCase();if(!(w.orderCode.toLowerCase().includes(j)||w.userId.toString().includes(j)||w.description.toLowerCase().includes(j)))return!1}return!(u!=="all"&&w.paymentType!==u||d!=="all"&&w.status!==d)}),[t,l,u,d]),x=Zxe(v);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"sticky top-0 z-10 bg-white shadow-md",children:[n.jsx(es,{title:"Thu nhp ca ti",description:"Theo di cc giao dch thanh ton",icon:Hn,gradientFrom:"from-blue-600",gradientVia:"via-blue-700",gradientTo:"to-indigo-700",actionButtons:n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(H,{onClick:()=>e(se.WITHDRAWAL_HISTORY),className:"bg-white text-gray-700 hover:bg-gray-50 font-semibold shadow-lg",children:[n.jsx(R5,{className:"w-4 h-4 mr-2"}),"Lch s rt tin"]}),n.jsxs(H,{onClick:()=>e(se.WITHDRAWAL),className:"bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg",children:[n.jsx($n,{className:"w-4 h-4 mr-2"}),"Rt tin"]})]}),children:n.jsx(e0e,{stats:x,isLoading:r})}),n.jsx("div",{className:"bg-white border-t border-gray-100",children:n.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Pl,{className:"w-5 h-5 text-gray-500 flex-shrink-0"}),n.jsx("div",{className:"flex-1",children:n.jsx(Xxe,{searchQuery:l,onSearchChange:c,selectedType:u,onTypeChange:h,selectedStatus:d,onStatusChange:f})}),n.jsx(H,{onClick:g,variant:"outline",size:"sm",disabled:!b,children:"t li"})]})})})]}),n.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:[i&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(at,{className:"w-4 h-4 text-red-600"}),n.jsx("p",{className:"text-sm text-red-700",children:i})]}),n.jsx(H,{onClick:p,variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",children:"Th li"})]})}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-10 h-10 animate-spin text-blue-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"ang ti giao dch..."})]})}):v.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Hn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng c giao dch"}),n.jsx("p",{className:"text-gray-500 text-sm",children:b?"Khng tm thy giao dch ph hp vi b lc":"Cha c giao dch thanh ton no"})]}):n.jsx(Jxe,{payments:v})]})]})}const ic={getMyPackages:async()=>{var e,t,s;try{const r=await ee.get("/tutor/package/me");let a=[];return Array.isArray((e=r==null?void 0:r.data)==null?void 0:e.packages)?a=r.data.packages:Array.isArray((t=r==null?void 0:r.data)==null?void 0:t.result)?a=r.data.result:Array.isArray(r==null?void 0:r.data)&&(a=r.data),a.map(o=>({packageid:o.packageid,name:o.name,description:o.description,requirement:o.requirement||"",objectives:o.objectives||"",tutor_id:o.tutor_id,max_slots:o.max_slots||o.max_slot||0,slot_content:o.slot_content||[],is_active:o.is_active,created_at:o.created_at,updated_at:o.updated_at}))}catch(r){if(console.error(" Error fetching tutor packages:",r),r.response){const a=r.response.status,i=(s=r.response.data)==null?void 0:s.message;switch(a){case 401:throw new Error("Phin ng nhp  ht hn. Vui lng ng nhp li.");case 403:throw new Error("Bn khng c quyn truy cp d liu ny.");case 404:throw new Error("Khng tm thy d liu package.");case 500:throw new Error("Li server. Vui lng th li sau.");default:throw new Error(i||"Khng th ti danh sch package. Vui lng th li.")}}else throw r.request?new Error("Khng th kt ni n server. Vui lng kim tra kt ni mng."):new Error(r.message||" xy ra li khng xc nh.")}},createPackage:async e=>{var t,s;try{const r={name:e.name,description:e.description,requirement:e.requirement,objectives:e.objectives,max_slots:e.max_slots,slot_content:e.slot_content};return{success:!0,message:((t=(await ee.post("/tutor/package",r)).data)==null?void 0:t.message)||"Package  c to thnh cng."}}catch(r){if(console.error(" Error creating package:",r),r.response){const a=r.response.status,i=(s=r.response.data)==null?void 0:s.message;switch(a){case 400:throw new Error(i||"D liu khng hp l. Vui lng kim tra li.");case 401:throw new Error("Phin ng nhp  ht hn. Vui lng ng nhp li.");case 403:throw new Error("Bn khng c quyn to package.");case 500:throw new Error("Li server. Vui lng th li sau.");default:throw new Error(i||"Khng th to package. Vui lng th li.")}}else throw r.request?new Error("Khng th kt ni n server. Vui lng kim tra kt ni mng."):new Error(r.message||" xy ra li khng xc nh.")}},getPackageById:async e=>{var t;try{const r=(await ee.get(`/tutor/package/${e}`)).data;return{packageid:r.packageid,name:r.name,description:r.description,requirement:r.requirement||"",objectives:r.objectives||"",tutor_id:r.tutor_id,max_slots:r.max_slots||r.max_slot||0,slot_content:r.slot_content||[],min_booking_price_per_hour:r.min_booking_price_per_hour||0,is_active:r.is_active,created_at:r.created_at,updated_at:r.updated_at}}catch(s){if(console.error(" Error fetching package details:",s),s.response){const r=s.response.status,a=(t=s.response.data)==null?void 0:t.message;switch(r){case 401:throw new Error("Phin ng nhp  ht hn. Vui lng ng nhp li.");case 403:throw new Error("Bn khng c quyn truy cp package ny.");case 404:throw new Error("Khng tm thy package.");case 500:throw new Error("Li server. Vui lng th li sau.");default:throw new Error(a||"Khng th ti thng tin package. Vui lng th li.")}}else throw s.request?new Error("Khng th kt ni n server. Vui lng kim tra kt ni mng."):new Error(s.message||" xy ra li khng xc nh.")}},updatePackage:async(e,t)=>{var s,r;try{const a={name:t.name,description:t.description,requirement:t.requirement,objectives:t.objectives,max_slots:t.max_slots,slot_content:t.slot_content};return{success:!0,message:((s=(await ee.put(`/tutor/package/${e}`,a)).data)==null?void 0:s.message)||"Package  c cp nht thnh cng."}}catch(a){if(console.error(" Error updating package:",a),a.response){const i=a.response.status,o=(r=a.response.data)==null?void 0:r.message;switch(i){case 400:throw new Error(o||"D liu khng hp l. Vui lng kim tra li.");case 401:throw new Error("Phin ng nhp  ht hn. Vui lng ng nhp li.");case 403:throw new Error("Bn khng c quyn chnh sa package ny.");case 404:throw new Error("Khng tm thy package.");case 500:throw new Error("Li server. Vui lng th li sau.");default:throw new Error(o||"Khng th cp nht package. Vui lng th li.")}}else throw a.request?new Error("Khng th kt ni n server. Vui lng kim tra kt ni mng."):new Error(a.message||" xy ra li khng xc nh.")}},deletePackage:async e=>{var t,s;try{return{success:!0,message:((t=(await ee.delete(`/tutor/package/${e}`)).data)==null?void 0:t.message)||"Package  c xa thnh cng."}}catch(r){if(console.error(" Error deleting package:",r),r.response){const a=r.response.status,i=(s=r.response.data)==null?void 0:s.message;switch(a){case 401:throw new Error("Phin ng nhp  ht hn. Vui lng ng nhp li.");case 403:throw new Error("Bn khng c quyn xa package ny.");case 404:throw new Error("Khng tm thy package.");case 409:throw new Error("Khng th xa package ang c s dng.");case 500:throw new Error("Li server. Vui lng th li sau.");default:throw new Error(i||"Khng th xa package. Vui lng th li.")}}else throw r.request?new Error("Khng th kt ni n server. Vui lng kim tra kt ni mng."):new Error(r.message||" xy ra li khng xc nh.")}}},n0e=({package:e,onView:t,onEdit:s,onDelete:r})=>{const a=o=>{o.target.closest("button")||t(e.packageid)},i=o=>new Date(o).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"});return n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"h-full",children:n.jsxs(ye,{className:"h-full flex flex-col hover:shadow-lg transition-all duration-300 border-2 hover:border-blue-200 cursor-pointer",onClick:a,children:[n.jsxs(De,{className:"flex-1 p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-2 line-clamp-2",children:e.name})}),n.jsx(Pe,{variant:e.is_active?"default":"secondary",className:e.is_active?"bg-green-500 hover:bg-green-600":"bg-gray-500 hover:bg-gray-600",children:e.is_active?"Hot ng":"Khng hot ng"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:e.description}),n.jsx("div",{className:"space-y-3 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(en,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"S slot ti a"})]}),n.jsx("span",{className:"font-semibold text-blue-600",children:e.max_slots})]})}),n.jsxs("div",{className:"space-y-2 text-xs text-gray-500 border-t pt-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ft,{className:"w-3 h-3"}),n.jsxs("span",{children:["To: ",i(e.created_at)]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(st,{className:"w-3 h-3"}),n.jsxs("span",{children:["Cp nht: ",i(e.updated_at)]})]})]})]}),n.jsxs(rD,{className:"p-6 pt-0 flex gap-2",children:[n.jsxs(H,{size:"sm",onClick:()=>s(e.packageid),className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white",children:[n.jsx(va,{className:"w-4 h-4 mr-2"}),"Chnh sa"]}),n.jsxs(H,{size:"sm",onClick:()=>r(e.packageid),className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Xa"]})]})]})})},s0e=vr({name:wt().min(3,"Tn package phi c t nht 3 k t").max(200,"Tn package khng c vt qu 200 k t"),description:wt().min(10,"M t phi c t nht 10 k t").max(2e3,"M t khng c vt qu 2000 k t"),requirement:wt().min(10,"Yu cu phi c t nht 10 k t").max(1e3,"Yu cu khng c vt qu 1000 k t"),objectives:wt().min(10,"Mc tiu phi c t nht 10 k t").max(1e3,"Mc tiu khng c vt qu 1000 k t"),max_slots:Gv().int("S slot phi l s nguyn").min(1,"S slot ti thiu l 1").max(100,"S slot ti a l 100"),slot_content:Mj(vr({slot_number:Gv().int().positive("S slot phi l s nguyn dng"),content:wt().min(10,"Ni dung slot phi c t nht 10 k t").max(1e3,"Ni dung slot khng c vt qu 1000 k t")})).min(1,"Phi c t nht 1 slot content")}),Dm=({onClick:e,label:t="Quay li"})=>n.jsxs(H,{variant:"outline",onClick:e,className:"flex items-center gap-2 hover:bg-gray-50 transition-colors w-fit",children:[n.jsx(os,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:t})]}),r0e=({slots:e,onChange:t,errors:s={},maxSlots:r})=>{const[a,i]=y.useState(null),o=()=>{if(r&&e.length>=r)return;const f={slot_number:(e.length>0?Math.max(...e.map(m=>m.slot_number)):0)+1,content:""};t([...e,f])},l=(d,f)=>{const m=e.map((p,g)=>g===d?{...p,content:f}:p);t(m)},c=d=>{i(d)},u=()=>{if(a!==null){const d=e.filter((f,m)=>m!==a);t(d),i(null)}},h=()=>{i(null)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ve,{className:"text-sm font-medium",children:["Ni dung cc bui hc ",n.jsx("span",{className:"text-red-500",children:"*"}),r&&n.jsxs("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:["(",e.length,"/",r," slots)"]})]}),n.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:o,disabled:r?e.length>=r:!1,className:"flex items-center gap-2",children:[n.jsx(gn,{className:"w-4 h-4"}),"Thm slot"]})]}),e.length===0?n.jsx(ye,{className:"border-dashed",children:n.jsxs(De,{className:"flex flex-col items-center justify-center py-8 text-center",children:[n.jsx(at,{className:"w-12 h-12 text-gray-400 mb-3"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:'Cha c ni dung bui hc no. Nhn "Thm slot"  bt u.'})]})}):n.jsx("div",{className:"space-y-3",children:e.map((d,f)=>{var m,p;return n.jsxs(ye,{className:"relative",children:[n.jsx(Je,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(yt,{className:"text-sm font-medium",children:["Bui ",d.slot_number]}),n.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(f),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:n.jsx(Ht,{className:"w-4 h-4"})})]})}),n.jsxs(De,{className:"space-y-2",children:[n.jsx(It,{placeholder:`Nhp ni dung cho bui ${d.slot_number}...`,value:d.content,onChange:g=>l(f,g.target.value),className:(m=s[f])!=null&&m.content?"border-red-500 focus-visible:ring-red-500":"",rows:3}),((p=s[f])==null?void 0:p.content)&&n.jsxs("p",{className:"text-sm text-red-500 flex items-center gap-1",children:[n.jsx(at,{className:"w-3 h-3"}),s[f].content]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[d.content.length,"/1000 k t"]})]})]},f)})}),n.jsx(wa,{open:a!==null,onOpenChange:d=>!d&&h(),children:n.jsxs(Br,{children:[n.jsxs(El,{children:[n.jsx(zr,{children:"Xc nhn xa"}),n.jsxs(qr,{children:["Bn c chc chn mun xa bui hc ",a!==null&&e[a]?e[a].slot_number:"","? Hnh ng ny khng th hon tc."]})]}),n.jsxs(_l,{children:[n.jsx(ja,{onClick:h,children:"Hy"}),n.jsx(Hr,{onClick:u,className:"bg-red-500 hover:bg-red-600",children:"Xa"})]})]})})]})},a0e=({mode:e,initialData:t,onSubmit:s,onCancel:r,isLoading:a=!1})=>{const{control:i,handleSubmit:o,formState:{errors:l},watch:c,reset:u}=Na({resolver:ka(s0e),defaultValues:{name:"",description:"",requirement:"",objectives:"",max_slots:1,slot_content:[]},mode:"onBlur"}),h=c("name")||"",d=c("description")||"",f=c("requirement")||"",m=c("objectives")||"",p=c("max_slots"),g=c("slot_content");y.useEffect(()=>{t&&u({name:t.name||"",description:t.description||"",requirement:t.requirement||"",objectives:t.objectives||"",max_slots:t.max_slots||1,slot_content:t.slot_content||[]})},[t,u]);const b=async x=>{await s(x)},v=l.slot_content?Array.isArray(l.slot_content)?l.slot_content.reduce((x,w,j)=>{var N;return w&&(x[j]={content:(N=w.content)==null?void 0:N.message}),x},{}):{}:{};return n.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsx(Dm,{onClick:r})}),n.jsxs(ye,{className:"w-full",children:[n.jsx(Je,{children:n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx(io,{className:"w-5 h-5"}),e==="create"?"To gi dch v mi":"Chnh sa gi dch v"]})}),n.jsx(De,{children:n.jsxs("form",{onSubmit:o(b),className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"name",className:"text-sm font-medium",children:["Tn gi dch v ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ro,{name:"name",control:i,render:({field:x})=>n.jsx(Ce,{...x,id:"name",type:"text",placeholder:"Nhp tn gi dch v (v d: Kha hc ting Anh giao tip c bn)",className:l.name?"border-red-500 focus-visible:ring-red-500":"",disabled:a})}),l.name&&n.jsx("p",{className:"text-sm text-red-500",children:l.name.message}),n.jsxs("p",{className:"text-xs text-gray-500",children:[h.length,"/200 k t"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"description",className:"text-sm font-medium",children:["M t gi dch v ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ro,{name:"description",control:i,render:({field:x})=>n.jsx(It,{...x,id:"description",placeholder:"Nhp m t chi tit v gi dch v, bao gm ni dung, phng php ging dy...",className:l.description?"border-red-500 focus-visible:ring-red-500":"",rows:4,disabled:a})}),l.description&&n.jsx("p",{className:"text-sm text-red-500",children:l.description.message}),n.jsxs("p",{className:"text-xs text-gray-500",children:[d.length,"/2000 k t"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"requirement",className:"text-sm font-medium",children:["Yu cu ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ro,{name:"requirement",control:i,render:({field:x})=>n.jsx(It,{...x,id:"requirement",placeholder:"Nhp yu cu i vi hc vin (v d: C kin thc c bn v ng php, c laptop...)",className:l.requirement?"border-red-500 focus-visible:ring-red-500":"",rows:3,disabled:a})}),l.requirement&&n.jsx("p",{className:"text-sm text-red-500",children:l.requirement.message}),n.jsxs("p",{className:"text-xs text-gray-500",children:[f.length,"/1000 k t"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"objectives",className:"text-sm font-medium",children:["Mc tiu ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ro,{name:"objectives",control:i,render:({field:x})=>n.jsx(It,{...x,id:"objectives",placeholder:"Nhp mc tiu ca kha hc (v d: Hc vin c th giao tip ting Anh c bn...)",className:l.objectives?"border-red-500 focus-visible:ring-red-500":"",rows:3,disabled:a})}),l.objectives&&n.jsx("p",{className:"text-sm text-red-500",children:l.objectives.message}),n.jsxs("p",{className:"text-xs text-gray-500",children:[m.length,"/1000 k t"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"max_slots",className:"text-sm font-medium",children:["S slot ti a ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ro,{name:"max_slots",control:i,render:({field:x})=>n.jsx(Ce,{...x,id:"max_slots",type:"number",min:"1",max:"100",placeholder:"Nhp s slot ti a (1-100)",onChange:w=>x.onChange(parseInt(w.target.value)||0),className:l.max_slots?"border-red-500 focus-visible:ring-red-500":"",disabled:a})}),l.max_slots&&n.jsx("p",{className:"text-sm text-red-500",children:l.max_slots.message}),n.jsx("p",{className:"text-xs text-gray-500",children:"S lng hc vin ti a c th tham gia gi dch v ny"})]}),n.jsx(Ro,{name:"slot_content",control:i,render:({field:x})=>n.jsx(r0e,{slots:x.value,onChange:x.onChange,errors:v,maxSlots:p})}),l.slot_content&&!Array.isArray(l.slot_content)&&l.slot_content.message&&n.jsx("p",{className:"text-sm text-red-500",children:l.slot_content.message}),p&&g.length!==p&&n.jsxs("p",{className:"text-sm text-amber-600 flex items-center gap-1",children:[n.jsx(at,{className:"w-4 h-4"}),"S lng slot hin ti (",g.length,") phi bng s slot ti a (",p,")"]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(H,{type:"button",variant:"outline",onClick:r,disabled:a,className:"flex-1",children:"Hy"}),n.jsxs(H,{type:"submit",disabled:a||p&&g.length!==p,className:"flex-1",children:[a&&n.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),e==="create"?"To gi dch v":"Cp nht gi dch v"]})]})]})})]})]})},i0e=({packageId:e,onBack:t,onEdit:s,onDelete:r})=>{const[a,i]=y.useState(null),[o,l]=y.useState(!0),[c,u]=y.useState(null);y.useEffect(()=>{h()},[e]);const h=async()=>{try{l(!0),u(null);const m=await ic.getPackageById(e);i(m)}catch(m){u(m.message||"Khng th ti thng tin gi dch v"),console.error("Error fetching package details:",m)}finally{l(!1)}},d=m=>new Date(m).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),f=m=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(m);return o?n.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-8",children:[n.jsx(Dm,{onClick:t}),n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"ang ti thng tin gi dch v..."})]})})]}):c||!a?n.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-8",children:[n.jsx(Dm,{onClick:t}),n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(ye,{className:"max-w-md w-full",children:n.jsxs(De,{className:"p-6 text-center",children:[n.jsx(at,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Khng th ti thng tin"}),n.jsx("p",{className:"text-gray-600 mb-4",children:c}),n.jsx(H,{onClick:h,variant:"outline",children:"Th li"})]})})})]}):n.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-8",children:[n.jsx(Dm,{onClick:t}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-5xl mx-auto pt-16",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.name}),n.jsx(Pe,{variant:a.is_active?"default":"secondary",className:a.is_active?"bg-green-500 hover:bg-green-600":"bg-gray-500 hover:bg-gray-600",children:a.is_active?"Hot ng":"Khng hot ng"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(H,{onClick:()=>s(a.packageid),className:"bg-indigo-600 hover:bg-indigo-700",children:[n.jsx(va,{className:"w-4 h-4 mr-2"}),"Chnh sa"]}),n.jsxs(H,{onClick:()=>r(a.packageid),className:"bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Xa"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx(Zt,{className:"w-5 h-5 text-blue-600"}),"M t"]})}),n.jsx(De,{children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.description})})]}),n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx(kt,{className:"w-5 h-5 text-green-600"}),"Yu cu"]})}),n.jsx(De,{children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.requirement})})]}),n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx(du,{className:"w-5 h-5 text-purple-600"}),"Mc tiu"]})}),n.jsx(De,{children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.objectives})})]}),n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx(en,{className:"w-5 h-5 text-orange-600"}),"Ni dung cc bui hc (",a.slot_content.length," bui)"]})}),n.jsx(De,{children:n.jsx("div",{className:"space-y-4",children:a.slot_content.sort((m,p)=>m.slot_number-p.slot_number).map(m=>n.jsx(ye,{className:"bg-gray-50 border-gray-200",children:n.jsx(De,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:m.slot_number}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:m.content})})]})})},m.slot_number))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(yt,{className:"text-lg",children:"Thng tin chi tit"})}),n.jsxs(De,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(en,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"S slot ti a"})]}),n.jsx("span",{className:"text-lg font-bold text-blue-600",children:a.max_slots})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($n,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gi ti thiu/gi"})]}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:f(a.min_booking_price_per_hour)})]})]})]}),n.jsxs(ye,{children:[n.jsx(Je,{children:n.jsx(yt,{className:"text-lg",children:"Thi gian"})}),n.jsxs(De,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ft,{className:"w-4 h-4 text-gray-500 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ngy to"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:d(a.created_at)})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(st,{className:"w-4 h-4 text-gray-500 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Cp nht ln cui"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:d(a.updated_at)})]})]})]})]})]})]})]})]})},o0e=({isOpen:e,package:t,onConfirm:s,onCancel:r,isLoading:a=!1})=>t?n.jsx(wa,{open:e,onOpenChange:i=>!i&&r(),children:n.jsxs(Br,{className:"max-w-md",children:[n.jsx(El,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(ro,{className:"w-5 h-5 text-red-600"})}),n.jsx("div",{children:n.jsx(zr,{className:"text-lg font-semibold text-gray-900",children:"Xc nhn xa gi dch v"})})]})}),n.jsxs(qr,{className:"space-y-4",children:[n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:" Cnh bo: Hnh ng ny khng th hon tc!"}),n.jsx("p",{className:"text-sm text-red-700",children:"Bn sp xa vnh vin gi dch v ny khi h thng. Tt c d liu lin quan s b mt."})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Thng tin gi dch v:"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Tn:"})," ",t.name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"M t:"})," ",t.description]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"S slot ti a:"})," ",t.max_slots]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Trng thi:"})," ",t.is_active?"Hot ng":"Khng hot ng"]})]})]}),n.jsx("p",{className:"text-sm text-gray-600",children:' xc nhn xa, vui lng nhn nt "Xa gi dch v" bn di.'})]}),n.jsxs(_l,{className:"gap-3",children:[n.jsx(ja,{onClick:r,disabled:a,className:"flex-1",children:"Hy"}),n.jsxs(Hr,{onClick:s,disabled:a,className:"flex-1 bg-red-600 hover:bg-red-700 focus:ring-red-500",children:[a&&n.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Xa gi dch v"]})]})]})}):null,l0e=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,i]=y.useState(null),[o,l]=y.useState("list"),[c,u]=y.useState(null),[h,d]=y.useState("create"),[f,m]=y.useState(null),[p,g]=y.useState(!1),[b,v]=y.useState(!1),[x,w]=y.useState(null),[j,N]=y.useState(!1),k=async()=>{try{r(!0),i(null);const L=await ic.getMyPackages();t(L)}catch(L){i(L.message||"Khng th ti danh sch gi dch v"),t([])}finally{r(!1)}},S=()=>{k()},C=L=>{u(L),l("detail")},E=()=>{l("list"),u(null),m(null)},T=()=>{d("create"),m(null),l("form")},_=async L=>{try{g(!0);const M=await ic.getPackageById(L);d("edit"),m(M),l("form")}catch(M){xt.error(M.message||"Khng th ti thng tin gi dch v")}finally{g(!1)}},A=L=>{const M=e.find($=>$.packageid===L);M&&(w(M),v(!0))},D=async L=>{try{g(!0),h==="create"?(await ic.createPackage(L),xt.success("Gi dch v  c to thnh cng!")):f&&(await ic.updatePackage(f.packageid,L),xt.success("Gi dch v  c cp nht thnh cng!")),E(),await k()}catch(M){xt.error(M.message||"Khng th lu gi dch v")}finally{g(!1)}},R=()=>{E()},U=async()=>{if(x)try{N(!0),await ic.deletePackage(x.packageid),xt.success("Gi dch v  c xa thnh cng!"),v(!1),w(null),await k()}catch(L){xt.error(L.message||"Khng th xa gi dch v")}finally{N(!1)}},I=()=>{v(!1),w(null)};return y.useEffect(()=>{k()},[]),o==="detail"&&c?n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx(i0e,{packageId:c,onBack:E,onEdit:_,onDelete:A})})}):o==="form"?n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx(a0e,{mode:h,initialData:f||void 0,onSubmit:D,onCancel:R,isLoading:p})})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(es,{title:"Qun l Gi dch v",description:"Qun l v theo di tt c cc gi dch v ca bn",icon:io,gradientFrom:"from-blue-600",gradientVia:"via-purple-600",gradientTo:"to-purple-600",actionButtons:n.jsxs(H,{onClick:T,size:"lg",className:"gap-2 shadow-lg hover:shadow-xl transition-all bg-white text-purple-600 hover:bg-purple-50",children:[n.jsx(gn,{className:"w-5 h-5"}),"Thm gi dch v"]})}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a&&n.jsx(ye,{className:"mb-8 bg-red-50 border-red-200",children:n.jsx(De,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center gap-3 text-red-700",children:[n.jsx(at,{className:"w-5 h-5"}),n.jsx("p",{children:a}),n.jsx(H,{variant:"outline",size:"sm",onClick:S,className:"ml-auto",children:"Th li"})]})})}),s&&n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"ang ti gi dch v..."})]})}),!s&&e.length===0?n.jsx(ye,{className:"p-12 shadow-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-blue-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(io,{className:"w-10 h-10 text-blue-600"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Cha c gi dch v no"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Bn cha to gi dch v no. Hy to gi dch v u tin  bt u!"}),n.jsxs(H,{onClick:T,className:"gap-2 bg-purple-600 hover:bg-purple-700",children:[n.jsx(gn,{className:"w-4 h-4"}),"To gi dch v u tin"]})]})}):s?null:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(L=>n.jsx(n0e,{package:L,onView:C,onEdit:_,onDelete:A},L.packageid))}),n.jsx(o0e,{isOpen:b,package:x,onConfirm:U,onCancel:I,isLoading:j})]})]})},c0e=async e=>{var t,s;try{const r=await ee.get(`/tutor/courses/${e}`);if(r.data.code!==0)throw new Error(r.data.message||"Failed to fetch course detail");const a=r.data.result||r.data||{},i=(a.objectives||[]).map((l,c)=>typeof l=="object"&&l.objectiveText?{objectiveID:l.objectiveID||l.id||c+1,objectiveText:l.objectiveText,orderIndex:l.orderIndex!==void 0?l.orderIndex:c}:{objectiveID:c+1,objectiveText:typeof l=="string"?l:String(l),orderIndex:c}),o=a.adminReviewNote||a.adminNotes||a.rejectionReason||a.reviewNote;return{...a,objectives:i,courseID:a.id||e,adminNotes:o,adminReviewNote:a.adminReviewNote,section:a.sections||a.section||[],totalRatings:a.totalRatings??0,avgRating:a.avgRating??0,learnerCount:a.learnerCount??0,isEnabled:a.isEnabled??!0}}catch(r){throw new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to fetch course detail")}},u0e=async e=>{var t,s,r;try{const a=await ee.delete(`/tutor/courses/${e}`);if(a.status===204)return;if(a.data&&a.data.code!==0)throw new Error(a.data.message||"Failed to delete course")}catch(a){if(((t=a.response)==null?void 0:t.status)===204)return;throw new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message||"Failed to delete course")}},d0e=async e=>{var t,s;try{const r=await ee.put(`/tutor/courses/${e}/enable`);if(r.status!==200&&r.status!==204)throw new Error("Failed to enable course")}catch(r){throw console.error("Error enabling course:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to enable course")}},h0e=async e=>{var t,s;try{const r=await ee.put(`/tutor/courses/${e}/disable`);if(r.status!==200&&r.status!==204)throw new Error("Failed to disable course")}catch(r){throw console.error("Error disabling course:",r),new Error(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||r.message||"Failed to disable course")}};function f0e(){var j,N,k,S,C,E;const{courseId:e}=wr(),t=Qe(),{toast:s}=jt(),[r,a]=y.useState(null),[i,o]=y.useState(!0),[l,c]=y.useState(!1),[u,h]=y.useState(!1),[d,f]=y.useState(!1);y.useEffect(()=>{e&&m()},[e]);const m=async()=>{try{o(!0);const T=await c0e(e);a(T)}catch(T){console.error("Error fetching course detail:",T),s({title:"Li",description:T.message||"Khng th ti thng tin kha hc",variant:"destructive"})}finally{o(!1)}},p=async()=>{if(e)try{h(!0),await u0e(Number(e)),s({title:"Thnh cng",description:" xa kha hc thnh cng"}),t(Mp())}catch(T){s({title:"Li",description:T.message||"Khng th xa kha hc",variant:"destructive"})}finally{h(!1),c(!1)}},g=((j=r==null?void 0:r.status)==null?void 0:j.toUpperCase())==="DRAFT"||((N=r==null?void 0:r.status)==null?void 0:N.toUpperCase())==="REJECTED"||((k=r==null?void 0:r.status)==null?void 0:k.toLowerCase())==="draft"||((S=r==null?void 0:r.status)==null?void 0:S.toLowerCase())==="rejected",b=((C=r==null?void 0:r.status)==null?void 0:C.toUpperCase())==="APPROVED"||((E=r==null?void 0:r.status)==null?void 0:E.toLowerCase())==="approved",v=(r==null?void 0:r.isEnabled)??!0,x=async()=>{if(!(!e||!r))try{f(!0),v?(await h0e(Number(e)),s({title:"Thnh cng",description:" tt kch hot kha hc. Hc vin s khng th xem kha hc ny."})):(await d0e(Number(e)),s({title:"Thnh cng",description:" bt kch hot kha hc. Hc vin c th xem kha hc ny."})),a(T=>T?{...T,isEnabled:!v}:null)}catch(T){s({title:"Li",description:T.message||"Khng th thay i trng thi kha hc",variant:"destructive"})}finally{f(!1)}},w=g||b?n.jsxs(n.Fragment,{children:[b&&n.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ang kch hot"}),n.jsx(SN,{checked:v,onCheckedChange:x,disabled:d||i})]}),g&&n.jsxs(n.Fragment,{children:[n.jsxs(H,{variant:"destructive",size:"default",onClick:()=>c(!0),disabled:i,children:[n.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Xa kha hc"]}),n.jsx(wa,{open:l,onOpenChange:c,children:n.jsxs(Br,{children:[n.jsxs(El,{children:[n.jsx(zr,{children:"Xc nhn xa kha hc"}),n.jsxs(qr,{children:['Bn c chc chn mun xa kha hc "',r==null?void 0:r.title,'"? Hnh ng ny khng th hon tc.']})]}),n.jsxs(_l,{children:[n.jsx(ja,{disabled:u,children:"Hy"}),n.jsx(Hr,{onClick:p,disabled:u,className:"bg-red-600 hover:bg-red-700",children:u?"ang xa...":"Xa"})]})]})})]})]}):null;return n.jsx(NN,{course:r,loading:i,backUrl:Mp(),backLabel:"Quay li danh sch kha hc",hideTutorInfo:!0,headerActionsSlot:w,variant:"tutor"})}const m0e=e=>{try{const t=e.split(".");if(t.length!==3)return console.error("Invalid JWT format"),null;const r=t[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(r).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch(t){return console.error("Error decoding JWT:",t),null}},p0e=()=>localStorage.getItem("access_token")||sessionStorage.getItem("access_token"),$p=()=>{const e=p0e();if(!e)return null;const t=m0e(e);return!t||!t.tutorId?null:t.tutorId},wT={createWithdrawal:async e=>{var s,r,a;const t=$p();if(!t)throw new Error("Khng tm thy thng tin tutor. Vui lng ng nhp li.");try{const i=await ee.post("/tutor/withdraw/request",e,{params:{tutorId:t}});return((s=i.data)==null?void 0:s.result)??i.data}catch(i){throw(a=(r=i.response)==null?void 0:r.data)!=null&&a.message?new Error(i.response.data.message):i.message?new Error(i.message):new Error("Khng th kt ni n server. Vui lng th li.")}},getBalance:async()=>{var t,s,r;const e=$p();if(!e)throw new Error("Khng tm thy thng tin tutor. Vui lng ng nhp li.");try{const a=await ee.get("/tutor/withdraw/balance",{params:{tutorId:e}}),i=((t=a.data)==null?void 0:t.result)??a.data,o=parseFloat(i);if(isNaN(o))throw console.error("Invalid balance response:",a.data),new Error("D liu s d khng hp l");return o}catch(a){throw(r=(s=a.response)==null?void 0:s.data)!=null&&r.message?new Error(a.response.data.message):a.message?new Error(a.message):new Error("Khng th ly thng tin s d. Vui lng th li.")}}};function g0e({isOpen:e,onClose:t,type:s,data:r,errorMessage:a}){const i=Qe(),o=()=>{t(),i(se.PAYMENTS)},l=c=>({PENDING:"ang x l",APPROVED:" duyt",REJECTED:" t chi",COMPLETED:"Hon thnh"})[c]||c;return s==="success"&&r?n.jsx(ht,{open:e,onOpenChange:t,children:n.jsxs(lt,{className:"sm:max-w-md bg-white",children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(kt,{className:"w-8 h-8 text-green-600"})}),n.jsx(ut,{className:"text-2xl font-bold text-gray-900",children:"Yu cu rt tin thnh cng"})]})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"M yu cu:"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:["#",r.withdrawId]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"S tin rt:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:Xi(r.withdrawAmount)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Tng s d:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:Xi(r.totalAmount)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Ph x l:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:Xi(r.commission)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Trng thi:"}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:l(r.status)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Ngy to:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:xb(r.createdAt)})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:n.jsx("p",{className:"text-sm text-blue-800",children:r.status==="PENDING"?"Yu cu rt tin ca bn ang ch Admin x l. Chng ti s xem xt v phn hi trong thi gian sm nht.":"Yu cu rt tin ca bn  c gi. Chng ti s x l trong thi gian sm nht."})})]}),n.jsxs(Nt,{className:"flex-row gap-2 sm:gap-2",children:[n.jsx(H,{variant:"outline",onClick:t,className:"flex-1",children:"ng"}),n.jsx(H,{onClick:o,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"Xem lch s"})]})]})}):s==="error"?n.jsx(ht,{open:e,onOpenChange:t,children:n.jsxs(lt,{className:"sm:max-w-md bg-white",children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(at,{className:"w-8 h-8 text-red-600"})}),n.jsx(ut,{className:"text-2xl font-bold text-gray-900",children:"Khng th to yu cu"})]})}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-sm text-red-800 text-center",children:a||" xy ra li. Vui lng th li."})})}),n.jsxs(Nt,{className:"flex-row gap-2 sm:gap-2",children:[n.jsx(H,{variant:"outline",onClick:t,className:"flex-1",children:"ng"}),n.jsx(H,{onClick:t,className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800",children:"Th li"})]})]})}):null}function x0e(){const e=Qe(),[t,s]=y.useState(!1),[r,a]=y.useState(!0),[i,o]=y.useState(0),[l,c]=y.useState(null),[u,h]=y.useState(null),[d,f]=y.useState({bankName:"",bankAccountNumber:"",bankOwnerName:"",withdrawAmount:0}),[m,p]=y.useState({}),[g,b]=y.useState({isOpen:!1,type:"success"});y.useEffect(()=>{$p()||h("Khng tm thy thng tin tutor. Vui lng ng nhp li."),v()},[]);const v=async()=>{try{a(!0);const C=await wT.getBalance();o(C)}catch(C){c(C.message)}finally{a(!1)}},x=()=>{const C={};return d.bankName.trim()||(C.bankName="Vui lng nhp tn ngn hng"),d.bankAccountNumber.trim()?/^\d+$/.test(d.bankAccountNumber)||(C.bankAccountNumber="S ti khon ch c cha s"):C.bankAccountNumber="Vui lng nhp s ti khon",d.bankOwnerName.trim()||(C.bankOwnerName="Vui lng nhp tn ch ti khon"),d.withdrawAmount<=0?C.withdrawAmount="S tin phi ln hn 0":d.withdrawAmount>i&&(C.withdrawAmount=`S tin khng c vt qu ${Xi(i)}`),p(C),Object.keys(C).length===0},w=(C,E)=>{f(T=>({...T,[C]:E})),m[C]&&p(T=>({...T,[C]:void 0}))},j=C=>{b({isOpen:!0,type:"success",data:C})},N=C=>{b({isOpen:!0,type:"error",errorMessage:C})},k=()=>{b({isOpen:!1,type:"success"})},S=async C=>{var E,T;if(C.preventDefault(),c(null),!!x())try{s(!0);const _={withdrawAmount:d.withdrawAmount,bankAccountNumber:d.bankAccountNumber,bankName:d.bankName,bankOwnerName:d.bankOwnerName},A=await wT.createWithdrawal(_);j(A),xt.success("Yu cu rt tin  c gi thnh cng!")}catch(_){let A=" xy ra li. Vui lng th li.";(T=(E=_.response)==null?void 0:E.data)!=null&&T.message?A=_.response.data.message:_.message&&(A=_.message),N(A),xt.error(A)}finally{s(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(g0e,{isOpen:g.isOpen,onClose:k,type:g.type,data:g.data,errorMessage:g.errorMessage}),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[n.jsx(es,{title:"Rt tin",description:"Gi yu cu rt tin t thu nhp ca bn",icon:$n,gradientFrom:"from-blue-600",gradientVia:"via-indigo-600",gradientTo:"to-indigo-600"}),n.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8",children:[n.jsxs(H,{variant:"ghost",onClick:()=>e(se.PAYMENTS),className:"mb-6 hover:bg-white/50",children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li"]}),n.jsxs("div",{className:"grid gap-6",children:[n.jsxs(ye,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white border-0",children:[n.jsx(Je,{children:n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx($n,{className:"w-6 h-6"}),"S d kh dng"]})}),n.jsx(De,{children:r?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(et,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"ang ti..."})]}):n.jsx("div",{className:"text-4xl font-bold",children:Xi(i)})})]}),u&&n.jsxs(Mr,{variant:"destructive",children:[n.jsx(at,{className:"h-4 w-4"}),n.jsx(Lr,{children:u})]}),l&&n.jsxs(Mr,{variant:"destructive",children:[n.jsx(at,{className:"h-4 w-4"}),n.jsx(Lr,{children:l})]}),n.jsxs(ye,{children:[n.jsxs(Je,{children:[n.jsxs(yt,{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"w-5 h-5"}),"Thng tin rt tin"]}),n.jsx(xg,{children:"Vui lng in y  thng tin ti khon ngn hng"})]}),n.jsx(De,{children:n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"bankName",children:["Tn ngn hng ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"bankName",placeholder:"VD: Vietcombank, Techcombank, MB Bank...",value:d.bankName,onChange:C=>w("bankName",C.target.value),className:m.bankName?"border-red-500":""}),m.bankName&&n.jsx("p",{className:"text-sm text-red-500",children:m.bankName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"bankAccountNumber",children:["S ti khon ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"bankAccountNumber",placeholder:"Nhp s ti khon ngn hng",value:d.bankAccountNumber,onChange:C=>w("bankAccountNumber",C.target.value),className:m.bankAccountNumber?"border-red-500":""}),m.bankAccountNumber&&n.jsx("p",{className:"text-sm text-red-500",children:m.bankAccountNumber})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"bankOwnerName",children:["Tn ch ti khon ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"bankOwnerName",placeholder:"Nhp tn ch ti khon",value:d.bankOwnerName,onChange:C=>w("bankOwnerName",C.target.value),className:m.bankOwnerName?"border-red-500":""}),m.bankOwnerName&&n.jsx("p",{className:"text-sm text-red-500",children:m.bankOwnerName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"withdrawAmount",children:["S tin mun rt ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{id:"withdrawAmount",type:"number",placeholder:"0",value:d.withdrawAmount||"",onChange:C=>w("withdrawAmount",parseFloat(C.target.value)||0),className:m.withdrawAmount?"border-red-500":"",min:0,max:i}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:""})]}),m.withdrawAmount&&n.jsx("p",{className:"text-sm text-red-500",children:m.withdrawAmount}),n.jsxs("p",{className:"text-sm text-gray-500",children:["S tin ti a: ",Xi(i)]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Lu :"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Yu cu rt tin s c x l trong vng 3-5 ngy lm vic"}),n.jsx("li",{children:"Vui lng kim tra k thng tin ti khon trc khi gi"}),n.jsx("li",{children:"Bn c th theo di trng thi yu cu trong trang thanh ton"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(H,{type:"button",variant:"outline",onClick:()=>e(se.PAYMENTS),className:"flex-1",children:"Hy"}),n.jsx(H,{type:"submit",disabled:t||r||i<=0||!!u,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:t?n.jsxs(n.Fragment,{children:[n.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"ang x l..."]}):n.jsxs(n.Fragment,{children:[n.jsx($n,{className:"w-4 h-4 mr-2"}),"Gi yu cu rt tin"]})})]})]})})]})]})]})]})]})}const y0e={getMyWithdrawals:async()=>{var t,s;const e=$p();if(!e)throw new Error("Khng tm thy thng tin tutor. Vui lng ng nhp li.");try{const r=await ee.get("/tutor/withdraw/history",{params:{tutorId:e}});return Array.isArray((t=r==null?void 0:r.data)==null?void 0:t.result)?r.data.result:Array.isArray(r==null?void 0:r.data)?r.data:[]}catch(r){if(r.response){const a=(s=r.response.data)==null?void 0:s.message;throw new Error(a||"Khng th ti lch s rt tin")}throw new Error("Khng th kt ni n server")}}},Xf=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),v0e=e=>e?new Date(e).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",b0e=e=>{const s={PENDING:{color:"bg-yellow-100 text-yellow-800 border-yellow-300",label:"Ch duyt",icon:st},APPROVED:{color:"bg-blue-100 text-blue-800 border-blue-300",label:" duyt",icon:kt},COMPLETED:{color:"bg-green-100 text-green-800 border-green-300",label:"Hon thnh",icon:kt},REJECTED:{color:"bg-red-100 text-red-800 border-red-300",label:"T chi",icon:Lt}}[e],r=s.icon;return n.jsxs(Pe,{className:`${s.color} border flex items-center gap-1 w-fit`,children:[n.jsx(r,{className:"w-3 h-3"}),s.label]})};function w0e(){const e=Qe(),[t,s]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(null);y.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0),o(null);const h=await y0e.getMyWithdrawals();s(h)}catch(h){o(h.message)}finally{a(!1)}},c={total:t.length,pending:t.filter(h=>h.status==="PENDING").length,approved:t.filter(h=>h.status==="APPROVED").length,completed:t.filter(h=>h.status==="COMPLETED").length,rejected:t.filter(h=>h.status==="REJECTED").length,totalWithdrawn:t.filter(h=>h.status==="COMPLETED").reduce((h,d)=>h+d.withdrawAmount,0)},u=[{label:"Tng yu cu",value:c.total},{label:"Ch duyt",value:c.pending},{label:" duyt",value:c.approved},{label:"Hon thnh",value:c.completed},{label:"T chi",value:c.rejected},{label:" rt",value:Xf(c.totalWithdrawn)}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white shadow-md",children:n.jsx(es,{title:"Lch s rt tin",description:"Theo di cc yu cu rt tin ca bn",icon:R5,gradientFrom:"from-teal-600",gradientVia:"via-cyan-600",gradientTo:"to-blue-600",statistics:u,actionButtons:n.jsxs(H,{variant:"ghost",onClick:()=>e(se.PAYMENTS),className:"text-white hover:bg-white/20",children:[n.jsx(os,{className:"w-4 h-4 mr-2"}),"Quay li"]})})}),n.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:[i&&n.jsxs(Mr,{variant:"destructive",className:"mb-4",children:[n.jsx(at,{className:"h-4 w-4"}),n.jsxs(Lr,{className:"flex items-center justify-between",children:[n.jsx("span",{children:i}),n.jsx(H,{variant:"outline",size:"sm",onClick:l,className:"ml-4",children:"Th li"})]})]}),r?n.jsx("div",{className:"flex justify-center items-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(et,{className:"w-10 h-10 animate-spin text-gray-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"ang ti lch s..."})]})}):t.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Zt,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cha c lch s"}),n.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Bn cha c yu cu rt tin no"}),n.jsx(H,{onClick:()=>e(se.WITHDRAWAL),className:"bg-blue-600 hover:bg-blue-700",children:"To yu cu rt tin"})]}):n.jsx(ye,{children:n.jsx(De,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Ls,{children:n.jsxs(Mt,{children:[n.jsx(Ae,{className:"w-[120px]",children:"Withdraw ID"}),n.jsx(Ae,{className:"text-right",children:"S tin yu cu"}),n.jsx(Ae,{className:"text-right",children:"Hoa hng"}),n.jsx(Ae,{className:"text-right",children:"S tin nhn"}),n.jsx(Ae,{children:"Thng tin ngn hng"}),n.jsx(Ae,{children:"Trng thi"}),n.jsx(Ae,{children:"Ngy to"})]})}),n.jsx(Fs,{children:t.map(h=>n.jsxs(Mt,{children:[n.jsxs(Ee,{className:"font-mono text-xs",children:["#",h.withdrawId]}),n.jsx(Ee,{className:"text-right font-semibold",children:Xf(h.withdrawAmount)}),n.jsxs(Ee,{className:"text-right text-red-600 font-medium",children:["-",Xf(h.commission)]}),n.jsx(Ee,{className:"text-right font-bold text-green-600",children:Xf(h.totalAmount)}),n.jsx(Ee,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-semibold text-sm",children:h.bankName}),n.jsx("div",{className:"text-xs text-gray-600 font-mono",children:h.bankAccountNumber}),n.jsx("div",{className:"text-xs text-gray-500",children:h.bankOwnerName})]})}),n.jsx(Ee,{children:b0e(h.status)}),n.jsx(Ee,{className:"text-sm text-gray-600",children:v0e(h.createdAt)})]},h.withdrawId))})]})})})})]})]})}const j0e=e=>{if(console.error("[BookedSlots API Error]:",e),e instanceof Iw){const t=e;if(!t.response)throw new Error("Khng th kt ni n my ch. Vui lng kim tra kt ni mng.");const s=t.response.status,r=t.response.data;switch(s){case 401:throw new Error("Phin ng nhp  ht hn. Vui lng ng nhp li.");case 403:throw new Error("Bn khng c quyn xem thng tin ny.");case 404:throw new Error("Khng tm thy d liu.");case 500:throw new Error("Li my ch ni b. Vui lng th li sau.");default:throw new Error((r==null?void 0:r.message)||`C li xy ra (${s}). Vui lng th li.`)}}throw new Error("C li khng xc nh xy ra. Vui lng th li.")},N0e={getMySlots:async()=>{try{const e=await ee.get("/booking-slots/my-slots");if(e.data.code===1e3)return e.data.result;throw new Error(e.data.message||"Li khi ti d liu")}catch(e){return j0e(e)}}},k0e=({currentWeek:e,dateRange:t,isCurrentWeek:s,onWeekChange:r})=>n.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-white border-b border-gray-200",children:[n.jsxs(H,{onClick:()=>r("prev"),variant:"outline",size:"sm",className:"h-8 px-3 text-xs",children:[n.jsx(qn,{className:"h-4 w-4 mr-1"}),"Tun trc"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:t}),s&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:"Tun ny"})]}),n.jsxs(H,{onClick:()=>r("next"),variant:"outline",size:"sm",className:"h-8 px-3 text-xs",children:["Tun sau",n.jsx(Wt,{className:"h-4 w-4 ml-1"})]})]}),S0e=e=>{switch(e){case"Available":return"border-gray-300 bg-gray-50";case"Booked":return"border-blue-600 bg-blue-50";case"Completed":return"border-green-600 bg-green-50";case"Cancelled":return"border-red-600 bg-red-50";default:return"border-gray-300 bg-gray-50"}},C0e=e=>{switch(e){case"Available":return"bg-gray-100 text-gray-700";case"Booked":return"bg-blue-100 text-blue-700";case"Completed":return"bg-green-100 text-green-700";case"Cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},jT=e=>new Date(e).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",hour12:!1}),x3=y.memo(({slot:e,onClick:t})=>{const s=S0e(e.status),r=C0e(e.status),a=jT(e.start_time),i=jT(e.end_time);return n.jsxs("div",{className:`border-2 rounded-lg p-2 transition-all duration-200 hover:shadow-sm ${s} ${t?"cursor-pointer hover:shadow-md":""}`,onClick:t,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Pt,{className:"w-3 h-3 text-gray-600"}),n.jsx("span",{className:"font-semibold text-sm text-gray-900",children:e.learner_name})]}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${r}`,children:e.status})]}),n.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[n.jsx(st,{className:"w-3 h-3 text-gray-600"}),n.jsxs("span",{className:"text-xs text-gray-700",children:[a," - ",i]})]}),e.meeting_url&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(dh,{className:"w-3 h-3 text-blue-600"}),n.jsx("a",{href:e.meeting_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline truncate",onClick:o=>o.stopPropagation(),children:"Join Meeting"})]})]})});x3.displayName="BookedSlotCard";const T0e=e=>["Ch nht","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][e],E0e=e=>{const t=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear();return`${t}/${s}/${r}`},_0e=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},A0e=(e,t)=>{const s=[];for(let r=0;r<7;r++){const a=new Date(t);a.setDate(t.getDate()+r);const i=a.getDay(),o=T0e(i),l=`${o}, ${E0e(a)}`,c=e.filter(u=>{const h=new Date(u.start_time);return h.getDate()===a.getDate()&&h.getMonth()===a.getMonth()&&h.getFullYear()===a.getFullYear()});c.sort((u,h)=>new Date(u.start_time).getTime()-new Date(h.start_time).getTime()),s.push({date:a,dayName:o,dayLabel:l,isToday:_0e(a),slots:c})}return s},y3=y.memo(({bookedSlots:e,weekStart:t,onSlotClick:s})=>{const r=y.useMemo(()=>A0e(e,t),[e,t]);return r.some(i=>i.slots.length>0)?n.jsx("div",{className:"space-y-3 overflow-y-auto max-h-[calc(100vh-200px)]",children:r.map(i=>i.slots.length===0?null:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:`sticky top-0 z-10 py-2 px-3 rounded-lg ${i.isToday?"bg-blue-100 border-l-4 border-blue-500":"bg-gray-100"}`,children:[n.jsxs("h3",{className:`text-sm font-semibold ${i.isToday?"text-blue-900":"text-gray-900"}`,children:[i.dayLabel,i.isToday&&n.jsx("span",{className:"ml-2 text-xs font-normal text-blue-700",children:"(Hm nay)"})]}),n.jsxs("p",{className:"text-xs text-gray-600 mt-0.5",children:[i.slots.length," slot",i.slots.length>1?"s":""]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-2 px-1",children:i.slots.map(o=>n.jsx(x3,{slot:o,onClick:s?()=>s(o):void 0},o.slotid))})]},i.date.toISOString()))}):n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center text-gray-400",children:[n.jsx(ft,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm font-medium",children:"Cha c slot no c t trong tun ny"}),n.jsx("p",{className:"text-xs mt-1",children:"Cc slot  t s hin th  y"})]})})});y3.displayName="BookedSlotsList";const Up=e=>{const t=new Date(e),s=t.getDay(),r=t.getDate()-s;return new Date(t.setDate(r))},v3=e=>{const t=Up(e),s=new Date(t);return s.setDate(t.getDate()+6),s},NT=e=>{const t=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear();return`${t}/${s}/${r}`},D0e=e=>{const t=v3(e);return`${NT(e)} - ${NT(t)}`},R0e=e=>{const t=new Date,s=Up(e),r=Up(t);return s.getDate()===r.getDate()&&s.getMonth()===r.getMonth()&&s.getFullYear()===r.getFullYear()},O0e=(e,t)=>{const s=v3(t);return e.filter(r=>{const a=new Date(r.start_time);return a>=t&&a<=s})},P0e=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(new Date),[a,i]=y.useState(!1),[o,l]=y.useState(null),c=y.useCallback(async()=>{try{i(!0),l(null);const g=await N0e.getMySlots();t(g)}catch(g){const b=g instanceof Error?g.message:"C li xy ra khi ti d liu.";l(b),xt.error(b)}finally{i(!1)}},[]);y.useEffect(()=>{c()},[c]);const u=y.useCallback(g=>{r(b=>{const v=new Date(b),x=g==="next"?7:-7;return v.setDate(b.getDate()+x),v})},[]),h=y.useCallback(()=>{c()},[c]),d=Up(s),f=D0e(d),m=R0e(s),p=O0e(e,d);return a&&e.length===0?n.jsx("div",{className:"p-4 h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"ang ti d liu..."})]})}):o&&e.length===0?n.jsx("div",{className:"p-4 h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(at,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"C li xy ra"}),n.jsx("p",{className:"text-gray-600 mb-4",children:o}),n.jsxs(H,{onClick:h,className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(oo,{className:"w-4 h-4 mr-2"}),"Th li"]})]})}):n.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(es,{title:"Lch  t",description:"Qun l cc bui hc  c t",icon:ft,gradientFrom:"from-blue-600",gradientVia:"via-purple-600",gradientTo:"to-purple-600"})}),n.jsxs(ye,{className:"flex-1 flex flex-col overflow-hidden m-4",children:[n.jsx(Je,{className:"pb-2 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(yt,{className:"text-sm font-semibold",children:"Lch  t"}),n.jsxs(H,{onClick:c,disabled:a,variant:"outline",size:"sm",className:"h-8 px-3 text-xs",children:[n.jsx(oo,{className:`w-4 h-4 mr-1 ${a?"animate-spin":""}`}),"Lm mi"]})]})}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx(k0e,{currentWeek:s,dateRange:f,isCurrentWeek:m,onWeekChange:u})}),n.jsx(De,{className:"flex-1 overflow-hidden p-4",children:n.jsx(y3,{bookedSlots:p,weekStart:d})})]})]})},I0e=({selectedConversation:e,onSelectConversation:t})=>{const[s,r]=y.useState(""),[a,i]=y.useState([]),[o,l]=y.useState(null),[c,u]=y.useState(!0);if(y.useEffect(()=>{ee.get("/users/myInfo").then(m=>l(m.data.result)).catch(()=>{})},[]),y.useEffect(()=>{const m=async()=>{var g;try{const w=(((g=(await ee.get("/chat/rooms")).data)==null?void 0:g.result)||[]).map(j=>({...j,messages:[...j.messages].sort((N,k)=>new Date(N.createdAt).getTime()-new Date(k.createdAt).getTime())})).sort((j,N)=>{const k=j.messages[j.messages.length-1],S=N.messages[N.messages.length-1];return!k&&!S?0:k?S?new Date(S.createdAt).getTime()-new Date(k.createdAt).getTime():-1:1});i(w)}catch(b){console.error("Error loading chat rooms:",b)}finally{u(!1)}};m();const p=setInterval(m,800);return()=>clearInterval(p)},[]),!o)return n.jsx("div",{className:"p-4 text-center text-gray-500 border-r h-full",children:"ang ti..."});const h=m=>o.userID===m.userID?{name:m.tutorName,avatar:m.tutorAvatarURL}:o.userID===m.tutorID?{name:m.userName,avatar:m.userAvatarURL}:{name:m.userName,avatar:m.userAvatarURL},d=a.filter(m=>{const{name:p}=h(m);return p==null?void 0:p.toLowerCase().includes(s.toLowerCase())}),f=m=>{let p=m.content,g=m.messageType;try{const b=JSON.parse(p);typeof b=="object"&&b!==null&&(typeof b.content=="string"&&(p=b.content),typeof b.messageType=="string"&&(g=b.messageType))}catch{}return g==="Image"||m.messageType==="Image"?" Hnh nh":g==="File"||m.messageType==="File"?" File":p.startsWith("data:image/")?" Hnh nh":p.startsWith("data:application/")||p.startsWith("data:")?" Tp":g==="Link"||m.messageType==="Link"?p.includes("meet.google.com")?" Google Meet":" Lin kt":p.length>50?p.substring(0,50)+"...":p};return n.jsxs("div",{className:"border-r border-gray-200 flex flex-col h-full max-h-full bg-[#F0F9FF] overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-blue-100 bg-white/80 backdrop-blur-sm flex-shrink-0",children:[n.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-900",children:"Tin nhn"}),n.jsxs("div",{className:"relative",children:[n.jsx(ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-400 w-4 h-4"}),n.jsx(Ce,{placeholder:"Tm kim cuc tr chuyn...",value:s,onChange:m=>r(m.target.value),className:"pl-10 bg-white border-blue-200 focus:ring-blue-300"})]})]}),n.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto scrollbar-thin scrollbar-thumb-blue-300 scrollbar-track-blue-50",children:[c&&n.jsx("div",{className:"p-4 text-center text-blue-500",children:"ang ti cuc tr chuyn..."}),!c&&d.length===0&&n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Khng tm thy cuc tr chuyn."}),!c&&d.map(m=>{const{name:p,avatar:g}=h(m),b=m.messages[m.messages.length-1],v=b?f(b):"Cha c tin nhn",x=b?new Date(b.createdAt).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"",w=e===m.chatRoomID,j=m.chatRoomType==="Training";return n.jsx("div",{onClick:()=>t(m.chatRoomID),className:`p-4 border-b border-blue-100 cursor-pointer transition-all ${w?"bg-blue-100 shadow-inner":"hover:bg-blue-50 hover:shadow-sm"}`,children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",style:{minWidth:"48px",width:"48px",height:"48px"},children:n.jsxs(hi,{className:"border border-blue-300 shadow-sm",style:{width:"48px",height:"48px"},children:[n.jsx(ko,{src:g||"",alt:p,className:"object-cover"}),n.jsx(fi,{className:"bg-blue-200 text-blue-700 font-bold text-sm",children:p==null?void 0:p.split(" ").map(N=>N[0]).join("")})]})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h3",{className:"font-semibold text-sm text-blue-900 truncate",children:p}),n.jsx("span",{className:"text-xs text-blue-500",children:x})]}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:v}),j&&n.jsx("span",{className:"text-xs bg-blue-200 text-blue-700 px-2 py-1 rounded-full mt-1 inline-block",children:" t lch"})]})]})},m.chatRoomID)})]})]})};async function M0e(e){const t=new FormData;t.append("reqtype","fileupload"),t.append("fileToUpload",e);try{const r=await(await fetch("https://catbox.moe/user/api.php",{method:"POST",body:t})).text();if(r&&r.startsWith("https://"))return r.trim();throw new Error("Upload failed")}catch(s){throw console.error("Catbox upload error:",s),s}}async function L0e(e){var s;const t=new FormData;t.append("file",e);try{const a=await(await fetch("https://tmpfiles.org/api/v1/upload",{method:"POST",body:t})).json();if(a.status==="success"&&((s=a.data)!=null&&s.url))return a.data.url.replace("tmpfiles.org/","tmpfiles.org/dl/");throw new Error("Upload failed")}catch(r){throw console.error("TmpFiles upload error:",r),r}}async function F0e(e){try{return await M0e(e)}catch(t){console.warn("Catbox upload failed, trying tmpfiles...",t);try{return await L0e(e)}catch(s){throw console.error("All upload methods failed",s),new Error("Khng th ti file ln. Vui lng th li sau.")}}}function hd(e,t,s="Unknown"){let r=e.content,a=e.messageType??"Text";if(typeof r=="string")try{const i=JSON.parse(r);typeof i=="object"&&i!==null&&(typeof i.content=="string"&&(r=i.content),typeof i.messageType=="string"&&(a=i.messageType))}catch{}return{messageID:e.messageID??Date.now(),chatRoomID:e.chatRoomID??t,senderID:e.senderID??0,senderName:e.senderName??s,senderAvatarURL:e.senderAvatarURL??null,content:typeof r=="string"?r:"",messageType:a,createdAt:e.createdAt??new Date().toISOString()}}function $0e(e){return e.includes("https://meet.google.com")}const U0e=({conversationId:e})=>{const{toast:t}=jt(),[s,r]=y.useState(""),[a,i]=y.useState(null),[o,l]=y.useState(!0),[c,u]=y.useState(!1),[h,d]=y.useState(""),[f,m]=y.useState(null),[p,g]=y.useState(null),[b,v]=y.useState(!1),{user:x,loading:w}=Mw(),j=y.useRef(null),N=y.useRef(null),k=y.useRef(null);y.useEffect(()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},[a==null?void 0:a.messages]),y.useEffect(()=>{(async()=>{try{const M=(await ee.get(`/chat/room/${e}`)).data.result,$=M.messages.map(F=>hd(F,M.chatRoomID,F.senderName??"Unknown"));i({...M,messages:$})}catch(L){console.error("Failed to load chat room:",L)}finally{l(!1)}})()},[e]);const S=async()=>{if(!s.trim()||!(a!=null&&a.canSendMessage))return;let I="Text";/https?:\/\/[^\s]+/.test(s.trim())&&(I="Link");try{const M=await ee.post("/chat/message",{chatRoomID:Number(e),content:s,messageType:I}),$=hd(M.data.result,e,(x==null?void 0:x.fullName)??"Unknown");i(F=>F?{...F,messages:[...F.messages,$]}:null),r("")}catch(M){console.error("Send message failed:",M)}},C=async()=>{if(!(!h.trim()||!(a!=null&&a.canSendMessage))&&(x==null?void 0:x.role)==="Tutor")try{const I=await ee.post(`/chat/room/${e}/meeting-link`,{content:h,messageType:"Link"}),L=hd(I.data.result,e,(x==null?void 0:x.fullName)??"Unknown");i(M=>M?{...M,messages:[...M.messages,L]}:null),d(""),u(!1)}catch(I){console.error("Send Google Meet link failed:",I)}},E=(I,L)=>{var F;const M=(F=I.target.files)==null?void 0:F[0];if(!M)return;if(L==="Image"&&!M.type.startsWith("image/")){t({variant:"destructive",title:"Invalid file type",description:"Please select an image file (PNG, JPG, GIF, etc.)"}),k.current&&(k.current.value="");return}if(L==="File"&&M.type!=="application/pdf"){t({variant:"destructive",title:"Invalid file type",description:"Please select a PDF file only"}),N.current&&(N.current.value="");return}const $=L==="Image"?10*1024*1024:100*1024*1024;if(M.size>$){t({variant:"destructive",title:"File qu ln",description:L==="Image"?"Hnh nh phi nh hn 10MB":"File PDF phi nh hn 100MB"}),L==="Image"&&k.current&&(k.current.value=""),L==="File"&&N.current&&(N.current.value="");return}if(m(M),L==="Image"&&M.type.startsWith("image/")){const O=new FileReader;O.onloadend=()=>{g(O.result)},O.readAsDataURL(M)}else g(null)},T=()=>{m(null),g(null),N.current&&(N.current.value=""),k.current&&(k.current.value="")},_=async()=>{if(!f||!(a!=null&&a.canSendMessage))return;if(v(!0),(f.type.startsWith("image/")?"Image":"File")==="Image")try{const L=new FileReader;L.onloadend=async()=>{const M=L.result;try{const $=await ee.post("/chat/message",{chatRoomID:Number(e),content:M,messageType:"Image"}),F=hd($.data.result,e,(x==null?void 0:x.fullName)??"Unknown");i(O=>O?{...O,messages:[...O.messages,F]}:null),T()}catch($){console.error("Send image failed:",$),t({variant:"destructive",title:"Failed to send image",description:"Please try again later."})}finally{v(!1)}},L.readAsDataURL(f)}catch(L){console.error("Image processing failed:",L),v(!1)}else try{t({title:"ang ti ln...",description:"Vui lng i trong giy lt"});const L=await F0e(f),M=JSON.stringify({filename:f.name,url:L,size:f.size}),$=await ee.post("/chat/message",{chatRoomID:Number(e),content:M,messageType:"File"}),F=hd($.data.result,e,(x==null?void 0:x.fullName)??"Unknown");i(O=>O?{...O,messages:[...O.messages,F]}:null),t({title:"PDF  gi",description:`File "${f.name}"  c chia s`}),T()}catch(L){console.error("Send PDF failed:",L),t({variant:"destructive",title:"Khng th gi PDF",description:"Vui lng th li sau."})}finally{v(!1)}};if(o||w)return n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Loading..."});if(!a||!x)return n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Chat room not found"});let A="",D="";x.userID===a.userID?(A=a.tutorName,D=a.tutorAvatarURL||""):(x.userID,a.tutorID,A=a.userName,D=a.userAvatarURL||"");const R=a.chatRoomType==="Training",U=a.canSendMessage;return n.jsxs("div",{className:"flex flex-col h-full max-h-full overflow-hidden bg-gradient-to-b from-slate-50 via-sky-50 to-blue-50",children:[n.jsxs("div",{className:"p-4 border-b bg-white/90 backdrop-blur flex items-center justify-between shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",style:{minWidth:"48px",width:"48px",height:"48px"},children:n.jsxs(hi,{style:{width:"48px",height:"48px"},children:[n.jsx(ko,{src:D,alt:A,className:"object-cover"}),n.jsx(fi,{className:"text-sm",children:A==null?void 0:A.split(" ").map(I=>I[0]).join("")})]})}),n.jsx("div",{className:"font-semibold text-lg",children:A}),R&&n.jsx("span",{className:"ml-2 text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full",children:"Booked"})]}),R&&(x==null?void 0:x.role)==="Tutor"&&n.jsx(H,{variant:"ghost",size:"sm",onClick:()=>u(!c),className:"rounded-full hover:bg-blue-50",children:n.jsx(Za,{className:"w-5 h-5 text-blue-600"})})]}),n.jsx("div",{ref:j,className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:a.messages.map(I=>{const L=I.senderID===x.userID,M=I.messageType==="Link"&&$0e(I.content);return n.jsx("div",{className:`flex ${L?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:M?`max-w-[75%] rounded-2xl px-3 py-2 shadow-md
                    bg-emerald-500 text-white
                    ${L?"rounded-br-sm":"rounded-bl-sm"}`:`max-w-[75%] rounded-2xl px-3 py-2 shadow-md
                    ${L?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-900 rounded-bl-sm"}`,children:[M?n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-white/20",children:n.jsx(Za,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs uppercase tracking-wide opacity-80",children:"Google Meet Room"}),n.jsx("a",{href:I.content,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium underline break-all",children:I.content}),n.jsx("span",{className:"text-[10px] mt-1 opacity-80",children:"Click to join the room"})]})]}):I.messageType==="Image"?n.jsx("div",{children:n.jsx("img",{src:I.content,alt:"Shared image",className:"max-w-full rounded-lg max-h-64 object-contain"})}):I.messageType==="File"?(()=>{let $={filename:"Document.pdf",url:"",size:0};try{const F=JSON.parse(I.content);F.filename&&F.url&&($=F)}catch{I.content.startsWith("[PDF]")&&($.filename=I.content.substring(6))}return n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 p-2 rounded",children:[n.jsx(Zt,{className:"w-5 h-5"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:$.filename}),$.size>0&&n.jsxs("span",{className:"text-xs opacity-70",children:[($.size/1024).toFixed(2)," KB"]})]})]}),$.url?n.jsxs("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-1 underline text-sm ${L?"text-blue-100 hover:text-white":"text-blue-600 hover:text-blue-800"}`,children:[n.jsx(Qz,{className:"w-3 h-3"}),"Ti xung PDF"]}):n.jsx("div",{className:`text-xs ${L?"text-blue-100":"text-gray-500"}`,children:" File  c chia s"})]})})():I.messageType==="Link"?n.jsx("a",{href:I.content,target:"_blank",rel:"noopener noreferrer",className:`underline break-all ${L?"text-blue-100":"text-blue-600"}`,children:I.content}):n.jsx("p",{className:"whitespace-pre-wrap break-words text-sm",children:I.content}),n.jsx("p",{className:`text-[10px] mt-1 text-right ${L?"text-blue-100/80":M?"text-emerald-50/80":"text-gray-400"}`,children:new Date(I.createdAt).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})})]})},I.messageID)})}),n.jsxs("div",{className:"p-4 bg-white/90 border-t backdrop-blur",children:[!R&&n.jsx("div",{className:"mb-3 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-800",children:(x==null?void 0:x.role)==="Tutor"?n.jsx("span",{children:"Hc vin ny cha t bui hc. y l cuc tr chuyn t vn."}):n.jsx("span",{children:"t bui hc vi gia s  m kha tnh nng chia s hnh nh v Google Meet."})}),c&&R&&n.jsxs("div",{className:"mb-3 rounded-xl border border-blue-100 bg-blue-50/60 p-3",children:[n.jsxs("div",{className:"flex items-center mb-2 space-x-2",children:[n.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-600 text-white",children:n.jsx(Za,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Send Google Meet Room"}),n.jsx("span",{className:"text-xs text-blue-500",children:"Paste your Google Meet link below"})]})]}),n.jsx(It,{placeholder:"Example: https://meet.google.com/xxx-xxxx-xxx",value:h,onChange:I=>d(I.target.value),className:"resize-none border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"}),n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx(H,{onClick:C,disabled:!h.trim(),className:"bg-blue-600 hover:bg-blue-700 rounded-lg text-white px-4",children:"Send Google Meet Link"})})]}),f&&n.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-semibold text-blue-900",children:f.type==="application/pdf"?"PDF File Selected:":"Selected File:"}),n.jsx("button",{onClick:T,className:"text-red-500 hover:text-red-700",children:n.jsx(Ml,{className:"w-4 h-4"})})]}),p?n.jsx("img",{src:p,alt:"Preview",className:"max-h-32 rounded-lg"}):n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 bg-white p-2 rounded",children:[f.type==="application/pdf"?n.jsx(Zt,{className:"w-5 h-5 text-red-600"}):n.jsx(oq,{className:"w-5 h-5"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:f.name}),n.jsxs("span",{className:"text-xs text-gray-500",children:[(f.size/1024).toFixed(2)," KB"]})]})]}),n.jsx(H,{onClick:_,disabled:b,className:"w-full mt-2 bg-blue-600 hover:bg-blue-700 text-white",children:b?"ang ti ln...":f.type==="application/pdf"?"Gi PDF":"Gi File"})]}),n.jsxs("div",{className:"flex items-end space-x-2",children:[R&&n.jsxs(n.Fragment,{children:[n.jsx("input",{ref:k,type:"file",accept:"image/*",className:"hidden",onChange:I=>E(I,"Image")}),n.jsx("input",{ref:N,type:"file",accept:"application/pdf",className:"hidden",onChange:I=>E(I,"File")}),n.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{var I;return(I=k.current)==null?void 0:I.click()},disabled:!U||!!f,className:"rounded-full hover:bg-blue-50",title:"Upload Image",children:n.jsx(nq,{className:"w-5 h-5 text-blue-600"})}),n.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{var I;return(I=N.current)==null?void 0:I.click()},disabled:!U||!!f,className:"rounded-full hover:bg-blue-50",title:"Upload PDF",children:n.jsx(Zt,{className:"w-5 h-5 text-red-600"})})]}),n.jsx(It,{placeholder:"Type your message...",value:s,onChange:I=>r(I.target.value),onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),S())},className:"flex-1 min-h-[44px] max-h-32 resize-none rounded-xl shadow-sm border border-slate-200 p-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:1,disabled:!U||!!f}),n.jsx(H,{onClick:S,disabled:!s.trim()||!U||!!f,className:"bg-blue-600 hover:bg-blue-700 rounded-full text-white px-4 h-[44px] flex items-center justify-center",children:n.jsx(dq,{className:"w-5 h-5"})})]})]})]})},kT=()=>{const{conversationId:e}=wr(),t=Qe(),s=e?Number(e):null,[r,a]=y.useState(s);y.useEffect(()=>{e&&a(Number(e))},[e]);const i=o=>{a(o),t(`/messages/${o}`)};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",style:{height:"calc(100vh - 8rem)"},children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 h-full",children:[n.jsx(I0e,{selectedConversation:r,onSelectConversation:i}),n.jsx("div",{className:"md:col-span-2 min-h-0 flex flex-col",children:r?n.jsx(U0e,{conversationId:r}):n.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("p",{className:"text-xl",children:"Chn mt cuc tr chuyn  bt u nhn tin"})]})})})]})})})})},V0e={T2:"Mon",T3:"Tue",T4:"Wed",T5:"Thu",T6:"Fri",T7:"Sat",CN:"Sun"},B0e=({tutor:e})=>{const[t,s]=y.useState([]);return y.useEffect(()=>{(async()=>{var a;try{const l=(((a=(await ee.get(`/tutor/${e.tutorId}/booking-plan`)).data)==null?void 0:a.plans)||[]).filter(c=>c.is_active&&c.is_open).map(c=>({day:V0e[c.title]||c.title,start:c.start_hours,end:c.end_hours})).sort((c,u)=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].indexOf(c.day)-["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].indexOf(u.day));s(l)}catch(i){console.log("Schedule load error:",i)}})()},[e.tutorId]),n.jsx("div",{className:"bg-white rounded-xl shadow p-6 mb-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"col-span-2 flex items-start gap-4",children:[n.jsx("img",{src:e.avatarUrl||"https://placehold.co/200x200?text=No+Image",alt:e.name,className:"w-32 h-32 flex-shrink-0 rounded-full object-cover border-4 border-white shadow-lg",onError:r=>{r.currentTarget.src="https://placehold.co/200x200?text=No+Image"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl font-bold",children:e.name}),e.language||e.teachingLanguage?n.jsxs("p",{className:"mt-1 text-gray-600",children:[" Ngn ng ging dy: ",n.jsx("b",{children:e.language||e.teachingLanguage})]}):null,n.jsxs("div",{className:"mt-2 text-gray-700 space-y-1 text-sm",children:[e.country&&n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Au,{className:"w-4 h-4 text-blue-500"}),e.country]}),e.phone&&n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Il,{className:"w-4 h-4 text-green-500"}),e.phone]}),typeof e.rating=="number"&&n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(un,{className:"w-4 h-4 text-yellow-500"}),"nh gi: ",e.rating.toFixed(1),"/5.0"]}),e.pricePerHour&&e.pricePerHour>0&&n.jsxs("p",{children:[" Gi/slot:"," ",n.jsxs("span",{className:"font-semibold",children:[e.pricePerHour.toLocaleString()," VND"]}),n.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(1 slot = 1 gi)"})]})]}),e.bio&&n.jsx("p",{className:"text-gray-700 mt-3 leading-relaxed",children:e.bio})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 shadow-sm",children:[n.jsxs("h3",{className:"font-semibold text-blue-900 text-lg mb-3 flex items-center gap-2",children:[n.jsx(Ss,{className:"w-5 h-5 text-blue-600"}),"Tm tt gia s"]}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[e.specialization&&n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(tt,{className:"w-4 h-4 text-purple-600"}),n.jsx("b",{children:"Chuyn mn:"})," ",e.specialization]}),e.experience&&n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(Ss,{className:"w-4 h-4 text-orange-500"}),n.jsx("b",{children:"Kinh nghim:"})," ",e.experience," nm"]}),typeof e.studentsCount=="number"&&n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(en,{className:"w-4 h-4 text-green-700"}),n.jsx("b",{children:"Hc vin  dy:"})," ",e.studentsCount]}),typeof e.lessonsCount=="number"&&n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(tt,{className:"w-4 h-4 text-blue-600"}),n.jsx("b",{children:"Bi hc  hon thnh:"})," ",e.lessonsCount]}),n.jsxs("div",{className:"pt-2 border-t border-blue-200",children:[n.jsxs("p",{className:"flex items-center gap-2 text-blue-900 font-semibold mb-1",children:[n.jsx(st,{className:"w-4 h-4 text-blue-700"}),"Lch hng tun"]}),n.jsxs("div",{className:"text-sm space-y-1",children:[t.length===0&&n.jsx("p",{className:"text-gray-500 italic",children:"Khng c lch"}),t.map((r,a)=>n.jsxs("p",{className:"flex justify-between text-gray-700 px-1",children:[n.jsx("span",{className:"font-medium w-10",children:r.day}),n.jsxs("span",{children:[r.start,"  ",r.end]})]},a))]})]})]})]})]})})},Jl=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,Z0=e=>{const[t,s]=e.split(":").map(Number);return t*60+s},z0e=e=>{const t=e.getDay(),s=e.getDate()-(t===0?6:t-1);return new Date(e.getFullYear(),e.getMonth(),s)},q0e=e=>e.toLocaleString("vi-VN")+" ",H0e=({tutorId:e,selectedSlots:t,onSlotsChange:s,packages:r,selectedPackage:a,onSelectPackage:i})=>{var W;const o=r.filter(P=>P.active===!0),l=3,c=Math.max(1,Math.ceil(o.length/l)),[u,h]=y.useState(0),d=o.slice(u*l,u*l+l),m=z0e(new Date),p=new Date(m);p.setDate(p.getDate()+21);const[g,b]=y.useState(m),v=g.getTime()!==m.getTime(),x=g.getTime()!==p.getTime(),w=["Th 2","Th 3","Th 4","Th 5","Th 6","Th 7","CN"],j=Array.from({length:24}).map((P,V)=>`${String(V).padStart(2,"0")}:00`),N=Array.from({length:7}).map((P,V)=>{const Y=g;return new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()+V)}),[k,S]=y.useState({}),[C,E]=y.useState(null),[T,_]=y.useState({}),[A,D]=y.useState({}),[R,U]=y.useState({}),[I,L]=y.useState(null),[M,$]=y.useState(!1),[F,O]=y.useState(null);y.useEffect(()=>{let P=!0;return(async()=>{var V,Y;try{const J=await ee.get("/users/myInfo");if(!P)return;E(((Y=(V=J==null?void 0:J.data)==null?void 0:V.result)==null?void 0:Y.userID)??null)}catch(J){console.error("Error fetching user info:",J)}})(),()=>{P=!1}},[]),y.useEffect(()=>{if(!C)return;let P=!0,V;const Y=async()=>{var J;try{const te=await ee.get("/booking-slots/my-slots"),ie=((J=te==null?void 0:te.data)==null?void 0:J.result)||[],de=await ee.get(`/booking-slots/public/tutors/${e}/slots/paid`),G=(de==null?void 0:de.data)||[],X={},le={},Ne={};if(ie.forEach(Re=>{const oe=Re.start_time.substring(0,10),ae=Re.start_time.substring(11,13),K=`${oe}T${ae}:00_plan_${Re.booking_planid}`;Re.status==="Locked"?Ne[K]=!0:Re.status==="Paid"&&(X[K]=!0)}),G.forEach(Re=>{const oe=Re.start_time.substring(0,10),ae=Re.start_time.substring(11,13),K=`${oe}T${ae}:00_plan_${Re.booking_planid}`;Re.user_id!==C&&(le[K]=!0)}),!P)return;_(X),D(le),U(Ne),O(new Date)}catch(te){console.error("Error fetching booked slots:",te)}};return Y(),V=setInterval(Y,1e4),()=>{P=!1,V&&clearInterval(V)}},[C,e]),y.useEffect(()=>{let P=!0;return(async()=>{var Y;const V={};N.forEach(J=>V[Jl(J)]=[]);try{const J=await ee.get(`/tutor/${e}/booking-plan`),te=((Y=J==null?void 0:J.data)==null?void 0:Y.plans)||[],ie={T2:0,T3:1,T4:2,T5:3,T6:4,T7:5,CN:6};te.forEach(de=>{if(!de.is_open||!de.is_active)return;const G=ie[de.title];if(G===void 0)return;const X=Jl(N[G]);de.date=X,V[X].push(de)})}catch(J){console.error("Error fetching booking plans:",J)}P&&S(V)})(),()=>{P=!1}},[g,e]);const q=!!a&&t.length>=a.maxSlot,B=(P,V)=>{const Y=Z0(V),J=Z0(P.start_hours),te=Z0(P.end_hours);if(!(Y>=J&&Y+60<=te))return null;const ie=`${P.date}T${V}_plan_${P.booking_planid}`;return R[ie]?"Locked":T[ie]?"Your Slot":A[ie]?"Booked":t.some(G=>G.bookingPlanId===P.booking_planid&&G.time===V&&G.date===P.date)?"Selected":q?"Booked":"Available"},z=P=>{L(P),$(!0)};return n.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-xl shadow-md border border-blue-100",children:[n.jsxs("h2",{className:"text-xl font-bold mb-5 flex items-center gap-2 text-blue-900",children:[n.jsx(io,{className:"w-5 h-5 text-blue-600"})," Chn gi hc"]}),o.length===0?n.jsx("p",{className:"text-gray-500 italic",children:"Khng c gi hc kh dng"}):n.jsxs("div",{className:"relative w-full",children:[n.jsx("button",{disabled:u===0,onClick:()=>h(P=>Math.max(0,P-1)),className:"absolute -left-6 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white shadow hover:bg-gray-100 disabled:opacity-40",children:n.jsx(qn,{})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-stretch",children:d.map(P=>{const V=(a==null?void 0:a.packageId)===P.packageId;return n.jsxs("div",{className:`p-6 rounded-2xl border shadow-md transition flex flex-col h-full ${V?"border-blue-600 bg-blue-100":"border-gray-200 bg-white hover:bg-blue-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hk,{className:"w-4 h-4 text-yellow-500"}),n.jsx("h3",{className:"font-bold line-clamp-1",children:P.name})]}),n.jsx(H,{className:"bg-blue-600 text-white hover:bg-blue-700",size:"sm",onClick:()=>z(P),children:"Chi tit"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-4 line-clamp-2 min-h-[40px] overflow-hidden",children:P.requirement||"Khng c yu cu"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-700 flex-1",children:[n.jsxs("p",{className:"line-clamp-2 overflow-hidden",children:[n.jsx("b",{children:"Mc tiu:"})," ",P.objectives||"Cha c mc tiu"]}),n.jsxs("p",{children:[n.jsx("b",{children:"S bui ti a:"})," ",P.maxSlot]})]}),n.jsx(H,{className:"w-full mt-4",onClick:()=>i(V?null:P),children:V?"B chn":"Chn"})]},P.packageId)})}),n.jsx("button",{disabled:u>=c-1,onClick:()=>h(P=>Math.min(c-1,P+1)),className:"absolute -right-6 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white shadow hover:bg-gray-100 disabled:opacity-40",children:n.jsx(Wt,{})})]}),n.jsxs("div",{className:"flex justify-between items-center my-8 px-1",children:[n.jsxs(H,{variant:"outline",disabled:!v,onClick:()=>{const P=new Date(g);P.setDate(P.getDate()-7),b(P)},children:[n.jsx(qn,{})," Trc"]}),n.jsxs("div",{className:"text-lg font-semibold text-blue-900",children:["Tun ",Jl(g)]}),n.jsxs(H,{variant:"outline",disabled:!x,onClick:()=>{const P=new Date(g);P.setDate(P.getDate()+7),b(P)},children:["Sau ",n.jsx(Wt,{})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-blue-900",children:[n.jsx(ft,{className:"text-blue-600"})," Chn bui hc"]}),F&&n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Cp nht ",F.toLocaleTimeString()]})]}),n.jsx("div",{className:"relative overflow-auto rounded-lg border border-blue-200 bg-white shadow max-h-[600px]",children:n.jsxs("table",{className:"w-full border-collapse relative",children:[n.jsx("thead",{className:"sticky top-0 z-30",children:n.jsxs("tr",{className:"bg-blue-100 text-blue-900",children:[n.jsx("th",{className:"border p-2 sticky left-0 bg-blue-100 z-40 min-w-[70px]",children:"Gi"}),N.map((P,V)=>{const Y=Jl(P),J=(k[Y]||[]).length>0,te=new Date,ie=new Date(te.getFullYear(),te.getMonth(),te.getDate()),G=new Date(P.getFullYear(),P.getMonth(),P.getDate())<ie,X=J&&!G;return n.jsxs("th",{className:`border p-2 text-center min-w-[100px] ${X?"bg-yellow-100 border-yellow-400":"bg-blue-100"}`,children:[n.jsx("div",{className:"font-semibold",children:w[V]}),n.jsx("div",{className:"text-xs",children:Jl(P)}),X&&n.jsx("div",{className:"text-[10px] text-yellow-700 font-bold mt-1",children:" C lch"})]},V)})]})}),n.jsx("tbody",{children:j.map(P=>n.jsxs("tr",{children:[n.jsx("td",{className:"border p-1 bg-blue-50 font-medium text-xs sticky left-0 z-20 whitespace-nowrap",children:P}),N.map((V,Y)=>{const J=Jl(V),te=k[J]||[],ie=new Date,de=new Date(ie.getFullYear(),ie.getMonth(),ie.getDate()),G=new Date(V.getFullYear(),V.getMonth(),V.getDate()),[X,le]=P.split(":").map(Number),Ne=ie.getHours()*60+ie.getMinutes(),Re=X*60+le;return G<de||G.getTime()===de.getTime()&&Re<Ne?n.jsx("td",{className:"border p-1 text-center text-gray-300 bg-gray-50",children:""},Y):te.length===0?n.jsx("td",{className:"border p-1 text-center text-gray-300",children:""},Y):n.jsx("td",{className:"border p-1 text-center bg-yellow-50",children:te.map(oe=>{const ae=B(oe,P);if(!ae)return null;const K={Available:"bg-green-500/20 text-green-900 border-green-400 hover:bg-green-500/30",Selected:"bg-blue-500/30 text-blue-900 border-blue-500",Booked:"bg-red-400/20 text-red-700 border-red-300 cursor-not-allowed","Your Slot":"bg-yellow-500/30 text-yellow-900 border-yellow-500 cursor-not-allowed",Locked:"bg-orange-400/20 text-orange-700 border-orange-300 cursor-not-allowed"};return n.jsx("button",{disabled:ae==="Booked"||ae==="Your Slot"||ae==="Locked",onClick:()=>{ae==="Booked"||ae==="Your Slot"||ae==="Locked"||s(Z=>ae==="Selected"?Z.filter(Q=>!(Q.bookingPlanId===oe.booking_planid&&Q.time===P&&Q.date===oe.date)):q?Z:[...Z,{date:oe.date,time:P,day:w[Y],bookingPlanId:oe.booking_planid}])},className:`w-full h-8 rounded text-[10px] border transition ${K[ae]}`,title:`${P} - ${ae}`,children:ae==="Available"||ae==="Selected"?"":ae.substring(0,1)},oe.booking_planid)})},Y)})]},P))})]})}),a&&n.jsxs("div",{className:"mt-6 p-4 bg-blue-100 border border-blue-300 rounded-xl text-sm text-blue-900 shadow-sm",children:[n.jsx("b",{children:a.name}),"   chn"," ",n.jsx("b",{children:t.length}),"/",n.jsx("b",{children:a.maxSlot})," bui"]}),n.jsx(ht,{open:M,onOpenChange:$,children:n.jsxs(lt,{className:"sm:max-w-[600px] bg-white rounded-xl shadow-lg border border-blue-200 p-6",children:[n.jsxs(ct,{className:"relative",children:[n.jsxs(ut,{className:"text-2xl font-bold text-blue-900 flex items-center gap-2",children:[n.jsx(Hk,{className:"w-5 h-5 text-yellow-500"}),I==null?void 0:I.name]}),n.jsx(pX,{className:"absolute right-0 top-0 text-gray-500 hover:text-gray-700"})]}),n.jsxs("div",{className:"mt-4 space-y-4 text-gray-700",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("b",{children:"M t:"})," ",(I==null?void 0:I.description)||"Cha c m t"]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("b",{children:"Yu cu:"})," ",(I==null?void 0:I.requirement)||"Khng c yu cu"]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("b",{children:"Mc tiu:"})," ",(I==null?void 0:I.objectives)||"Cha c mc tiu"]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("b",{children:"S bi hc:"})," ",I==null?void 0:I.numberOfLessons]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("b",{children:"S bui ti a:"})," ",I==null?void 0:I.maxSlot]}),(I==null?void 0:I.discountPercent)!==0&&n.jsxs("p",{className:"text-sm",children:[n.jsx("b",{children:"Gim gi:"})," ",I==null?void 0:I.discountPercent,"%"]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("b",{children:"Gi ti thiu mi gi:"})," ",q0e((I==null?void 0:I.minBookingPricePerHour)||0)]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("b",{children:"Ni dung bi hc:"}),(W=I==null?void 0:I.lessonContent)!=null&&W.length?n.jsx("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:I.lessonContent.map(P=>n.jsxs("li",{children:["Bui ",P.slot_number,": ",P.content]},P.slot_number))}):n.jsx("p",{className:"text-gray-500 italic",children:"Cha c ni dung bi hc"})]})]})]})})]})},W0e=()=>{const e=[{icon:n.jsx(du,{className:"w-6 h-6 text-green-600"}),title:"Hc 1-1 c nhn ha",description:"L trnh hc tp c thit k ring theo nhu cu v trnh  ca bn."},{icon:n.jsx(vo,{className:"w-6 h-6 text-orange-600"}),title:"Theo di tin ",description:"nh gi nh k v bo co tin  y  sau mi giai on."},{icon:n.jsx(st,{className:"w-6 h-6 text-purple-600"}),title:"Chuyn lch linh hot",description:"Nu bui hc b hy, bn c th chuyn sang slot khc ph hp."},{icon:n.jsx(kt,{className:"w-6 h-6 text-teal-600"}),title:"m bo cht lng",description:"Tt c gia s u c xc minh v nh gi lin tc bi hc vin."}],t=[{level:"C bn",outcome:"Hi thoi n gin trong 46 tun",details:"Gii thiu bn thn, gi mn, hi ng, giao tip c bn."},{level:"Trung cp",outcome:"Hi thoi hng ngy thoi mi trong 812 tun",details:"Tho lun ch  chung, hiu chng trnh TV, by t  kin c nhn."},{level:"Nng cao",outcome:"Ting Anh chuyn nghip trong 1216 tun",details:"Thuyt trnh, k nng tranh lun, vit hc thut, giao tip kinh doanh."}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[n.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center space-x-2",children:[n.jsx(kt,{className:"w-6 h-6 text-green-600"}),n.jsx("span",{children:"Quyn li & Cam kt ca bn"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map((s,r)=>n.jsxs("div",{className:`flex items-start gap-3 p-4 bg-gray-50 rounded-lg\r
              hover:bg-white hover:shadow transition-all duration-200 border`,children:[n.jsx("div",{className:"mt-1",children:s.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]})]},r))})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl shadow-md p-6 border border-blue-100",children:[n.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center space-x-2 text-blue-900",children:[n.jsx(du,{className:"w-6 h-6"}),n.jsx("span",{children:"L trnh hc tp d kin"})]}),n.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"Vi luyn tp u n v cam kt hc tp, bn c th t c cc mc tiu sau. Kt qu ph thuc vo s n lc v thi gian bn dnh cho vic hc."}),n.jsx("div",{className:"space-y-4",children:t.map((s,r)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 border-l-4 border-blue-600 shadow-sm hover:shadow transition",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-bold text-blue-700 text-lg",children:s.level}),n.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:s.outcome})]}),n.jsx("p",{className:"text-gray-600 text-sm",children:s.details})]},r))})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"font-semibold text-yellow-900 mb-2 flex items-center gap-2",children:[n.jsx(ya,{className:"w-5 h-5"}),n.jsx("span",{children:"Lu  quan trng"})]}),n.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[n.jsx("li",{children:" Ti liu hc tp do gia s cung cp trong qu trnh hc."}),n.jsx("li",{children:" Nu bui hc b hy, bn c th yu cu chuyn sang slot khc ."}),n.jsx("li",{children:" nh gi tin  c thc hin trong sut qu trnh hc tp."})]})]})]})};var fx={},K0e=Ln&&Ln.__createBinding||(Object.create?function(e,t,s,r){r===void 0&&(r=s);var a=Object.getOwnPropertyDescriptor(t,s);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,a)}:function(e,t,s,r){r===void 0&&(r=s),e[r]=t[s]}),G0e=Ln&&Ln.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Y0e=Ln&&Ln.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)&&K0e(t,e,s);return G0e(t,e),t};Object.defineProperty(fx,"__esModule",{value:!0});fx.useTurnstile=void 0;const $o=Y0e(y),Fd=typeof globalThis<"u"?globalThis:window;let Ji=typeof Fd.turnstile<"u"?"ready":"unloaded",b3,yb;const w3=new Promise((e,t)=>{yb={resolve:e,reject:t},Ji==="ready"&&e(void 0)});{const e="cf__reactTurnstileOnLoad",t="https://challenges.cloudflare.com/turnstile/v0/api.js";b3=()=>{if(Ji==="unloaded"){Ji="loading",Fd[e]=()=>{yb.resolve(),Ji="ready",delete Fd[e]};const s=`${t}?onload=${e}&render=explicit`,r=document.createElement("script");r.src=s,r.async=!0,r.addEventListener("error",()=>{yb.reject("Failed to load Turnstile."),delete Fd[e]}),document.head.appendChild(r)}return w3}}function Q0e({id:e,className:t,style:s,sitekey:r,action:a,cData:i,theme:o,language:l,tabIndex:c,responseField:u,responseFieldName:h,size:d,fixedSize:f,retry:m,retryInterval:p,refreshExpired:g,appearance:b,execution:v,userRef:x,onVerify:w,onSuccess:j,onLoad:N,onError:k,onExpire:S,onTimeout:C,onAfterInteractive:E,onBeforeInteractive:T,onUnsupported:_}){const A=(0,$o.useRef)(null),D=(0,$o.useState)({onVerify:w,onSuccess:j,onLoad:N,onError:k,onExpire:S,onTimeout:C,onAfterInteractive:E,onBeforeInteractive:T,onUnsupported:_})[0],R=x??A,U=f?{width:d==="compact"?"130px":d==="flexible"?"100%":"300px",height:d==="compact"?"120px":"65px",...s}:s;return(0,$o.useEffect)(()=>{if(!R.current)return;let I=!1,L="";return(async()=>{var M,$;if(Ji!=="ready")try{await b3()}catch(q){(M=D.onError)===null||M===void 0||M.call(D,q);return}if(I||!R.current)return;let F;const O={sitekey:r,action:a,cData:i,theme:o,language:l,tabindex:c,"response-field":u,"response-field-name":h,size:d,retry:m,"retry-interval":p,"refresh-expired":g,appearance:b,execution:v,callback:(q,B)=>{var z,W;(z=D.onVerify)===null||z===void 0||z.call(D,q,F),(W=D.onSuccess)===null||W===void 0||W.call(D,q,B,F)},"error-callback":q=>{var B;return(B=D.onError)===null||B===void 0?void 0:B.call(D,q,F)},"expired-callback":q=>{var B;return(B=D.onExpire)===null||B===void 0?void 0:B.call(D,q,F)},"timeout-callback":()=>{var q;return(q=D.onTimeout)===null||q===void 0?void 0:q.call(D,F)},"after-interactive-callback":()=>{var q;return(q=D.onAfterInteractive)===null||q===void 0?void 0:q.call(D,F)},"before-interactive-callback":()=>{var q;return(q=D.onBeforeInteractive)===null||q===void 0?void 0:q.call(D,F)},"unsupported-callback":()=>{var q;return(q=D.onUnsupported)===null||q===void 0?void 0:q.call(D,F)}};L=window.turnstile.render(R.current,O),F=X0e(L),($=D.onLoad)===null||$===void 0||$.call(D,L,F)})(),()=>{I=!0,L&&window.turnstile.remove(L)}},[r,a,i,o,l,c,u,h,d,m,p,g,b,v]),(0,$o.useEffect)(()=>{D.onVerify=w,D.onSuccess=j,D.onLoad=N,D.onError=k,D.onExpire=S,D.onTimeout=C,D.onAfterInteractive=E,D.onBeforeInteractive=T,D.onUnsupported=_},[w,j,N,k,S,C,E,T,_]),$o.default.createElement("div",{ref:R,id:e,className:t,style:U})}var Z0e=fx.default=Q0e;function X0e(e){return{execute:t=>window.turnstile.execute(e,t),reset:()=>window.turnstile.reset(e),getResponse:()=>window.turnstile.getResponse(e),isExpired:()=>window.turnstile.isExpired(e)}}function J0e(){const[e,t]=(0,$o.useState)(Ji);return(0,$o.useEffect)(()=>{Ji!=="ready"&&w3.then(()=>t(Ji))},[]),Fd.turnstile}fx.useTurnstile=J0e;function eye({onVerified:e,onError:t}){const[s,r]=y.useState(0),a="0x4AAAAAACDzwmifRo2WVWi5";y.useEffect(()=>{},[a]);const i=u=>{e(u)},o=()=>{e(null)},l=()=>{e(null),t==null||t()},c=()=>{r(u=>u+1),e(null)};return y.useEffect(()=>(window.__turnstileReset=c,()=>{delete window.__turnstileReset}),[]),n.jsx("div",{className:"flex flex-col gap-2",children:n.jsx(Z0e,{sitekey:a,onVerify:i,onExpire:o,onError:l,theme:"auto",size:"normal"},s)})}const tye=({tutor:e,selectedSlots:t,totalPrice:s,onConfirmBooking:r})=>{const[a,i]=y.useState(null),l=(()=>{const f={};return t.forEach(m=>{f[m.date]||(f[m.date]=[]),f[m.date].push({time:m.time,day:m.day})}),f})(),c=()=>{a&&r(a)},u=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),h=f=>{const[m]=f.split(":"),p=parseInt(m,10),g=(p+1)%24,b=v=>{const x=v>=12?"PM":"AM";return`${v%12===0?12:v%12}:00 ${x}`};return`${b(p)} - ${b(g)}`},d=f=>{const m=Number(f);return isNaN(m)?"0 VND":m.toLocaleString("vi-VN")+" VND"};return n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-8",children:[n.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center space-x-2",children:[n.jsx(kt,{className:"w-6 h-6 text-green-600"}),n.jsx("span",{children:"Tm tt t lch"})]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx(Pt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Gia s"}),n.jsx("p",{className:"font-semibold text-lg",children:e.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Gio vin ",e.teachingLanguage]})]})]}),t.length>0?n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"font-semibold mb-3 flex items-center space-x-2",children:[n.jsx(ft,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{children:"Bui hc  chn"})]}),n.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:Object.entries(l).map(([f,m])=>n.jsxs("div",{className:"border-l-4 border-blue-600 pl-3",children:[n.jsx("p",{className:"font-semibold text-sm text-gray-700",children:u(f)}),n.jsx("div",{className:"space-y-1 mt-1",children:m.map((p,g)=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(st,{className:"w-3 h-3 text-gray-400"}),n.jsx("span",{className:"text-gray-600",children:h(p.time)})]},g))})]},f))})]}):n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx(ft,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"Cha chn bui hc"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Chn bui hc t lch bn trn"})]})]}),n.jsx("div",{className:"border-t border-gray-200 pt-4 mb-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600",children:["Gi/slot",n.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(1 slot = 1 gi)"})]}),n.jsx("span",{className:"font-semibold",children:d(e.pricePerHour)})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"S slot  chn"}),n.jsx("span",{className:"font-semibold",children:t.length})]}),n.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-lg font-bold",children:"Tng tin"}),n.jsx("span",{className:"text-2xl font-bold text-blue-600",children:d(s)})]})})]})}),t.length>0&&n.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(ya,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"Xc thc bo mt"})]}),n.jsx(eye,{onVerified:i,onError:()=>i(null)}),!a&&n.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Vui lng hon thnh xc thc  tip tc thanh ton"})]}),n.jsx(H,{onClick:c,disabled:t.length===0||!a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:!a&&t.length>0?"Hon thnh xc thc  thanh ton":`Thanh ton (${t.length} ${t.length===1,"bui"})`}),n.jsxs("div",{className:"mt-4 text-xs text-gray-500 text-center space-y-1",children:[n.jsx("p",{children:"Bng vic t lch, bn ng  vi iu khon dch v"}),n.jsx("p",{children:"Min ph hy trong vng 24 gi trc bui hc"})]})]})},nye=()=>{const{tutorId:e}=wr(),t=Qe(),{toast:s}=jt(),{user:r,loading:a}=Mw(),[i,o]=y.useState(null),[l,c]=y.useState([]),[u,h]=y.useState(null),[d,f]=y.useState([]),[m,p]=y.useState(!0),g=y.useRef(null),b=j=>j.toLocaleString("vi-VN",{style:"currency",currency:"VND"});y.useEffect(()=>{const N=new URLSearchParams(window.location.search).get("paid");if(N){const k=localStorage.getItem("booking_tutorId");if(k&&k!==e){console.warn(`[PAYMENT FIX] BE redirected to tutorId=${e}, but original was ${k}`),localStorage.removeItem("booking_tutorId"),t(`/book-tutor/${k}?paid=${N}`,{replace:!0});return}localStorage.removeItem("booking_tutorId"),N==="true"?s({title:"Thanh ton thnh cng! ",description:"t lch hc ca bn  c xc nhn."}):N==="false"&&s({variant:"destructive",title:"Thanh ton tht bi",description:"t lch hc cha c xc nhn. Vui lng th li."}),window.history.replaceState({},"",`/book-tutor/${e}`)}},[e,t,s]),y.useEffect(()=>{(async()=>{var N;try{const S=(await ee.get(`/tutors/${e}`)).data,C={tutorId:S.tutorId||S.id||Number(e),name:S.userName||S.name||S.fullName||"Gia s cha t tn",avatarUrl:S.avatarURL||S.avatarUrl||S.image||null,country:S.country||"Unknown",phone:S.phone||null,bio:S.bio||S.description||null,experience:S.experience||null,specialization:S.specialization||null,teachingLanguage:S.teachingLanguage||null,rating:S.rating||0,pricePerHour:S.price_per_hours||S.pricePerHour||S.hourlyRate||0};o(C);const _=(((N=(await ee.get(`/tutor/${e}/packages`)).data)==null?void 0:N.packages)||[]).map(A=>{var D;return{packageId:A.packageid,tutorId:A.tutor_id,name:A.name,description:A.description,requirement:A.requirement||null,objectives:A.objectives||null,maxSlot:A.max_slots,numberOfLessons:((D=A.slot_content)==null?void 0:D.length)||A.max_slots,discountPercent:0,active:A.is_active,lessonContent:A.slot_content||[],minBookingPricePerHour:A.min_booking_price_per_hour}});c(_)}catch(k){console.error("Load tutor data error:",k)}finally{p(!1)}})()},[e]);const v=j=>{h(j),f([])},x=async j=>{var N,k,S;if(d.length===0){s({variant:"destructive",title:"Cha chn bui hc",description:"Bn phi chn t nht 1 bui hc."});return}if(u&&d.length!==u.maxSlot){s({variant:"destructive",title:"Cha  s bui hc",description:`Bn phi chn ng ${u.maxSlot} bui hc cho gi ny.`});return}if(!r){t(`/sign-in?redirect=/tutor/${e}`);return}if(!j){s({variant:"destructive",title:"Xc thc bo mt tht bi",description:"Vui lng hon thnh xc thc bo mt trc khi thanh ton."});return}try{localStorage.setItem("booking_tutorId",e||"");const C=d.map(_=>{const[A,D]=_.time.split(":"),R=`${_.date}T${A.padStart(2,"0")}:${D.padStart(2,"0")}`,I=(Number(A)+1)%24,L=`${_.date}T${String(I).padStart(2,"0")}:${D.padStart(2,"0")}`;return{startTime:R,endTime:L}}),E={userId:r.userID,targetId:u?u.packageId:d[0].bookingPlanId,paymentType:"Booking",slots:C,turnstileToken:j},T=await ee.post("/api/payments/create",E);(N=T.data)!=null&&N.checkoutUrl?window.location.href=T.data.checkoutUrl:s({variant:"destructive",title:"To thanh ton tht bi",description:"Khng th to thanh ton. Vui lng th li."})}catch(C){console.error("Payment error:",C),typeof window<"u"&&"__turnstileReset"in window&&typeof window.__turnstileReset=="function"&&window.__turnstileReset();const E=C instanceof Error&&"response"in C&&((S=(k=C.response)==null?void 0:k.data)==null?void 0:S.message)||"Khng th to thanh ton. Vui lng th li sau.";s({variant:"destructive",title:"Thanh ton tht bi",description:E})}};if(m||a)return n.jsx("div",{className:"text-center py-10",children:"ang ti..."});const w=i?u?u.maxSlot*i.pricePerHour:d.length*i.pricePerHour:0;return n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"mb-6 text-blue-600 hover:text-blue-700 flex items-center space-x-2",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Quay li"})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsx(B0e,{tutor:i}),n.jsx(H0e,{tutorId:String(e),selectedSlots:d,onSlotsChange:f,packages:l,selectedPackage:u,onSelectPackage:v,mySlotsEndpoint:"/booking-slots/my-slots",myInfoEndpoint:"/users/myInfo"}),n.jsx(W0e,{}),n.jsx("div",{ref:g,children:n.jsx(tye,{tutor:i,selectedSlots:d,selectedPackage:u,totalPrice:w,onConfirmBooking:x})})]})]}),(u||d.length>0)&&i&&n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t p-4 z-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center px-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-800",children:[" chn ",d.length," bui hc"]}),u?n.jsxs("p",{className:"text-sm text-gray-600",children:[d.length,"/",u.maxSlot," bui "," ",d.length<u.maxSlot?`chn thm ${u.maxSlot-d.length} bui`:"sn sng xc nhn"]}):n.jsx("p",{className:"text-sm text-gray-600 italic",children:"t lch n l (khng chn gi)"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("p",{className:"font-semibold text-blue-600 text-lg",children:b(w)}),n.jsx("button",{onClick:()=>{var j;return(j=g.current)==null?void 0:j.scrollIntoView({behavior:"smooth"})},className:"bg-blue-600 text-white px-5 py-2 rounded-lg shadow hover:bg-blue-700",children:"Xem & Xc nhn"})]})]})})]})},Jf=({label:e,value:t,icon:s})=>n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s,n.jsx("span",{className:"text-sm text-blue-100 font-medium",children:e})]}),n.jsx("p",{className:"text-3xl font-bold",children:t})]}),sye=({stats:e})=>n.jsx("div",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-2xl shadow-lg p-8 text-white mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Lch hc ca ti"}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Theo di v qun l tt c cc bui hc ca bn"})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Jf,{label:"Sp ti",value:e.upcoming,icon:n.jsx(st,{className:"w-4 h-4 text-blue-200"})}),n.jsx(Jf,{label:" qua",value:e.expired,icon:n.jsx(Lt,{className:"w-4 h-4 text-red-300"})}),n.jsx(Jf,{label:"Tng bui",value:e.totalSlots,icon:n.jsx(ft,{className:"w-4 h-4 text-blue-200"})}),n.jsx(Jf,{label:"Tng gi",value:e.totalHours,icon:n.jsx(kt,{className:"w-4 h-4 text-green-300"})})]})]})}),rye=({onSelectDate:e,selectedDate:t,bookings:s,userID:r})=>{const[a,i]=y.useState(new Date),o=a.getFullYear(),l=a.getMonth(),c=new Date(o,l+1,0).getDate(),u=new Date(o,l,1).getDay(),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d=()=>{i(new Date(o,l-1,1))},f=()=>{i(new Date(o,l+1,1))},m=x=>{const w=`${o}-${String(l+1).padStart(2,"0")}-${String(x).padStart(2,"0")}`;e(w)},p=x=>{const w=`${o}-${String(l+1).padStart(2,"0")}-${String(x).padStart(2,"0")}`;return s.some(j=>new Date(j.startTime).toISOString().split("T")[0]===w&&j.userID===r)},g=Array.from({length:u},()=>null),b=Array.from({length:c},(x,w)=>w+1),v=[...g,...b];return n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(qn,{className:"w-5 h-5 text-slate-700"})}),n.jsx("button",{onClick:f,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:n.jsx(Wt,{className:"w-5 h-5 text-slate-700"})})]})]}),n.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:h.map(x=>n.jsx("div",{className:"text-center font-bold text-sm text-slate-600 py-2",children:x},x))}),n.jsx("div",{className:"grid grid-cols-7 gap-2",children:v.map((x,w)=>{if(x===null)return n.jsx("div",{className:"aspect-square"},`empty-${w}`);const j=`${o}-${String(l+1).padStart(2,"0")}-${String(x).padStart(2,"0")}`,N=t===j,k=p(x);return n.jsxs("div",{onClick:()=>m(x),className:`aspect-square rounded-xl border-2 p-2 cursor-pointer transition-all ${N?"bg-blue-600 border-blue-600 text-white shadow-lg":k?"bg-gradient-to-br from-yellow-100 to-yellow-200 border-yellow-400 hover:from-yellow-200 hover:to-yellow-300 hover:border-yellow-500 shadow-md":"border-slate-200 hover:bg-blue-50 hover:border-blue-300"}`,children:[n.jsx("div",{className:`text-sm font-bold ${N?"text-white":k?"text-yellow-900":"text-slate-700"}`,children:x}),k&&!N&&n.jsx("div",{className:"text-[10px] text-yellow-700 font-semibold mt-1",children:" C lch"})]},x)})})]})},aye=({bookings:e,selectedDate:t,userID:s})=>{const r=Qe();if(!t)return n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 text-center py-8",children:[n.jsx(ft,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("p",{className:"text-slate-600",children:"Vui lng chn ngy"})]});const a=e.filter(o=>new Date(o.startTime).toISOString().split("T")[0]===t&&o.userID===s);if(a.length===0)return n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 text-center py-8",children:[n.jsx(ft,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),n.jsx("p",{className:"text-slate-600",children:"Khng c bui hc no trong ngy ny"})]});const i=new Date;return n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:["Bui hc ngy ",t]}),n.jsx("div",{className:"space-y-3",children:a.map(o=>{const l=new Date(o.startTime),c=new Date(o.endTime),u=c<i;return n.jsxs("div",{className:`rounded-xl p-4 border ${u?"bg-gradient-to-br from-slate-50 to-slate-100/50 border-slate-300":"bg-gradient-to-br from-blue-50 to-blue-100/50 border-blue-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(st,{className:`w-4 h-4 ${u?"text-slate-500":"text-blue-600"}`}),n.jsxs("span",{className:`font-semibold ${u?"text-slate-600":"text-slate-900"}`,children:[l.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})," ","-"," ",c.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]}),n.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[o.tutorFullname&&n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-semibold text-slate-900",children:"Gia s:"}),n.jsx("button",{onClick:()=>r(`/tutors/${o.tutorID}`),className:"text-blue-600 font-medium hover:text-blue-700 hover:underline transition-colors cursor-pointer",children:o.tutorFullname})]}),n.jsxs("div",{children:["Trng thi:"," ",n.jsx("span",{className:`font-medium ${u?"text-slate-500":"text-blue-600"}`,children:u?" qua":o.status})]}),n.jsxs("div",{children:["M bui hc: ",o.slotID]}),o.meetingUrl?n.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200",children:n.jsxs("a",{href:o.meetingUrl,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${u?"bg-slate-200 text-slate-600 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,onClick:h=>{u&&h.preventDefault()},children:[n.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"})}),u?"Bui hc  kt thc":"Tham gia Google Meet"]})}):n.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200",children:n.jsx("span",{className:"text-xs text-slate-500 italic",children:"Link hp cha c sn"})})]})]},o.slotID)})})]})},iye=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(null),[a,i]=y.useState(null);y.useEffect(()=>{ee.get("/users/myInfo").then(l=>{var c;r((c=l.data.result)==null?void 0:c.userID)})},[]),y.useEffect(()=>{s&&ee.get("/booking-slots/my-slots").then(l=>{const u=(l.data.result||[]).filter(h=>h.user_id===s).map(h=>({slotID:h.slotid,bookingPlanID:h.booking_planid,tutorID:h.tutor_id,userID:h.user_id,startTime:h.start_time,endTime:h.end_time,paymentID:h.payment_id,status:h.status,lockedAt:h.locked_at,expiresAt:h.expires_at,learnerName:h.learner_name,meetingUrl:h.meeting_url,tutorFullname:h.tutor_fullname}));t(u)})},[s]);const o=()=>{const l=new Date,c=e.filter(d=>new Date(d.endTime)>=l),u=e.filter(d=>new Date(d.endTime)<l),h=e.reduce((d,f)=>{const m=new Date(f.startTime),p=new Date(f.endTime);return d+(p.getTime()-m.getTime())/(1e3*60*60)},0);return{upcoming:c.length,expired:u.length,totalSlots:e.length,totalHours:Math.round(h)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsx(sye,{stats:o()}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(rye,{onSelectDate:i,selectedDate:a,bookings:e,userID:s})}),n.jsx("div",{children:n.jsx(aye,{bookings:e,selectedDate:a,userID:s})})]})]})})},oye=({stats:e})=>n.jsx("div",{className:"bg-gradient-to-br from-green-600 via-emerald-700 to-green-800 rounded-2xl shadow-lg p-8 text-white mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Yu cu hon tin"}),n.jsx("p",{className:"text-green-100 text-lg mb-2",children:"Theo di cc yu cu hon tin cho cc bui hc  hy"}),n.jsx("p",{className:"text-green-200 text-sm",children:"Khi bn hy bui hc, tin hon s c x l v chuyn vo ti khon ngn hng ca bn"})]}),n.jsxs("div",{className:"flex flex-col gap-4 w-full lg:w-auto",children:[n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(st,{className:"w-4 h-4 text-amber-300"}),n.jsx("span",{className:"text-sm text-green-100 font-medium",children:"Ch x l"})]}),n.jsx("p",{className:"text-3xl font-bold",children:e.pending})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(at,{className:"w-4 h-4 text-blue-300"}),n.jsx("span",{className:"text-sm text-green-100 font-medium",children:" gi"})]}),n.jsx("p",{className:"text-3xl font-bold",children:e.submitted})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(kt,{className:"w-4 h-4 text-green-300"}),n.jsx("span",{className:"text-sm text-green-100 font-medium",children:" x l"})]}),n.jsx("p",{className:"text-3xl font-bold",children:e.processed})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Lt,{className:"w-4 h-4 text-red-300"}),n.jsx("span",{className:"text-sm text-green-100 font-medium",children:"T chi"})]}),n.jsx("p",{className:"text-3xl font-bold",children:e.rejected})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[n.jsxs("div",{className:"bg-green-500/20 backdrop-blur-sm rounded-xl p-4 border border-green-400/30",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(kt,{className:"w-5 h-5 text-green-200"}),n.jsx("span",{className:"text-sm text-green-100 font-medium",children:"Tin nhn thnh cng"})]}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.totalAmount.toLocaleString()," "]})]}),n.jsxs("div",{className:"bg-amber-500/20 backdrop-blur-sm rounded-xl p-4 border border-amber-400/30",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(st,{className:"w-5 h-5 text-amber-200"}),n.jsx("span",{className:"text-sm text-amber-100 font-medium",children:"Tin ang i"})]}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.pendingAmount.toLocaleString()," "]})]}),n.jsxs("div",{className:"bg-red-500/20 backdrop-blur-sm rounded-xl p-4 border border-red-400/30",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Lt,{className:"w-5 h-5 text-red-200"}),n.jsx("span",{className:"text-sm text-red-100 font-medium",children:"Tin b t chi"})]}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.rejectedAmount.toLocaleString()," "]})]})]})]})]})}),lye=({activeFilter:e,onFilterChange:t,sortOrder:s,onSortChange:r})=>{const a=[{value:"all",label:"Tt c"},{value:"pending",label:"Ch x l"},{value:"submitted",label:" gi"},{value:"processed",label:" x l"},{value:"rejected",label:"T chi"}];return n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-semibold",children:[n.jsx(Pl,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{children:"Lc theo trng thi:"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(i=>n.jsx(H,{onClick:()=>t(i.value),variant:e===i.value?"default":"outline",className:e===i.value?"bg-green-600 hover:bg-green-700":"",size:"sm",children:i.label},i.value))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"Sp xp:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{onClick:()=>r("newest"),variant:s==="newest"?"default":"outline",className:s==="newest"?"bg-green-600 hover:bg-green-700":"",size:"sm",children:"Mi nht"}),n.jsx(H,{onClick:()=>r("oldest"),variant:s==="oldest"?"default":"outline",className:s==="oldest"?"bg-green-600 hover:bg-green-700":"",size:"sm",children:"C nht"})]})]})]})})},cye=({requests:e,currentUserId:t,isStudentView:s=!1,onRefresh:r})=>{const[a,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(""),[h,d]=y.useState(""),[f,m]=y.useState(""),[p,g]=y.useState(!1),{toast:b}=jt(),v=N=>{l(N),u(""),d(""),m(""),i(!0)},x=()=>{i(!1),l(null),u(""),d(""),m("")},w=N=>{switch(N){case"PENDING":return n.jsxs(Pe,{className:"bg-amber-100 text-amber-700 border-amber-200 gap-1.5",children:[n.jsx(at,{className:"w-3 h-3"}),"Ch x l"]});case"APPROVED":return n.jsxs(Pe,{className:"bg-blue-100 text-blue-700 border-blue-200 gap-1.5",children:[n.jsx(kt,{className:"w-3 h-3"})," x l"]});case"PROCESSED":return n.jsxs(Pe,{className:"bg-green-100 text-green-700 border-green-200 gap-1.5",children:[n.jsx(kt,{className:"w-3 h-3"})," x l"]});case"REJECTED":return n.jsxs(Pe,{className:"bg-red-100 text-red-700 border-red-200 gap-1.5",children:[n.jsx(Lt,{className:"w-3 h-3"}),"T chi"]});case"SUBMITTED":return n.jsxs(Pe,{className:"bg-blue-100 text-blue-700 border-blue-200 gap-1.5",children:[n.jsx(at,{className:"w-3 h-3"})," gi"]})}},j=async N=>{var k,S;if(N.preventDefault(),!!o){if(!c.trim()){b({title:"Li",description:"Vui lng nhp tn ngn hng",variant:"destructive"});return}if(!h.trim()){b({title:"Li",description:"Vui lng nhp tn ch ti khon",variant:"destructive"});return}if(!f.trim()){b({title:"Li",description:"Vui lng nhp s ti khon",variant:"destructive"});return}g(!0);try{const C=await ee.put(`/learner/refund/${o.refundRequestId}`,{bankName:c.trim(),bankOwnerName:h.trim(),bankAccountNumber:f.trim()});C.data.code===0?(b({title:"Thnh cng!",description:" cp nht thng tin ti khon ngn hng thnh cng",variant:"default"}),x(),r?r():window.location.reload()):b({title:"Li",description:C.data.message||"Khng th cp nht thng tin",variant:"destructive"})}catch(C){console.error("Error updating refund request:",C),b({title:"Li",description:((S=(k=C.response)==null?void 0:k.data)==null?void 0:S.message)||"Khng th cp nht thng tin ti khon",variant:"destructive"})}finally{g(!1)}}};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-4",children:e.map(N=>{var k;return n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-all",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsxs(hi,{className:"w-16 h-16 border-2 border-white shadow-md ring-2 ring-slate-100",children:[n.jsx(ko,{src:N.bankOwnerName||"default-avatar.jpg",alt:N.bankOwnerName||"No name provided"}),n.jsx(fi,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white font-semibold",children:((k=N.bankOwnerName)==null?void 0:k.split(" ").map(S=>S[0]).join(""))||"NA"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:N.bankOwnerName||"Yu cu hon tin"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(Pt,{className:"w-3.5 h-3.5"}),n.jsx("span",{children:s?"Hc vin":"Qun tr vin"})]})]}),w(N.status)]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:n.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-3 py-2",children:[n.jsx(ft,{className:"w-4 h-4 text-blue-600"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-slate-500",children:"Ngy to: "}),n.jsx("span",{className:"font-medium text-slate-700",children:new Date(N.createdAt).toLocaleDateString("vi-VN")})]})]})}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"S tin hon:"}),n.jsxs("span",{className:"font-bold text-blue-900 text-xl",children:[N.refundAmount.toLocaleString()," "]})]}),n.jsx("p",{className:"text-xs text-blue-800",children:N.status==="PENDING"?"Yu cu hon tin ang c xem xt bi qun tr vin":N.status==="APPROVED"?" c duyt! S sm c chuyn vo ti khon ngn hng ca bn":N.status==="PROCESSED"?"S tin ny  c chuyn vo ti khon ngn hng ca bn":"Yu cu hon tin  b t chi"})]})]})]}),N.status==="PENDING"&&!N.bankAccountNumber&&!N.bankOwnerName&&!N.bankName&&N.userId===t&&n.jsx("div",{className:"flex flex-col gap-2 lg:min-w-[180px]",children:n.jsxs(H,{onClick:()=>v(N),className:"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white gap-2",children:[n.jsx(Hn,{className:"w-4 h-4"}),"in thng tin TK"]})}),N.bankAccountNumber&&n.jsxs("div",{className:"flex flex-col gap-2 lg:min-w-[250px] bg-slate-50 rounded-lg p-4 border border-slate-200",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Thng tin ti khon:"}),n.jsxs("div",{className:"space-y-1.5 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-slate-500 min-w-[80px]",children:"Ngn hng:"}),n.jsx("span",{className:"font-medium text-slate-900",children:N.bankName})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-slate-500 min-w-[80px]",children:"Ch TK:"}),n.jsx("span",{className:"font-medium text-slate-900",children:N.bankOwnerName})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-slate-500 min-w-[80px]",children:"S TK:"}),n.jsx("span",{className:"font-medium text-slate-900",children:N.bankAccountNumber})]})]})]})]})},N.refundRequestId)})}),n.jsx(ht,{open:a,onOpenChange:i,children:n.jsxs(lt,{className:"sm:max-w-[500px]",children:[n.jsxs(ct,{children:[n.jsx(ut,{className:"text-2xl font-bold text-slate-900",children:"Thng tin ti khon ngn hng"}),n.jsx(Zn,{className:"text-slate-600",children:"Vui lng in y  thng tin ti khon ngn hng  nhn tin hon"})]}),n.jsxs("form",{onSubmit:j,className:"space-y-5 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"bankName",className:"text-sm font-medium text-slate-700",children:["Tn ngn hng ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"bankName",placeholder:"VD: Vietcombank, Techcombank, BIDV...",value:c,onChange:N=>u(N.target.value),className:"w-full",disabled:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"bankOwnerName",className:"text-sm font-medium text-slate-700",children:["Tn ch ti khon ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"bankOwnerName",placeholder:"VD: NGUYEN VAN A",value:h,onChange:N=>d(N.target.value),className:"w-full",disabled:p})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ve,{htmlFor:"bankAccountNumber",className:"text-sm font-medium text-slate-700",children:["S ti khon ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ce,{id:"bankAccountNumber",placeholder:"VD: 1234567890",value:f,onChange:N=>m(N.target.value),className:"w-full",disabled:p})]}),o&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"S tin hon:"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[o.refundAmount.toLocaleString()," "]})]}),n.jsxs(Nt,{className:"gap-2 sm:gap-0",children:[n.jsx(H,{type:"button",variant:"outline",onClick:x,disabled:p,children:"Hy"}),n.jsx(H,{type:"submit",className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",disabled:p,children:p?"ang x l...":"Xc nhn"})]})]})]})})]})},uye=({currentPage:e,totalPages:t,onPageChange:s})=>{const r={initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:.6}};if(t<=0)return null;const a=()=>{const i=[];if(t<=5)for(let l=1;l<=t;l++)i.push(l);else if(e<=3){for(let l=1;l<=4;l++)i.push(l);i.push("..."),i.push(t)}else if(e>=t-2){i.push(1),i.push("...");for(let l=t-3;l<=t;l++)i.push(l)}else{i.push(1),i.push("...");for(let l=e-1;l<=e+1;l++)i.push(l);i.push("..."),i.push(t)}return i};return n.jsxs(ue.div,{className:"flex justify-center items-center space-x-2 py-8",initial:"initial",animate:"animate",variants:r,children:[n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e-1),disabled:e===1,children:n.jsx(qn,{className:"w-4 h-4"})}),a().map((i,o)=>n.jsx(re.Fragment,{children:i==="..."?n.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):n.jsx(H,{variant:e===i?"default":"outline",size:"sm",onClick:()=>s(i),children:i})},o)),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>s(e+1),disabled:e===t,children:n.jsx(Wt,{className:"w-4 h-4"})})]})},dye=()=>{const{user:e}=Rl(),[t,s]=y.useState("all"),[r,a]=y.useState("newest"),[i,o]=y.useState([]),[l,c]=y.useState([]),[u,h]=y.useState([]),[d,f]=y.useState(!0),[m,p]=y.useState(1),[g,b]=y.useState(1),v=(e==null?void 0:e.userID)||0,x=!0,w=6,j=async()=>{try{f(!0);const S=(await ee.get("/admin/refund/all")).data.result.filter(C=>C.userId===v);o(S),c(S)}catch(k){console.error("Li khi ti danh sch yu cu hon tin",k)}finally{f(!1)}};y.useEffect(()=>{v&&j()},[v]),y.useEffect(()=>{p(1)},[t,r]),y.useEffect(()=>{let k=l.filter(E=>t==="all"?!0:t==="processed"?E.status==="APPROVED"||E.status==="PROCESSED":E.status.toLowerCase()===t);k.sort((E,T)=>{const _=new Date(E.createdAt).getTime(),A=new Date(T.createdAt).getTime();return r==="newest"?A-_:_-A});const S=k.length;b(Math.ceil(S/w));const C=k.slice((m-1)*w,m*w);h(C)},[l,t,r,m]);const N={pending:i.filter(k=>k.status==="PENDING").length,submitted:i.filter(k=>k.status==="SUBMITTED").length,processed:i.filter(k=>k.status==="APPROVED"||k.status==="PROCESSED").length,rejected:i.filter(k=>k.status==="REJECTED").length,totalAmount:i.filter(k=>k.status==="APPROVED"||k.status==="PROCESSED").reduce((k,S)=>k+S.refundAmount,0),pendingAmount:i.filter(k=>k.status==="PENDING"||k.status==="SUBMITTED").reduce((k,S)=>k+S.refundAmount,0),rejectedAmount:i.filter(k=>k.status==="REJECTED").reduce((k,S)=>k+S.refundAmount,0)};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50/30 to-slate-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsx(oye,{stats:N}),n.jsx(lye,{activeFilter:t,onFilterChange:s,sortOrder:r,onSortChange:a}),d?n.jsx("div",{className:"text-center py-16",children:n.jsx("p",{children:"ang ti danh sch yu cu hon tin..."})}):u.length===0?n.jsx("div",{className:"text-center py-16 text-slate-500",children:n.jsx("p",{children:"Khng c yu cu hon tin no."})}):n.jsx(cye,{requests:u,currentUserId:v,isStudentView:x,onRefresh:j}),n.jsx(uye,{currentPage:m,totalPages:g,onPageChange:k=>p(k)})]})})},hye={getAllNotifications:async()=>(await ee.get("/api/notifications")).data,getNotificationsByUserId:async e=>(await ee.get(`/api/notifications/user/${e}`)).data},fye=1e4,j3=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,i]=y.useState(null),[o,l]=y.useState(null),u=!!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"));y.useEffect(()=>{if(!u){l(null),t([]),r(!1);return}(async()=>{var g;try{const v=(g=(await ee.get("/users/myInfo")).data.result)==null?void 0:g.userID;v&&l(v)}catch(b){console.error("Error fetching user info:",b),i("Failed to get user info"),r(!1)}})()},[u]);const h=async()=>{if(o)try{const p=await hye.getNotificationsByUserId(o);t(p),i(null)}catch(p){console.error("Error fetching notifications:",p),i("Failed to load notifications")}finally{r(!1)}};y.useEffect(()=>{if(!o)return;h();const p=setInterval(h,fye);return()=>clearInterval(p)},[o]);const d=async p=>{try{await ee.patch(`/api/notifications/${p}/read`,{read:!0}),t(g=>g.map(b=>b.notificationId===p?{...b,isRead:!0}:b))}catch(g){console.error("Error marking notification as read:",g)}},f=e.filter(p=>!p.isRead).length,m=e.slice(0,3);return{notifications:e,recentNotifications:m,unreadCount:f,loading:s,error:a,refetch:h,markAsRead:d}},mye=()=>{const e=Qe(),{notifications:t,unreadCount:s,loading:r,markAsRead:a}=j3(),[i,o]=y.useState("all"),l=i==="all"?t:i==="unread"?t.filter(d=>!d.isRead):t.filter(d=>d.isRead),c=t.filter(d=>d.isRead).length,u=d=>{const f="w-5 h-5";return d.includes("CANCEL")?n.jsx(ec,{className:fe(f,"text-red-500")}):d.includes("CONFIRMED")?n.jsx(Kz,{className:fe(f,"text-green-500")}):d.includes("REMINDER")?n.jsx(ec,{className:fe(f,"text-blue-500")}):d.includes("MESSAGE")?n.jsx(ec,{className:fe(f,"text-purple-500")}):d.includes("COMPLETED")||d.includes("APPROVED")?n.jsx(vj,{className:fe(f,"text-green-500")}):n.jsx(ec,{className:fe(f,"text-gray-500")})},h=async d=>{d.isRead||await a(d.notificationId),d.primaryActionUrl&&e(d.primaryActionUrl)};return r?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-slate-50 flex items-center justify-center",children:n.jsx(et,{className:"w-8 h-8 animate-spin text-primary"})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-slate-50",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:n.jsx(ye,{className:"border-2 border-gray-300 shadow-xl bg-white",children:n.jsxs("div",{className:"p-6 md:p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Thng bo"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Cp nht cc hot ng hc tp ca bn"})]}),s>0&&n.jsxs(Pe,{variant:"destructive",className:"text-lg px-4 py-2",children:[s," mi"]})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsxs(H,{variant:i==="all"?"default":"outline",onClick:()=>o("all"),children:["Tt c (",t.length,")"]}),n.jsxs(H,{variant:i==="unread"?"default":"outline",onClick:()=>o("unread"),children:["Cha c (",s,")"]}),n.jsxs(H,{variant:i==="read"?"default":"outline",onClick:()=>o("read"),children:[" c (",c,")"]})]})]}),n.jsx("div",{className:"space-y-3",children:l.length===0?n.jsxs("div",{className:"p-12 text-center border-2 border-dashed border-gray-200 rounded-lg",children:[n.jsx(ec,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Khng c thng bo"}),n.jsx("p",{className:"text-gray-600",children:i==="unread"?"Bn  xem ht! Khng c thng bo cha c.":i==="read"?"Khng c thng bo  c.":"Bn cha c thng bo no."})]}):l.map(d=>n.jsx(ye,{className:fe("p-5 cursor-pointer transition-all hover:shadow-lg border-2",d.isRead?"bg-white border-gray-200 hover:border-gray-300":"bg-blue-50/50 border-blue-300 hover:border-blue-400"),onClick:()=>h(d),children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:u(d.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-base",children:d.title}),!d.isRead&&n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-2"})]}),n.jsx("p",{className:"text-gray-700 text-sm mb-3 whitespace-pre-wrap break-words",children:d.content}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[n.jsx("span",{children:lx(new Date(d.createdAt),{addSuffix:!0})}),n.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-medium",children:d.type.replace(/_/g," ")})]})]})]})},d.notificationId))})]})})})})};function pye(){return n.jsxs(d8,{children:[n.jsx($e,{path:se.SIGN_IN,element:n.jsx(NQ,{})}),n.jsx($e,{path:se.SIGN_UP,element:n.jsx(CQ,{})}),n.jsx($e,{path:se.FORGOT_PASSWORD,element:n.jsx(Ete,{})}),n.jsx($e,{path:se.VERIFY_EMAIL_FORGOT_PASSWORD,element:n.jsx(sse,{})}),n.jsx($e,{path:se.RESET_PASSWORD,element:n.jsx(Ate,{})}),n.jsx($e,{path:se.COMPLETE_FORGOT_PASSWORD,element:n.jsx(bte,{})}),n.jsx($e,{path:se.VERIFY_EMAIL,element:n.jsx(Rte,{})}),n.jsx($e,{path:se.GOOGLE_CALLBACK,element:n.jsx(wte,{})}),n.jsx($e,{path:se.HOME,element:n.jsx(kH,{})}),n.jsx($e,{path:se.LANGUAGES,element:n.jsx(DQ,{})}),n.jsx($e,{path:se.TUTORS,element:n.jsx(LQ,{})}),n.jsx($e,{path:se.TUTOR_DETAIL,element:n.jsx(gee,{})}),n.jsx($e,{path:se.COURSE_DETAIL,element:n.jsx(wee,{})}),n.jsx($e,{path:se.LESSON_DETAIL,element:n.jsx(Xee,{})}),n.jsx($e,{path:se.LANGUAGE_COURSES,element:n.jsx(Cte,{})}),n.jsx($e,{path:se.PRACTICE_TEST,element:n.jsx(ste,{})}),n.jsx($e,{path:se.BECOME_TUTOR,element:n.jsx(cte,{})}),n.jsx($e,{path:se.WISHLIST,element:n.jsx(fte,{})}),n.jsx($e,{path:se.POLICY,element:n.jsx(vte,{})}),n.jsx($e,{path:se.MESSAGES,element:n.jsx(kT,{})}),n.jsx($e,{path:se.MESSAGES_CONVERSATION,element:n.jsx(kT,{})}),n.jsx($e,{path:se.BOOK_TUTOR,element:n.jsx(nye,{})}),n.jsx($e,{path:se.MY_BOOKINGS,element:n.jsx(iye,{})}),n.jsx($e,{path:se.REFUND_REQUESTS,element:n.jsx(dye,{})}),n.jsx($e,{path:se.NOTIFICATIONS,element:n.jsx(mye,{})}),n.jsx($e,{path:se.PROFILE,element:n.jsx(Zne,{})}),n.jsx($e,{path:se.CHANGE_PASSWORD,element:n.jsx(tse,{})}),n.jsx($e,{path:se.PAYMENT_HISTORY,element:n.jsx(Wne,{})}),n.jsx($e,{path:se.MY_ENROLLMENTS,element:n.jsx(Kne,{})}),n.jsx($e,{path:se.APPLY_TUTOR,element:n.jsx(nde,{})}),n.jsx($e,{element:n.jsx(n7,{}),children:n.jsxs($e,{path:se.ADMIN,element:n.jsx(Whe,{}),children:[n.jsx($e,{index:!0,element:n.jsx(yT,{})}),n.jsx($e,{path:se.ADMIN_DASHBOARD,element:n.jsx(yT,{})}),n.jsx($e,{path:se.ADMIN_COURSES,element:n.jsx(pxe,{})}),n.jsx($e,{path:se.ADMIN_COURSE_DETAIL,element:n.jsx(Lue,{})}),n.jsx($e,{path:se.ADMIN_COURSE_APPROVAL,element:n.jsx(Oue,{})}),n.jsx($e,{path:se.ADMIN_COURSE_APPROVAL_DETAIL,element:n.jsx(t6,{})}),n.jsx($e,{path:se.ADMIN_COURSE_APPROVAL_DRAFTS,element:n.jsx(Iue,{})}),n.jsx($e,{path:se.ADMIN_COURSE_APPROVAL_DRAFT_DETAIL,element:n.jsx(Mue,{})}),n.jsx($e,{path:se.ADMIN_TUTOR_APPROVAL,element:n.jsx(lde,{})}),n.jsx($e,{path:se.ADMIN_TUTOR_APPROVAL_DETAIL,element:n.jsx(cde,{})}),n.jsx($e,{path:se.ADMIN_USER_MANAGEMENT,element:n.jsx(Ade,{})}),n.jsx($e,{path:se.ADMIN_PAYMENTS,element:n.jsx(wxe,{})}),n.jsx($e,{path:se.ADMIN_WITHDRAW_REQUESTS,element:n.jsx(Mde,{})}),n.jsx($e,{path:se.ADMIN_COMMISSION_SETTINGS,element:n.jsx(Lde,{})}),n.jsx($e,{path:se.ADMIN_REFUND_MANAGEMENT,element:n.jsx($de,{})}),n.jsx($e,{path:se.ADMIN_CATEGORY_MANAGEMENT,element:n.jsx(qde,{})}),n.jsx($e,{path:se.ADMIN_LANGUAGE_MANAGEMENT,element:n.jsx(ehe,{})})]})}),n.jsx($e,{element:n.jsx(s7,{}),children:n.jsxs($e,{element:n.jsx(Bhe,{}),children:[n.jsx($e,{path:se.TUTOR_DASHBOARD,element:n.jsx(Oxe,{})}),n.jsx($e,{path:se.TUTOR_COURSES,element:n.jsx(Fhe,{})}),n.jsx($e,{path:se.TUTOR_COURSE_DETAILS,element:n.jsx(f0e,{})}),n.jsx($e,{path:se.TUTOR_COURSE_CONTENT,element:n.jsx(eT,{})}),n.jsx($e,{path:se.TUTOR_COURSE_DRAFT_CONTENT,element:n.jsx(eT,{})}),n.jsx($e,{path:se.CREATE_COURSES,element:n.jsx(yue,{})}),n.jsx($e,{path:se.TUTOR_STUDENTS,element:n.jsx(Uxe,{})}),n.jsx($e,{path:se.TUTOR_SCHEDULE,element:n.jsx(Kxe,{})}),n.jsx($e,{path:se.TUTOR_BOOKED_SLOTS,element:n.jsx(P0e,{})}),n.jsx($e,{path:se.TUTOR_PACKAGES,element:n.jsx(l0e,{})}),n.jsx($e,{path:se.PAYMENTS,element:n.jsx(t0e,{})}),n.jsx($e,{path:se.WITHDRAWAL,element:n.jsx(x0e,{})}),n.jsx($e,{path:se.WITHDRAWAL_HISTORY,element:n.jsx(w0e,{})}),n.jsx($e,{path:se.TUTOR_MESSAGES,element:n.jsx(Gxe,{})})]})}),n.jsx($e,{path:"*",element:n.jsx(mte,{})})]})}const gye=()=>{const e=Wn(),t=Qe();jt();const[s,r]=y.useState(!1),[a,i]=y.useState(!1),{user:o,setUser:l,refreshUser:c,loading:u}=Rl(),d=!!(localStorage.getItem("access_token")||sessionStorage.getItem("access_token")),{recentNotifications:f,unreadCount:m,markAsRead:p}=j3(),g=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("refresh_token"),l(null),window.location.href=se.SIGN_IN},b=/^\/tutor(\/|$)/.test(e.pathname),v=x=>e.pathname===x;return y.useEffect(()=>{if(d&&e.pathname!==se.PROFILE){const x=setTimeout(()=>{c()},500);return()=>clearTimeout(x)}},[e.pathname]),n.jsx("header",{className:"bg-background border-b border-border sticky top-0 z-50 shadow-sm",children:n.jsxs("div",{className:"w-full px-8 lg:px-16",children:[n.jsxs("div",{className:"flex justify-between items-center h-16 gap-4",children:[n.jsxs(_e,{to:se.HOME,className:"flex items-center gap-2 flex-shrink-0",onClick:()=>i(!1),style:{minWidth:"fit-content"},children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-2 rounded-lg flex-shrink-0",children:n.jsx(Un,{className:"w-6 h-6 text-white flex-shrink-0"})}),n.jsxs("div",{className:"text-xl md:text-2xl font-bold text-foreground whitespace-nowrap flex-shrink-0",children:["Lingua",n.jsx("span",{className:"text-primary",children:"Hub"})]})]}),!b&&n.jsx("nav",{className:"hidden xl:flex items-center ml-8",children:n.jsxs("div",{className:"flex space-x-4 xl:space-x-6 2xl:space-x-8",children:[n.jsx(_e,{to:se.HOME,className:fe("font-medium transition-colors whitespace-nowrap text-sm xl:text-base",v(se.HOME)?"text-primary":"text-muted-foreground hover:text-primary"),children:"Trang ch"}),n.jsx(_e,{to:se.LANGUAGES,className:fe("font-medium transition-colors whitespace-nowrap text-sm xl:text-base",v(se.LANGUAGES)?"text-primary":"text-muted-foreground hover:text-primary"),children:"Ngn ng"}),n.jsx(_e,{to:se.TUTORS,className:fe("font-medium transition-colors whitespace-nowrap text-sm xl:text-base",v(se.TUTORS)?"text-primary":"text-muted-foreground hover:text-primary"),children:"Gia s"}),n.jsx(_e,{to:se.BECOME_TUTOR,className:fe("font-medium transition-colors whitespace-nowrap text-sm xl:text-base",v(se.BECOME_TUTOR)?"text-primary":"text-muted-foreground hover:text-primary"),children:"Tr thnh gia s"})]})}),n.jsx("div",{className:"flex-1"}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 lg:space-x-4",children:[d&&n.jsx(H,{variant:"ghost",size:"icon",className:"flex-shrink-0",onClick:()=>t(se.WISHLIST),children:n.jsx(yo,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),d&&n.jsxs(Fc,{open:s,onOpenChange:r,children:[n.jsx($c,{asChild:!0,children:n.jsxs(H,{variant:"ghost",size:"icon",className:"relative flex-shrink-0",children:[n.jsx(ec,{className:"w-4 h-4 sm:w-5 sm:h-5"}),m>0&&n.jsx(Pe,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center p-0 text-[10px] sm:text-xs",children:m>9?"9+":m})]})}),n.jsxs(hl,{align:"end",className:"w-80",children:[n.jsxs(Ep,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Thng bo"}),m>0&&n.jsxs(Pe,{variant:"secondary",className:"ml-2",children:[m," mi"]})]}),n.jsx(Go,{}),f.length===0?n.jsx("div",{className:"px-4 py-6 text-sm text-muted-foreground text-center",children:"Khng c thng bo"}):n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:f.map(x=>n.jsx(nn,{className:fe("flex flex-col items-start gap-1 p-3 cursor-pointer",!x.isRead&&"bg-blue-50/50"),onClick:async()=>{x.isRead||await p(x.notificationId),x.primaryActionUrl&&t(x.primaryActionUrl),r(!1)},children:n.jsxs("div",{className:"flex items-start justify-between w-full gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:x.title}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2 break-words",children:x.content}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:lx(new Date(x.createdAt),{addSuffix:!0})})]}),!x.isRead&&n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-1"})]})},x.notificationId))}),n.jsx(Go,{}),n.jsx(nn,{className:"justify-center text-primary font-medium cursor-pointer",onClick:()=>{t(se.NOTIFICATIONS),r(!1)},children:"Tt c thng bo"})]})]}),d&&(o==null?void 0:o.role)==="Tutor"&&n.jsx("div",{className:"hidden sm:flex px-2 sm:px-3 py-1 text-[10px] sm:text-xs font-semibold bg-purple-100 text-purple-700 rounded-full border border-purple-200 whitespace-nowrap flex-shrink-0",children:"Gia s"}),d?n.jsxs(Fc,{children:[n.jsx($c,{asChild:!0,children:n.jsx(H,{variant:"ghost",className:"h-10 w-10 rounded-full p-0 flex-shrink-0",disabled:u,children:u?n.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 animate-pulse"}):n.jsx("img",{src:(o==null?void 0:o.avatarURL)||"https://placehold.co/200x200?text=No+Image",alt:(o==null?void 0:o.fullName)||"User avatar",className:"h-10 w-10 rounded-full object-cover border-2 border-white shadow-md",onError:x=>{x.currentTarget.src="https://placehold.co/200x200?text=No+Image"}})})}),n.jsxs(hl,{align:"end",className:"w-56",children:[n.jsx(Ep,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:(o==null?void 0:o.fullName)||"Loading..."}),n.jsx("span",{className:"text-xs text-muted-foreground",children:(o==null?void 0:o.email)||""})]})}),n.jsx(Go,{}),n.jsx(nn,{asChild:!0,children:n.jsxs(_e,{to:se.PROFILE,children:[n.jsx(Pt,{className:"mr-2 h-4 w-4"})," H s"]})}),(o==null?void 0:o.role)==="Tutor"&&n.jsx(nn,{asChild:!0,children:n.jsxs(_e,{to:se.TUTOR_DASHBOARD,children:[n.jsx(uh,{className:"mr-2 h-4 w-4"})," Bng iu khin"]})}),n.jsx(n.Fragment,{children:n.jsx(nn,{asChild:!0,children:n.jsxs(_e,{to:se.MY_ENROLLMENTS,children:[n.jsx(Lv,{className:"mr-2 h-4 w-4"})," Tin  hc tp"]})})}),n.jsx(nn,{asChild:!0,children:n.jsxs(_e,{to:"/my-bookings",className:"cursor-pointer",children:[n.jsx(ft,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Lch hc ca ti"})]})}),n.jsx(nn,{asChild:!0,children:n.jsxs(_e,{to:"/messages",children:[n.jsx(I5,{className:"mr-2 h-4 w-4"}),"Hp chat"]})}),n.jsx(nn,{asChild:!0,children:n.jsxs(_e,{to:se.REFUND_REQUESTS,className:"cursor-pointer",children:[n.jsx($n,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Yu cu hon tin"})]})}),n.jsx(nn,{asChild:!0,children:n.jsxs(_e,{to:se.PAYMENT_HISTORY,children:[n.jsx(Hn,{className:"mr-2 h-4 w-4"})," Lch s thanh ton"]})}),n.jsx(nn,{asChild:!0,children:n.jsxs(_e,{to:se.CHANGE_PASSWORD,children:[n.jsx(mr,{className:"mr-2 h-4 w-4"})," i mt khu"]})}),((o==null?void 0:o.role)==="Tutor"||(o==null?void 0:o.role)==="Admin")&&n.jsx(nn,{asChild:!0,children:n.jsxs(_e,{to:o.role==="Tutor"?"/tutor/settings":"/settings",children:[n.jsx(pg,{className:"mr-2 h-4 w-4"})," Ci t"]})}),n.jsx(Go,{}),n.jsxs(nn,{className:"text-red-600",onClick:g,children:[n.jsx(O5,{className:"mr-2 h-4 w-4"})," ng xut"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(H,{variant:"ghost",asChild:!0,className:"hidden sm:flex",children:n.jsx(_e,{to:se.SIGN_IN,children:"ng nhp"})}),n.jsx(H,{asChild:!0,className:"hidden sm:flex",children:n.jsx(_e,{to:se.SIGN_UP,children:"ng k"})})]}),n.jsx(H,{variant:"ghost",size:"icon",className:"xl:hidden flex-shrink-0",onClick:()=>i(!a),children:a?n.jsx(Ml,{className:"w-5 h-5"}):n.jsx(P5,{className:"w-5 h-5"})})]})]}),!b&&a&&n.jsx("div",{className:"xl:hidden border-t bg-white shadow-lg",children:n.jsxs("nav",{className:"flex flex-col p-4 space-y-1",children:[!d&&n.jsxs(n.Fragment,{children:[n.jsx(_e,{to:se.SIGN_IN,onClick:()=>i(!1),className:"sm:hidden px-4 py-3 text-sm font-medium text-primary hover:bg-gray-50 rounded-lg transition-colors",children:"ng nhp"}),n.jsx(_e,{to:se.SIGN_UP,onClick:()=>i(!1),className:"sm:hidden px-4 py-3 text-sm font-medium text-white bg-primary hover:bg-primary/90 rounded-lg transition-colors text-center",children:"ng k"}),n.jsx("div",{className:"sm:hidden h-px bg-gray-200 my-2"})]}),n.jsx(_e,{to:se.HOME,onClick:()=>i(!1),className:fe("px-4 py-3 text-sm font-medium rounded-lg transition-colors",v(se.HOME)?"bg-primary/10 text-primary":"text-gray-700 hover:bg-gray-50"),children:"Trang ch"}),n.jsx(_e,{to:se.LANGUAGES,onClick:()=>i(!1),className:fe("px-4 py-3 text-sm font-medium rounded-lg transition-colors",v(se.LANGUAGES)?"bg-primary/10 text-primary":"text-gray-700 hover:bg-gray-50"),children:"Ngn ng"}),n.jsx(_e,{to:se.TUTORS,onClick:()=>i(!1),className:fe("px-4 py-3 text-sm font-medium rounded-lg transition-colors",v(se.TUTORS)?"bg-primary/10 text-primary":"text-gray-700 hover:bg-gray-50"),children:"Gia s"}),n.jsx(_e,{to:se.BECOME_TUTOR,onClick:()=>i(!1),className:fe("px-4 py-3 text-sm font-medium rounded-lg transition-colors",v(se.BECOME_TUTOR)?"bg-primary/10 text-primary":"text-gray-700 hover:bg-gray-50"),children:"Tr thnh gia s"})]})})]})})},xye=()=>{const[e,t]=y.useState([]);return y.useEffect(()=>{(async()=>{try{const a=(await ee.get("/languages/all")).data.result||[];if(a.length>0){const i=a.slice(0,5).map(o=>({languageID:o.id,languageName:o.nameVi||o.nameEn,languageNameEn:o.nameEn}));t(i)}}catch(r){console.error("Failed to fetch languages:",r)}})()},[]),n.jsx("footer",{className:"bg-gray-900 text-white py-12",children:n.jsxs("div",{className:"w-full px-8 lg:px-16",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-2 rounded-lg",children:n.jsx(Un,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"text-2xl font-bold text-white",children:["Lingua",n.jsx("span",{className:"text-blue-400",children:"Hub"})]})]}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Kt ni ngi hc ngn ng vi ngi bn ng trn ton th gii. Thnh tho mi ngn ng vi cc bi hc c c nhn ha."}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx(Zz,{className:"w-5 h-5 text-gray-400 hover:text-blue-400 cursor-pointer transition-colors"}),n.jsx(gq,{className:"w-5 h-5 text-gray-400 hover:text-blue-400 cursor-pointer transition-colors"}),n.jsx(sq,{className:"w-5 h-5 text-gray-400 hover:text-blue-400 cursor-pointer transition-colors"}),n.jsx(aq,{className:"w-5 h-5 text-gray-400 hover:text-blue-400 cursor-pointer transition-colors"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lin kt nhanh"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(_e,{to:"/",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Trang ch"})}),n.jsx("li",{children:n.jsx(_e,{to:"/tutors",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Tm gia s"})}),n.jsx("li",{children:n.jsx(_e,{to:"/languages",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Kha hc"})}),n.jsx("li",{children:n.jsx(_e,{to:"/apply-tutor",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Tr thnh gia s"})}),n.jsx("li",{children:n.jsx(_e,{to:"/policy",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Chnh sch & iu khon"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ngn ng ph bin"}),n.jsx("ul",{className:"space-y-2",children:e.length>0?e.filter(s=>(s==null?void 0:s.languageName)&&(s==null?void 0:s.languageNameEn)).map(s=>n.jsx("li",{children:n.jsx(_e,{to:`/languages/${s.languageNameEn.toLowerCase()}`,className:"text-gray-300 hover:text-blue-400 transition-colors",children:s.languageName})},s.languageID)):n.jsxs(n.Fragment,{children:[n.jsx("li",{children:n.jsx(_e,{to:"/languages/english",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Ting Anh"})}),n.jsx("li",{children:n.jsx(_e,{to:"/languages/japanese",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Ting Nht"})}),n.jsx("li",{children:n.jsx(_e,{to:"/languages/korean",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Ting Hn"})}),n.jsx("li",{children:n.jsx(_e,{to:"/languages/chinese",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Ting Trung"})}),n.jsx("li",{children:n.jsx(_e,{to:"/languages/french",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"Ting Php"})})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lin h vi chng ti"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Gr,{className:"w-5 h-5 text-blue-400"}),n.jsx("span",{className:"text-gray-300",children:"hello@linguahub.com"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Il,{className:"w-5 h-5 text-blue-400"}),n.jsx("span",{className:"text-gray-300",children:"+1 (555) 123-4567"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Au,{className:"w-5 h-5 text-blue-400"}),n.jsx("span",{className:"text-gray-300",children:"New York, NY 10001"})]})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:n.jsx("p",{className:"text-gray-400",children:" 2025 LinguaHub. All rights reserved."})})]})})};var RN="ToastProvider",[ON,yye,vye]=Lg("Toast"),[N3]=Jn("Toast",[vye]),[bye,mx]=N3(RN),k3=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[u,h]=y.useState(0),d=y.useRef(!1),f=y.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${RN}\`. Expected non-empty \`string\`.`),n.jsx(ON.Provider,{scope:t,children:n.jsx(bye,{scope:t,label:s,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>h(m=>m+1),[]),onToastRemove:y.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};k3.displayName=RN;var S3="ToastViewport",wye=["F8"],vb="toast.viewportPause",bb="toast.viewportResume",C3=y.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=wye,label:a="Notifications ({hotkey})",...i}=e,o=mx(S3,s),l=yye(s),c=y.useRef(null),u=y.useRef(null),h=y.useRef(null),d=y.useRef(null),f=mt(t,d,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;y.useEffect(()=>{const b=v=>{var w;r.length!==0&&r.every(j=>v[j]||v.code===j)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),y.useEffect(()=>{const b=c.current,v=d.current;if(p&&b&&v){const x=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(vb);v.dispatchEvent(k),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(bb);v.dispatchEvent(k),o.isClosePausedRef.current=!1}},j=k=>{!b.contains(k.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",x),b.addEventListener("focusout",j),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[p,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:b})=>{const x=l().map(w=>{const j=w.ref.current,N=[j,...Pye(j)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const b=d.current;if(b){const v=x=>{var N,k,S;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const C=document.activeElement,E=x.shiftKey;if(x.target===b&&E){(N=u.current)==null||N.focus();return}const A=g({tabbingDirection:E?"backwards":"forwards"}),D=A.findIndex(R=>R===C);X0(A.slice(D+1))?x.preventDefault():E?(k=u.current)==null||k.focus():(S=h.current)==null||S.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[l,g]),n.jsxs(ZQ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&n.jsx(wb,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});X0(b)}}),n.jsx(ON.Slot,{scope:s,children:n.jsx(qe.ol,{tabIndex:-1,...i,ref:f})}),p&&n.jsx(wb,{ref:h,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});X0(b)}})]})});C3.displayName=S3;var T3="ToastFocusProxy",wb=y.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=e,i=mx(T3,s);return n.jsx(sN,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});wb.displayName=T3;var af="Toast",jye="toast.swipeStart",Nye="toast.swipeMove",kye="toast.swipeCancel",Sye="toast.swipeEnd",E3=y.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=$r({prop:r,defaultProp:a??!0,onChange:i,caller:af});return n.jsx(Is,{present:s||l,children:n.jsx(Eye,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:xs(e.onPause),onResume:xs(e.onResume),onSwipeStart:Ie(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});E3.displayName=af;var[Cye,Tye]=N3(af,{onClose(){}}),Eye=y.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:m,...p}=e,g=mx(af,s),[b,v]=y.useState(null),x=mt(t,R=>v(R)),w=y.useRef(null),j=y.useRef(null),N=a||g.duration,k=y.useRef(0),S=y.useRef(N),C=y.useRef(0),{onToastAdd:E,onToastRemove:T}=g,_=xs(()=>{var U;(b==null?void 0:b.contains(document.activeElement))&&((U=g.viewport)==null||U.focus()),o()}),A=y.useCallback(R=>{!R||R===1/0||(window.clearTimeout(C.current),k.current=new Date().getTime(),C.current=window.setTimeout(_,R))},[_]);y.useEffect(()=>{const R=g.viewport;if(R){const U=()=>{A(S.current),u==null||u()},I=()=>{const L=new Date().getTime()-k.current;S.current=S.current-L,window.clearTimeout(C.current),c==null||c()};return R.addEventListener(vb,I),R.addEventListener(bb,U),()=>{R.removeEventListener(vb,I),R.removeEventListener(bb,U)}}},[g.viewport,N,c,u,A]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&A(N)},[i,N,g.isClosePausedRef,A]),y.useEffect(()=>(E(),()=>T()),[E,T]);const D=y.useMemo(()=>b?I3(b):null,[b]);return g.viewport?n.jsxs(n.Fragment,{children:[D&&n.jsx(_ye,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:D}),n.jsx(Cye,{scope:s,onClose:_,children:go.createPortal(n.jsx(ON.ItemSlot,{scope:s,children:n.jsx(QQ,{asChild:!0,onEscapeKeyDown:Ie(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||_(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(qe.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:Ie(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:Ie(e.onPointerMove,R=>{if(!w.current)return;const U=R.clientX-w.current.x,I=R.clientY-w.current.y,L=!!j.current,M=["left","right"].includes(g.swipeDirection),$=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=M?$(0,U):0,O=M?0:$(0,I),q=R.pointerType==="touch"?10:2,B={x:F,y:O},z={originalEvent:R,delta:B};L?(j.current=B,em(Nye,d,z,{discrete:!1})):ST(B,g.swipeDirection,q)?(j.current=B,em(jye,h,z,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(U)>q||Math.abs(I)>q)&&(w.current=null)}),onPointerUp:Ie(e.onPointerUp,R=>{const U=j.current,I=R.target;if(I.hasPointerCapture(R.pointerId)&&I.releasePointerCapture(R.pointerId),j.current=null,w.current=null,U){const L=R.currentTarget,M={originalEvent:R,delta:U};ST(U,g.swipeDirection,g.swipeThreshold)?em(Sye,m,M,{discrete:!0}):em(kye,f,M,{discrete:!0}),L.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),_ye=e=>{const{__scopeToast:t,children:s,...r}=e,a=mx(af,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return Rye(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:n.jsx(Pu,{asChild:!0,children:n.jsx(sN,{...r,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",s]})})})},Aye="ToastTitle",_3=y.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(qe.div,{...r,ref:t})});_3.displayName=Aye;var Dye="ToastDescription",A3=y.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(qe.div,{...r,ref:t})});A3.displayName=Dye;var D3="ToastAction",R3=y.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(P3,{altText:s,asChild:!0,children:n.jsx(PN,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${D3}\`. Expected non-empty \`string\`.`),null)});R3.displayName=D3;var O3="ToastClose",PN=y.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,a=Tye(O3,s);return n.jsx(P3,{asChild:!0,children:n.jsx(qe.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,a.onClose)})})});PN.displayName=O3;var P3=y.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...a}=e;return n.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function I3(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Oye(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...I3(r))}}),t}function em(e,t,s,{discrete:r}){const a=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?wj(a,i):a.dispatchEvent(i)}var ST=(e,t,s=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>s:!i&&a>s};function Rye(e=()=>{}){const t=xs(e);_n(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function Oye(e){return e.nodeType===e.ELEMENT_NODE}function Pye(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function X0(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var Iye=k3,M3=C3,L3=E3,F3=_3,$3=A3,U3=R3,V3=PN;const Mye=Iye,B3=y.forwardRef(({className:e,...t},s)=>n.jsx(M3,{ref:s,className:fe("fixed top-0 z-[100] flex  w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));B3.displayName=M3.displayName;const Lye=qh("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",warning:"warning group border-warning bg-red text-warning-foreground",success:"bg-green-600 text-white"}},defaultVariants:{variant:"default"}}),z3=y.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(L3,{ref:r,className:fe(Lye({variant:t}),e),...s}));z3.displayName=L3.displayName;const Fye=y.forwardRef(({className:e,...t},s)=>n.jsx(U3,{ref:s,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Fye.displayName=U3.displayName;const q3=y.forwardRef(({className:e,...t},s)=>n.jsx(V3,{ref:s,className:fe("group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100",e),"toast-close":"",...t,children:n.jsx(PR,{className:"h-4 w-4"})}));q3.displayName=V3.displayName;const H3=y.forwardRef(({className:e,...t},s)=>n.jsx(F3,{ref:s,className:fe("text-sm font-semibold [&+div]:text-xs",e),...t}));H3.displayName=F3.displayName;const W3=y.forwardRef(({className:e,...t},s)=>n.jsx($3,{ref:s,className:fe("text-sm opacity-90",e),...t}));W3.displayName=$3.displayName;function $ye(){const{toasts:e}=jt();return n.jsxs(Mye,{children:[e.map(function({id:t,title:s,description:r,action:a,...i}){return n.jsxs(z3,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(H3,{children:s}),r&&n.jsx(W3,{children:r})]}),a,n.jsx(q3,{})]},t)}),n.jsx(B3,{})]})}function Uye(){const e=Wn(),t=["/dashboard","/students","/schedule","/booked-slots","/packages","/tutor/courses","/create-course","/payments","/withdrawal"],s=e.pathname.startsWith("/admin")||t.some(r=>e.pathname.startsWith(r));return n.jsxs(Vhe,{children:[n.jsx(j4,{}),n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx(gye,{}),n.jsxs("main",{children:[n.jsx(pye,{}),n.jsx($ye,{})]}),!s&&n.jsx(xye,{})]})]})}const Vye=new f$({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1,retry:1}}});J0.createRoot(document.getElementById("root")).render(n.jsx(y.StrictMode,{children:n.jsx(oQ,{clientId:"42781484149-pel6vfv7rb7ih298ru93t6vq1fg8q3sq.apps.googleusercontent.com",children:n.jsx(m$,{client:Vye,children:n.jsx(I8,{children:n.jsxs(e7,{children:[n.jsx(j4,{}),n.jsx(Uye,{})]})})})})}));export{ye as C,re as R,un as S,Je as a,yt as b,De as c,Qo as d,K5 as e,xa as f,Nn as g,cve as h,Ih as i,n as j,go as k,Nb as l,uve as m,KT as n,y as r,vde as s,St as t,Qe as u,npe as v};
