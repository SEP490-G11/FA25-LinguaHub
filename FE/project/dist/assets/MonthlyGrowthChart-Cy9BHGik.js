import{r as l,e as ve,R as ye,j as c,C as X,a as Y,b as $,c as U}from"./index-Ncio_aso.js";import{c as F,s as V,a as ae,b as re,d as xe,e as ge,f as H,g as Ae,i as ne,h as Z,j as be,p as Ee,r as ie,D as Pe,u as se,k as Ie,S as je,l as Ce,m as ke,n as le,o as we,q as Ne,t as Se,v as Oe,w as Te,x as De,Z as Le,L as M,y as q,z as J,A as D,B as We,C as Be,J as Ge,E as O,F as Ke,G as Me,H as Re,I as _e,K as oe,M as ze,N as z,O as R,P as Fe,Q as Ve,R as Xe,T as Ye}from"./CategoricalChart-D66cckQl.js";import{u as $e,G as Ue,a as He,C as Ze,X as qe,Y as Je}from"./CartesianChart-C3n-Q8Q0.js";import{L as Qe}from"./Legend-C5xP9T8b.js";import{g as et,A as Q,D as tt}from"./getRadiusAndStrokeWidthFromDot-CddYn3aj.js";var ce=(a,e,r,t)=>ae(a,"xAxis",e,t),de=(a,e,r,t)=>re(a,"xAxis",e,t),ue=(a,e,r,t)=>ae(a,"yAxis",r,t),pe=(a,e,r,t)=>re(a,"yAxis",r,t),at=F([V,ce,ue,de,pe],(a,e,r,t,s)=>ne(a,"xAxis")?Z(e,t,!1):Z(r,s,!1)),rt=(a,e,r,t,s)=>s,he=F([be,rt],(a,e)=>a.filter(r=>r.type==="area").find(r=>r.id===e)),nt=(a,e,r,t,s)=>{var n,o=he(a,e,r,t,s);if(o!=null){var i=V(a),d=ne(i,"xAxis"),u;if(d?u=H(a,"yAxis",r,t):u=H(a,"xAxis",e,t),u!=null){var{stackId:v}=o,x=Ae(o);if(!(v==null||x==null)){var h=(n=u[v])===null||n===void 0?void 0:n.stackedData;return h==null?void 0:h.find(m=>m.key===x)}}}},it=F([V,ce,ue,de,pe,nt,xe,at,he,ge],(a,e,r,t,s,n,o,i,d,u)=>{var{chartData:v,dataStartIndex:x,dataEndIndex:h}=o;if(!(d==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||t==null||s==null||t.length===0||s.length===0||i==null)){var{data:m}=d,y;if(m&&m.length>0?y=m:y=v==null?void 0:v.slice(x,h+1),y!=null)return It({layout:a,xAxis:e,yAxis:r,xAxisTicks:t,yAxisTicks:s,dataStartIndex:x,areaSettings:d,stackedData:n,displayedData:y,chartBaseValue:u,bandSize:i})}}),st=["id"],lt=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function S(){return S=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(a[t]=r[t])}return a},S.apply(null,arguments)}function me(a,e){if(a==null)return{};var r,t,s=ot(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(t=0;t<n.length;t++)r=n[t],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(s[r]=a[r])}return s}function ot(a,e){if(a==null)return{};var r={};for(var t in a)if({}.hasOwnProperty.call(a,t)){if(e.indexOf(t)!==-1)continue;r[t]=a[t]}return r}function ee(a,e){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),r.push.apply(r,t)}return r}function T(a){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ee(Object(r),!0).forEach(function(t){ct(a,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(r,t))})}return a}function ct(a,e,r){return(e=dt(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function dt(a){var e=ut(a,"string");return typeof e=="symbol"?e:e+""}function ut(a,e){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var t=r.call(a,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function _(a,e){return a&&a!=="none"?a:e}var pt=a=>{var{dataKey:e,name:r,stroke:t,fill:s,legendType:n,hide:o}=a;return[{inactive:o,dataKey:e,type:n,color:_(t,s),value:le(r,e),payload:a}]},ht=l.memo(a=>{var{dataKey:e,data:r,stroke:t,strokeWidth:s,fill:n,name:o,hide:i,unit:d,tooltipType:u}=a,v={dataDefinedOnItem:r,positions:void 0,settings:{stroke:t,strokeWidth:s,fill:n,dataKey:e,nameKey:void 0,name:le(o,e),hide:i,type:u,color:_(t,n),unit:d}};return l.createElement(we,{tooltipEntrySettings:v})});function mt(a){var{clipPathId:e,points:r,props:t}=a,{needClip:s,dot:n,dataKey:o}=t,i=oe(t);return l.createElement(tt,{points:r,dot:n,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:i,needClip:s,clipPathId:e})}function ft(a){var{showLabels:e,children:r,points:t}=a,s=t.map(n=>{var o,i,d={x:(o=n.x)!==null&&o!==void 0?o:0,y:(i=n.y)!==null&&i!==void 0?i:0,width:0,lowerWidth:0,upperWidth:0,height:0};return T(T({},d),{},{value:n.value,payload:n.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return l.createElement(_e,{value:e?s:void 0},r)}function te(a){var{points:e,baseLine:r,needClip:t,clipPathId:s,props:n}=a,{layout:o,type:i,stroke:d,connectNulls:u,isRange:v}=n,{id:x}=n,h=me(n,st),m=oe(h),y=ze(h);return l.createElement(l.Fragment,null,(e==null?void 0:e.length)>1&&l.createElement(M,{clipPath:t?"url(#clipPath-".concat(s,")"):void 0},l.createElement(z,S({},y,{id:x,points:e,connectNulls:u,type:i,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&l.createElement(z,S({},m,{className:"recharts-area-curve",layout:o,type:i,connectNulls:u,fill:"none",points:e})),d!=="none"&&v&&l.createElement(z,S({},m,{className:"recharts-area-curve",layout:o,type:i,connectNulls:u,fill:"none",points:r}))),l.createElement(mt,{points:e,props:h,clipPathId:s}))}function vt(a){var{alpha:e,baseLine:r,points:t,strokeWidth:s}=a,n=t[0].y,o=t[t.length-1].y;if(!R(n)||!R(o))return null;var i=e*Math.abs(n-o),d=Math.max(...t.map(u=>u.x||0));return D(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(u=>u.x||0),d)),D(d)?l.createElement("rect",{x:0,y:n<o?n:n-i,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(i)}):null}function yt(a){var{alpha:e,baseLine:r,points:t,strokeWidth:s}=a,n=t[0].x,o=t[t.length-1].x;if(!R(n)||!R(o))return null;var i=e*Math.abs(n-o),d=Math.max(...t.map(u=>u.y||0));return D(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(u=>u.y||0),d)),D(d)?l.createElement("rect",{x:n<o?n:n-i,y:0,width:i,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function xt(a){var{alpha:e,layout:r,points:t,baseLine:s,strokeWidth:n}=a;return r==="vertical"?l.createElement(vt,{alpha:e,points:t,baseLine:s,strokeWidth:n}):l.createElement(yt,{alpha:e,points:t,baseLine:s,strokeWidth:n})}function gt(a){var{needClip:e,clipPathId:r,props:t,previousPointsRef:s,previousBaselineRef:n}=a,{points:o,baseLine:i,isAnimationActive:d,animationBegin:u,animationDuration:v,animationEasing:x,onAnimationStart:h,onAnimationEnd:m}=t,y=l.useMemo(()=>({points:o,baseLine:i}),[o,i]),b=We(y,"recharts-area-"),g=Be(),[k,P]=l.useState(!1),I=!k,p=l.useCallback(()=>{typeof m=="function"&&m(),P(!1)},[m]),A=l.useCallback(()=>{typeof h=="function"&&h(),P(!0)},[h]);if(g==null)return null;var f=s.current,C=n.current;return l.createElement(ft,{showLabels:I,points:o},t.children,l.createElement(Ge,{animationId:b,begin:u,duration:v,isActive:d,easing:x,onAnimationEnd:p,onAnimationStart:A,key:b},E=>{if(f){var L=f.length/o.length,G=E===1?o:o.map((j,W)=>{var N=Math.floor(W*L);if(f[N]){var B=f[N];return T(T({},j),{},{x:O(B.x,j.x,E),y:O(B.y,j.y,E)})}return j}),w;return D(i)?w=O(C,i,E):Ke(i)||Me(i)?w=O(C,0,E):w=i.map((j,W)=>{var N=Math.floor(W*L);if(Array.isArray(C)&&C[N]){var B=C[N];return T(T({},j),{},{x:O(B.x,j.x,E),y:O(B.y,j.y,E)})}return j}),E>0&&(s.current=G,n.current=w),l.createElement(te,{points:G,baseLine:w,needClip:e,clipPathId:r,props:t})}return E>0&&(s.current=o,n.current=i),l.createElement(M,null,d&&l.createElement("defs",null,l.createElement("clipPath",{id:"animationClipPath-".concat(r)},l.createElement(xt,{alpha:E,points:o,baseLine:i,layout:g,strokeWidth:t.strokeWidth}))),l.createElement(M,{clipPath:"url(#animationClipPath-".concat(r,")")},l.createElement(te,{points:o,baseLine:i,needClip:e,clipPathId:r,props:t})))}),l.createElement(Re,{label:t.label}))}function At(a){var{needClip:e,clipPathId:r,props:t}=a,s=l.useRef(null),n=l.useRef();return l.createElement(gt,{needClip:e,clipPathId:r,props:t,previousPointsRef:s,previousBaselineRef:n})}class bt extends l.PureComponent{render(){var{hide:e,dot:r,points:t,className:s,top:n,left:o,needClip:i,xAxisId:d,yAxisId:u,width:v,height:x,id:h,baseLine:m,zIndex:y}=this.props;if(e)return null;var b=ve("recharts-area",s),g=h,{r:k,strokeWidth:P}=et(r),I=De(r),p=k*2+P,A=i?"url(#clipPath-".concat(I?"":"dots-").concat(g,")"):void 0;return l.createElement(Le,{zIndex:y},l.createElement(M,{className:b},i&&l.createElement("defs",null,l.createElement(Ue,{clipPathId:g,xAxisId:d,yAxisId:u}),!I&&l.createElement("clipPath",{id:"clipPath-dots-".concat(g)},l.createElement("rect",{x:o-p/2,y:n-p/2,width:v+p,height:x+p}))),l.createElement(At,{needClip:i,clipPathId:g,props:this.props})),l.createElement(Q,{points:t,mainColor:_(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}),this.props.isRange&&Array.isArray(m)&&l.createElement(Q,{points:m,mainColor:_(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}))}}var fe={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Pe.area};function Et(a){var e,r=ie(a,fe),{activeDot:t,animationBegin:s,animationDuration:n,animationEasing:o,connectNulls:i,dot:d,fill:u,fillOpacity:v,hide:x,isAnimationActive:h,legendType:m,stroke:y,xAxisId:b,yAxisId:g}=r,k=me(r,lt),P=Ne(),I=Se(),{needClip:p}=$e(b,g),A=se(),{points:f,isRange:C,baseLine:E}=(e=Oe(N=>it(N,b,g,A,a.id)))!==null&&e!==void 0?e:{},L=Te();if(P!=="horizontal"&&P!=="vertical"||L==null||I!=="AreaChart"&&I!=="ComposedChart")return null;var{height:G,width:w,x:j,y:W}=L;return!f||!f.length?null:l.createElement(bt,S({},k,{activeDot:t,animationBegin:s,animationDuration:n,animationEasing:o,baseLine:E,connectNulls:i,dot:d,fill:u,fillOpacity:v,height:G,hide:x,layout:P,isAnimationActive:h==="auto"?!Fe.isSsr:h,isRange:C,legendType:m,needClip:p,points:f,stroke:y,width:w,left:j,top:W,xAxisId:b,yAxisId:g}))}var Pt=(a,e,r,t,s)=>{var n=r??e;if(D(n))return n;var o=a==="horizontal"?s:t,i=o.scale.domain();if(o.type==="number"){var d=Math.max(i[0],i[1]),u=Math.min(i[0],i[1]);return n==="dataMin"?u:n==="dataMax"||d<0?d:Math.max(Math.min(i[0],i[1]),0)}return n==="dataMin"?i[0]:n==="dataMax"?i[1]:i[0]};function It(a){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:t},stackedData:s,layout:n,chartBaseValue:o,xAxis:i,yAxis:d,displayedData:u,dataStartIndex:v,xAxisTicks:x,yAxisTicks:h,bandSize:m}=a,y=s&&s.length,b=Pt(n,o,r,i,d),g=n==="horizontal",k=!1,P=u.map((p,A)=>{var f;y?f=s[v+A]:(f=q(p,t),Array.isArray(f)?k=!0:f=[b,f]);var C=f[1]==null||y&&!e&&q(p,t)==null;return g?{x:J({axis:i,ticks:x,bandSize:m,entry:p,index:A}),y:C?null:d.scale(f[1]),value:f,payload:p}:{x:C?null:i.scale(f[1]),y:J({axis:d,ticks:h,bandSize:m,entry:p,index:A}),value:f,payload:p}}),I;return y||k?I=P.map(p=>{var A=Array.isArray(p.value)?p.value[0]:null;return g?{x:p.x,y:A!=null&&p.y!=null?d.scale(A):null,payload:p.payload}:{x:A!=null?i.scale(A):null,y:p.y,payload:p.payload}}):I=g?d.scale(b):i.scale(b),{points:P,baseLine:I,isRange:k}}function jt(a){var e=ie(a,fe),r=se();return l.createElement(Ie,{id:e.id,type:"area"},t=>l.createElement(l.Fragment,null,l.createElement(je,{legendPayload:pt(e)}),l.createElement(ht,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),l.createElement(Ce,{type:"area",id:t,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:ke(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),l.createElement(Et,S({},e,{id:t}))))}var K=l.memo(jt,Ee);K.displayName="Area";var Ct=["axis"],kt=l.forwardRef((a,e)=>l.createElement(He,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ct,tooltipPayloadSearcher:Ve,categoricalChartProps:a,ref:e}));const wt=({data:a})=>{if(!a||a.length===0)return c.jsxs(X,{children:[c.jsx(Y,{children:c.jsx($,{children:"Tăng trưởng theo tháng"})}),c.jsx(U,{children:c.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",role:"status","aria-label":"Không có dữ liệu tăng trưởng",children:"Không có dữ liệu tăng trưởng trong khoảng thời gian đã chọn"})})]});const e=l.useMemo(()=>a.map(t=>({year:t.year,month:t.month,displayMonth:`${t.month}/${t.year}`,newUsers:t.newUsers,newTutors:t.newTutors,newEnrollments:t.newEnrollments})),[a]),r=({active:t,payload:s})=>{if(t&&s&&s.length){const n=s[0].payload,o=["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"];return c.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[c.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-2",children:[o[n.month-1]," ",n.year]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500"}),c.jsx("span",{className:"text-gray-600",children:"Người dùng mới:"}),c.jsx("span",{className:"font-medium",children:n.newUsers})]}),c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),c.jsx("span",{className:"text-gray-600",children:"Giảng viên mới:"}),c.jsx("span",{className:"font-medium",children:n.newTutors})]}),c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx("span",{className:"w-3 h-3 rounded-full bg-purple-500"}),c.jsx("span",{className:"text-gray-600",children:"Đăng ký mới:"}),c.jsx("span",{className:"font-medium",children:n.newEnrollments})]})]})]})}return null};return c.jsxs(X,{children:[c.jsx(Y,{children:c.jsx($,{id:"monthly-growth-heading",className:"text-lg md:text-xl",children:"Tăng trưởng theo tháng"})}),c.jsx(U,{className:"pt-4",children:c.jsx("div",{className:"w-full overflow-x-auto",role:"img","aria-label":"Area chart showing monthly growth trends with new users, new tutors, and new enrollments",children:c.jsx(Xe,{width:"100%",height:250,minWidth:300,className:"md:!h-[300px]",children:c.jsxs(kt,{data:e,margin:{top:5,right:30,left:20,bottom:5},accessibilityLayer:!0,children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"usersGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:.8}),c.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"tutorsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:.8}),c.jsx("stop",{offset:"100%",stopColor:"#10B981",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"enrollmentsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"#A855F7",stopOpacity:.8}),c.jsx("stop",{offset:"100%",stopColor:"#A855F7",stopOpacity:.1})]})]}),c.jsx(Ze,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),c.jsx(qe,{dataKey:"displayMonth",stroke:"#6B7280",fontSize:12,tickLine:!1}),c.jsx(Je,{stroke:"#6B7280",fontSize:12,tickLine:!1,tickFormatter:t=>t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString()}),c.jsx(Ye,{content:c.jsx(r,{}),cursor:{stroke:"#9CA3AF",strokeWidth:1}}),c.jsx(Qe,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),c.jsx(K,{type:"monotone",dataKey:"newUsers",name:"Người dùng mới",stroke:"#3B82F6",strokeWidth:2,fill:"url(#usersGradient)",dot:{fill:"#3B82F6",r:3},activeDot:{r:5}}),c.jsx(K,{type:"monotone",dataKey:"newTutors",name:"Giảng viên mới",stroke:"#10B981",strokeWidth:2,fill:"url(#tutorsGradient)",dot:{fill:"#10B981",r:3},activeDot:{r:5}}),c.jsx(K,{type:"monotone",dataKey:"newEnrollments",name:"Đăng ký mới",stroke:"#A855F7",strokeWidth:2,fill:"url(#enrollmentsGradient)",dot:{fill:"#A855F7",r:3},activeDot:{r:5}})]})})})})]})},Lt=ye.memo(wt);export{Lt as default};
