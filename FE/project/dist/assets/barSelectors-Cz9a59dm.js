import{A as re,F as V,O as X,p as Be,r as we,D as q,u as de,k as Se,S as je,l as Ce,m as _e,Z as J,n as ve,o as De,q as Ke,ae as Me,v as R,y as fe,L as T,aP as ze,aQ as Le,aR as te,ak as pe,as as Fe,ap as me,B as Ne,J as Re,E as C,H as Te,I as We,K as $e,al as Ve,G as Ge,ah as ne,c as _,ac as Ue,aS as Xe,a as D,b as K,s as M,d as Ye,h as he,j as ye,aT as xe,aU as Ze,aV as qe,f as ie,g as Je,aW as Qe,aX as oe,aY as He,ar as Y}from"./CategoricalChart-D66cckQl.js";import{r as l,e as ea}from"./index-Ncio_aso.js";import{S as aa,C as ra,u as ge,a as be,b as Pe}from"./tooltipContext-jPMpA2RG.js";import{u as ta,G as na}from"./CartesianChart-C3n-Q8Q0.js";var ia="Invariant failed";function oa(e,a){throw new Error(ia)}var sa=["x","y"];function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},Z.apply(null,arguments)}function se(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function z(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?se(Object(r),!0).forEach(function(t){la(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function la(e,a,r){return(a=ua(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function ua(e){var a=ca(e,"string");return typeof a=="symbol"?a:a+""}function ca(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function da(e,a){if(e==null)return{};var r,t,i=va(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function va(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function fa(e,a){var{x:r,y:t}=e,i=da(e,sa),n="".concat(r),o=parseInt(n,10),d="".concat(t),v=parseInt(d,10),s="".concat(a.height||i.height),u=parseInt(s,10),f="".concat(a.width||i.width),m=parseInt(f,10);return z(z(z(z(z({},a),i),o?{x:o}:{}),v?{y:v}:{}),{},{height:u,width:m,name:a.name,radius:a.radius})}function W(e){return l.createElement(aa,Z({shapeType:"rectangle",propTransformer:fa,activeClassName:"recharts-active-bar"},e))}var pa=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(t,i)=>{if(re(a))return a;var n=re(t)||V(t);return n?a(t,i):(n||oa(),r)}},ma=["children"];function ha(e,a){if(e==null)return{};var r,t,i=ya(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ya(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var xa={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ga=l.createContext(xa);function ba(e){var{children:a}=e,r=ha(e,ma);return l.createElement(ga.Provider,{value:r},a)}function Pa(e,a){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&X(e.zIndex)?e.zIndex:a}var Oa=["onMouseEnter","onMouseLeave","onClick"],Ia=["value","background","tooltipPosition"],Aa=["id"],ka=["onMouseEnter","onClick","onMouseLeave"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},S.apply(null,arguments)}function le(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function I(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?le(Object(r),!0).forEach(function(t){Ea(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ea(e,a,r){return(a=Ba(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Ba(e){var a=wa(e,"string");return typeof a=="symbol"?a:a+""}function wa(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function $(e,a){if(e==null)return{};var r,t,i=Sa(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sa(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var ja=e=>{var{dataKey:a,name:r,fill:t,legendType:i,hide:n}=e;return[{inactive:n,dataKey:a,type:i,color:t,value:ve(r,a),payload:e}]},Ca=l.memo(e=>{var{dataKey:a,stroke:r,strokeWidth:t,fill:i,name:n,hide:o,unit:d,tooltipType:v}=e,s={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:t,fill:i,dataKey:a,nameKey:void 0,name:ve(n,a),hide:o,type:v,color:i,unit:d}};return l.createElement(De,{tooltipEntrySettings:s})});function _a(e){var a=R(pe),{data:r,dataKey:t,background:i,allOtherBarProps:n}=e,{onMouseEnter:o,onMouseLeave:d,onClick:v}=n,s=$(n,Oa),u=ge(o,t),f=be(d),m=Pe(v,t);if(!i||r==null)return null;var y=Fe(i);return l.createElement(J,{zIndex:Pa(i,q.barBackground)},r.map((x,h)=>{var{value:P,background:c,tooltipPosition:p}=x,O=$(x,Ia);if(!c)return null;var g=u(x,h),A=f(x,h),b=m(x,h),B=I(I(I(I(I({option:i,isActive:String(h)===a},O),{},{fill:"#eee"},c),y),me(s,x,h)),{},{onMouseEnter:g,onMouseLeave:A,onClick:b,dataKey:t,index:h,className:"recharts-bar-background-rectangle"});return l.createElement(W,S({key:"background-bar-".concat(h)},B))}))}function Da(e){var{showLabels:a,children:r,rects:t}=e,i=t==null?void 0:t.map(n=>{var o={x:n.x,y:n.y,width:n.width,lowerWidth:n.width,upperWidth:n.width,height:n.height};return I(I({},o),{},{value:n.value,payload:n.payload,parentViewBox:n.parentViewBox,viewBox:o,fill:n.fill})});return l.createElement(We,{value:a?i:void 0},r)}function Ka(e){var{shape:a,activeBar:r,baseProps:t,entry:i,index:n,dataKey:o}=e,d=R(pe),v=R(Ve),s=r&&String(n)===d&&(v==null||o===v),u=s?r:a;return s?l.createElement(J,{zIndex:q.activeBar},l.createElement(W,S({},t,{name:String(t.name)},i,{isActive:s,option:u,index:n,dataKey:o}))):l.createElement(W,S({},t,{name:String(t.name)},i,{isActive:s,option:u,index:n,dataKey:o}))}function Ma(e){var{shape:a,baseProps:r,entry:t,index:i,dataKey:n}=e;return l.createElement(W,S({},r,{name:String(r.name)},t,{isActive:!1,option:a,index:i,dataKey:n}))}function za(e){var a,{data:r,props:t}=e,i=(a=$e(t))!==null&&a!==void 0?a:{},{id:n}=i,o=$(i,Aa),{shape:d,dataKey:v,activeBar:s}=t,{onMouseEnter:u,onClick:f,onMouseLeave:m}=t,y=$(t,ka),x=ge(u,v),h=be(m),P=Pe(f,v);return r?l.createElement(l.Fragment,null,r.map((c,p)=>l.createElement(T,S({key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(p),className:"recharts-bar-rectangle"},me(y,c,p),{onMouseEnter:x(c,p),onMouseLeave:h(c,p),onClick:P(c,p)}),s?l.createElement(Ka,{shape:d,activeBar:s,baseProps:o,entry:c,index:p,dataKey:v}):l.createElement(Ma,{shape:d,baseProps:o,entry:c,index:p,dataKey:v})))):null}function La(e){var{props:a,previousRectanglesRef:r}=e,{data:t,layout:i,isAnimationActive:n,animationBegin:o,animationDuration:d,animationEasing:v,onAnimationEnd:s,onAnimationStart:u}=a,f=r.current,m=Ne(a,"recharts-bar-"),[y,x]=l.useState(!1),h=!y,P=l.useCallback(()=>{typeof s=="function"&&s(),x(!1)},[s]),c=l.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return l.createElement(Da,{showLabels:h,rects:t},l.createElement(Re,{animationId:m,begin:o,duration:d,isActive:n,easing:v,onAnimationEnd:P,onAnimationStart:c,key:m},p=>{var O=p===1?t:t==null?void 0:t.map((g,A)=>{var b=f&&f[A];if(b)return I(I({},g),{},{x:C(b.x,g.x,p),y:C(b.y,g.y,p),width:C(b.width,g.width,p),height:C(b.height,g.height,p)});if(i==="horizontal"){var B=C(0,g.height,p),w=C(g.stackedBarStart,g.y,p);return I(I({},g),{},{y:w,height:B})}var k=C(0,g.width,p),E=C(g.stackedBarStart,g.x,p);return I(I({},g),{},{width:k,x:E})});return p>0&&(r.current=O??null),O==null?null:l.createElement(T,null,l.createElement(za,{props:a,data:O}))}),l.createElement(Te,{label:a.label}),a.children)}function Fa(e){var a=l.useRef(null);return l.createElement(La,{previousRectanglesRef:a,props:e})}var Oe=0,Na=(e,a)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:fe(e,a)}};class Ra extends l.PureComponent{render(){var{hide:a,data:r,dataKey:t,className:i,xAxisId:n,yAxisId:o,needClip:d,background:v,id:s}=this.props;if(a||r==null)return null;var u=ea("recharts-bar",i),f=s;return l.createElement(T,{className:u,id:s},d&&l.createElement("defs",null,l.createElement(na,{clipPathId:f,xAxisId:n,yAxisId:o})),l.createElement(T,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(f,")"):void 0},l.createElement(_a,{data:r,dataKey:t,background:v,allOtherBarProps:this.props}),l.createElement(Fa,this.props)))}}var Ta={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Oe,xAxisId:0,yAxisId:0,zIndex:q.bar};function Wa(e){var{xAxisId:a,yAxisId:r,hide:t,legendType:i,minPointSize:n,activeBar:o,animationBegin:d,animationDuration:v,animationEasing:s,isAnimationActive:u}=e,{needClip:f}=ta(a,r),m=Ke(),y=de(),x=Me(e.children,ra),h=R(p=>yr(p,a,r,y,e.id,x));if(m!=="vertical"&&m!=="horizontal")return null;var P,c=h==null?void 0:h[0];return c==null||c.height==null||c.width==null?P=0:P=m==="vertical"?c.height/2:c.width/2,l.createElement(ba,{xAxisId:a,yAxisId:r,data:h,dataPointFormatter:Na,errorBarOffset:P},l.createElement(Ra,S({},e,{layout:m,needClip:f,data:h,xAxisId:a,yAxisId:r,hide:t,legendType:i,minPointSize:n,activeBar:o,animationBegin:d,animationDuration:v,animationEasing:s,isAnimationActive:u})))}function $a(e){var{layout:a,barSettings:{dataKey:r,minPointSize:t},pos:i,bandSize:n,xAxis:o,yAxis:d,xAxisTicks:v,yAxisTicks:s,stackedData:u,displayedData:f,offset:m,cells:y,parentViewBox:x,dataStartIndex:h}=e,P=a==="horizontal"?d:o,c=u?P.scale.domain():null,p=ze({numericAxis:P}),O=P.scale(p);return f.map((g,A)=>{var b,B,w,k,E,G;u?b=Le(u[A+h],c):(b=fe(g,r),Array.isArray(b)||(b=[p,b]));var j=pa(t,Oe)(b[1],A);if(a==="horizontal"){var U,[Q,F]=[d.scale(b[0]),d.scale(b[1])];B=te({axis:o,ticks:v,bandSize:n,offset:i.offset,entry:g,index:A}),w=(U=F??Q)!==null&&U!==void 0?U:void 0,k=i.size;var H=Q-F;if(E=Ge(H)?0:H,G={x:B,y:m.top,width:k,height:m.height},Math.abs(j)>0&&Math.abs(E)<Math.abs(j)){var ee=ne(E||j)*(Math.abs(j)-Math.abs(E));w-=ee,E+=ee}}else{var[ae,Ae]=[o.scale(b[0]),o.scale(b[1])];if(B=ae,w=te({axis:d,ticks:s,bandSize:n,offset:i.offset,entry:g,index:A}),k=Ae-ae,E=i.size,G={x:m.left,y:w,width:m.width,height:E},Math.abs(j)>0&&Math.abs(k)<Math.abs(j)){var ke=ne(k||j)*(Math.abs(j)-Math.abs(k));k+=ke}}if(B==null||w==null||k==null||E==null)return null;var Ee=I(I({},g),{},{stackedBarStart:O,x:B,y:w,width:k,height:E,value:u?b:b[1],payload:g,background:G,tooltipPosition:{x:B+k/2,y:w+E/2},parentViewBox:x},y&&y[A]&&y[A].props);return Ee}).filter(Boolean)}function Va(e){var a=we(e,Ta),r=de();return l.createElement(Se,{id:a.id,type:"bar"},t=>l.createElement(l.Fragment,null,l.createElement(je,{legendPayload:ja(a)}),l.createElement(Ca,{dataKey:a.dataKey,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType}),l.createElement(Ce,{type:"bar",id:t,data:void 0,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,stackId:_e(a.stackId),hide:a.hide,barSize:a.barSize,minPointSize:a.minPointSize,maxBarSize:a.maxBarSize,isPanorama:r}),l.createElement(J,{zIndex:a.zIndex},l.createElement(Wa,S({},a,{id:t})))))}var Ga=l.memo(Va,Be);Ga.displayName="Bar";function ue(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function N(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ue(Object(r),!0).forEach(function(t){Ua(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ua(e,a,r){return(a=Xa(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Xa(e){var a=Ya(e,"string");return typeof a=="symbol"?a:a+""}function Ya(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Za=(e,a)=>a,qa=(e,a,r)=>r,Ja=(e,a,r,t)=>t,Qa=(e,a,r,t,i)=>i,L=_([ye,Qa],(e,a)=>e.filter(r=>r.type==="bar").find(r=>r.id===a)),Ha=_([L],e=>e==null?void 0:e.maxBarSize),er=(e,a,r,t,i,n)=>n,ce=(e,a,r)=>{var t=r??e;if(!V(t))return Y(t,a,0)},ar=_([M,ye,Za,qa,Ja],(e,a,r,t,i)=>a.filter(n=>e==="horizontal"?n.xAxisId===r:n.yAxisId===t).filter(n=>n.isPanorama===i).filter(n=>n.hide===!1).filter(n=>n.type==="bar")),rr=(e,a,r,t)=>{var i=M(e);return i==="horizontal"?ie(e,"yAxis",r,t):ie(e,"xAxis",a,t)},tr=(e,a,r)=>{var t=M(e);return t==="horizontal"?oe(e,"xAxis",a):oe(e,"yAxis",r)},nr=(e,a,r)=>{var t={},i=e.filter(He),n=e.filter(s=>s.stackId==null),o=i.reduce((s,u)=>(s[u.stackId]||(s[u.stackId]=[]),s[u.stackId].push(u),s),t),d=Object.entries(o).map(s=>{var[u,f]=s,m=f.map(x=>x.dataKey),y=ce(a,r,f[0].barSize);return{stackId:u,dataKeys:m,barSize:y}}),v=n.map(s=>{var u=[s.dataKey].filter(m=>m!=null),f=ce(a,r,s.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...d,...v]},ir=_([ar,Qe,tr],nr),or=(e,a,r,t,i)=>{var n,o,d=L(e,a,r,t,i);if(d!=null){var v=M(e),s=xe(e),{maxBarSize:u}=d,f=V(u)?s:u,m,y;return v==="horizontal"?(m=D(e,"xAxis",a,t),y=K(e,"xAxis",a,t)):(m=D(e,"yAxis",r,t),y=K(e,"yAxis",r,t)),(n=(o=he(m,y,!0))!==null&&o!==void 0?o:f)!==null&&n!==void 0?n:0}},Ie=(e,a,r,t)=>{var i=M(e),n,o;return i==="horizontal"?(n=D(e,"xAxis",a,t),o=K(e,"xAxis",a,t)):(n=D(e,"yAxis",r,t),o=K(e,"yAxis",r,t)),he(n,o)};function sr(e,a,r,t,i){var n=t.length;if(!(n<1)){var o=Y(e,r,0,!0),d,v=[];if(X(t[0].barSize)){var s=!1,u=r/n,f=t.reduce((c,p)=>c+(p.barSize||0),0);f+=(n-1)*o,f>=r&&(f-=(n-1)*o,o=0),f>=r&&u>0&&(s=!0,u*=.9,f=n*u);var m=(r-f)/2>>0,y={offset:m-o,size:0};d=t.reduce((c,p)=>{var O,g={stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:y.offset+y.size+o,size:s?u:(O=p.barSize)!==null&&O!==void 0?O:0}},A=[...c,g];return y=A[A.length-1].position,A},v)}else{var x=Y(a,r,0,!0);r-2*x-(n-1)*o<=0&&(o=0);var h=(r-2*x-(n-1)*o)/n;h>1&&(h>>=0);var P=X(i)?Math.min(h,i):h;d=t.reduce((c,p,O)=>[...c,{stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:x+(h+o)*O+(h-P)/2,size:P}}],v)}return d}}var lr=(e,a,r,t,i,n,o)=>{var d=V(o)?a:o,v=sr(r,t,i!==n?i:n,e,d);return i!==n&&v!=null&&(v=v.map(s=>N(N({},s),{},{position:N(N({},s.position),{},{offset:s.position.offset-i/2})}))),v},ur=_([ir,xe,Ze,qe,or,Ie,Ha],lr),cr=(e,a,r,t)=>D(e,"xAxis",a,t),dr=(e,a,r,t)=>D(e,"yAxis",r,t),vr=(e,a,r,t)=>K(e,"xAxis",a,t),fr=(e,a,r,t)=>K(e,"yAxis",r,t),pr=_([ur,L],(e,a)=>{if(!(e==null||a==null)){var r=e.find(t=>t.stackId===a.stackId&&a.dataKey!=null&&t.dataKeys.includes(a.dataKey));if(r!=null)return r.position}}),mr=(e,a)=>{var r=Je(a);if(!(!e||r==null||a==null)){var{stackId:t}=a;if(t!=null){var i=e[t];if(i){var{stackedData:n}=i;if(n)return n.find(o=>o.key===r)}}}},hr=_([rr,L],mr),yr=_([Ue,Xe,cr,dr,vr,fr,pr,M,Ye,Ie,hr,L,er],(e,a,r,t,i,n,o,d,v,s,u,f,m)=>{var{chartData:y,dataStartIndex:x,dataEndIndex:h}=v;if(!(f==null||o==null||a==null||d!=="horizontal"&&d!=="vertical"||r==null||t==null||i==null||n==null||s==null)){var{data:P}=f,c;if(P!=null&&P.length>0?c=P:c=y==null?void 0:y.slice(x,h+1),c!=null)return $a({layout:d,barSettings:f,pos:o,parentViewBox:a,bandSize:s,xAxis:r,yAxis:t,xAxisTicks:i,yAxisTicks:n,stackedData:u,displayedData:c,offset:e,cells:m,dataStartIndex:x})}});export{Ga as B,ba as S};
